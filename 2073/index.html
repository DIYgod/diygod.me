<!DOCTYPE html><html class="theme-next pisces" lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="theme-color" content="#fff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><link href="//fonts.loli.net/css?family=Sigmar One:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css"><link href="https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css"><link href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css" rel="stylesheet" type="text/css"><link href="/css/main.css?v=0.0.51" rel="stylesheet" type="text/css"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png?v=0.0.51"><link rel="icon" type="image/png" sizes="32x32" href="/favicon.ico?v=0.0.51"><link rel="mask-icon" href="/safari-pinned-tab.svg?v=0.0.51" color="#fff"><link rel="manifest" href="/manifest.json"><meta name="keywords" content="DIYgod,blog"><link rel="alternate" href="/atom.xml" title="Hi, DIYgod" type="application/atom+xml"><meta name="description" content="莎士比亚曾经说过：“好记性不如烂笔头。”第一章 JavaScript简介1.1 JavaScript简史1.2 JavaScript实现一个完整的JavaScript实现应该由三个不同的部分组成：核心（ECMAScript）、文档对象模型（DOM）、浏览器对象模型（BOM）。ECMAScript：提供核心语言功能；DOM：提供访问和操作网页内容的方法和接口；BOM：提供与浏览器交互的方法和接口。1"><meta property="og:type" content="article"><meta property="og:title" content="《JavaScript高级程序设计》读书笔记"><meta property="og:url" content="https:&#x2F;&#x2F;diygod.me&#x2F;2073&#x2F;index.html"><meta property="og:site_name" content="Hi, DIYgod"><meta property="og:description" content="莎士比亚曾经说过：“好记性不如烂笔头。”第一章 JavaScript简介1.1 JavaScript简史1.2 JavaScript实现一个完整的JavaScript实现应该由三个不同的部分组成：核心（ECMAScript）、文档对象模型（DOM）、浏览器对象模型（BOM）。ECMAScript：提供核心语言功能；DOM：提供访问和操作网页内容的方法和接口；BOM：提供与浏览器交互的方法和接口。1"><meta property="og:locale" content="zh-Hans"><meta property="og:updated_time" content="2019-11-10T22:00:33.373Z"><meta name="twitter:card" content="summary"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Pisces",version:"0.0.51",sidebar:{position:"right",display:"always",offset:52,b2t:!1,scrollpercent:!1,onmobile:!1},fancybox:!1,tabs:!0,motion:{enable:!1,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},since:"2/9/2014 11:30:00",onlineAPI:"wss://api.diygod.me/online/",site:{title:"Hi, DIYgod",subtitle:"",author:"DIYgod"},duoshuo:{userId:"0",author:"博主"},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},leancloud:{enable:!0,appID:"Ti5mwFDXXbpWqeWdaydLNfOS-gzGzoHsz",appKey:"rXpryRyVs5jlk2LAGGI1bfEd"},favicon:{visibilitychange:!0,narmal:"/favicon.ico",hidden:"/failure.ico",show_text:"(/≧▽≦/)咦！又好了！",hide_text:"(●—●)喔哟，崩溃啦！"}}</script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/disqusjs@1.2.2/dist/disqus.js"></script><link rel="canonical" href="https://diygod.me/2073/"><title>《JavaScript高级程序设计》读书笔记 | Hi, DIYgod</title><script>!function(e,a,t,n,g,c,o){e.GoogleAnalyticsObject=g,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(t),o=a.getElementsByTagName(t)[0],c.async=1,c.src="https://www.google-analytics.com/analytics.js",o.parentNode.insertBefore(c,o)}(window,document,"script",0,"ga"),ga("create","UA-48084758-7","auto"),ga("send","pageview")</script></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans" class="theme-darling"><div class="container sidebar-position-right page-post-detail"><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-首页"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>首页</a></li><li class="menu-item menu-item-抓到我"><a href="javascript:;" target="_blank" rel="section noopener"><i class="menu-item-icon fa fa-fw fa-sign-language"></i><br>抓到我</a><ul class="submenu submenu-抓到我"><li class="submenu-item submenu-item-github"><a href="https://github.com/DIYgod" rel="section" target="_blank">GitHub</a></li><li class="submenu-item submenu-item-twitter"><a href="https://twitter.com/DIYgod" rel="section" target="_blank">Twitter</a></li><li class="submenu-item submenu-item-qq-群"><a href="https://wj.qq.com/s2/3318631/2970" rel="section" target="_blank">QQ 群</a></li><li class="submenu-item submenu-item-telegram-频道"><a href="https://t.me/awesomeDIYgod" rel="section" target="_blank">Telegram 频道</a></li><li class="submenu-item submenu-item-telegram-群"><a href="https://t.me/prpr233" rel="section" target="_blank">Telegram 群</a></li></ul></li><li class="menu-item menu-item-实验室"><a href="javascript:;" target="_blank" rel="section noopener"><i class="menu-item-icon fa fa-fw fa-flask"></i><br>实验室</a><ul class="submenu submenu-实验室"><li class="submenu-item submenu-item-rsshub"><a href="https://docs.rsshub.app/" rel="section" target="_blank">RSSHub</a></li><li class="submenu-item submenu-item-dplayer"><a href="http://dplayer.js.org/" rel="section" target="_blank">DPlayer</a></li><li class="submenu-item submenu-item-aplayer"><a href="https://aplayer.js.org/" rel="section" target="_blank">APlayer</a></li><li class="submenu-item submenu-item-tt-rss"><a href="https://rss.diygod.me/" rel="section" target="_blank">TT RSS</a></li><li class="submenu-item submenu-item-监控"><a href="https://status.diygod.me/" rel="section" target="_blank">监控</a></li><li class="submenu-item submenu-item-nas"><a href="https://nas.diygod.me:2222/" rel="section" target="_blank">NAS</a></li><li class="submenu-item submenu-item-sentry"><a href="https://sentry.diygod.me/" rel="section" target="_blank">Sentry</a></li></ul></li><li class="menu-item menu-item-归档"><a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>归档</a></li><li class="menu-item menu-item-投喂"><a href="/donate/" rel="section"><i class="menu-item-icon fa fa-fw fa-cutlery"></i><br>投喂</a></li><li class="menu-item menu-item-后宫"><a href="/friends/" rel="section"><i class="menu-item-icon fa fa-fw fa-mars"></i><br>后宫</a></li><li class="menu-item menu-item-留言板"><a href="/message/" rel="section"><i class="menu-item-icon fa fa-fw fa-pencil"></i><br>留言板</a></li><li class="menu-item search"><form class="search-form"><input name="keyword" type="text" class="search-input" placeholder="站内搜索"> <button type="submit" class="search-submit"><i class="fa fa-search"></i></button></form></li></ul></nav><div class="site-brand-wrapper" style="background-image:url(/images/header-leg.jpg)"><div class="site-meta"><div class="custom-logo-site-title"><div class="brand"><span class="logo-line-before"><i></i></span><div class="site-title"><div id="animate" class="animate"><span>H</span><span>i</span><span>,</span><span> </span><span>D</span><span>I</span><span>Y</span><span>g</span><span>o</span><span>d</span></div><div id="guide" class="guide"><span>H</span><span>i</span><span>,</span><span> </span><span>D</span><span>I</span><span>Y</span><span>g</span><span>o</span><span>d</span></div></div><span class="logo-line-after"><i></i></span></div></div><p class="site-subtitle"></p></div><div class="site-nav-toggle"><button><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div></div><div class="site-master" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-master-avatar" itemprop="image" src="/images/DIYgod.jpg" alt="DIYgod"><h2 class="site-master-description" itemprop="description"><span>写代码是热爱，</span><span>写到世界充满爱！</span></h2></div></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-date"><div class="post-month">08月</div><div class="post-day">19</div></div><div class="post-badge"><span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E5%88%9B%E4%BD%9C%E9%9B%86/" itemprop="url" rel="index"><span itemprop="name">创作集</span></a></span></div><div class="post-block"><link itemprop="mainEntityOfPage" href="https://diygod.me/2073/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="DIYgod"><meta itemprop="description" content=""><meta itemprop="image" content="/images/DIYgod.jpg"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Hi, DIYgod"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">《JavaScript高级程序设计》读书笔记</h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-08-19T00:29:33+00:00">2015-08-19</time> </span><span class="post-wordcount"><span class="post-meta-divider">•</span> <span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i> </span><span class="post-meta-item-text">字数统计</span> <span title="字数统计">7039</span> </span><span id="/2073/" class="leancloud_visitors" data-flag-title="《JavaScript高级程序设计》读书笔记"><span class="post-meta-divider">•</span> <span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="post-meta-item-text">被</span> <span class="leancloud-visitors-count"></span> <span class="post-meta-item-text">人看爆</span></span></div></header><div class="post-body" itemprop="articleBody"><p>莎士比亚曾经说过：“好记性不如烂笔头。”</p><h2 id="第一章-JavaScript简介"><a href="#第一章-JavaScript简介" class="headerlink" title="第一章 JavaScript简介"></a>第一章 JavaScript简介</h2><h3 id="1-1-JavaScript简史"><a href="#1-1-JavaScript简史" class="headerlink" title="1.1 JavaScript简史"></a>1.1 JavaScript简史</h3><h3 id="1-2-JavaScript实现"><a href="#1-2-JavaScript实现" class="headerlink" title="1.2 JavaScript实现"></a>1.2 JavaScript实现</h3><ol><li><p>一个完整的JavaScript实现应该由三个不同的部分组成：核心（ECMAScript）、文档对象模型（DOM）、浏览器对象模型（BOM）。</p></li><li><p>ECMAScript：提供核心语言功能；DOM：提供访问和操作网页内容的方法和接口；BOM：提供与浏览器交互的方法和接口。</p></li></ol><h3 id="1-3-JavaScript版本"><a href="#1-3-JavaScript版本" class="headerlink" title="1.3 JavaScript版本"></a>1.3 JavaScript版本</h3><p>&nbsp;</p><h2 id="第二章-在HTML中使用JavaScript"><a href="#第二章-在HTML中使用JavaScript" class="headerlink" title="第二章 在HTML中使用JavaScript"></a>第二章 在HTML中使用JavaScript</h2><h3 id="2-1-script元素"><a href="#2-1-script元素" class="headerlink" title="2.1 script元素"></a>2.1 script元素</h3><ol><li><p>标签的位置：为了避免浏览器在呈现页面时出现明显的延迟，现代Web应用程序一般都把全部JavaScript引用放在&lt;body&gt;元素中页面内容的后面。</p></li><li><p>延迟脚本：defer属性表明脚本在执行时不会影响页面的构造，脚本会被延迟到整个页面都解析完毕后再运行；只适用于外部脚本文件。</p></li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">defer</span>=<span class="string">"defer"</span> <span class="attr">src</span>=<span class="string">"example.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="3"><li>异步脚本：async属性表示当前脚本不必等待其他脚本，也不必阻塞文档呈现，告诉浏览器立即下载文件，且并不保证标记为async的脚本按照他们的先后顺序执行；只适用于外部脚本文件。</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">async</span> <span class="attr">src</span>=<span class="string">"example1.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">async</span> <span class="attr">src</span>=<span class="string">"example2.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2-2-嵌入代码与外部文件"><a href="#2-2-嵌入代码与外部文件" class="headerlink" title="2.2 嵌入代码与外部文件"></a>2.2 嵌入代码与外部文件</h3><h3 id="2-3-文档模式"><a href="#2-3-文档模式" class="headerlink" title="2.3 文档模式"></a>2.3 文档模式</h3><ol start="4"><li>混杂模式与标准模式；开启标准模式：</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- HTML 5 --&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2-4-noscript元素"><a href="#2-4-noscript元素" class="headerlink" title="2.4 noscript元素"></a>2.4 noscript元素</h3><p>&nbsp;</p><h2 id="第三章-基本概念"><a href="#第三章-基本概念" class="headerlink" title="第三章 基本概念"></a>第三章 基本概念</h2><h3 id="3-1-语法"><a href="#3-1-语法" class="headerlink" title="3.1 语法"></a>3.1 语法</h3><ol><li><p>区分大小写：ECMAScript中的一切都区分大小写。</p></li><li><p>严格模式：在严格模式下，ECMAScript 3 中的一些不确定的行为将得到处理，而且对某些不安全的操作也会抛出错误。在顶部添加如下代码：</p></li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span></span><br></pre></td></tr></table></figure><h3 id="3-2-关键字和保留字"><a href="#3-2-关键字和保留字" class="headerlink" title="3.2 关键字和保留字"></a>3.2 关键字和保留字</h3><h3 id="3-3-变量"><a href="#3-3-变量" class="headerlink" title="3.3 变量"></a>3.3 变量</h3><ol start="3"><li>给未经声明的变量赋值在严格模式下会导致抛出 ReferenceError 错误。</li></ol><h3 id="3-4-数据类型"><a href="#3-4-数据类型" class="headerlink" title="3.4 数据类型"></a>3.4 数据类型</h3><ol start="4"><li><p>typeof操作符，用来检测变量的数据类型。</p></li><li><p>5种简单数据类型：Undefined、Null、Boolean、Number、String；1种复杂数据类型（引用类型）：Object。</p></li></ol><ul><li><p>Undefined类型：使用var声明变量但未对其加以初始化时，这个变量的值就是undefined。</p></li><li><p>Null类型：null值表示一个空对象指针；只要意在保存对象的变量还没有真正保存对象，就应该明确地让该变量保存null值。</p></li><li><p>Boolean类型：其他类型转换为Boolean类型，使用函数Boolean()。</p></li><li><p>Number类型：其他类型转换为Number类型，常用函数parseInt()，转换字符串时，如果第一个字符不是数字字符或者负号，会返回NaN，第二个参数可选，表示进制</p></li><li><p>String类型：字符串是不可变的；其他类型转换为String类型，使用函数toString()或String()或加一个空字符串（1+’’）。</p></li><li><p>Object类型</p></li></ul><p>创建对象的方法：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br></pre></td></tr></table></figure><p>创建Object对象的实例并为其添加属性或方法，就可以创建自定义对象；</p><p>Object类型是所有它的实例的基础，具有下列属性和方法：</p><ul><li><p>constructor：保留着用于创建当前对象的函数即构造函数；</p></li><li><p>hasOwnProperty(propertyName)：用于检查给定的属性在当前对象实例中是否存在；</p></li><li><p>isPrototypeOf(object)：用于检查传入的对象是否是传入对象的原型；</p></li><li><p>propertyIsEnumerable()；toLocaleString()；</p></li><li><p>toString()：返回对象的字符串表示；</p></li><li><p>valueOf()：返回对象的字符串、数值或布尔值表示；</p></li></ul><h3 id="3-5-操作符"><a href="#3-5-操作符" class="headerlink" title="3.5 操作符"></a>3.5 操作符</h3><ol start="6"><li>在比较字符串时，实际比较的是两个字符串中对应位置的每个字符的字符编码值。</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"23"</span> &lt; <span class="string">"3"</span>   <span class="comment">// true</span></span><br></pre></td></tr></table></figure><ol start="7"><li><p>在比较数值和字符串时，字符串都会被被转换成数值，然后再以数值方式与另一个数值比较；如果不能转换成数值，就转换成NaN。</p></li><li><p>任何操作数与NaN进行比较，结果都是false。</p></li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">NaN</span> == <span class="literal">NaN</span>  <span class="comment">// false</span></span><br><span class="line"><span class="literal">NaN</span> === <span class="literal">NaN</span>  <span class="comment">// false</span></span><br><span class="line"><span class="literal">NaN</span> &amp;gt; <span class="literal">NaN</span>  <span class="comment">// false</span></span><br><span class="line"><span class="literal">NaN</span> &amp;lt; <span class="literal">NaN</span>  <span class="comment">// false</span></span><br></pre></td></tr></table></figure><ol start="9"><li>相等（==） 全等（===）：全等只在两个操作数未经转换就相等的情况下返回true。</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"55"</span> == <span class="number">55</span>  <span class="comment">// true</span></span><br><span class="line"><span class="string">"55"</span> === <span class="number">55</span>  <span class="comment">// false</span></span><br></pre></td></tr></table></figure><ol start="10"><li>条件操作符</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">variable = boolean_expression ? true_value : false_value;</span><br></pre></td></tr></table></figure><h3 id="3-6-语句"><a href="#3-6-语句" class="headerlink" title="3.6 语句"></a>3.6 语句</h3><ol start="11"><li>由于ECMAScript中不存在块级作用域，因此在循环内部定义的变量也可以在外部访问到：</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &amp;lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">	<span class="keyword">var</span> j = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(i, j);  <span class="comment">// 10 1</span></span><br></pre></td></tr></table></figure><ol start="12"><li>for-in 语句可以用来枚举对象的属性。</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (property <span class="keyword">in</span> expression) &#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="13"><li>break 和 continue 语句与 label 语句联合使用：多发生在循环嵌套的情况下。</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">outermost:</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &amp;lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &amp;lt; <span class="number">10</span>; j++) &#123;</span><br><span class="line">		<span class="keyword">if</span> (i == <span class="number">5</span> &amp;amp;&amp;amp; j ==<span class="number">5</span>) &#123;</span><br><span class="line">			<span class="keyword">break</span> outermost;</span><br><span class="line">		&#125;</span><br><span class="line">		num++;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(num);  <span class="comment">// 55</span></span><br></pre></td></tr></table></figure><h3 id="3-7-函数"><a href="#3-7-函数" class="headerlink" title="3.7 函数"></a>3.7 函数</h3><ol start="14"><li>函数参数：参数在内部是用一个数组来表示的，函数接收到的始终都是这个数组，而不关心数组中包含哪些函数；通过arguments对象来访问这个参数数组；命名的参数只提供便利，但不是必需的；arguments对象中的值与对应的命名参数的内存空间是独立的，但它们的值会同步。</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">example</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">'arguments:'</span>, <span class="built_in">arguments</span>);</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">'name:'</span>, name, <span class="string">'age:'</span>, age);</span><br><span class="line">	name = <span class="string">'DIYgod'</span>;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="built_in">arguments</span>[<span class="number">0</span>]);</span><br><span class="line">&#125;</span><br><span class="line">example(<span class="string">'Anotherhome'</span>, <span class="string">'556'</span>, <span class="string">'www.anotherhome.net'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// arguments: ["Anotherhome", "556", "www.anotherhome.net"]</span></span><br><span class="line"><span class="comment">// name: Anotherhome age: 556</span></span><br><span class="line"><span class="comment">// DIYgod</span></span><br></pre></td></tr></table></figure><p>&nbsp;</p><h2 id="第四章-变量、作用域和内存问题"><a href="#第四章-变量、作用域和内存问题" class="headerlink" title="第四章 变量、作用域和内存问题"></a>第四章 变量、作用域和内存问题</h2><h3 id="4-1-基本类型和引用类型的值"><a href="#4-1-基本类型和引用类型的值" class="headerlink" title="4.1 基本类型和引用类型的值"></a>4.1 基本类型和引用类型的值</h3><ol><li>在操作对象时，实际上是在操作对象的引用而不是实际的对象。</li></ol><p>2.从一个变量向另一个变量复制基本类型的值时，会创建这个值的一个副本；从一个变量向另一个变量复制引用类型的值时，复制的是指向存储在堆中的一个对象的指针，复制之后两个变量指向同一个对象。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o1 = &#123;&#125;;</span><br><span class="line"><span class="keyword">var</span> o2 = o1;</span><br><span class="line">o1.name = <span class="string">'DIYgod'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(o2.name);  <span class="comment">// DIYgod</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> n1 = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">var</span> n2 = n1;</span><br><span class="line">n1 = <span class="number">2</span>;</span><br><span class="line"><span class="built_in">console</span>.log(n2);  <span class="comment">// 1</span></span><br></pre></td></tr></table></figure><ol start="3"><li>传递参数：参数只能按值传递，参数为对象时，在函数内部访问的是同一个对象。</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setName</span>(<span class="params">o</span>) </span>&#123;</span><br><span class="line">	o.name = <span class="string">'DIYgod'</span>;</span><br><span class="line">	o = &#123;&#125;;</span><br><span class="line">	o.name = <span class="string">'Anotherhome'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p = &#123;&#125;;</span><br><span class="line">setName(p);</span><br><span class="line"><span class="built_in">console</span>.log(p.name);  <span class="comment">// DIYgod</span></span><br></pre></td></tr></table></figure><ol start="4"><li>确定一个值是哪种基本类型可以使用typeof操作符，而确定一个值是哪种引用类型可以使用instanceof操作符。</li></ol><h3 id="4-2-执行环境及作用域"><a href="#4-2-执行环境及作用域" class="headerlink" title="4.2 执行环境及作用域"></a>4.2 执行环境及作用域</h3><ol start="5"><li><p>执行环境有全局执行环境和函数执行环境之分；每个执行环境都有一个与之关联的变量对象；每次进入一个新执行环境，都会创建一个用于搜索变量和函数的作用域链，作用链的前端是当前执行的代码所在的变量环境，最后一个对象是全局执行环境的变量对象。</p></li><li><p>查询标识符：从作用域链的前端开始，向上逐级查询，找到后搜索结果停止，没有找到则一直追溯到全局环境的变量对象。</p></li></ol><h3 id="4-3-垃圾回收"><a href="#4-3-垃圾回收" class="headerlink" title="4.3 垃圾回收"></a>4.3 垃圾回收</h3><ol start="7"><li><p>最常用的垃圾搜集方式是标记清除：垃圾回收器在运行时会给存储在内存中的所有变量都加上标记，然后去掉环境中的变量以及被环境中的变量引用的变量的标记，而在此之后还有标记的变量被视为准备删除的变量，因为这些变量无法被访问到了。</p></li><li><p>优化内存占用：为执行中的代码只保存必要的数据；一旦数据不再有用，最好通过将其值设置为null来释放其引用——解除引用；解除引用的作用是让其值脱离执行环境，以便垃圾搜集器下次运行时将其回收。</p></li></ol><p>&nbsp;</p><h2 id="第五章-引用类型"><a href="#第五章-引用类型" class="headerlink" title="第五章 引用类型"></a>第五章 引用类型</h2><h3 id="5-1-Object类型"><a href="#5-1-Object类型" class="headerlink" title="5.1 Object类型"></a>5.1 Object类型</h3><ol><li>创建Object实例：使用Object构造函数；对象字面量。</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// new 操作符法</span></span><br><span class="line"><span class="keyword">var</span> o1 = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">o1.name = <span class="string">'DIYgod'</span>;</span><br><span class="line">o1.age = <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 对象字面量表示法</span></span><br><span class="line"><span class="keyword">var</span> o1 = &#123;</span><br><span class="line">  name: <span class="string">'DIYgod'</span>,</span><br><span class="line">  age: <span class="number">20</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>访问对象属性：点表示法；方括号表示法。建议使用点表示法。</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 点表示法</span></span><br><span class="line"><span class="built_in">console</span>.log(o.name);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 方括号表示法</span></span><br><span class="line"><span class="built_in">console</span>.log(o[<span class="string">'name'</span>]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> n = <span class="string">'name'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(o[n]);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(o[<span class="string">'first name'</span>];</span><br></pre></td></tr></table></figure><h3 id="5-2-Array类型"><a href="#5-2-Array类型" class="headerlink" title="5.2 Array类型"></a>5.2 Array类型</h3><ol start="3"><li>创建数组：使用Array构造函数；使用数组字面量表示法。</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a1 = <span class="keyword">new</span> <span class="built_in">Array</span>();</span><br><span class="line"><span class="keyword">var</span> a2 = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">20</span>);</span><br><span class="line"><span class="keyword">var</span> a3 = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="string">'red'</span>, <span class="string">'blue'</span>, <span class="string">'green'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a4 = [];</span><br><span class="line"><span class="keyword">var</span> a5 = [<span class="string">'red'</span>, <span class="string">'blue'</span>, <span class="string">'green'</span>];</span><br></pre></td></tr></table></figure><ol start="4"><li>利用length在末尾添加新项。</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="string">'a'</span>, <span class="string">'b'</span>];</span><br><span class="line">a[a.length] = <span class="string">'c'</span>;</span><br></pre></td></tr></table></figure><ol start="5"><li><p>检测数组：Array.isArray()（解决了存在两个以上全局执行环境时instanceof检测结果出错的情况）。</p></li><li><p>栈方法和队列方法：push()添加一项到数组末尾；pop()移除数组末尾一项；shift()移除数组第一项；unshift()；添加一项到数组前端。</p></li><li><p>重排序</p></li></ol><ul><li><p>reverse()：反转数组项的顺序。</p></li><li><p>sort()：默认将数组项转换成字符串然后升序排列。可以接收一个比较函数作为参数。</p></li></ul><p>比较函数接收两个参数，如果第一个参数位于第二个参数之前则返回一个负数，相等则返回0，第二个参数位于第一个参数之前则返回一个负数。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">15</span>, <span class="number">10</span>, <span class="number">5</span>];</span><br><span class="line">a.sort();</span><br><span class="line"><span class="built_in">console</span>.log(a)  <span class="comment">// [0, 1, 10, 15, 5]</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">compare</span>(<span class="params">value1, value2</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> value1 - value2;</span><br><span class="line">&#125;</span><br><span class="line">a.sort(compare);</span><br><span class="line"><span class="built_in">console</span>.log(a)  <span class="comment">// [0, 1, 5, 10, 15]</span></span><br></pre></td></tr></table></figure><ol start="8"><li>操作方法</li></ol><ul><li>concat()：添加项</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a1 = [<span class="string">'red'</span>, <span class="string">'green'</span>, <span class="string">'blue'</span>];</span><br><span class="line"><span class="keyword">var</span> a2 = a1.concat(<span class="string">'yellow'</span>, [<span class="string">'black'</span>, <span class="string">'brown'</span>]);</span><br><span class="line"><span class="built_in">console</span>.log(a2)  <span class="comment">// ["red", "green", "blue", "yellow", "black", "brown"]</span></span><br></pre></td></tr></table></figure><ul><li>slice()：截取</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="string">"red"</span>, <span class="string">"green"</span>, <span class="string">"blue"</span>, <span class="string">"yellow"</span>, <span class="string">"black"</span>, <span class="string">"brown"</span>];</span><br><span class="line"><span class="built_in">console</span>.log(a.slice(<span class="number">1</span>), a.slice(<span class="number">1</span>, <span class="number">4</span>))  <span class="comment">// ["green", "blue", "yellow", "black", "brown"] ["green", "blue", "yellow"]</span></span><br></pre></td></tr></table></figure><ul><li>splice()：删除插入替换</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="string">"red"</span>, <span class="string">"green"</span>, <span class="string">"blue"</span>, <span class="string">"yellow"</span>, <span class="string">"black"</span>, <span class="string">"brown"</span>];</span><br><span class="line"><span class="built_in">console</span>.log(a.splice(<span class="number">2</span>, <span class="number">1</span>), a);  <span class="comment">// 删除项; ["blue"] ["red", "green", "yellow", "black", "brown"]</span></span><br><span class="line"><span class="built_in">console</span>.log(a.splice(<span class="number">1</span>, <span class="number">0</span>, <span class="string">'yellow'</span>, <span class="string">'orange'</span>), a);  <span class="comment">// 插入项; [] ["red", "yellow", "orange", "green", "yellow", "black", "brown"]</span></span><br><span class="line"><span class="built_in">console</span>.log(a.splice(<span class="number">1</span>, <span class="number">1</span>, <span class="string">'red'</span>, <span class="string">'purple'</span>), a);  <span class="comment">// 替换项; ["yellow"] ["red", "red", "purple", "orange", "green", "yellow", "black", "brown"]</span></span><br></pre></td></tr></table></figure><ol start="9"><li>位置方法：indexOf() lastIndexOf() 接收两个参数：要查找的项和（可选）查找起点位置的索引；indexOf()从前往后查找，lastIndexOf()从后往前查找；返回要查找的项的位置，没找到则返回-1。</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="string">"red"</span>, <span class="string">"purple"</span>, <span class="string">"orange"</span>, <span class="string">"green"</span>, <span class="string">"red"</span>, <span class="string">"yellow"</span>, <span class="string">"black"</span>, <span class="string">"brown"</span>];</span><br><span class="line"><span class="built_in">console</span>.log(a.indexOf(<span class="string">'red'</span>));  <span class="comment">// 0</span></span><br><span class="line"><span class="built_in">console</span>.log(a.lastIndexOf(<span class="string">'red'</span>));  <span class="comment">// 4</span></span><br><span class="line"><span class="built_in">console</span>.log(a.indexOf(<span class="string">'red'</span>, <span class="number">1</span>));  <span class="comment">// 4</span></span><br><span class="line"><span class="built_in">console</span>.log(a.lastIndexOf(<span class="string">'red'</span>, <span class="number">1</span>));  <span class="comment">// 0</span></span><br></pre></td></tr></table></figure><ol start="10"><li>迭代方法：every() some() filter() map() forEach()。</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> everyResult = a.every(<span class="function"><span class="keyword">function</span> (<span class="params">item, index, array</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> (item &amp;gt; <span class="number">2</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(everyResult);  <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> someResult = a.some(<span class="function"><span class="keyword">function</span> (<span class="params">item, index, array</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> (item &amp;gt; <span class="number">2</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(someResult);  <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> filterResult = a.filter(<span class="function"><span class="keyword">function</span> (<span class="params">item, index, array</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> (item &amp;gt; <span class="number">2</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(filterResult);  <span class="comment">// [3, 4, 5, 4, 3]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> mapResult = a.map(<span class="function"><span class="keyword">function</span> (<span class="params">item, index, array</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> (item * <span class="number">2</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(mapResult);  <span class="comment">// [2, 4, 6, 8, 10, 8, 6, 4, 2]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> forEachResult = a.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">item, index, array</span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(item);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(forEachResult);  <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure><ol start="11"><li>归并方法</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> sum1 = a.reduce(<span class="function"><span class="keyword">function</span> (<span class="params">prev, cur, index, array</span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(index);  <span class="comment">// 1 2 3 4</span></span><br><span class="line">	<span class="keyword">return</span> prev + cur;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(sum1);  <span class="comment">// 9</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> sum2 = a.reduceRight(<span class="function"><span class="keyword">function</span> (<span class="params">prev, cur, index, array</span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(index);  <span class="comment">// 3 2 1 0</span></span><br><span class="line">	<span class="keyword">return</span> prev + cur;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(sum2);  <span class="comment">// 9</span></span><br></pre></td></tr></table></figure><h3 id="5-3-Date类型"><a href="#5-3-Date类型" class="headerlink" title="5.3 Date类型"></a>5.3 Date类型</h3><ol><li>创建日期对象：月份基于0（一月是0，二月是1…）。</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> d1 = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> d2 = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2015</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">17</span>, <span class="number">55</span>, <span class="number">55</span>);  <span class="comment">// 2015年3月5日下午5点55分55秒</span></span><br></pre></td></tr></table></figure><ol start="2"><li>获取调用时的日期和时间和毫秒数，可以用来分析代码。</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> start = <span class="built_in">Date</span>.now();</span><br><span class="line">doSomething();</span><br><span class="line"><span class="keyword">var</span> stop = <span class="built_in">Date</span>.now();</span><br><span class="line"><span class="keyword">var</span> result = stop - start;</span><br></pre></td></tr></table></figure><ol start="3"><li>日期格式化方法：local表示以特定于地区的格式显示。</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> d2 = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2015</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">17</span>, <span class="number">55</span>, <span class="number">55</span>);</span><br><span class="line">d2.toString();  <span class="comment">// "Thu Mar 05 2015 17:55:55 GMT+0800 (CST)"</span></span><br><span class="line">d2.toDateString();  <span class="comment">// "Thu Mar 05 2015"</span></span><br><span class="line">d2.toTimeString();  <span class="comment">// "17:55:55 GMT+0800 (CST)"</span></span><br><span class="line">d2.toLocaleString();  <span class="comment">// "2015/3/5 下午5:55:55"</span></span><br><span class="line">d2.toLocaleDateString();  <span class="comment">// "2015/3/5"</span></span><br><span class="line">d2.toLocaleTimeString();  <span class="comment">// "下午5:55:55"</span></span><br></pre></td></tr></table></figure><h3 id="5-4-RegExp类型"><a href="#5-4-RegExp类型" class="headerlink" title="5.4 RegExp类型"></a>5.4 RegExp类型</h3><ol><li>创建一个正则表达式：</li></ol><p>pattern部分是正则表达式</p><p>flags，标志，标明正则表达式的行为：g 全局模式；i 不区分大小写；m 多行模式</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> exp1 = <span class="regexp">/ pattern /</span> flags</span><br><span class="line"><span class="keyword">var</span> exp2 = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">'pattern'</span>, <span class="string">'flags'</span>);</span><br></pre></td></tr></table></figure><ol start="2"><li>实例方法：</li></ol><ul><li>exec()：返回第一个匹配项信息的数组，数组第一项是与整个模式匹配的字符串，其他项是与模式中的捕获组匹配的字符串；还包含两个额外的属性，index 和 input。</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> text = <span class="string">"I'm DIYgod, and this is Anotherhome"</span>;</span><br><span class="line"><span class="keyword">var</span> pattern = <span class="regexp">/and( this( is)?)?/gi</span>;</span><br><span class="line"><span class="keyword">var</span> matches = pattern.exec(text);</span><br><span class="line"><span class="built_in">console</span>.log(matches.index);  <span class="comment">// 12</span></span><br><span class="line"><span class="built_in">console</span>.log(matches.input);  <span class="comment">// I'm DIYgod, and this is Anotherhome</span></span><br><span class="line"><span class="built_in">console</span>.log(matches[<span class="number">0</span>]);  <span class="comment">// and this is</span></span><br><span class="line"><span class="built_in">console</span>.log(matches[<span class="number">1</span>]);  <span class="comment">//  this is</span></span><br><span class="line"><span class="built_in">console</span>.log(matches[<span class="number">2</span>]);  <span class="comment">//  is</span></span><br></pre></td></tr></table></figure><ul><li>test()：在模式与该参数匹配的情况下返回true，否则返回false。</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> text = <span class="string">"I'm DIYgod, and this is Anotherhome"</span>;</span><br><span class="line"><span class="keyword">var</span> pattern = <span class="regexp">/DIYgod/</span>;</span><br><span class="line"><span class="keyword">var</span> matches = pattern.test(text);</span><br><span class="line"><span class="built_in">console</span>.log(matches);  <span class="comment">// true</span></span><br></pre></td></tr></table></figure><ol start="3"><li>RegExp构造函数包含一些属性，适用于作用域中的所有正则表达式，记录一些最近一次正则表达式操作的信息。</li></ol><h3 id="5-5-Function类型"><a href="#5-5-Function类型" class="headerlink" title="5.5 Function类型"></a>5.5 Function类型</h3><ol><li>定义函数，函数实际上是 Function 类型的实例，因此函数也是对象。</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用函数声明语法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span> (<span class="params">n1, n2</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> n1 + n2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用函数表达式</span></span><br><span class="line"><span class="keyword">var</span> f2 = <span class="function"><span class="keyword">function</span> (<span class="params">n1, n2</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> n1 + n2;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用构造函数，不推荐</span></span><br><span class="line"><span class="keyword">var</span> f3 = <span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">'n1'</span>, <span class="string">'n2'</span>, <span class="string">'return n1 + n2'</span>);</span><br></pre></td></tr></table></figure><ol start="2"><li>函数名是一个指向函数对象的指针。</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span> (<span class="params">n1, n2</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> n1 + n2;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> f2 = f1;</span><br><span class="line">f1 = <span class="literal">null</span>;</span><br><span class="line"><span class="built_in">console</span>.log(f2(<span class="number">1</span>, <span class="number">1</span>));  <span class="comment">// 2</span></span><br></pre></td></tr></table></figure><ol start="3"><li><p>ECMAScript中没有函数重载。</p></li><li><p>函数声明与函数表达式的区别：解释器会率先读取函数声明，并使其在执行任何代码之前可用（函数声明提升）；函数表达式必须等到解释器执行到它所在行才会真正被解释执行。</p></li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(f1(<span class="number">1</span>, <span class="number">1</span>));  <span class="comment">// 2</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span> (<span class="params">n1, n2</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> n1 + n2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(f2(<span class="number">1</span>, <span class="number">1</span>));  <span class="comment">// Uncaught TypeError: f2 is not a function</span></span><br><span class="line"><span class="keyword">var</span> f2 = <span class="function"><span class="keyword">function</span>(<span class="params">n1, n2</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> n1 + n2;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="5"><li>函数内部属性</li></ol><ul><li>函数的arguments对象的callee属性：是一个指针，指向拥有这个arguments对象的函数。可以在递归时减小函数和函数名的耦合。</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 明显第二种写法更好一些</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">factorial1</span> (<span class="params">num</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (num &amp;lt;= <span class="number">1</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> num * factorial1(num - <span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">factorial2</span> (<span class="params">num</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (num &amp;lt;= <span class="number">1</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> num * <span class="built_in">arguments</span>.callee(num - <span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>caller属性：保存着当前函数的函数的引用。</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">outer</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	inner();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">inner</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="built_in">arguments</span>.callee.caller);  <span class="comment">// function outer()...</span></span><br><span class="line">&#125;</span><br><span class="line">outer();</span><br></pre></td></tr></table></figure><ol start="6"><li>函数属性和方法</li></ol><ul><li>length属性：表示函数希望接收的命名参数的个数。</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span> (<span class="params">n1, n2</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> n1 + n2;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(f.length);  <span class="comment">// 2</span></span><br></pre></td></tr></table></figure><ul><li>apply() call()：用来改变函数的this对象的值。</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.color = <span class="string">'red'</span>;</span><br><span class="line"><span class="keyword">var</span> o = &#123;</span><br><span class="line">	color: <span class="string">'blue'</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayColor</span> (<span class="params">n1, n2</span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="keyword">this</span>.color);</span><br><span class="line">	<span class="keyword">return</span> n1 + n2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">sayColor(<span class="number">1</span>, <span class="number">1</span>);  <span class="comment">// red</span></span><br><span class="line">o.sayColor = sayColor;</span><br><span class="line">o.sayColor();  <span class="comment">// blue</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用call和apply可以消除对象与方法的耦合关系</span></span><br><span class="line">sayColor.call(<span class="built_in">window</span>, <span class="number">1</span>, <span class="number">1</span>);  <span class="comment">// red</span></span><br><span class="line">sayColor.call(o, <span class="number">1</span>, <span class="number">1</span>);  <span class="comment">// blue</span></span><br><span class="line"></span><br><span class="line">sayColor.apply(<span class="built_in">window</span>, [<span class="number">1</span>, <span class="number">1</span>]);  <span class="comment">// red</span></span><br><span class="line">sayColor.apply(o, [<span class="number">1</span>, <span class="number">1</span>]);  <span class="comment">// blue</span></span><br></pre></td></tr></table></figure><h3 id="5-6-基本包装类型"><a href="#5-6-基本包装类型" class="headerlink" title="5.6 基本包装类型"></a>5.6 基本包装类型</h3><p>Boolean类型、Number类型、String类型</p><p>暂时跳过</p><h3 id="5-7-单体内置对象"><a href="#5-7-单体内置对象" class="headerlink" title="5.7 单体内置对象"></a>5.7 单体内置对象</h3><p>Global对象、Math对象</p><p>暂时跳过</p><p>&nbsp;</p><h2 id="第六章-面向对象的程序设计"><a href="#第六章-面向对象的程序设计" class="headerlink" title="第六章 面向对象的程序设计"></a>第六章 面向对象的程序设计</h2><h3 id="6-1-理解对象"><a href="#6-1-理解对象" class="headerlink" title="6.1 理解对象"></a>6.1 理解对象</h3><ol><li>两种属性：数据属性和访问器属性。特性：描述属性的各种特征，是为了实现JavaScript引擎用的，不能直接访问。</li></ol><ul><li>数据属性，有4个特性：</li></ul><ul><li><p>[[Configurable]]：表示能否通过 delete 删除属性从而重新定义属性，能否修改属性的特性，能否把属性修改为访问器属性。</p></li><li><p>[[Enumerable]]：表示能否通过 for-in 循环返回属性。</p></li><li><p>[[Writeable]]：表示能否修改属性的值。</p></li><li><p>[[Value]]：包含这个属性的数据值。</p></li></ul><ul><li>访问器属性，有4个特性：</li></ul><ul><li><p>[[Configurable]]：表示能否通过 delete 删除属性从而重新定义属性，能否修改属性的特性，能否把属性修改为数据属性。</p></li><li><p>[[Enumerable]]：表示能否通过 for-in 循环返回属性。</p></li><li><p>[[Get]]：在读取属性时调用的函数。</p></li><li><p>[[Set]]：在写入属性时调用的函数。</p></li></ul><ol start="2"><li>定义及读取特性：Object.defineProperty() Object.defineProperties() Object.getOwnPropertyDescriptor()</li></ol><h3 id="6-2-创建对象"><a href="#6-2-创建对象" class="headerlink" title="6.2 创建对象"></a>6.2 创建对象</h3><ol><li>工厂模式：虽然解决了创建多个相似对象的问题，但却没有解决对象识别的问题。</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createPerson</span>(<span class="params">name, age, job</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> o = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">	o.name = name;</span><br><span class="line">	o.age = age;</span><br><span class="line">	o.job = job;</span><br><span class="line">	o.sayName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> o;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> p1 = createPerson(<span class="string">'DIYgod'</span>, <span class="number">20</span>, <span class="string">'Software Engineer'</span>);</span><br><span class="line"><span class="keyword">var</span> p2 = createPerson(<span class="string">'Anotherhome'</span>, <span class="number">2</span>, <span class="string">'Website'</span>);</span><br></pre></td></tr></table></figure><ol start="2"><li>构造函数模式。（构造函数应该以大写字母开头）</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age, job</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">this</span>.name = name;</span><br><span class="line">	<span class="keyword">this</span>.age = age;</span><br><span class="line">	<span class="keyword">this</span>.job = job;</span><br><span class="line">	<span class="keyword">this</span>.sayName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> Person(<span class="string">'DIYgod'</span>, <span class="number">20</span>, <span class="string">'Software Engineer'</span>);</span><br><span class="line"><span class="keyword">var</span> p2 = <span class="keyword">new</span> Person(<span class="string">'Anotherhome'</span>, <span class="number">2</span>, <span class="string">'Website'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// p1 p2 分别保存着 Person 的一个不同的实例，这两个对象都有一个 constructor 属性，该属性指向Person</span></span><br><span class="line"><span class="built_in">console</span>.log(p1.constructor);  <span class="comment">// function Person(name, age, job) &#123;...</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(p1 <span class="keyword">instanceof</span> <span class="built_in">Object</span>);  <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(p1 <span class="keyword">instanceof</span> Person);  <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p>这种方法会经历4个步骤：</p><ul><li><p>创建一个新对象</p></li><li><p>将构造函数的作用域赋给新对象（this指向这个新对象）</p></li><li><p>执行构造函数中的代码（为新对象添加属性）</p></li><li><p>返回新对象</p></li></ul><p>构造函数的问题：每个方法都要在每个实例上重新创建一遍。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(p1.sayName === p2.sayName);  <span class="comment">// false</span></span><br></pre></td></tr></table></figure><ol start="3"><li>原型模式：每个函数都有一个 prototype 属性，这个属性是一个指针，指向一个对象（函数的原型对象），这个对象包含可以由该类型的所有实例共享的属性和方法。</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 组合使用构造函数模式与原型模式</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age, job</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">this</span>.name = name;</span><br><span class="line">	<span class="keyword">this</span>.age = age;</span><br><span class="line">	<span class="keyword">this</span>.job = job;</span><br><span class="line">&#125;</span><br><span class="line">Person.prototype.sayName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> Person(<span class="string">'DIYgod'</span>, <span class="number">20</span>, <span class="string">'Software Engineer'</span>);</span><br><span class="line"><span class="keyword">var</span> p2 = <span class="keyword">new</span> Person(<span class="string">'Anotherhome'</span>, <span class="number">2</span>, <span class="string">'Website'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(p1.sayName === p2.sayName);  <span class="comment">// true</span></span><br></pre></td></tr></table></figure><ul><li>理解原型对象：</li></ul><ul><li><p>只要创建一个新函数，就会根据一组特定的规则为该函数创建一个 prototype 属性，指向原型对象</p></li><li><p>默认所有原型对象都会获得一个 constructor 属性，指向 prototype 属性所在函数</p></li><li><p>调用构造函数创建新实例后，实例将有一个 <strong>proto</strong> 属性，指向构造函数的原型对象，指针叫[[Prototype]]，默认原型指向Object</p></li><li><p>实例与构造函数没有直接关系</p></li><li><p>读取属性：搜索先从对象实例本身开始，如果没找到，搜索原型对象</p></li><li><p>使用 isPrototype() 来检测构造函数和实例之间是否有关系</p></li><li><p>使用 hasOwnProperty() 来检测属性存在于实例中还是原型中</p></li></ul><ul><li>原型与 in 操作符</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// in操作符会在通过对象能够访问到属性时返回true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'name'</span> <span class="keyword">in</span> p1);  <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 枚举属性</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> prop <span class="keyword">in</span> p1) &#123;</span><br><span class="line">	<span class="built_in">console</span>.log(prop);  <span class="comment">// name age job sayName</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>用对象字面量重写原型对象</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line">Person.prototype = &#123;</span><br><span class="line">	<span class="keyword">constructor</span>: Person,  // 这里重写了prototype，不再默认有<span class="keyword">constructor</span>属性</span><br><span class="line">	name: 'DIYgod',</span><br><span class="line">	age: 20</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><ol start="4"><li>动态原型模式、寄生构造函数模式、稳妥构造函数模式</li></ol><h3 id="6-3-继承"><a href="#6-3-继承" class="headerlink" title="6.3 继承"></a>6.3 继承</h3><ol start="5"><li>JavaScript中最常用的继承：组合继承。融合了原型链和构造函数的优点。</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SuperType</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">this</span>.name = name;</span><br><span class="line">	<span class="keyword">this</span>.color = [<span class="string">'red'</span>, <span class="string">'blue'</span>, <span class="string">'green'</span>];</span><br><span class="line">&#125;</span><br><span class="line">SuperType.prototype.sayName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SubType</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">	SuperType.call(<span class="keyword">this</span>, name);  <span class="comment">// 借用构造函数</span></span><br><span class="line">	<span class="keyword">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line">SubType.prototype = <span class="keyword">new</span> SuperType();  <span class="comment">// 原型链</span></span><br><span class="line">SubType.prototype.constructor = SubType;  <span class="comment">// construcotr在上一句中被重写</span></span><br><span class="line">SubType.prototype.sayAge = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="keyword">this</span>.age);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> instance = <span class="keyword">new</span> SubType(<span class="string">'DIYgod'</span>, <span class="number">20</span>);</span><br><span class="line">instance.sayName();  <span class="comment">// DIYgod</span></span><br><span class="line">instance.sayAge();  <span class="comment">// 20</span></span><br></pre></td></tr></table></figure><ol start="6"><li>确定原型和实例的关系。接上例：</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(instance <span class="keyword">instanceof</span> SuperType);  <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(SuperType.prototype.isPrototypeOf(instance));  <span class="comment">// true</span></span><br></pre></td></tr></table></figure><ol start="7"><li>原型式继承、寄生式继承、寄生组合式继承</li></ol><h2 id="第七章-函数表达式"><a href="#第七章-函数表达式" class="headerlink" title="第七章 函数表达式"></a>第七章 函数表达式</h2><h3 id="7-1-递归"><a href="#7-1-递归" class="headerlink" title="7.1 递归"></a>7.1 递归</h3><h3 id="7-2-闭包"><a href="#7-2-闭包" class="headerlink" title="7.2 闭包"></a>7.2 闭包</h3><ol><li><p>闭包是有权访问另一个函数作用域中的变量的函数。</p></li><li><p>（作用域链见4.2）在外部函数内部定义的内部函数将包含外部函数的活动对象添加到它的作用域中；外部函数执行完毕后，其活动对象不会被销毁，因为内部函数的作用域链仍然在引用这个活动对象；外部函数执行完毕后，内部函数仍然可以访问到其定义的所有变量。</p></li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">outer</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> name = <span class="string">'DIYgod'</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(name);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> inner = outer();</span><br><span class="line">inner();  <span class="comment">// DIYgod</span></span><br><span class="line">inner = <span class="literal">null</span>;  <span class="comment">// 解除对outer内部的匿名函数的引用，以便释放内存</span></span><br></pre></td></tr></table></figure><ol start="3"><li>闭包只能取得包含函数中任何变量的最后一个值。</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createFunction</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> result = [];</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &amp;lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">		result[i] = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="keyword">return</span> i;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(createFunction()[<span class="number">0</span>]());  <span class="comment">// 10</span></span><br><span class="line"><span class="built_in">console</span>.log(createFunction()[<span class="number">1</span>]());  <span class="comment">// 10</span></span><br><span class="line"><span class="comment">// 返回的都是同一个变量i</span></span><br></pre></td></tr></table></figure><ol start="4"><li>匿名函数的this通常会指向window。</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">'The Window'</span>;</span><br><span class="line"><span class="keyword">var</span> object = &#123;</span><br><span class="line">	name: <span class="string">'My Object'</span>,</span><br><span class="line">	getNameFunc: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(object.getNameFunc()());  <span class="comment">// The Window</span></span><br></pre></td></tr></table></figure><h3 id="7-3-模仿块级作用域"><a href="#7-3-模仿块级作用域" class="headerlink" title="7.3 模仿块级作用域"></a>7.3 模仿块级作用域</h3><ol start="5"><li>用匿名函数来模仿块级作用域：第一个括号的作用是将函数声明转换成函数表达式（函数声明不能通过后面加括号来调用），第二个括号来调用这个函数。</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> i = <span class="number">9</span>;</span><br><span class="line">	<span class="built_in">console</span>.log(i);  <span class="comment">// 9</span></span><br><span class="line">&#125;)();</span><br><span class="line"><span class="built_in">console</span>.log(i);  <span class="comment">// Uncaught ReferenceError: i is not defined</span></span><br></pre></td></tr></table></figure><h3 id="7-4-静态对象"><a href="#7-4-静态对象" class="headerlink" title="7.4 静态对象"></a>7.4 静态对象</h3><ol start="6"><li><p>任何在函数中定义的变量，都可以认为是私有变量。</p></li><li><p>有权访问私有变量和私有函数的公有方法称为特权方法。</p></li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">MyObject</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="comment">// 私有变量和私有函数</span></span><br><span class="line">	<span class="keyword">var</span> privateVariable = <span class="string">'DIYgod'</span>;</span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">privateFunction</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(<span class="string">'lalala'</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 特权方法</span></span><br><span class="line">	<span class="keyword">this</span>.publicMethod = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(privateVariable);</span><br><span class="line">		privateFunction();</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> o = <span class="keyword">new</span> MyObject();</span><br><span class="line">o.publicMethod();  <span class="comment">// DIYgod lalala</span></span><br><span class="line">o.privateFunction();  <span class="comment">// Uncaught TypeError: o.privateFunction is not a function</span></span><br></pre></td></tr></table></figure><p>…</p><h2 id="第十三章-事件"><a href="#第十三章-事件" class="headerlink" title="第十三章 事件"></a>第十三章 事件</h2><h3 id="13-1事件流"><a href="#13-1事件流" class="headerlink" title="13.1事件流"></a>13.1事件流</h3><ol><li><p>事件冒泡：事件开始时由最具体的元素接收，然后逐级向上传播到较为不具体的节点；IE9、FireFox、Chrome 和 Safari 将事件一直冒泡到 window 对象。</p></li><li><p>事件捕获：由于老版本的浏览器不支持，因此很少有人使用事件捕获。</p></li><li><p>“DOM2级事件”规定的事件流包括三个阶段：事件捕获阶段、处于目标阶段和事件冒泡阶段。</p></li></ol><h3 id="13-2-事件处理程序"><a href="#13-2-事件处理程序" class="headerlink" title="13.2 事件处理程序"></a>13.2 事件处理程序</h3><ol start="4"><li>HTML事件处理程序：扩展作用域，在函数内部可以像访问局部变量一样访问document及该元素本身的成员，栗子：</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&amp;lt;input type=<span class="string">"button"</span> value=<span class="string">"Click Me"</span> onclick=<span class="string">"alert(value)"</span>&amp;gt;</span><br></pre></td></tr></table></figure><p>如果是一个表单输入元素，则作用域中还会包含访问表单元素的入口，栗子：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&amp;lt;form method=<span class="string">"post"</span>&amp;gt;</span><br><span class="line">    &amp;lt;input type=<span class="string">"text"</span> name=<span class="string">"username"</span> value=<span class="string">""</span>&amp;gt;</span><br><span class="line">    &amp;lt;input type=<span class="string">"button"</span> value=<span class="string">"Echo username"</span> onclick=<span class="string">"alert(username.value)"</span>&amp;gt;</span><br><span class="line">&amp;lt;<span class="regexp">/form&amp;gt;</span></span><br></pre></td></tr></table></figure><p>缺点：①存在时差问题，解析函数之前就触发事件会引发错误 ②扩展处理程序的作用域链在不同浏览器中会导致不同结果 ③导致HTML和JavaScript代码紧密耦合。</p><ol start="5"><li>DOM0级事件处理程序</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 绑定事件处理程序</span></span><br><span class="line"><span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">'myButton'</span>);</span><br><span class="line">btn.onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="keyword">this</span>.id);    <span class="comment">// myButton</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 删除事件处理程序</span></span><br><span class="line">btn.onclick = <span class="literal">null</span>;</span><br></pre></td></tr></table></figure><p>以这种方式添加的事件处理程序会在事件流的冒泡阶段被处理。</p><ol start="6"><li>DOM2级事件处理程序</li></ol><p>addEventListener() 和 removeEventListener()</p><p>三个参数：要处理的事件名、作为事件处理程序的函数、在捕获阶段调用函数(true)还是在冒泡阶段调用函数(false，默认)</p><p>好处是可以添加多个事件处理程序，使用 addEventListener 添加的事件处理程序只能使用 removeEventListener移除，匿名函数无法移除。</p><ol start="7"><li>IE事件处理程序</li></ol><p>attachEvent() 和 detachEvent()</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">'myButton'</span>);</span><br><span class="line">btn.attachEvent(<span class="string">'onclick'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="keyword">this</span> === <span class="built_in">window</span>);    <span class="comment">// myButton</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>以这种方式添加的事件处理程序会在事件流的冒泡阶段被处理。</p><h3 id="13-3-事件对象"><a href="#13-3-事件对象" class="headerlink" title="13.3 事件对象"></a>13.3 事件对象</h3><ol start="8"><li><p>在触发DOM上的某个事件时，会产生一个事件对象event，这个对象包含着所有与事件有关的信息。只有在事件处理程序执行期间，event对象才会存在，一旦事件处理程序执行完成，event对象就会被销毁。</p></li><li><p>属性/方法：</p></li></ol><p>currentTarget：正在处理事件的那个元素</p><p>target：事件的目标</p><p>type：事件类型</p><p>cancelable：可以阻止特定事件的默认行为</p><p>preventDefault()：阻止特定事件的默认行为</p><p>stopPropagation()：停止事件在DOM层次中的传播，即取消进一步的事件捕获或冒泡</p><p>eventPhase：事件出于事件流的阶段 捕获阶段为1 处于目标对象为2 冒泡阶段为3</p><h3 id="13-4-事件类型"><a href="#13-4-事件类型" class="headerlink" title="13.4 事件类型"></a>13.4 事件类型</h3><ol start="10"><li>UI事件、焦点事件、鼠标事件、滚轮事件、文本事件、键盘事件、合成事件、变动事件。</li></ol><p>&nbsp;</p><p>…</p><h2 id="第二十一章-Ajax与Comet"><a href="#第二十一章-Ajax与Comet" class="headerlink" title="第二十一章 Ajax与Comet"></a>第二十一章 Ajax与Comet</h2><h3 id="21-1-XMLHttpRequest对象"><a href="#21-1-XMLHttpRequest对象" class="headerlink" title="21.1 XMLHttpRequest对象"></a>21.1 XMLHttpRequest对象</h3><ol><li>用法</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">xhr.onreadystatechange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (xhr.readState === <span class="number">4</span>) &#123;</span><br><span class="line">		<span class="keyword">if</span> (xhr.status &amp;gt;= <span class="number">200</span> &amp;amp;&amp;amp; xhr.status &amp;lt; <span class="number">300</span> || xhr.status === <span class="number">304</span>) &#123;</span><br><span class="line">			<span class="built_in">console</span>.log(xhr.responseText);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="built_in">console</span>.log(<span class="string">'Request was unsuccessful: '</span> + xhr.status);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line">xhr.open(<span class="string">'get'</span>, <span class="string">'example.php'</span>, <span class="literal">true</span>);</span><br><span class="line">xhr.send(<span class="literal">null</span>);</span><br></pre></td></tr></table></figure><ul><li><p>创建XHR对象：new XMLHttpRequest();</p></li><li><p>open()：启动一个请求以备发送；3个参数：请求类型、请求的URL、是否异步发送请求（同步必须等到服务器响应后再继续执行）；不会真正发送请求。</p></li><li><p>send()：发送请求；1个参数：发送的数据；不需要发送数据则必须传入null。</p></li><li><p>XHR对象的属性：</p></li></ul><ul><li><p>responseText 返回的文本</p></li><li><p>status 响应的HTTP状态。</p></li></ul><ul><li>HTTP状态码：</li></ul><ul><li><p>2xx 成功</p></li><li><p>3xx 重定向，304 Not Modified 表示请求的资源没有被修改，可以直接用浏览器中缓存的版本，302 Found 表示请求的资源现在临时从不同的URI响应请求</p></li><li><p>4xx 客户端错误，403 Forbidden，404 Not Found</p></li><li><p>5xx 服务器错误，500 Internal Server Error，503 Service Unavailable。</p></li></ul><ul><li>XHR的readyState属性：</li></ul><ul><li><p>0：未初始化</p></li><li><p>1：启动，已调用open()</p></li><li><p>2：发送，已调用send()</p></li><li><p>3：接收到部分响应数据</p></li><li><p>4：接收到全部响应数据</p></li></ul><ul><li>readystatechange事件：readystate属性的值由一个值变成另一个值，都会触发readystatechange事件。</li></ul><h3 id="21-4-跨域资源共享"><a href="#21-4-跨域资源共享" class="headerlink" title="21.4 跨域资源共享"></a>21.4 跨域资源共享</h3><ol><li><p>CORS：使用自定义的HTTP头部让浏览器与服务器进行沟通，从而决定请求或响应是应该成功还是应该失败。IE中要使用XDR对象实现，其他浏览器XHR对象原生支持。</p></li><li><p>图像Ping：只能发送GET请求；无法访问服务器的响应文本。</p></li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> img = <span class="keyword">new</span> Image();</span><br><span class="line">img.onload = img.onerror = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">'Done!'</span>);</span><br><span class="line">&#125;;</span><br><span class="line">img.src = <span class="string">'http://api.hitokoto.us/rand?encode=jsc'</span>;</span><br></pre></td></tr></table></figure><ol start="3"><li>JSONP：两部分组成 回调函数和数据。</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myCallBack</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(data.hitokoto);  <span class="comment">// 像平常的你一样引发奇迹吧-</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> script = <span class="built_in">document</span>.createElement(<span class="string">'script'</span>);</span><br><span class="line">script.src = <span class="string">'http://api.hitokoto.us/rand?encode=jsc&amp;amp;fun=myCallBack'</span>;  <span class="comment">// 返回一个包含在函数调用中的JSON，调用了myCallBack函数：myCallBack(&#123;"hitokoto":"...","author":"...",....&#125;);</span></span><br><span class="line"><span class="built_in">document</span>.body.insertBefore(script, <span class="built_in">document</span>.body.firstChild);</span><br></pre></td></tr></table></figure><p>缺点：安全性不可靠；不容易判断请求失败。</p><p>&nbsp;</p><p>&nbsp;</p><p>To Be Continued…</p></div><div class="post-share">分享到：</div><div><div style="padding:10px 0;margin:20px auto;width:90%;text-align:center"><div></div><button id="rewardButton" disable="enable" onclick='var qr=document.getElementById("QR");"none"===qr.style.display?qr.style.display="block":qr.style.display="none"'><span>赞赏</span></button><div id="QR" style="display:none"><div id="wechat" style="display:inline-block"><img id="wechat_qr" src="/images/wechatpay.png" alt="DIYgod 微信扫一扫，向我赞赏"><p>微信扫一扫，向我赞赏</p></div><div id="alipay" style="display:inline-block"><img id="alipay_qr" src="/images/alipay.png" alt="DIYgod 支付宝扫一扫，向我赞赏"><p>支付宝扫一扫，向我赞赏</p></div></div></div></div><footer class="post-footer"><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/2024/" rel="next" title="百度前端技术学院编码挑战（TASK 0004）"><i class="fa fa-chevron-left"></i> 百度前端技术学院编码挑战（TASK 0004）</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"><a href="/2125/" rel="prev" title="论 IFTTT 的正确食用姿势">论 IFTTT 的正确食用姿势 <i class="fa fa-chevron-right"></i></a></div></div></footer></div></article><div class="post-spread"></div></div></div><div class="comments" id="comments"><div id="disqus_thread"><div id="dsqjs"><section class="dsqjs-info"><p id="dsqjs-load-disqus" class="dsqjs-message">评论完整模式加载中...如果长时间无法加载，请针对 disq.us | disquscdn.com | disqus.com 启用代理</p></section></div></div></div><script type="text/javascript">window.DISQUS=null,new DisqusJS({shortname:"diygod-me",siteName:"Hi, DIYgod",identifier:"2073/",url:"https://diygod.me/2073/",api:"https://disqus.diygod.me/api/",apikey:"h403RnxQYBk2VylgLZwxodAtYOEL9bzgfhpcc8AZEU0EXn9cEWUoTwrgL3VB5tvj",admin:"DIYgod",adminLabel:"妹抖"})</script></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">文章目录</li><li class="sidebar-nav-overview" data-target="site-overview-wrap">站点概览</li></ul><section class="site-overview-wrap sidebar-panel"><div class="site-overview"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" src="/images/card.jpg" alt="DIYgod"><p class="site-author-name" itemprop="name"><span style="opacity:.2">网红</span>DIYgod</p><p class="site-description motion-element" itemprop="description">你能抓到我么？</p></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/DIYgod" target="_blank" title="GitHub" data-balloon="GitHub" data-balloon-pos="up"><i class="fa fa-fw fa-github"></i></a> </span><span class="links-of-author-item"><a href="https://twitter.com/DIYgod" target="_blank" title="Twitter" data-balloon="Twitter" data-balloon-pos="up"><i class="fa fa-fw fa-twitter"></i></a> </span><span class="links-of-author-item"><a href="https://wj.qq.com/s2/3318631/2970" target="_blank" title="QQ 群" data-balloon="QQ 群" data-balloon-pos="up"><i class="fa fa-fw fa-qq"></i></a> </span><span class="links-of-author-item"><a href="https://t.me/awesomeDIYgod" target="_blank" title="Telegram 频道" data-balloon="Telegram 频道" data-balloon-pos="up"><i class="fa fa-fw fa-telegram"></i></a> </span><span class="links-of-author-item"><a href="https://t.me/prpr233" target="_blank" title="Telegram 群" data-balloon="Telegram 群" data-balloon-pos="up"><i class="fa fa-fw fa-telegram"></i></a></span></div><details class="views-top-wrap"><summary class="views-top-name">看爆 Top10</summary><ul class="views-top"></ul></details><div class="feed-link motion-element"><a class="feed-email" href="http://eepurl.com/dEnzz1" rel="alternate" target="_blank"><i class="fa fa-envelope"></i> <span>Email 订阅</span> </a><a class="feed-rss" href="/atom.xml" rel="alternate" target="_blank"><i class="fa fa-rss"></i> <span>RSS 订阅</span></a></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/archives"><span class="site-state-item-count">58</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/index.html"><span class="site-state-item-count">5</span> <span class="site-state-item-name">分类</span></a></div></nav><div class="cc-license motion-element" itemprop="license"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" class="cc-opacity" target="_blank"><img src="/images/cc-by-nc-sa.png" alt="Creative Commons"></a></div></div></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#第一章-JavaScript简介"><span class="nav-number">1.</span> <span class="nav-text">第一章 JavaScript简介</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-JavaScript简史"><span class="nav-number">1.1.</span> <span class="nav-text">1.1 JavaScript简史</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-JavaScript实现"><span class="nav-number">1.2.</span> <span class="nav-text">1.2 JavaScript实现</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-JavaScript版本"><span class="nav-number">1.3.</span> <span class="nav-text">1.3 JavaScript版本</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#第二章-在HTML中使用JavaScript"><span class="nav-number">2.</span> <span class="nav-text">第二章 在HTML中使用JavaScript</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-script元素"><span class="nav-number">2.1.</span> <span class="nav-text">2.1 script元素</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-嵌入代码与外部文件"><span class="nav-number">2.2.</span> <span class="nav-text">2.2 嵌入代码与外部文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-文档模式"><span class="nav-number">2.3.</span> <span class="nav-text">2.3 文档模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-4-noscript元素"><span class="nav-number">2.4.</span> <span class="nav-text">2.4 noscript元素</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#第三章-基本概念"><span class="nav-number">3.</span> <span class="nav-text">第三章 基本概念</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-语法"><span class="nav-number">3.1.</span> <span class="nav-text">3.1 语法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-关键字和保留字"><span class="nav-number">3.2.</span> <span class="nav-text">3.2 关键字和保留字</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3-变量"><span class="nav-number">3.3.</span> <span class="nav-text">3.3 变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-4-数据类型"><span class="nav-number">3.4.</span> <span class="nav-text">3.4 数据类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-5-操作符"><span class="nav-number">3.5.</span> <span class="nav-text">3.5 操作符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-6-语句"><span class="nav-number">3.6.</span> <span class="nav-text">3.6 语句</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-7-函数"><span class="nav-number">3.7.</span> <span class="nav-text">3.7 函数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#第四章-变量、作用域和内存问题"><span class="nav-number">4.</span> <span class="nav-text">第四章 变量、作用域和内存问题</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-基本类型和引用类型的值"><span class="nav-number">4.1.</span> <span class="nav-text">4.1 基本类型和引用类型的值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-执行环境及作用域"><span class="nav-number">4.2.</span> <span class="nav-text">4.2 执行环境及作用域</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-3-垃圾回收"><span class="nav-number">4.3.</span> <span class="nav-text">4.3 垃圾回收</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#第五章-引用类型"><span class="nav-number">5.</span> <span class="nav-text">第五章 引用类型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#5-1-Object类型"><span class="nav-number">5.1.</span> <span class="nav-text">5.1 Object类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-2-Array类型"><span class="nav-number">5.2.</span> <span class="nav-text">5.2 Array类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-3-Date类型"><span class="nav-number">5.3.</span> <span class="nav-text">5.3 Date类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-4-RegExp类型"><span class="nav-number">5.4.</span> <span class="nav-text">5.4 RegExp类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-5-Function类型"><span class="nav-number">5.5.</span> <span class="nav-text">5.5 Function类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-6-基本包装类型"><span class="nav-number">5.6.</span> <span class="nav-text">5.6 基本包装类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-7-单体内置对象"><span class="nav-number">5.7.</span> <span class="nav-text">5.7 单体内置对象</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#第六章-面向对象的程序设计"><span class="nav-number">6.</span> <span class="nav-text">第六章 面向对象的程序设计</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#6-1-理解对象"><span class="nav-number">6.1.</span> <span class="nav-text">6.1 理解对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-2-创建对象"><span class="nav-number">6.2.</span> <span class="nav-text">6.2 创建对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-3-继承"><span class="nav-number">6.3.</span> <span class="nav-text">6.3 继承</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#第七章-函数表达式"><span class="nav-number">7.</span> <span class="nav-text">第七章 函数表达式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#7-1-递归"><span class="nav-number">7.1.</span> <span class="nav-text">7.1 递归</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-2-闭包"><span class="nav-number">7.2.</span> <span class="nav-text">7.2 闭包</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-3-模仿块级作用域"><span class="nav-number">7.3.</span> <span class="nav-text">7.3 模仿块级作用域</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-4-静态对象"><span class="nav-number">7.4.</span> <span class="nav-text">7.4 静态对象</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#第十三章-事件"><span class="nav-number">8.</span> <span class="nav-text">第十三章 事件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#13-1事件流"><span class="nav-number">8.1.</span> <span class="nav-text">13.1事件流</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#13-2-事件处理程序"><span class="nav-number">8.2.</span> <span class="nav-text">13.2 事件处理程序</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#13-3-事件对象"><span class="nav-number">8.3.</span> <span class="nav-text">13.3 事件对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#13-4-事件类型"><span class="nav-number">8.4.</span> <span class="nav-text">13.4 事件类型</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#第二十一章-Ajax与Comet"><span class="nav-number">9.</span> <span class="nav-text">第二十一章 Ajax与Comet</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#21-1-XMLHttpRequest对象"><span class="nav-number">9.1.</span> <span class="nav-text">21.1 XMLHttpRequest对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#21-4-跨域资源共享"><span class="nav-number">9.2.</span> <span class="nav-text">21.4 跨域资源共享</span></a></li></ol></li></ol></div></div></section></div></aside></div></main><footer id="footer" class="footer"><div class="footer-image"></div><div class="footer-inner"><p>博客已萌萌哒运行<span id="since"></span><span class="my-face">(●'◡'●)ﾉ♥</span></p><p>托管于<a href="https://github.com/" target="_blank" rel="nofollow"> GitHub</a>. <a href="https://www.upyun.com/" target="_blank" rel="nofollow">又拍云</a> 提供 CDN 服务. <a href="http://www.google.com/analytics/" target="_blank" rel="nofollow">Google Analytics </a>提供网站统计服务. <a href="https://www.cloudxns.net/" target="_blank" rel="nofollow">CloudXNS </a>提供 DNS 解析服务.</p><p>© <span itemprop="copyrightYear">2019</span> Hi, DIYgod. 由 <a href="https://hexo.io/" target="_blank" class="external" rel="nofollow">Hexo</a> 强力驱动. Theme By <a href="https://github.com/DIYgod/hexo-theme-sagiri" target="_blank" class="external" rel="nofollow">Sagiri</a> v0.0.51. <a href="/sitemap.xml" target="_blank">站点地图</a>. 鲁ICP备16000184号.</p><p>Made with <i class="fa fa-heart throb" style="color:#d43f57"></i> by <span class="author" itemprop="copyrightHolder">DIYgod</span>.</p></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i></div><canvas id="evanyou"></canvas><div id="aplayer-fixed"></div></div><script type="text/javascript" src="/js/sagiri.min.js?v=0.0.51"></script><script>var serviceWorkerUri="/sw.js";"serviceWorker"in navigator?navigator.serviceWorker.register(serviceWorkerUri).then(function(){navigator.serviceWorker.controller?console.log("Assets cached by the controlling service worker."):console.log("Please reload this page to allow the service worker to handle network operations.")}).catch(function(e){console.log("ERROR: "+e)}):console.log("Service workers are not supported in the current browser.")</script></body></html>