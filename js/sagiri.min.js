!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=10)}([function(t,e,n){(function(t){var i=void 0!==t&&t||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(r.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new o(r.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(15),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(1))},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"===("undefined"==typeof window?"undefined":n(window))&&(i=window)}t.exports=i},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){(function(e){t.exports=e}).call(this,{})},function(t,e){var n,i,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var u,l=[],c=!1,d=-1;function h(){c&&u&&(c=!1,u.length?l=u.concat(l):d=-1,l.length&&f())}function f(){if(!c){var t=s(h);c=!0;for(var e=l.length;e;){for(u=l,l=[];++d<e;)u&&u[d].run();d=-1,e=l.length}u=null,c=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function m(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new p(t,e)),1!==l.length||c||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e){t.exports=function(){$(document).ready(function(){var t=$(".sidebar-inner");function e(){var e=$(".header-inner").height()+CONFIG.sidebar.offset;$("#sidebar").height()<$("#content").height()&&t.affix({offset:{top:e-2*CONFIG.sidebar.offset,bottom:540}})}e(),window.matchMedia("(min-width: 991px)").addListener(function(n){n.matches&&($(window).off(".affix"),t.removeData("bs.affix").removeClass("affix affix-top affix-bottom"),e())})})}},function(t,e){t.exports=function(){$(document).ready(function(){!function(){var t=".post-toc",e=$(t),n=".active-current";function i(){$(t+" "+n).removeClass(n.substring(1))}e.on("activate.bs.scrollspy",function(){var n=$(t+" .active").last();i(),n.addClass("active-current"),e.scrollTop(n.offset().top-e.offset().top+e.scrollTop()-e.height()/2)}).on("clear.bs.scrollspy",i),$("body").scrollspy({target:t})}()}),$(document).ready(function(){var t=$("html"),e=$.isFunction(t.velocity);$(".sidebar-nav li").on("click",function(){var t=$(this);if(!t.hasClass("sidebar-nav-active")){var n=$(".sidebar-panel-active"),i=$("."+t.data("target"));e?n.velocity("transition.slideUpOut",200,function(){i.velocity("stop").velocity("transition.slideDownIn",200).addClass("sidebar-panel-active")}):n.animate({opacity:0},200,function(){n.hide(),i.stop().css({opacity:0,display:"block"}).animate({opacity:1},200,function(){n.removeClass("sidebar-panel-active"),i.addClass("sidebar-panel-active")})}),t.siblings().removeClass("sidebar-nav-active"),t.addClass("sidebar-nav-active")}}),$(".post-toc a").on("click",function(n){n.preventDefault();var i=NexT.utils.escapeSelector(this.getAttribute("href")),r=$(i).offset().top;e?t.velocity("stop").velocity("scroll",{offset:r+"px",mobileHA:!1}):$("html, body").stop().animate({scrollTop:r},500)});var n=$(".post-toc-content"),i="post"===CONFIG.sidebar.display||"always"===CONFIG.sidebar.display,r=n.length>0&&n.html().trim().length>0;i&&r&&(CONFIG.motion.enable?NexT.motion.middleWares.sidebar=function(){NexT.utils.displaySidebar()}:NexT.utils.displaySidebar())})}},function(t,e,n){var i;window.CONFIG.leancloud.enable&&((i=n(23)).init({appId:window.CONFIG.leancloud.appID,appKey:window.CONFIG.leancloud.appKey,serverURLs:"https://leancloud.diygod.me"}),window.AV=i),t.exports=function(){if(window.CONFIG.leancloud.enable){$(function(){var t=i.Object.extend("Counter");1==$(".leancloud_visitors").length?function(t){var e=$(".leancloud_visitors"),n=e.attr("id").trim(),r=e.attr("data-flag-title").trim(),o=new i.Query(t);o.equalTo("url",n),o.find().then(function(e){if(e.length>0){var o=e[0];o.save(null,{fetchWhenSave:!0}),o.increment("time"),o.save().then(function(t){$(document.getElementById(n)).find(".leancloud-visitors-count").text(t.get("time"))}).then(function(t,e){console.log("Failed to save Visitor num, with error message: "+e.message)})}else{var a=new t,s=new i.ACL;s.setPublicReadAccess(!0),s.setPublicWriteAccess(!0),a.setACL(s),a.set("title",r),a.set("url",n),a.set("time",1),a.save().then(function(t){$(document.getElementById(n)).find(".leancloud-visitors-count").text(t.get("time"))}).then(function(t,e){console.log("Failed to create")})}}).then(function(t){console.log("Error:"+t.code+" "+t.message)})}(t):$(".post-title-link").length>1&&function(t){var e=new i.Query(t),n=[],r=$(".leancloud_visitors");r.each(function(){n.push($(this).attr("id").trim())}),e.containedIn("url",n),e.find().then(function(t){if(0!==t.length){for(var e=0;e<t.length;e++){var i=t[e],o=i.get("url"),a=i.get("time"),s=document.getElementById(o);$(s).find(".leancloud-visitors-count").text()||$(s).find(".leancloud-visitors-count").text(a)}for(e=0;e<n.length;e++){o=n[e],s=document.getElementById(o);var u=$(s).find(".leancloud-visitors-count");""==u.text()&&u.text(0)}}else r.find(".leancloud-visitors-count").text(0)}).then(function(t,e){console.log("Error: "+e.code+" "+e.message)})}(t),$(".views-top").length&&function(t){var e=new i.Query(t);e.descending("time"),e.limit(10),e.find().then(function(t){var e="";t.forEach(function(t){e+='<li><a href="'.concat(t.attributes.url,'"><span class="views-top-title">').concat(t.attributes.title,'</span><span class="views-top-time">').concat(t.attributes.time,"次看爆</span></a></li>")}),$(".views-top").html(e)},function(t){})}(t)})}}},function(t,e,n){n(24),t.exports=function(){$(".post-share").length&&$(".post-share").share({disabled:["tencent","douban","linkedin","diandian","facebook","google"],wechatQrcodeTitle:"微信扫一扫",wechatQrcodeHelper:"<p>微信扫一扫，右上角分享</p>",source:CONFIG.site.title})}},function(t,e,n){var i=n(35);t.exports=function(){Array.prototype.forEach.call($(".content img").not("[hidden]").not(".no-fancybox").not(".post-share img"),function(t){i(t)})}},function(t,e,n){window.FastClick=n(11),n(12),window.notie=n(13),window.APlayer=n(14),window.DPlayer=n(16),n(17),n(18),n(19),n(5)(),n(20),n(6)(),n(21),n(22),n(7)(),n(8)(),n(25),n(27),n(28),n(29),n(30),n(31),n(32),n(36),n(37),n(9)(),n(38),n(39)},function(t,e,n){var i;function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(){"use strict";
/**
	 * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
	 *
	 * @codingstandard ftlabs-jsv2
	 * @copyright The Financial Times Limited [All Rights Reserved]
	 * @license MIT License (see LICENSE.txt)
	 */function o(t,e){var n;if(e=e||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=e.touchBoundary||10,this.layer=t,this.tapDelay=e.tapDelay||200,this.tapTimeout=e.tapTimeout||700,!o.notNeeded(t)){for(var i=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],r=0,a=i.length;r<a;r++)this[i[r]]=u(this[i[r]],this);s&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,i){var r=Node.prototype.removeEventListener;"click"===e?r.call(t,e,n.hijacked||n,i):r.call(t,e,n,i)},t.addEventListener=function(e,n,i){var r=Node.prototype.addEventListener;"click"===e?r.call(t,e,n.hijacked||(n.hijacked=function(t){t.propagationStopped||n(t)}),i):r.call(t,e,n,i)}),"function"==typeof t.onclick&&(n=t.onclick,t.addEventListener("click",function(t){n(t)},!1),t.onclick=null)}function u(t,e){return function(){return t.apply(e,arguments)}}}var a=navigator.userAgent.indexOf("Windows Phone")>=0,s=navigator.userAgent.indexOf("Android")>0&&!a,u=/iP(ad|hone|od)/.test(navigator.userAgent)&&!a,l=u&&/OS 4_\d(_\d)?/.test(navigator.userAgent),c=u&&/OS [6-7]_\d/.test(navigator.userAgent),d=navigator.userAgent.indexOf("BB10")>0;o.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(u&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},o.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!s;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},o.prototype.sendClick=function(t,e){var n,i;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),i=e.changedTouches[0],(n=document.createEvent("MouseEvents")).initMouseEvent(this.determineEventType(t),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)},o.prototype.determineEventType=function(t){return s&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},o.prototype.focus=function(t){var e;u&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},o.prototype.updateScrollParent=function(t){var e,n;if(!(e=t.fastClickScrollParent)||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.fastClickLastScrollTop=e.scrollTop)},o.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},o.prototype.onTouchStart=function(t){var e,n,i;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),n=t.targetTouches[0],u){if((i=window.getSelection()).rangeCount&&!i.isCollapsed)return!0;if(!l){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=n.pageX,this.touchStartY=n.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},o.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],n=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>n||Math.abs(e.pageY-this.touchStartY)>n},o.prototype.onTouchMove=function(t){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0)},o.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},o.prototype.onTouchEnd=function(t){var e,n,i,r,o,a=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,c&&(o=t.changedTouches[0],(a=document.elementFromPoint(o.pageX-window.pageXOffset,o.pageY-window.pageYOffset)||a).fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(i=a.tagName.toLowerCase())){if(e=this.findControl(a)){if(this.focus(a),s)return!1;a=e}}else if(this.needsFocus(a))return t.timeStamp-n>100||u&&window.top!==window&&"input"===i?(this.targetElement=null,!1):(this.focus(a),this.sendClick(a,t),u&&"select"===i||(this.targetElement=null,t.preventDefault()),!1);return!(!u||l||!(r=a.fastClickScrollParent)||r.fastClickLastScrollTop===r.scrollTop)||(this.needsClick(a)||(t.preventDefault(),this.sendClick(a,t)),!1)},o.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},o.prototype.onMouse=function(t){return!this.targetElement||(!!t.forwardedTouchEvent||(!t.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1))))},o.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail||((e=this.onMouse(t))||(this.targetElement=null),e)},o.prototype.destroy=function(){var t=this.layer;s&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},o.notNeeded=function(t){var e,n,i;if(void 0===window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!s)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(n>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(d&&(i=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/))[1]>=10&&i[2]>=3&&(e=document.querySelector("meta[name=viewport]"))){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"manipulation"===t.style.touchAction||(!!(+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]>=27&&(e=document.querySelector("meta[name=viewport]"))&&(-1!==e.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))||("none"===t.style.touchAction||"manipulation"===t.style.touchAction))},o.attach=function(t,e){return new o(t,e)},"object"===r(n(3))&&n(3)?void 0===(i=function(){return o}.call(e,n,e,t))||(t.exports=i):t.exports?(t.exports=o.attach,t.exports.FastClick=o):window.FastClick=o}()},function(t,e,n){(function(n){var i,r,o;function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
/*!
 * Lazy Load - JavaScript plugin for lazy loading images
 *
 * Copyright (c) 2007-2019 Mika Tuupola
 *
 * Licensed under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 *
 * Project home:
 *   https://appelsiini.net/projects/lazyload
 *
 * Version: 2.0.0-rc.2
 *
 */
/*!
 * Lazy Load - JavaScript plugin for lazy loading images
 *
 * Copyright (c) 2007-2019 Mika Tuupola
 *
 * Licensed under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 *
 * Project home:
 *   https://appelsiini.net/projects/lazyload
 *
 * Version: 2.0.0-rc.2
 *
 */
!function(n,s){"object"===a(e)?t.exports=s(n):(r=[],void 0===(o="function"==typeof(i=s)?i.apply(e,r):i)||(t.exports=o))}(void 0!==n?n:this.window||this.global,function(t){"use strict";t=window;var e={src:"data-src",srcset:"data-srcset",selector:".lazyload",root:null,rootMargin:"0px",threshold:0},n=function t(){var e={},n=!1,i=0,r=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(n=arguments[0],i++);for(var o=function(i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n&&"[object Object]"===Object.prototype.toString.call(i[r])?e[r]=t(!0,e[r],i[r]):e[r]=i[r])};i<r;i++){var a=arguments[i];o(a)}return e};function i(t,i){this.settings=n(e,i||{}),this.images=t||document.querySelectorAll(this.settings.selector),this.observer=null,this.init()}if(i.prototype={init:function(){if(t.IntersectionObserver){var e=this,n={root:this.settings.root,rootMargin:this.settings.rootMargin,threshold:[this.settings.threshold]};this.observer=new IntersectionObserver(function(t){Array.prototype.forEach.call(t,function(t){if(t.isIntersecting){e.observer.unobserve(t.target);var n=t.target.getAttribute(e.settings.src),i=t.target.getAttribute(e.settings.srcset);"img"===t.target.tagName.toLowerCase()?(n&&(t.target.src=n),i&&(t.target.srcset=i)):t.target.style.backgroundImage="url("+n+")"}})},n),Array.prototype.forEach.call(this.images,function(t){e.observer.observe(t)})}else this.loadImages()},loadAndDestroy:function(){this.settings&&(this.loadImages(),this.destroy())},loadImages:function(){if(this.settings){var t=this;Array.prototype.forEach.call(this.images,function(e){var n=e.getAttribute(t.settings.src),i=e.getAttribute(t.settings.srcset);"img"===e.tagName.toLowerCase()?(n&&(e.src=n),i&&(e.srcset=i)):e.style.backgroundImage="url('"+n+"')"})}},destroy:function(){this.settings&&(this.observer.disconnect(),this.settings=null)}},t.lazyload=function(t,e){return new i(t,e)},t.jQuery){var r=t.jQuery;r.fn.lazyload=function(t){return(t=t||{}).attribute=t.attribute||"data-src",new i(r.makeArray(this),t),this}}return i})}).call(this,n(1))},function(t,e,n){t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}return n.m=t,n.c=e,n.p="",n(0)}([function(t,e,n){t.exports=n(2)},function(t,e){"use strict";t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<e.length;r++){var a=e[r];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=(s(n(5)),s(n(6))),o=s(n(8)),a=s(n(9));function s(t){return t&&t.__esModule?t:{default:t}}var u={info:s(n(7)).default,success:o.default,warning:a.default,error:r.default},l=document.querySelector.bind(document);document.querySelectorAll.bind(document);var c=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.text=e,this.opts=n,this.events={},this.notify()}return i(t,[{key:"init",value:function(){var t=l(".noties-"+this.opts.position);t?this.noties=t:(this.noties=document.createElement("div"),this.noties.className="noties noties-"+this.opts.position,l("body").appendChild(this.noties))}},{key:"notify",value:function(){var t=this;this.init(),this.notie=document.createElement("div"),this.notie.style.width=this.opts.width+"px",this.notie.className="notie notie-"+this.opts.type+(this.opts.autoHide?"":" notie-auto-hide-disabled"),this.notie.innerHTML='\n    <div class="notie-body">\n      <span class="notie-svg">'+u[this.opts.type]+'</span>\n      <span class="notie-text">'+this.text+"</span>\n    </div>\n    ";var e=this.noties.firstChild;this.noties.insertBefore(this.notie,e),setTimeout(function(){t.notie.classList.add("notie-shown")},100),this.opts.autoHide&&this.startTimeout(),this.registerEvents()}},{key:"registerEvents",value:function(){var t,e,n=this;this.opts.autoHide?(this.events.mouseover=function(){clearTimeout(n.timeout),n.timeout=null},this.events.mouseleave=function(){return n.startTimeout()},this.notie.addEventListener("mouseover",this.events.mouseover,!1),this.notie.addEventListener("mouseleave",this.events.mouseleave,!1)):(this.notie.addEventListener("click",function(){return n.removeNotie()}),t=this.notie.querySelectorAll("[notie-prevent]"),e=function(t){t.addEventListener("click",function(t){return t.stopPropagation()},!1)},Array.prototype.forEach.call(t,e))}},{key:"startTimeout",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.opts.timeout;this.timeout=setTimeout(function(){t.removeNotie()},e)}},{key:"removeNotie",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.notie;e.classList.remove("notie-shown"),setTimeout(function(){t.noties.removeChild(e),e=null},200)}}]),t}();e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.position,i=void 0===n?"top-right":n,r=e.type,o=void 0===r?"info":r,a=e.autoHide,s=void 0===a||a,u=e.timeout,l=void 0===u?3e3:u,d=e.width,h=void 0===d?240:d;return new c(t,{type:o,position:i,autoHide:s,timeout:l,width:h})},t.exports=e.default},function(t,e,n){(t.exports=n(1)()).push([t.id,".noties {\n  position: fixed;\n  max-width: 80%;\n  z-index: 9999\n}\n\n.noties:empty {\n  display: none\n}\n\n.noties-top-right {\n  right: 0;\n  top: 20px\n}\n\n.noties-top-right .notie {\n  -ms-transform: translateX(100%);\n      transform: translateX(100%)\n}\n\n.noties-top-right .notie.notie-shown {\n  -ms-transform: translateX(-20px);\n      transform: translateX(-20px)\n}\n\n.noties-top-left {\n  left: 0;\n  top: 20px\n}\n\n.noties-top-left .notie {\n  -ms-transform: translateX(-100%);\n      transform: translateX(-100%)\n}\n\n.noties-top-left .notie.notie-shown {\n  -ms-transform: translateX(20px);\n      transform: translateX(20px)\n}\n\n.noties-bottom-right {\n  right: 0;\n  bottom: 20px\n}\n\n.noties-bottom-right .notie {\n  -ms-transform: translateX(100%);\n      transform: translateX(100%)\n}\n\n.noties-bottom-right .notie.notie-shown {\n  -ms-transform: translateX(-20px);\n      transform: translateX(-20px)\n}\n\n.noties-bottom-left {\n  left: 0;\n  bottom: 20px\n}\n\n.noties-bottom-left .notie {\n  -ms-transform: translateX(-100%);\n      transform: translateX(-100%)\n}\n\n.noties-bottom-left .notie.notie-shown {\n  -ms-transform: translateX(20px);\n      transform: translateX(20px)\n}\n\n.noties-top-center {\n  left: 50%;\n  -ms-transform: translateX(-50%);\n      transform: translateX(-50%);\n  top: 0\n}\n\n.noties-top-center .notie {\n  -ms-transform: translateY(-100%);\n      transform: translateY(-100%)\n}\n\n.noties-top-center .notie.notie-shown {\n  -ms-transform: translateY(20px);\n      transform: translateY(20px)\n}\n\n.noties-bottom-center {\n  left: 50%;\n  -ms-transform: translateX(-50%);\n      transform: translateX(-50%);\n  bottom: 0\n}\n\n.noties-bottom-center .notie {\n  -ms-transform: translateY(100%);\n      transform: translateY(100%)\n}\n\n.noties-bottom-center .notie.notie-shown {\n  -ms-transform: translateY(-20px);\n      transform: translateY(-20px)\n}\n\n.notie {\n  background-color: #ddd;\n  opacity: 0;\n  transition: transform .3s, opacity .3s;\n  border: 1px solid #ddd;\n  font: 14px/1.4 Helvetica, serif;\n  word-wrap: break-word\n}\n\n.notie:not(:last-child) {\n  margin-bottom: 10px\n}\n\n.notie.notie-auto-hide-disabled {\n  cursor: pointer\n}\n\n.notie.notie-shown {\n  opacity: 1\n}\n\n.notie .notie-body {\n  padding: 10px 12px\n}\n\n.notie .notie-svg {\n  height: 23px;\n  display: block;\n  float: left\n}\n\n.notie .notie-text {\n  display: block;\n  padding-left: 30px;\n  padding-top: 2px\n}\n\n.notie svg {\n  height: 23px;\n  width: 23px\n}\n\n.notie.notie-info {\n  background-color: #C6E4F4;\n  border-color: #A9D3EB;\n  color: #477DAC;\n\n  a {\n    color: #477DAC\n  }\n}\n\n.notie.notie-error {\n  background-color: #EAC1BD;\n  border-color: #D7A9A6;\n  color: #AB2925;\n\n  a {\n    color: #AB2925\n  }\n}\n\n.notie.notie-success {\n  background-color: #D9F1CF;\n  border-color: #C8E1BF;\n  color: #748C6C;\n\n  a {\n    color: #748C6C\n  }\n}\n\n.notie.notie-warning {\n  background-color: #F7F2CF;\n  border-color: #E8E2B2;\n  color: #9C7D45;\n\n  a {\n    color: #9C7D45\n  }\n}\n",""])},function(t,e,n){var i={},r=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}},o=r(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),a=r(function(){return document.head||document.getElementsByTagName("head")[0]}),s=null,u=0,l=[];function c(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=i[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(m(r.parts[a],e))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(m(r.parts[a],e));i[r.id]={id:r.id,refs:1,parts:s}}}}function d(t){for(var e=[],n={},i=0;i<t.length;i++){var r=t[i],o=r[0],a={css:r[1],media:r[2],sourceMap:r[3]};n[o]?n[o].parts.push(a):e.push(n[o]={id:o,parts:[a]})}return e}function h(t,e){var n=a(),i=l[l.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),l.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function f(t){t.parentNode.removeChild(t);var e=l.indexOf(t);e>=0&&l.splice(e,1)}function p(t){var e=document.createElement("style");return e.type="text/css",h(t,e),e}function m(t,e){var n,i,r;if(e.singleton){var o=u++;n=s||(s=p(e)),i=g.bind(null,n,o,!1),r=g.bind(null,n,o,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return e.rel="stylesheet",h(t,e),e}(e),i=function(t,e){var n=e.css,i=e.sourceMap;i&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var r=new Blob([n],{type:"text/css"}),o=t.href;t.href=URL.createObjectURL(r),o&&URL.revokeObjectURL(o)}.bind(null,n),r=function(){f(n),n.href&&URL.revokeObjectURL(n.href)}):(n=p(e),i=function(t,e){var n=e.css,i=e.media;i&&t.setAttribute("media",i);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),r=function(){f(n)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}t.exports=function(t,e){void 0===(e=e||{}).singleton&&(e.singleton=o()),void 0===e.insertAt&&(e.insertAt="bottom");var n=d(t);return c(n,e),function(t){for(var r=[],o=0;o<n.length;o++){var a=n[o];(s=i[a.id]).refs--,r.push(s)}t&&c(d(t),e);for(o=0;o<r.length;o++){var s;if(0===(s=r[o]).refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete i[s.id]}}}};var v,y=(v=[],function(t,e){return v[t]=e,v.filter(Boolean).join("\n")});function g(t,e,n,i){var r=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=y(e,r);else{var o=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}},function(t,e,n){var i=n(3);"string"==typeof i&&(i=[[t.id,i,""]]);n(4)(i,{});i.locals&&(t.exports=i.locals)},function(t,e){t.exports='<svg fill="#AB2925" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"></path></svg>'},function(t,e){t.exports='<svg fill="#477DAC" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M11 17h2v-6h-2v6zm1-15C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM11 9h2V7h-2v2z"></path></svg>'},function(t,e){t.exports='<svg fill="#748C6C" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"></path></svg>'},function(t,e){t.exports='<svg fill="#9C7D45" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"></path></svg>'}])},function(t,e,n){(function(t,n,i){var r,o,a,s;function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}window,s=function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=41)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=/mobile/i.test(window.navigator.userAgent),r={secondToTime:function(t){var e=Math.floor(t/3600),n=Math.floor((t-3600*e)/60),i=Math.floor(t-3600*e-60*n);return(e>0?[e,n,i]:[n,i]).map(function(t){return t<10?"0"+t:""+t}).join(":")},getElementViewLeft:function(t){var e=t.offsetLeft,n=t.offsetParent,i=document.body.scrollLeft+document.documentElement.scrollLeft;if(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement)for(;null!==n&&n!==t;)e+=n.offsetLeft,n=n.offsetParent;else for(;null!==n;)e+=n.offsetLeft,n=n.offsetParent;return e-i},getElementViewTop:function(t,e){for(var n,i=t.offsetTop,r=t.offsetParent;null!==r;)i+=r.offsetTop,r=r.offsetParent;return n=document.body.scrollTop+document.documentElement.scrollTop,e?i:i-n},isMobile:i,storage:{set:function(t,e){localStorage.setItem(t,e)},get:function(t){return localStorage.getItem(t)}},nameMap:{dragStart:i?"touchstart":"mousedown",dragMove:i?"touchmove":"mousemove",dragEnd:i?"touchend":"mouseup"},randomOrder:function(t){return function(t){for(var e=t.length-1;e>=0;e--){var n=Math.floor(Math.random()*(e+1)),i=t[n];t[n]=t[e],t[e]=i}return t}([].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(Array(t))).map(function(t,e){return e}))}};e.default=r},function(t,e,n){var i=n(2);t.exports=function(t){"use strict";t=t||{};var e="",n=i.$each,r=t.audio,o=(t.$value,t.$index,i.$escape),a=t.theme,s=t.index;return n(r,function(t,n){e+='\n<li>\n    <span class="aplayer-list-cur" style="background-color: ',e+=o(t.theme||a),e+=';"></span>\n    <span class="aplayer-list-index">',e+=o(n+s),e+='</span>\n    <span class="aplayer-list-title">',e+=o(t.name),e+='</span>\n    <span class="aplayer-list-author">',e+=o(t.artist),e+="</span>\n</li>\n"}),e}},function(t,e,n){"use strict";t.exports=n(15)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=g(n(33)),r=g(n(32)),o=g(n(31)),a=g(n(30)),s=g(n(29)),u=g(n(28)),l=g(n(27)),c=g(n(26)),d=g(n(25)),h=g(n(24)),f=g(n(23)),p=g(n(22)),m=g(n(21)),v=g(n(20)),y=g(n(19));function g(t){return t&&t.__esModule?t:{default:t}}var b={play:i.default,pause:r.default,volumeUp:o.default,volumeDown:a.default,volumeOff:s.default,orderRandom:u.default,orderList:l.default,menu:c.default,loopAll:d.default,loopOne:h.default,loopNone:f.default,loading:p.default,right:m.default,skip:v.default,lrc:y.default};e.default=b},function(t,e,n){"use strict";var i,r="function"==typeof Symbol&&"symbol"==u(Symbol.iterator)?function(t){return u(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":u(t)};i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"===("undefined"==typeof window?"undefined":r(window))&&(i=window)}t.exports=i},function(t,e,n){"use strict";var i,r,o="function"==typeof Symbol&&"symbol"==u(Symbol.iterator)?function(t){return u(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":u(t)};void 0===(r="function"==typeof(i=function(){if("object"===("undefined"==typeof window?"undefined":o(window))&&void 0!==document.querySelectorAll&&void 0!==window.pageYOffset&&void 0!==history.pushState){var t=function(t,e,n,i){return n>i?e:t+(e-t)*((r=n/i)<.5?4*r*r*r:(r-1)*(2*r-2)*(2*r-2)+1);var r},e=function(e,n,i,r){n=n||500;var o=(r=r||window).scrollTop||window.pageYOffset;if("number"==typeof e)var a=parseInt(e);else a=function(t,e){return"HTML"===t.nodeName?-e:t.getBoundingClientRect().top+e}(e,o);var s=Date.now(),u=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(t){window.setTimeout(t,15)};!function l(){var c=Date.now()-s;r!==window?r.scrollTop=t(o,a,c,n):window.scroll(0,t(o,a,c,n)),c>n?"function"==typeof i&&i(e):u(l)}()},n=function(t){if(!t.defaultPrevented){t.preventDefault(),location.hash!==this.hash&&window.history.pushState(null,null,this.hash);var n=document.getElementById(this.hash.substring(1));if(!n)return;e(n,500,function(t){location.replace("#"+t.id)})}};return document.addEventListener("DOMContentLoaded",function(){for(var t,e=document.querySelectorAll('a[href^="#"]:not([href="#"])'),i=e.length;t=e[--i];)t.addEventListener("click",n,!1)}),e}})?i.call(e,n,e,t):i)||(t.exports=r)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=s(n(1)),o=s(n(0)),a=s(n(5));function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.player=e,this.index=0,this.audios=this.player.options.audio,this.bindEvents()}return i(t,[{key:"bindEvents",value:function(){var t=this;this.player.template.list.addEventListener("click",function(e){var n=void 0;n="LI"===e.target.tagName.toUpperCase()?e.target:e.target.parentElement;var i=parseInt(n.getElementsByClassName("aplayer-list-index")[0].innerHTML)-1;i!==t.index?(t.switch(i),t.player.play()):t.player.toggle()})}},{key:"show",value:function(){this.player.events.trigger("listshow"),this.player.template.list.classList.remove("aplayer-list-hide"),this.player.template.listOl.scrollTop=33*this.index}},{key:"hide",value:function(){this.player.events.trigger("listhide"),this.player.template.list.classList.add("aplayer-list-hide")}},{key:"toggle",value:function(){this.player.template.list.classList.contains("aplayer-list-hide")?this.show():this.hide()}},{key:"add",value:function(t){this.player.events.trigger("listadd",{audios:t}),"[object Array]"!==Object.prototype.toString.call(t)&&(t=[t]),t.map(function(t){return t.name=t.name||t.title||"Audio name",t.artist=t.artist||t.author||"Audio artist",t.cover=t.cover||t.pic,t.type=t.type||"normal",t});var e=!(this.audios.length>1),n=0===this.audios.length;this.player.template.listOl.innerHTML+=(0,r.default)({theme:this.player.options.theme,audio:t,index:this.audios.length+1}),this.audios=this.audios.concat(t),e&&this.audios.length>1&&this.player.container.classList.add("aplayer-withlist"),this.player.randomOrder=o.default.randomOrder(this.audios.length),this.player.template.listCurs=this.player.container.querySelectorAll(".aplayer-list-cur"),this.player.template.listCurs[this.audios.length-1].style.backgroundColor=t.theme||this.player.options.theme,n&&("random"===this.player.options.order?this.switch(this.player.randomOrder[0]):this.switch(0))}},{key:"remove",value:function(t){if(this.player.events.trigger("listremove",{index:t}),this.audios[t])if(this.audios.length>1){var e=this.player.container.querySelectorAll(".aplayer-list li");e[t].remove(),this.audios.splice(t,1),this.player.lrc&&this.player.lrc.remove(t),t===this.index&&(this.audios[t]?this.switch(t):this.switch(t-1)),this.index>t&&this.index--;for(var n=t;n<e.length;n++)e[n].getElementsByClassName("aplayer-list-index")[0].textContent=n;1===this.audios.length&&this.player.container.classList.remove("aplayer-withlist"),this.player.template.listCurs=this.player.container.querySelectorAll(".aplayer-list-cur")}else this.clear()}},{key:"switch",value:function(t){if(this.player.events.trigger("listswitch",{index:t}),void 0!==t&&this.audios[t]){this.index=t;var e=this.audios[this.index];this.player.template.pic.style.backgroundImage=e.cover?"url('"+e.cover+"')":"",this.player.theme(this.audios[this.index].theme||this.player.options.theme,this.index,!1),this.player.template.title.innerHTML=e.name,this.player.template.author.innerHTML=e.artist?" - "+e.artist:"";var n=this.player.container.getElementsByClassName("aplayer-list-light")[0];n&&n.classList.remove("aplayer-list-light"),this.player.container.querySelectorAll(".aplayer-list li")[this.index].classList.add("aplayer-list-light"),(0,a.default)(33*this.index,500,null,this.player.template.listOl),this.player.setAudio(e),this.player.lrc&&this.player.lrc.switch(this.index),this.player.lrc&&this.player.lrc.update(0),1!==this.player.duration&&(this.player.template.dtime.innerHTML=o.default.secondToTime(this.player.duration))}}},{key:"clear",value:function(){this.player.events.trigger("listclear"),this.index=0,this.player.container.classList.remove("aplayer-withlist"),this.player.pause(),this.audios=[],this.player.lrc&&this.player.lrc.clear(),this.player.audio.src="",this.player.template.listOl.innerHTML="",this.player.template.pic.style.backgroundImage="",this.player.theme(this.player.options.theme,this.index,!1),this.player.template.title.innerHTML="No audio",this.player.template.author.innerHTML="",this.player.bar.set("loaded",0,"width"),this.player.template.dtime.innerHTML=o.default.secondToTime(0)}}]),t}();e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.events={},this.audioEvents=["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","mozaudioavailable","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],this.playerEvents=["destroy","listshow","listhide","listadd","listremove","listswitch","listclear","noticeshow","noticehide","lrcshow","lrchide"]}return i(t,[{key:"on",value:function(t,e){this.type(t)&&"function"==typeof e&&(this.events[t]||(this.events[t]=[]),this.events[t].push(e))}},{key:"trigger",value:function(t,e){if(this.events[t]&&this.events[t].length)for(var n=0;n<this.events[t].length;n++)this.events[t][n](e)}},{key:"type",value:function(t){return-1!==this.playerEvents.indexOf(t)?"player":-1!==this.audioEvents.indexOf(t)?"audio":(console.error("Unknown event name: "+t),null)}}]),t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.player=e,window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},this.types=["loading"],this.init()}return i(t,[{key:"init",value:function(){var t=this;this.types.forEach(function(e){t["init"+e+"Checker"]()})}},{key:"initloadingChecker",value:function(){var t=this,e=0,n=0,i=!1;this.loadingChecker=setInterval(function(){t.enableloadingChecker&&(n=t.player.audio.currentTime,i||n!==e||t.player.audio.paused||(t.player.container.classList.add("aplayer-loading"),i=!0),i&&n>e&&!t.player.audio.paused&&(t.player.container.classList.remove("aplayer-loading"),i=!1),e=n)},100)}},{key:"enable",value:function(t){this["enable"+t+"Checker"]=!0,"fps"===t&&this.initfpsChecker()}},{key:"disable",value:function(t){this["enable"+t+"Checker"]=!1}},{key:"destroy",value:function(){var t=this;this.types.forEach(function(e){t["enable"+e+"Checker"]=!1,t[e+"Checker"]&&clearInterval(t[e+"Checker"])})}}]),t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=a(n(0)),o=a(n(3));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.player=e,this.initPlayButton(),this.initPlayBar(),this.initOrderButton(),this.initLoopButton(),this.initMenuButton(),r.default.isMobile||this.initVolumeButton(),this.initMiniSwitcher(),this.initSkipButton(),this.initLrcButton()}return i(t,[{key:"initPlayButton",value:function(){var t=this;this.player.template.pic.addEventListener("click",function(){t.player.toggle()})}},{key:"initPlayBar",value:function(){var t=this,e=function(e){var n=((e.clientX||e.changedTouches[0].clientX)-r.default.getElementViewLeft(t.player.template.barWrap))/t.player.template.barWrap.clientWidth;n=Math.max(n,0),n=Math.min(n,1),t.player.bar.set("played",n,"width"),t.player.lrc&&t.player.lrc.update(n*t.player.duration),t.player.template.ptime.innerHTML=r.default.secondToTime(n*t.player.duration)},n=function n(i){document.removeEventListener(r.default.nameMap.dragEnd,n),document.removeEventListener(r.default.nameMap.dragMove,e);var o=((i.clientX||i.changedTouches[0].clientX)-r.default.getElementViewLeft(t.player.template.barWrap))/t.player.template.barWrap.clientWidth;o=Math.max(o,0),o=Math.min(o,1),t.player.bar.set("played",o,"width"),t.player.seek(t.player.bar.get("played","width")*t.player.duration),t.player.disableTimeupdate=!1};this.player.template.barWrap.addEventListener(r.default.nameMap.dragStart,function(){t.player.disableTimeupdate=!0,document.addEventListener(r.default.nameMap.dragMove,e),document.addEventListener(r.default.nameMap.dragEnd,n)})}},{key:"initVolumeButton",value:function(){var t=this;this.player.template.volumeButton.addEventListener("click",function(){t.player.audio.muted?(t.player.audio.muted=!1,t.player.switchVolumeIcon(),t.player.bar.set("volume",t.player.volume(),"height")):(t.player.audio.muted=!0,t.player.switchVolumeIcon(),t.player.bar.set("volume",0,"height"))});var e=function(e){var n=1-((e.clientY||e.changedTouches[0].clientY)-r.default.getElementViewTop(t.player.template.volumeBar,t.player.options.fixed))/t.player.template.volumeBar.clientHeight;n=Math.max(n,0),n=Math.min(n,1),t.player.volume(n)},n=function n(i){t.player.template.volumeBarWrap.classList.remove("aplayer-volume-bar-wrap-active"),document.removeEventListener(r.default.nameMap.dragEnd,n),document.removeEventListener(r.default.nameMap.dragMove,e);var o=1-((i.clientY||i.changedTouches[0].clientY)-r.default.getElementViewTop(t.player.template.volumeBar,t.player.options.fixed))/t.player.template.volumeBar.clientHeight;o=Math.max(o,0),o=Math.min(o,1),t.player.volume(o)};this.player.template.volumeBarWrap.addEventListener(r.default.nameMap.dragStart,function(){t.player.template.volumeBarWrap.classList.add("aplayer-volume-bar-wrap-active"),document.addEventListener(r.default.nameMap.dragMove,e),document.addEventListener(r.default.nameMap.dragEnd,n)})}},{key:"initOrderButton",value:function(){var t=this;this.player.template.order.addEventListener("click",function(){"list"===t.player.options.order?(t.player.options.order="random",t.player.template.order.innerHTML=o.default.orderRandom):"random"===t.player.options.order&&(t.player.options.order="list",t.player.template.order.innerHTML=o.default.orderList)})}},{key:"initLoopButton",value:function(){var t=this;this.player.template.loop.addEventListener("click",function(){t.player.list.audios.length>1?"one"===t.player.options.loop?(t.player.options.loop="none",t.player.template.loop.innerHTML=o.default.loopNone):"none"===t.player.options.loop?(t.player.options.loop="all",t.player.template.loop.innerHTML=o.default.loopAll):"all"===t.player.options.loop&&(t.player.options.loop="one",t.player.template.loop.innerHTML=o.default.loopOne):"one"===t.player.options.loop||"all"===t.player.options.loop?(t.player.options.loop="none",t.player.template.loop.innerHTML=o.default.loopNone):"none"===t.player.options.loop&&(t.player.options.loop="all",t.player.template.loop.innerHTML=o.default.loopAll)})}},{key:"initMenuButton",value:function(){var t=this;this.player.template.menu.addEventListener("click",function(){t.player.list.toggle()})}},{key:"initMiniSwitcher",value:function(){var t=this;this.player.template.miniSwitcher.addEventListener("click",function(){t.player.setMode("mini"===t.player.mode?"normal":"mini")})}},{key:"initSkipButton",value:function(){var t=this;this.player.template.skipBackButton.addEventListener("click",function(){t.player.skipBack()}),this.player.template.skipForwardButton.addEventListener("click",function(){t.player.skipForward()}),this.player.template.skipPlayButton.addEventListener("click",function(){t.player.toggle()})}},{key:"initLrcButton",value:function(){var t=this;this.player.template.lrcButton.addEventListener("click",function(){t.player.template.lrcButton.classList.contains("aplayer-icon-lrc-inactivity")?(t.player.template.lrcButton.classList.remove("aplayer-icon-lrc-inactivity"),t.player.lrc&&t.player.lrc.show()):(t.player.template.lrcButton.classList.add("aplayer-icon-lrc-inactivity"),t.player.lrc&&t.player.lrc.hide())})}}]),t}();e.default=s},function(t,e,n){var i=n(2);t.exports=function(t){"use strict";t=t||{};var e="",n=i.$each,r=t.lyrics,o=(t.$value,t.$index,i.$escape);return n(r,function(t,n){e+="\n    <p",0===n&&(e+=' class="aplayer-lrc-current"'),e+=">",e+=o(t[1]),e+="</p>\n"}),e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=(i=n(10))&&i.__esModule?i:{default:i},a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e.container,this.async=e.async,this.player=e.player,this.parsed=[],this.index=0,this.current=[]}return r(t,[{key:"show",value:function(){this.player.events.trigger("lrcshow"),this.player.template.lrcWrap.classList.remove("aplayer-lrc-hide")}},{key:"hide",value:function(){this.player.events.trigger("lrchide"),this.player.template.lrcWrap.classList.add("aplayer-lrc-hide")}},{key:"toggle",value:function(){this.player.template.lrcWrap.classList.contains("aplayer-lrc-hide")?this.show():this.hide()}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.player.audio.currentTime;if(this.index>this.current.length-1||t<this.current[this.index][0]||!this.current[this.index+1]||t>=this.current[this.index+1][0])for(var e=0;e<this.current.length;e++)t>=this.current[e][0]&&(!this.current[e+1]||t<this.current[e+1][0])&&(this.index=e,this.container.style.transform="translateY("+16*-this.index+"px)",this.container.style.webkitTransform="translateY("+16*-this.index+"px)",this.container.getElementsByClassName("aplayer-lrc-current")[0].classList.remove("aplayer-lrc-current"),this.container.getElementsByTagName("p")[e].classList.add("aplayer-lrc-current"))}},{key:"switch",value:function(t){var e=this;if(!this.parsed[t])if(this.async){this.parsed[t]=[["00:00","Loading"]];var n=new XMLHttpRequest;n.onreadystatechange=function(){t===e.player.list.index&&4===n.readyState&&(n.status>=200&&n.status<300||304===n.status?e.parsed[t]=e.parse(n.responseText):(e.player.notice("LRC file request fails: status "+n.status),e.parsed[t]=[["00:00","Not available"]]),e.container.innerHTML=(0,o.default)({lyrics:e.parsed[t]}),e.update(0),e.current=e.parsed[t])};var i=this.player.list.audios[t].lrc;n.open("get",i,!0),n.send(null)}else this.player.list.audios[t].lrc?this.parsed[t]=this.parse(this.player.list.audios[t].lrc):this.parsed[t]=[["00:00","Not available"]];this.container.innerHTML=(0,o.default)({lyrics:this.parsed[t]}),this.update(0),this.current=this.parsed[t]}},{key:"parse",value:function(t){if(t){for(var e=(t=t.replace(/([^\]^\n])\[/g,function(t,e){return e+"\n["})).split("\n"),n=[],i=e.length,r=0;r<i;r++){var o=e[r].match(/\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/g),a=e[r].replace(/.*\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/g,"").replace(/<(\d{2}):(\d{2})(\.(\d{2,3}))?>/g,"").replace(/^\s+|\s+$/g,"");if(o)for(var s=o.length,u=0;u<s;u++){var l=/\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/.exec(o[u]),c=60*l[1]+parseInt(l[2])+(l[4]?parseInt(l[4])/(2===(l[4]+"").length?100:1e3):0);n.push([c,a])}}return(n=n.filter(function(t){return t[1]})).sort(function(t,e){return t[0]-e[0]}),n}return[]}},{key:"remove",value:function(t){this.parsed.splice(t,1)}},{key:"clear",value:function(){this.parsed=[],this.container.innerHTML=""}}]),t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=(i=n(0))&&i.__esModule?i:{default:i},a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.storageName=e.options.storageName,this.data=JSON.parse(o.default.storage.get(this.storageName)),this.data||(this.data={}),this.data.volume=this.data.volume||e.options.volume}return r(t,[{key:"get",value:function(t){return this.data[t]}},{key:"set",value:function(t,e){this.data[t]=e,o.default.storage.set(this.storageName,JSON.stringify(this.data))}}]),t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.elements={},this.elements.volume=e.volume,this.elements.played=e.played,this.elements.loaded=e.loaded}return i(t,[{key:"set",value:function(t,e,n){e=Math.max(e,0),e=Math.min(e,1),this.elements[t].style[n]=100*e+"%"}},{key:"get",value:function(t,e){return parseFloat(this.elements[t].style[e])/100}}]),t}();e.default=r},function(t,e,n){"use strict";(function(e){t.exports=!1;try{t.exports="[object process]"===Object.prototype.toString.call(e.process)}catch(t){}}).call(this,n(4))},function(t,e,n){"use strict";(function(e){var i=n(14),r=Object.create(i?e:window),o=/["&'<>]/;r.$escape=function(t){return function(t){var e=""+t,n=o.exec(e);if(!n)return t;var i="",r=void 0,a=void 0,s=void 0;for(r=n.index,a=0;r<e.length;r++){switch(e.charCodeAt(r)){case 34:s="&#34;";break;case 38:s="&#38;";break;case 39:s="&#39;";break;case 60:s="&#60;";break;case 62:s="&#62;";break;default:continue}a!==r&&(i+=e.substring(a,r)),a=r+1,i+=s}return a!==r?i+e.substring(a,r):i}(function t(e){return"string"!=typeof e&&(e=null==e?"":"function"==typeof e?t(e.call(e)):JSON.stringify(e)),e}(t))},r.$each=function(t,e){if(Array.isArray(t))for(var n=0,i=t.length;n<i;n++)e(t[n],n);else for(var r in t)e(t[r],r)},t.exports=r}).call(this,n(4))},function(t,e,n){var i=n(2);t.exports=function(t){"use strict";var e="",r=(t=t||{}).options,o=t.cover,a=i.$escape,s=t.icons,u=(arguments[1],function(t){return e+=t}),l=t.getObject;return t.theme,t.audio,t.index,r.fixed?(e+='\n<div class="aplayer-list',r.listFolded&&(e+=" aplayer-list-hide"),e+='"',r.listMaxHeight&&(e+=' style="max-height: ',e+=a(r.listMaxHeight),e+='"'),e+=">\n    <ol",r.listMaxHeight&&(e+=' style="max-height: ',e+=a(r.listMaxHeight),e+='"'),e+=">\n        ",u(n(1)(l({theme:r.theme,audio:r.audio,index:1}))),e+='\n    </ol>\n</div>\n<div class="aplayer-body">\n    <div class="aplayer-pic" style="',o&&(e+="background-image: url(&quot;",e+=a(o),e+="&quot;);"),e+="background-color: ",e+=a(r.theme),e+=';">\n        <div class="aplayer-button aplayer-play">',e+=s.play,e+='</div>\n    </div>\n    <div class="aplayer-info" style="display: none;">\n        <div class="aplayer-music">\n            <span class="aplayer-title">No audio</span>\n            <span class="aplayer-author"></span>\n        </div>\n        <div class="aplayer-controller">\n            <div class="aplayer-bar-wrap">\n                <div class="aplayer-bar">\n                    <div class="aplayer-loaded" style="width: 0"></div>\n                    <div class="aplayer-played" style="width: 0; background: ',e+=a(r.theme),e+=';">\n                        <span class="aplayer-thumb" style="background: ',e+=a(r.theme),e+=';">\n                            <span class="aplayer-loading-icon">',e+=s.loading,e+='</span>\n                        </span>\n                    </div>\n                </div>\n            </div>\n            <div class="aplayer-time">\n                <span class="aplayer-time-inner">\n                    <span class="aplayer-ptime">00:00</span> / <span class="aplayer-dtime">00:00</span>\n                </span>\n                <span class="aplayer-icon aplayer-icon-back">\n                    ',e+=s.skip,e+='\n                </span>\n                <span class="aplayer-icon aplayer-icon-play">\n                    ',e+=s.play,e+='\n                </span>\n                <span class="aplayer-icon aplayer-icon-forward">\n                    ',e+=s.skip,e+='\n                </span>\n                <div class="aplayer-volume-wrap">\n                    <button type="button" class="aplayer-icon aplayer-icon-volume-down">\n                        ',e+=s.volumeDown,e+='\n                    </button>\n                    <div class="aplayer-volume-bar-wrap">\n                        <div class="aplayer-volume-bar">\n                            <div class="aplayer-volume" style="height: 80%; background: ',e+=a(r.theme),e+=';"></div>\n                        </div>\n                    </div>\n                </div>\n                <button type="button" class="aplayer-icon aplayer-icon-order">\n                    ',"list"===r.order?e+=s.orderList:"random"===r.order&&(e+=s.orderRandom),e+='\n                </button>\n                <button type="button" class="aplayer-icon aplayer-icon-loop">\n                    ',"one"===r.loop?e+=s.loopOne:"all"===r.loop?e+=s.loopAll:"none"===r.loop&&(e+=s.loopNone),e+='\n                </button>\n                <button type="button" class="aplayer-icon aplayer-icon-menu">\n                    ',e+=s.menu,e+='\n                </button>\n                <button type="button" class="aplayer-icon aplayer-icon-lrc">\n                    ',e+=s.lrc,e+='\n                </button>\n            </div>\n        </div>\n    </div>\n    <div class="aplayer-notice"></div>\n    <div class="aplayer-miniswitcher"><button class="aplayer-icon">',e+=s.right,e+='</button></div>\n</div>\n<div class="aplayer-lrc">\n    <div class="aplayer-lrc-contents" style="transform: translateY(0); -webkit-transform: translateY(0);"></div>\n</div>\n'):(e+='\n<div class="aplayer-body">\n    <div class="aplayer-pic" style="',o&&(e+="background-image: url(&quot;",e+=a(o),e+="&quot;);"),e+="background-color: ",e+=a(r.theme),e+=';">\n        <div class="aplayer-button aplayer-play">',e+=s.play,e+='</div>\n    </div>\n    <div class="aplayer-info">\n        <div class="aplayer-music">\n            <span class="aplayer-title">No audio</span>\n            <span class="aplayer-author"></span>\n        </div>\n        <div class="aplayer-lrc">\n            <div class="aplayer-lrc-contents" style="transform: translateY(0); -webkit-transform: translateY(0);"></div>\n        </div>\n        <div class="aplayer-controller">\n            <div class="aplayer-bar-wrap">\n                <div class="aplayer-bar">\n                    <div class="aplayer-loaded" style="width: 0"></div>\n                    <div class="aplayer-played" style="width: 0; background: ',e+=a(r.theme),e+=';">\n                        <span class="aplayer-thumb" style="background: ',e+=a(r.theme),e+=';">\n                            <span class="aplayer-loading-icon">',e+=s.loading,e+='</span>\n                        </span>\n                    </div>\n                </div>\n            </div>\n            <div class="aplayer-time">\n                <span class="aplayer-time-inner">\n                    <span class="aplayer-ptime">00:00</span> / <span class="aplayer-dtime">00:00</span>\n                </span>\n                <span class="aplayer-icon aplayer-icon-back">\n                    ',e+=s.skip,e+='\n                </span>\n                <span class="aplayer-icon aplayer-icon-play">\n                    ',e+=s.play,e+='\n                </span>\n                <span class="aplayer-icon aplayer-icon-forward">\n                    ',e+=s.skip,e+='\n                </span>\n                <div class="aplayer-volume-wrap">\n                    <button type="button" class="aplayer-icon aplayer-icon-volume-down">\n                        ',e+=s.volumeDown,e+='\n                    </button>\n                    <div class="aplayer-volume-bar-wrap">\n                        <div class="aplayer-volume-bar">\n                            <div class="aplayer-volume" style="height: 80%; background: ',e+=a(r.theme),e+=';"></div>\n                        </div>\n                    </div>\n                </div>\n                <button type="button" class="aplayer-icon aplayer-icon-order">\n                    ',"list"===r.order?e+=s.orderList:"random"===r.order&&(e+=s.orderRandom),e+='\n                </button>\n                <button type="button" class="aplayer-icon aplayer-icon-loop">\n                    ',"one"===r.loop?e+=s.loopOne:"all"===r.loop?e+=s.loopAll:"none"===r.loop&&(e+=s.loopNone),e+='\n                </button>\n                <button type="button" class="aplayer-icon aplayer-icon-menu">\n                    ',e+=s.menu,e+='\n                </button>\n                <button type="button" class="aplayer-icon aplayer-icon-lrc">\n                    ',e+=s.lrc,e+='\n                </button>\n            </div>\n        </div>\n    </div>\n    <div class="aplayer-notice"></div>\n    <div class="aplayer-miniswitcher"><button class="aplayer-icon">',e+=s.right,e+='</button></div>\n</div>\n<div class="aplayer-list',r.listFolded&&(e+=" aplayer-list-hide"),e+='"',r.listMaxHeight&&(e+=' style="max-height: ',e+=a(r.listMaxHeight),e+='"'),e+=">\n    <ol",r.listMaxHeight&&(e+=' style="max-height: ',e+=a(r.listMaxHeight),e+='"'),e+=">\n        ",u(n(1)(l({theme:r.theme,audio:r.audio,index:1}))),e+="\n    </ol>\n</div>\n"),e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=a(n(3)),o=a(n(16));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e.container,this.options=e.options,this.randomOrder=e.randomOrder,this.init()}return i(t,[{key:"init",value:function(){var t="";this.options.audio.length&&(t="random"===this.options.order?this.options.audio[this.randomOrder[0]].cover:this.options.audio[0].cover),this.container.innerHTML=(0,o.default)({options:this.options,icons:r.default,cover:t,getObject:function(t){return t}}),this.lrc=this.container.querySelector(".aplayer-lrc-contents"),this.lrcWrap=this.container.querySelector(".aplayer-lrc"),this.ptime=this.container.querySelector(".aplayer-ptime"),this.info=this.container.querySelector(".aplayer-info"),this.time=this.container.querySelector(".aplayer-time"),this.barWrap=this.container.querySelector(".aplayer-bar-wrap"),this.button=this.container.querySelector(".aplayer-button"),this.body=this.container.querySelector(".aplayer-body"),this.list=this.container.querySelector(".aplayer-list"),this.listOl=this.container.querySelector(".aplayer-list ol"),this.listCurs=this.container.querySelectorAll(".aplayer-list-cur"),this.played=this.container.querySelector(".aplayer-played"),this.loaded=this.container.querySelector(".aplayer-loaded"),this.thumb=this.container.querySelector(".aplayer-thumb"),this.volume=this.container.querySelector(".aplayer-volume"),this.volumeBar=this.container.querySelector(".aplayer-volume-bar"),this.volumeButton=this.container.querySelector(".aplayer-time button"),this.volumeBarWrap=this.container.querySelector(".aplayer-volume-bar-wrap"),this.loop=this.container.querySelector(".aplayer-icon-loop"),this.order=this.container.querySelector(".aplayer-icon-order"),this.menu=this.container.querySelector(".aplayer-icon-menu"),this.pic=this.container.querySelector(".aplayer-pic"),this.title=this.container.querySelector(".aplayer-title"),this.author=this.container.querySelector(".aplayer-author"),this.dtime=this.container.querySelector(".aplayer-dtime"),this.notice=this.container.querySelector(".aplayer-notice"),this.miniSwitcher=this.container.querySelector(".aplayer-miniswitcher"),this.skipBackButton=this.container.querySelector(".aplayer-icon-back"),this.skipForwardButton=this.container.querySelector(".aplayer-icon-forward"),this.skipPlayButton=this.container.querySelector(".aplayer-icon-play"),this.lrcButton=this.container.querySelector(".aplayer-icon-lrc")}}]),t}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e={container:t.element||document.getElementsByClassName("aplayer")[0],mini:t.narrow||t.fixed||!1,fixed:!1,autoplay:!1,mutex:!0,lrcType:t.showlrc||t.lrc||0,preload:"auto",theme:"#b7daff",loop:"all",order:"list",volume:.7,listFolded:t.fixed,listMaxHeight:t.listmaxheight||"250px",audio:t.music||[],storageName:"aplayer-setting"};for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n]);return"[object Array]"!==Object.prototype.toString.call(t.audio)&&(t.audio=[t.audio]),t.audio.map(function(t){return t.name=t.name||t.title||"Audio name",t.artist=t.artist||t.author||"Audio artist",t.cover=t.cover||t.pic,t.type=t.type||"normal",t}),t.audio.length<=1&&"one"===t.loop&&(t.loop="all"),t}},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M26.667 5.333h-21.333c-0 0-0.001 0-0.001 0-1.472 0-2.666 1.194-2.666 2.666 0 0 0 0.001 0 0.001v-0 16c0 0 0 0.001 0 0.001 0 1.472 1.194 2.666 2.666 2.666 0 0 0.001 0 0.001 0h21.333c0 0 0.001 0 0.001 0 1.472 0 2.666-1.194 2.666-2.666 0-0 0-0.001 0-0.001v0-16c0-0 0-0.001 0-0.001 0-1.472-1.194-2.666-2.666-2.666-0 0-0.001 0-0.001 0h0zM5.333 16h5.333v2.667h-5.333v-2.667zM18.667 24h-13.333v-2.667h13.333v2.667zM26.667 24h-5.333v-2.667h5.333v2.667zM26.667 18.667h-13.333v-2.667h13.333v2.667z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M25.468 6.947c-0.326-0.172-0.724-0.151-1.030 0.057l-6.438 4.38v-3.553c0-0.371-0.205-0.71-0.532-0.884-0.326-0.172-0.724-0.151-1.030 0.057l-12 8.164c-0.274 0.186-0.438 0.496-0.438 0.827s0.164 0.641 0.438 0.827l12 8.168c0.169 0.115 0.365 0.174 0.562 0.174 0.16 0 0.321-0.038 0.468-0.116 0.327-0.173 0.532-0.514 0.532-0.884v-3.556l6.438 4.382c0.169 0.115 0.365 0.174 0.562 0.174 0.16 0 0.321-0.038 0.468-0.116 0.327-0.173 0.532-0.514 0.532-0.884v-16.333c0-0.371-0.205-0.71-0.532-0.884z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M22 16l-10.105-10.6-1.895 1.987 8.211 8.613-8.211 8.612 1.895 1.988 8.211-8.613z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M4 16c0-6.6 5.4-12 12-12s12 5.4 12 12c0 1.2-0.8 2-2 2s-2-0.8-2-2c0-4.4-3.6-8-8-8s-8 3.6-8 8 3.6 8 8 8c1.2 0 2 0.8 2 2s-0.8 2-2 2c-6.6 0-12-5.4-12-12z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 29 32"><path d="M2.667 7.027l1.707-1.693 22.293 22.293-1.693 1.707-4-4h-11.64v4l-5.333-5.333 5.333-5.333v4h8.973l-8.973-8.973v0.973h-2.667v-3.64l-4-4zM22.667 17.333h2.667v5.573l-2.667-2.667v-2.907zM22.667 6.667v-4l5.333 5.333-5.333 5.333v-4h-10.907l-2.667-2.667h13.573z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 33 32"><path d="M9.333 9.333h13.333v4l5.333-5.333-5.333-5.333v4h-16v8h2.667v-5.333zM22.667 22.667h-13.333v-4l-5.333 5.333 5.333 5.333v-4h16v-8h-2.667v5.333zM17.333 20v-8h-1.333l-2.667 1.333v1.333h2v5.333h2z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 29 32"><path d="M9.333 9.333h13.333v4l5.333-5.333-5.333-5.333v4h-16v8h2.667v-5.333zM22.667 22.667h-13.333v-4l-5.333 5.333 5.333 5.333v-4h16v-8h-2.667v5.333z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 22 32"><path d="M20.8 14.4q0.704 0 1.152 0.48t0.448 1.12-0.48 1.12-1.12 0.48h-19.2q-0.64 0-1.12-0.48t-0.48-1.12 0.448-1.12 1.152-0.48h19.2zM1.6 11.2q-0.64 0-1.12-0.48t-0.48-1.12 0.448-1.12 1.152-0.48h19.2q0.704 0 1.152 0.48t0.448 1.12-0.48 1.12-1.12 0.48h-19.2zM20.8 20.8q0.704 0 1.152 0.48t0.448 1.12-0.48 1.12-1.12 0.48h-19.2q-0.64 0-1.12-0.48t-0.48-1.12 0.448-1.12 1.152-0.48h19.2z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M0.622 18.334h19.54v7.55l11.052-9.412-11.052-9.413v7.549h-19.54v3.725z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M22.667 4l7 6-7 6 7 6-7 6v-4h-3.653l-3.76-3.76 2.827-2.827 2.587 2.587h2v-8h-2l-12 12h-6v-4h4.347l12-12h3.653v-4zM2.667 8h6l3.76 3.76-2.827 2.827-2.587-2.587h-4.347v-4z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 28 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 28 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 28 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528zM25.152 16q0 2.72-1.536 5.056t-4 3.36q-0.256 0.096-0.448 0.096-0.48 0-0.832-0.352t-0.32-0.8q0-0.704 0.672-1.056 1.024-0.512 1.376-0.8 1.312-0.96 2.048-2.4t0.736-3.104-0.736-3.104-2.048-2.4q-0.352-0.288-1.376-0.8-0.672-0.352-0.672-1.056 0-0.448 0.32-0.8t0.8-0.352q0.224 0 0.48 0.096 2.496 1.056 4 3.36t1.536 5.056zM29.728 16q0 4.096-2.272 7.552t-6.048 5.056q-0.224 0.096-0.448 0.096-0.48 0-0.832-0.352t-0.32-0.8q0-0.64 0.704-1.056 0.128-0.064 0.384-0.192t0.416-0.192q0.8-0.448 1.44-0.896 2.208-1.632 3.456-4.064t1.216-5.152-1.216-5.152-3.456-4.064q-0.64-0.448-1.44-0.896-0.128-0.096-0.416-0.192t-0.384-0.192q-0.704-0.416-0.704-1.056 0-0.448 0.32-0.8t0.832-0.352q0.224 0 0.448 0.096 3.776 1.632 6.048 5.056t2.272 7.552z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 17 32"><path d="M14.080 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048zM2.88 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 16 31"><path d="M15.552 15.168q0.448 0.32 0.448 0.832 0 0.448-0.448 0.768l-13.696 8.512q-0.768 0.512-1.312 0.192t-0.544-1.28v-16.448q0-0.96 0.544-1.28t1.312 0.192z"></path></svg>'},function(t,e,n){"use strict";var i,r,o=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(t){if(i===setTimeout)return setTimeout(t,0);if((i===a||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:a}catch(t){i=a}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var l,c=[],d=!1,h=-1;function f(){d&&l&&(d=!1,l.length?c=l.concat(c):h=-1,c.length&&p())}function p(){if(!d){var t=u(f);d=!0;for(var e=c.length;e;){for(l=c,c=[];++h<e;)l&&l[h].run();h=-1,e=c.length}l=null,d=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function m(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new m(t,e)),1!==c.length||d||u(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){"use strict";(function(t,e){!function(t,n){if(!t.setImmediate){var i,r,o,a,s,u=1,l={},c=!1,d=t.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(t);h=h&&h.setTimeout?h:t,"[object process]"==={}.toString.call(t.process)?i=function(t){e.nextTick(function(){p(t)})}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?(a="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&p(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),i=function(e){t.postMessage(a+e,"*")}):t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){p(t.data)},i=function(t){o.port2.postMessage(t)}):d&&"onreadystatechange"in d.createElement("script")?(r=d.documentElement,i=function(t){var e=d.createElement("script");e.onreadystatechange=function(){p(t),e.onreadystatechange=null,r.removeChild(e),e=null},r.appendChild(e)}):i=function(t){setTimeout(p,0,t)},h.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return l[u]=r,i(u),u++},h.clearImmediate=f}function f(t){delete l[t]}function p(t){if(c)setTimeout(p,0,t);else{var e=l[t];if(e){c=!0;try{!function(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(n,i)}}(e)}finally{f(t),c=!1}}}}}("undefined"==typeof self?void 0===t?void 0:t:self)}).call(this,n(4),n(34))},function(e,i,r){"use strict";var o=Function.prototype.apply;function a(t,e){this._id=t,this._clearFn=e}i.setTimeout=function(){return new a(o.call(setTimeout,window,arguments),clearTimeout)},i.setInterval=function(){return new a(o.call(setInterval,window,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(t){t&&t.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(window,this._id)},i.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},i.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},i._unrefActive=i.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},r(35),i.setImmediate=t,i.clearImmediate=n},function(t,e,n){"use strict";(function(e){var n="function"==typeof Symbol&&"symbol"==u(Symbol.iterator)?function(t){return u(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":u(t)},i=setTimeout;function r(){}function o(t){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(t,this)}function a(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,o._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var i;try{i=n(t._value)}catch(t){return void l(e.promise,t)}s(e.promise,i)}else(1===t._state?s:l)(e.promise,t._value)})):t._deferreds.push(e)}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"===(void 0===e?"undefined":n(e))||"function"==typeof e)){var i=e.then;if(e instanceof o)return t._state=3,t._value=e,void c(t);if("function"==typeof i)return void d((r=i,a=e,function(){r.apply(a,arguments)}),t)}t._state=1,t._value=e,c(t)}catch(e){l(t,e)}var r,a}function l(t,e){t._state=2,t._value=e,c(t)}function c(t){2===t._state&&0===t._deferreds.length&&o._immediateFn(function(){t._handled||o._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)a(t,t._deferreds[e]);t._deferreds=null}function d(t,e){var n=!1;try{t(function(t){n||(n=!0,s(e,t))},function(t){n||(n=!0,l(e,t))})}catch(t){if(n)return;n=!0,l(e,t)}}o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){var n=new this.constructor(r);return a(this,new function(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}(t,e,n)),n},o.prototype.finally=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){return e.reject(n)})})},o.all=function(t){return new o(function(e,i){if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var o=r.length;function a(t,s){try{if(s&&("object"===(void 0===s?"undefined":n(s))||"function"==typeof s)){var u=s.then;if("function"==typeof u)return void u.call(s,function(e){a(t,e)},i)}r[t]=s,0==--o&&e(r)}catch(t){i(t)}}for(var s=0;s<r.length;s++)a(s,r[s])})},o.resolve=function(t){return t&&"object"===(void 0===t?"undefined":n(t))&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(t){return new o(function(e,n){n(t)})},o.race=function(t){return new o(function(e,n){for(var i=0,r=t.length;i<r;i++)t[i].then(e,n)})},o._immediateFn="function"==typeof e&&function(t){e(t)}||function(t){i(t,0)},o._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},t.exports=o}).call(this,n(36).setImmediate)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=v(n(37)),o=v(n(0)),a=v(n(3)),s=v(n(18)),u=v(n(17)),l=v(n(13)),c=v(n(12)),d=v(n(11)),h=v(n(9)),f=v(n(8)),p=v(n(7)),m=v(n(6));function v(t){return t&&t.__esModule?t:{default:t}}var y=[],g=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=(0,s.default)(e),this.container=this.options.container,this.paused=!0,this.playedPromise=r.default.resolve(),this.mode="normal",this.randomOrder=o.default.randomOrder(this.options.audio.length),this.container.classList.add("aplayer"),this.options.lrcType&&!this.options.fixed&&this.container.classList.add("aplayer-withlrc"),this.options.audio.length>1&&this.container.classList.add("aplayer-withlist"),o.default.isMobile&&this.container.classList.add("aplayer-mobile"),this.arrow=this.container.offsetWidth<=300,this.arrow&&this.container.classList.add("aplayer-arrow"),this.container=this.options.container,2===this.options.lrcType||!0===this.options.lrcType)for(var n=this.container.getElementsByClassName("aplayer-lrc-content"),i=0;i<n.length;i++)this.options.audio[i]&&(this.options.audio[i].lrc=n[i].innerHTML);this.template=new u.default({container:this.container,options:this.options,randomOrder:this.randomOrder}),this.options.fixed&&(this.container.classList.add("aplayer-fixed"),this.template.body.style.width=this.template.body.offsetWidth-18+"px"),this.options.mini&&(this.setMode("mini"),this.template.info.style.display="block"),this.template.info.offsetWidth<200&&this.template.time.classList.add("aplayer-time-narrow"),this.options.lrcType&&(this.lrc=new d.default({container:this.template.lrc,async:3===this.options.lrcType,player:this})),this.events=new p.default,this.storage=new c.default(this),this.bar=new l.default(this.template),this.controller=new h.default(this),this.timer=new f.default(this),this.list=new m.default(this),this.initAudio(),this.bindEvents(),"random"===this.options.order?this.list.switch(this.randomOrder[0]):this.list.switch(0),this.options.autoplay&&this.play(),y.push(this)}return i(t,[{key:"initAudio",value:function(){var t=this;this.audio=document.createElement("audio"),this.audio.preload=this.options.preload;for(var e=function(e){t.audio.addEventListener(t.events.audioEvents[e],function(n){t.events.trigger(t.events.audioEvents[e],n)})},n=0;n<this.events.audioEvents.length;n++)e(n);this.volume(this.storage.get("volume"),!0)}},{key:"bindEvents",value:function(){var t=this;this.on("play",function(){t.paused&&t.setUIPlaying()}),this.on("pause",function(){t.paused||t.setUIPaused()}),this.on("timeupdate",function(){if(!t.disableTimeupdate){t.bar.set("played",t.audio.currentTime/t.duration,"width"),t.lrc&&t.lrc.update();var e=o.default.secondToTime(t.audio.currentTime);t.template.ptime.innerHTML!==e&&(t.template.ptime.innerHTML=e)}}),this.on("durationchange",function(){1!==t.duration&&(t.template.dtime.innerHTML=o.default.secondToTime(t.duration))}),this.on("progress",function(){var e=t.audio.buffered.length?t.audio.buffered.end(t.audio.buffered.length-1)/t.duration:0;t.bar.set("loaded",e,"width")});var e=void 0;this.on("error",function(){t.list.audios.length>1?(t.notice("An audio error has occurred, player will skip forward in 2 seconds."),e=setTimeout(function(){t.skipForward(),t.paused||t.play()},2e3)):1===t.list.audios.length&&t.notice("An audio error has occurred.")}),this.events.on("listswitch",function(){e&&clearTimeout(e)}),this.on("ended",function(){"none"===t.options.loop?"list"===t.options.order?t.list.index<t.list.audios.length-1?(t.list.switch((t.list.index+1)%t.list.audios.length),t.play()):(t.list.switch((t.list.index+1)%t.list.audios.length),t.pause()):"random"===t.options.order&&(t.randomOrder.indexOf(t.list.index)<t.randomOrder.length-1?(t.list.switch(t.nextIndex()),t.play()):(t.list.switch(t.nextIndex()),t.pause())):"one"===t.options.loop?(t.list.switch(t.list.index),t.play()):"all"===t.options.loop&&(t.skipForward(),t.play())})}},{key:"setAudio",value:function(t){this.hls&&(this.hls.destroy(),this.hls=null);var e=t.type;this.options.customAudioType&&this.options.customAudioType[e]?"[object Function]"===Object.prototype.toString.call(this.options.customAudioType[e])?this.options.customAudioType[e](this.audio,t,this):console.error("Illegal customType: "+e):(e&&"auto"!==e||(e=/m3u8(#|\?|$)/i.exec(t.url)?"hls":"normal"),"hls"===e?Hls.isSupported()?(this.hls=new Hls,this.hls.loadSource(t.url),this.hls.attachMedia(this.audio)):this.audio.canPlayType("application/x-mpegURL")||this.audio.canPlayType("application/vnd.apple.mpegURL")?this.audio.src=t.url:this.notice("Error: HLS is not supported."):"normal"===e&&(this.audio.src=t.url)),this.seek(0),this.paused||this.audio.play()}},{key:"theme",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.list.audios[this.list.index].theme||this.options.theme,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.list.index;(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&this.list.audios[e]&&(this.list.audios[e].theme=t),this.template.listCurs[e]&&(this.template.listCurs[e].style.backgroundColor=t),e===this.list.index&&(this.template.pic.style.backgroundColor=t,this.template.played.style.background=t,this.template.thumb.style.background=t,this.template.volume.style.background=t)}},{key:"seek",value:function(t){t=Math.max(t,0),t=Math.min(t,this.duration),this.audio.currentTime=t,this.bar.set("played",t/this.duration,"width"),this.template.ptime.innerHTML=o.default.secondToTime(t)}},{key:"setUIPlaying",value:function(){var t=this;if(this.paused&&(this.paused=!1,this.template.button.classList.remove("aplayer-play"),this.template.button.classList.add("aplayer-pause"),this.template.button.innerHTML="",setTimeout(function(){t.template.button.innerHTML=a.default.pause},100),this.template.skipPlayButton.innerHTML=a.default.pause),this.timer.enable("loading"),this.options.mutex)for(var e=0;e<y.length;e++)this!==y[e]&&y[e].pause()}},{key:"play",value:function(){var t=this;this.setUIPlaying();var e=this.audio.play();e&&e.catch(function(e){console.warn(e),"NotAllowedError"===e.name&&t.setUIPaused()})}},{key:"setUIPaused",value:function(){var t=this;this.paused||(this.paused=!0,this.template.button.classList.remove("aplayer-pause"),this.template.button.classList.add("aplayer-play"),this.template.button.innerHTML="",setTimeout(function(){t.template.button.innerHTML=a.default.play},100),this.template.skipPlayButton.innerHTML=a.default.play),this.container.classList.remove("aplayer-loading"),this.timer.disable("loading")}},{key:"pause",value:function(){this.setUIPaused(),this.audio.pause()}},{key:"switchVolumeIcon",value:function(){this.volume()>=.95?this.template.volumeButton.innerHTML=a.default.volumeUp:this.volume()>0?this.template.volumeButton.innerHTML=a.default.volumeDown:this.template.volumeButton.innerHTML=a.default.volumeOff}},{key:"volume",value:function(t,e){return t=parseFloat(t),isNaN(t)||(t=Math.max(t,0),t=Math.min(t,1),this.bar.set("volume",t,"height"),e||this.storage.set("volume",t),this.audio.volume=t,this.audio.muted&&(this.audio.muted=!1),this.switchVolumeIcon()),this.audio.muted?0:this.audio.volume}},{key:"on",value:function(t,e){this.events.on(t,e)}},{key:"toggle",value:function(){this.template.button.classList.contains("aplayer-play")?this.play():this.template.button.classList.contains("aplayer-pause")&&this.pause()}},{key:"switchAudio",value:function(t){this.list.switch(t)}},{key:"addAudio",value:function(t){this.list.add(t)}},{key:"removeAudio",value:function(t){this.list.remove(t)}},{key:"destroy",value:function(){y.splice(y.indexOf(this),1),this.pause(),this.container.innerHTML="",this.audio.src="",this.timer.destroy(),this.events.trigger("destroy")}},{key:"setMode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"normal";this.mode=t,"mini"===t?this.container.classList.add("aplayer-narrow"):"normal"===t&&this.container.classList.remove("aplayer-narrow")}},{key:"notice",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.8;this.template.notice.innerHTML=t,this.template.notice.style.opacity=i,this.noticeTime&&clearTimeout(this.noticeTime),this.events.trigger("noticeshow",{text:t}),n&&(this.noticeTime=setTimeout(function(){e.template.notice.style.opacity=0,e.events.trigger("noticehide")},n))}},{key:"prevIndex",value:function(){if(!(this.list.audios.length>1))return 0;if("list"===this.options.order)return this.list.index-1<0?this.list.audios.length-1:this.list.index-1;if("random"===this.options.order){var t=this.randomOrder.indexOf(this.list.index);return 0===t?this.randomOrder[this.randomOrder.length-1]:this.randomOrder[t-1]}}},{key:"nextIndex",value:function(){if(!(this.list.audios.length>1))return 0;if("list"===this.options.order)return(this.list.index+1)%this.list.audios.length;if("random"===this.options.order){var t=this.randomOrder.indexOf(this.list.index);return t===this.randomOrder.length-1?this.randomOrder[0]:this.randomOrder[t+1]}}},{key:"skipBack",value:function(){this.list.switch(this.prevIndex())}},{key:"skipForward",value:function(){this.list.switch(this.nextIndex())}},{key:"duration",get:function(){return isNaN(this.audio.duration)?0:this.audio.duration}}],[{key:"version",get:function(){return"1.10.1"}}]),t}();e.default=g},,function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(40);var i,r=(i=n(38))&&i.__esModule?i:{default:i};console.log("\n %c APlayer v1.10.1 af84efb %c http://aplayer.js.org \n","color: #fadfa3; background: #030307; padding:5px 0;","background: #fadfa3; padding:5px 0;"),e.default=r.default}]).default},"object"==u(e)&&"object"==u(i)?i.exports=s():(o=[],void 0===(a="function"==typeof(r=s)?r.apply(e,o):r)||(i.exports=a))}).call(this,n(0).setImmediate,n(0).clearImmediate,n(2)(t))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var i,r,o,a,s,u=1,l={},c=!1,d=t.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(t);h=h&&h.setTimeout?h:t,"[object process]"==={}.toString.call(t.process)?i=function(t){e.nextTick(function(){p(t)})}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){p(t.data)},i=function(t){o.port2.postMessage(t)}):d&&"onreadystatechange"in d.createElement("script")?(r=d.documentElement,i=function(t){var e=d.createElement("script");e.onreadystatechange=function(){p(t),e.onreadystatechange=null,r.removeChild(e),e=null},r.appendChild(e)}):i=function(t){setTimeout(p,0,t)}:(a="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&p(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),i=function(e){t.postMessage(a+e,"*")}),h.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return l[u]=r,i(u),u++},h.clearImmediate=f}function f(t){delete l[t]}function p(t){if(c)setTimeout(p,0,t);else{var e=l[t];if(e){c=!0;try{!function(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(n,i)}}(e)}finally{f(t),c=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(1),n(4))},function(t,e,n){(function(t,n,i){var r,o,a,s;function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}window,s=function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==u(t)&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=78)}([function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==u(Symbol.iterator)?function(t){return u(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":u(t)},r=n(11),o=n(65),a=Object.prototype.toString;function s(t){return"[object Array]"===a.call(t)}function l(t){return null!==t&&"object"===(void 0===t?"undefined":i(t))}function c(t){return"[object Function]"===a.call(t)}function d(t,e){if(null!=t)if("object"!==(void 0===t?"undefined":i(t))&&(t=[t]),s(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}t.exports={isArray:s,isArrayBuffer:function(t){return"[object ArrayBuffer]"===a.call(t)},isBuffer:o,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:l,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===a.call(t)},isFile:function(t){return"[object File]"===a.call(t)},isBlob:function(t){return"[object Blob]"===a.call(t)},isFunction:c,isStream:function(t){return l(t)&&c(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:d,merge:function t(){var e={};function n(n,r){"object"===i(e[r])&&"object"===(void 0===n?"undefined":i(n))?e[r]=t(e[r],n):e[r]=n}for(var r=0,o=arguments.length;r<o;r++)d(arguments[r],n);return e},extend:function(t,e,n){return d(e,function(e,i){t[i]=n&&"function"==typeof e?r(e,n):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=/mobile/i.test(window.navigator.userAgent),r={secondToTime:function(t){var e=Math.floor(t/3600),n=Math.floor((t-3600*e)/60),i=Math.floor(t-3600*e-60*n);return(e>0?[e,n,i]:[n,i]).map(function(t){return t<10?"0"+t:""+t}).join(":")},getElementViewLeft:function(t){var e=t.offsetLeft,n=t.offsetParent,i=document.body.scrollLeft+document.documentElement.scrollLeft;if(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement)for(;null!==n&&n!==t;)e+=n.offsetLeft,n=n.offsetParent;else for(;null!==n;)e+=n.offsetLeft,n=n.offsetParent;return e-i},getBoundingClientRectViewLeft:function(t){var e=document.documentElement.scrollTop;if(t.getBoundingClientRect){if("number"!=typeof this.getBoundingClientRectViewLeft.offset){var n=document.createElement("div");n.style.cssText="position:absolute;top:0;left:0;",document.body.appendChild(n),this.getBoundingClientRectViewLeft.offset=-n.getBoundingClientRect().top-e,document.body.removeChild(n),n=null}var i=t.getBoundingClientRect(),r=this.getBoundingClientRectViewLeft.offset;return i.left+r}return this.getElementViewLeft(t)},getScrollPosition:function(){return{left:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0,top:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}},setScrollPosition:function(t){var e=t.left,n=void 0===e?0:e,i=t.top,r=void 0===i?0:i;this.isFirefox?(document.documentElement.scrollLeft=n,document.documentElement.scrollTop=r):window.scrollTo(n,r)},isMobile:i,isFirefox:/firefox/i.test(window.navigator.userAgent),isChrome:/chrome/i.test(window.navigator.userAgent),storage:{set:function(t,e){localStorage.setItem(t,e)},get:function(t){return localStorage.getItem(t)}},cumulativeOffset:function(t){var e=0,n=0;do{e+=t.offsetTop||0,n+=t.offsetLeft||0,t=t.offsetParent}while(t);return{top:e,left:n}},nameMap:{dragStart:i?"touchstart":"mousedown",dragMove:i?"touchmove":"mousemove",dragEnd:i?"touchend":"mouseup"},color2Number:function(t){return"#"===t[0]&&(t=t.substr(1)),3===t.length&&(t=""+t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),parseInt(t,16)+0&16777215},number2Color:function(t){return"#"+("00000"+t.toString(16)).slice(-6)},number2Type:function(t){switch(t){case 0:return"right";case 1:return"top";case 2:return"bottom";default:return"right"}}};e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=b(n(46)),r=b(n(45)),o=b(n(44)),a=b(n(43)),s=b(n(42)),u=b(n(41)),l=b(n(40)),c=b(n(39)),d=b(n(38)),h=b(n(37)),f=b(n(36)),p=b(n(35)),m=b(n(34)),v=b(n(33)),y=b(n(32)),g=b(n(31));function b(t){return t&&t.__esModule?t:{default:t}}var _={play:i.default,pause:r.default,volumeUp:o.default,volumeDown:a.default,volumeOff:s.default,full:u.default,fullWeb:l.default,setting:c.default,right:d.default,comment:h.default,commentOff:f.default,send:p.default,pallette:m.default,camera:v.default,subtitle:y.default,loading:g.default};e.default=_},function(t,e,n){"use strict";(function(e){var i=n(0),r=n(63),o={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s,u={adapter:("undefined"!=typeof XMLHttpRequest?s=n(10):void 0!==e&&(s=n(10)),s),transformRequest:[function(t,e){return r(e,"Content-Type"),i.isFormData(t)||i.isArrayBuffer(t)||i.isBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t)?t:i.isArrayBufferView(t)?t.buffer:i.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):i.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],function(t){u.headers[t]={}}),i.forEach(["post","put","patch"],function(t){u.headers[t]=i.merge(o)}),t.exports=u}).call(this,n(12))},function(t,e,n){"use strict";var i,r="function"==typeof Symbol&&"symbol"==u(Symbol.iterator)?function(t){return u(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":u(t)};i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"===("undefined"==typeof window?"undefined":r(window))&&(i=window)}t.exports=i},function(t,e,n){var i=n(6);t.exports=function(t){"use strict";var e="",n=(t=t||{}).enableSubtitle,r=t.subtitle,o=t.current,a=t.pic,s=i.$escape,u=t.screenshot,l=t.preload,c=t.url;return n=r&&"webvtt"===r.type,e+='\n<video\n    class="dplayer-video ',o&&(e+="dplayer-video-current"),e+='"\n    webkit-playsinline\n    playsinline\n    ',a&&(e+='poster="',e+=s(a),e+='"'),e+="\n    ",(u||n)&&(e+='crossorigin="anonymous"'),e+="\n    ",l&&(e+='preload="',e+=s(l),e+='"'),e+="\n    ",c&&(e+='src="',e+=s(c),e+='"'),e+="\n    >\n    ",n&&(e+='\n    <track kind="metadata" default src="',e+=s(r.url),e+='"></track>\n    '),e+"\n</video>"}},function(t,e,n){"use strict";t.exports=n(29)},function(t,e,n){"use strict";function i(t){this.message=t}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,t.exports=i},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";var i=n(61);t.exports=function(t,e,n,r,o){var a=new Error(t);return i(a,e,n,r,o)}},function(t,e,n){"use strict";var i=n(0),r=n(62),o=n(60),a=n(59),s=n(58),u=n(9),l="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(57);t.exports=function(t){return new Promise(function(e,c){var d=t.data,h=t.headers;i.isFormData(d)&&delete h["Content-Type"];var f=new XMLHttpRequest,p="onreadystatechange",m=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in f||s(t.url)||(f=new window.XDomainRequest,p="onload",m=!0,f.onprogress=function(){},f.ontimeout=function(){}),t.auth){var v=t.auth.username||"",y=t.auth.password||"";h.Authorization="Basic "+l(v+":"+y)}if(f.open(t.method.toUpperCase(),o(t.url,t.params,t.paramsSerializer),!0),f.timeout=t.timeout,f[p]=function(){if(f&&(4===f.readyState||m)&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in f?a(f.getAllResponseHeaders()):null,i={data:t.responseType&&"text"!==t.responseType?f.response:f.responseText,status:1223===f.status?204:f.status,statusText:1223===f.status?"No Content":f.statusText,headers:n,config:t,request:f};r(e,c,i),f=null}},f.onerror=function(){c(u("Network Error",t,null,f)),f=null},f.ontimeout=function(){c(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",f)),f=null},i.isStandardBrowserEnv()){var g=n(56),b=(t.withCredentials||s(t.url))&&t.xsrfCookieName?g.read(t.xsrfCookieName):void 0;b&&(h[t.xsrfHeaderName]=b)}if("setRequestHeader"in f&&i.forEach(h,function(t,e){void 0===d&&"content-type"===e.toLowerCase()?delete h[e]:f.setRequestHeader(e,t)}),t.withCredentials&&(f.withCredentials=!0),t.responseType)try{f.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&f.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){f&&(f.abort(),c(t),f=null)}),void 0===d&&(d=null),f.send(d)})}},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return t.apply(e,n)}}},function(t,e,n){"use strict";var i,r,o=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(t){if(i===setTimeout)return setTimeout(t,0);if((i===a||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:a}catch(t){i=a}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var l,c=[],d=!1,h=-1;function f(){d&&l&&(d=!1,l.length?c=l.concat(c):h=-1,c.length&&p())}function p(){if(!d){var t=u(f);d=!0;for(var e=c.length;e;){for(l=c,c=[];++h<e;)l&&l[h].run();h=-1,e=c.length}l=null,d=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function m(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new m(t,e)),1!==c.length||d||u(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e.template.infoPanel,this.template=e.template,this.video=e.video,this.player=e,this.template.infoPanelClose.addEventListener("click",function(){n.hide()})}return i(t,[{key:"show",value:function(){this.beginTime=Date.now(),this.update(),this.player.timer.enable("info"),this.player.timer.enable("fps"),this.container.classList.remove("dplayer-info-panel-hide")}},{key:"hide",value:function(){this.player.timer.disable("info"),this.player.timer.disable("fps"),this.container.classList.add("dplayer-info-panel-hide")}},{key:"triggle",value:function(){this.container.classList.contains("dplayer-info-panel-hide")?this.show():this.hide()}},{key:"update",value:function(){this.template.infoVersion.innerHTML="v1.25.0 fdcf45b",this.template.infoType.innerHTML=this.player.type,this.template.infoUrl.innerHTML=this.player.options.video.url,this.template.infoResolution.innerHTML=this.player.video.videoWidth+" x "+this.player.video.videoHeight,this.template.infoDuration.innerHTML=this.player.video.duration,this.player.options.danmaku&&(this.template.infoDanmakuId.innerHTML=this.player.options.danmaku.id,this.template.infoDanmakuApi.innerHTML=this.player.options.danmaku.api,this.template.infoDanmakuAmount.innerHTML=this.player.danmaku.dan.length)}},{key:"fps",value:function(t){this.template.infoFPS.innerHTML=""+t.toFixed(1)}}]),t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.player=e,this.shown=!1,Array.prototype.slice.call(this.player.template.menuItem).forEach(function(t,e){n.player.options.contextmenu[e].click&&t.addEventListener("click",function(){n.player.options.contextmenu[e].click(n.player),n.hide()})}),this.player.container.addEventListener("contextmenu",function(t){if(n.shown)n.hide();else{var e=t||window.event;e.preventDefault();var i=n.player.container.getBoundingClientRect();n.show(e.clientX-i.left,e.clientY-i.top),n.player.template.mask.addEventListener("click",function(){n.hide()})}})}return i(t,[{key:"show",value:function(t,e){this.player.template.menu.classList.add("dplayer-menu-show");var n=this.player.container.getBoundingClientRect();t+this.player.template.menu.offsetWidth>=n.width?(this.player.template.menu.style.right=n.width-t+"px",this.player.template.menu.style.left="initial"):(this.player.template.menu.style.left=t+"px",this.player.template.menu.style.right="initial"),e+this.player.template.menu.offsetHeight>=n.height?(this.player.template.menu.style.bottom=n.height-e+"px",this.player.template.menu.style.top="initial"):(this.player.template.menu.style.top=e+"px",this.player.template.menu.style.bottom="initial"),this.player.template.mask.classList.add("dplayer-mask-show"),this.shown=!0,this.player.events.trigger("contextmenu_show")}},{key:"hide",value:function(){this.player.template.mask.classList.remove("dplayer-mask-show"),this.player.template.menu.classList.remove("dplayer-menu-show"),this.shown=!1,this.player.events.trigger("contextmenu_hide")}}]),t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.options.hotkey&&document.addEventListener("keydown",function(t){if(e.focus){var n=document.activeElement.tagName.toUpperCase(),i=document.activeElement.getAttribute("contenteditable");if("INPUT"!==n&&"TEXTAREA"!==n&&""!==i&&"true"!==i){var r=t||window.event,o=void 0;switch(r.keyCode){case 32:r.preventDefault(),e.toggle();break;case 37:r.preventDefault(),e.seek(e.video.currentTime-5),e.controller.setAutoHide();break;case 39:r.preventDefault(),e.seek(e.video.currentTime+5),e.controller.setAutoHide();break;case 38:r.preventDefault(),o=e.volume()+.1,e.volume(o);break;case 40:r.preventDefault(),o=e.volume()-.1,e.volume(o)}}}}),document.addEventListener("keydown",function(t){switch((t||window.event).keyCode){case 27:e.fullScreen.isFullScreen("web")&&e.fullScreen.cancel("web")}})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=(i=n(1))&&i.__esModule?i:{default:i},a=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.player=e,this.player.template.mask.addEventListener("click",function(){n.hide()}),this.player.template.commentButton.addEventListener("click",function(){n.show()}),this.player.template.commentSettingButton.addEventListener("click",function(){n.toggleSetting()}),this.player.template.commentColorSettingBox.addEventListener("click",function(){if(n.player.template.commentColorSettingBox.querySelector("input:checked+span")){var t=n.player.template.commentColorSettingBox.querySelector("input:checked").value;n.player.template.commentSettingFill.style.fill=t,n.player.template.commentInput.style.color=t,n.player.template.commentSendFill.style.fill=t}}),this.player.template.commentInput.addEventListener("click",function(){n.hideSetting()}),this.player.template.commentInput.addEventListener("keydown",function(t){13===(t||window.event).keyCode&&n.send()}),this.player.template.commentSendButton.addEventListener("click",function(){n.send()})}return r(t,[{key:"show",value:function(){this.player.controller.disableAutoHide=!0,this.player.template.controller.classList.add("dplayer-controller-comment"),this.player.template.mask.classList.add("dplayer-mask-show"),this.player.container.classList.add("dplayer-show-controller"),this.player.template.commentInput.focus()}},{key:"hide",value:function(){this.player.template.controller.classList.remove("dplayer-controller-comment"),this.player.template.mask.classList.remove("dplayer-mask-show"),this.player.container.classList.remove("dplayer-show-controller"),this.player.controller.disableAutoHide=!1,this.hideSetting()}},{key:"showSetting",value:function(){this.player.template.commentSettingBox.classList.add("dplayer-comment-setting-open")}},{key:"hideSetting",value:function(){this.player.template.commentSettingBox.classList.remove("dplayer-comment-setting-open")}},{key:"toggleSetting",value:function(){this.player.template.commentSettingBox.classList.contains("dplayer-comment-setting-open")?this.hideSetting():this.showSetting()}},{key:"send",value:function(){var t=this;this.player.template.commentInput.blur(),this.player.template.commentInput.value.replace(/^\s+|\s+$/g,"")?this.player.danmaku.send({text:this.player.template.commentInput.value,color:o.default.color2Number(this.player.container.querySelector(".dplayer-comment-setting-color input:checked").value),type:parseInt(this.player.container.querySelector(".dplayer-comment-setting-type input:checked").value)},function(){t.player.template.commentInput.value="",t.hide()}):this.player.notice(this.player.tran("Please input danmaku content!"))}}]),t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=(i=n(1))&&i.__esModule?i:{default:i},a=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.player=e,this.player.template.mask.addEventListener("click",function(){n.hide()}),this.player.template.settingButton.addEventListener("click",function(){n.show()}),this.loop=this.player.options.loop,this.player.template.loopToggle.checked=this.loop,this.player.template.loop.addEventListener("click",function(){n.player.template.loopToggle.checked=!n.player.template.loopToggle.checked,n.player.template.loopToggle.checked?n.loop=!0:n.loop=!1,n.hide()}),this.showDanmaku=this.player.user.get("danmaku"),this.showDanmaku||this.player.danmaku&&this.player.danmaku.hide(),this.player.template.showDanmakuToggle.checked=this.showDanmaku,this.player.template.showDanmaku.addEventListener("click",function(){n.player.template.showDanmakuToggle.checked=!n.player.template.showDanmakuToggle.checked,n.player.template.showDanmakuToggle.checked?(n.showDanmaku=!0,n.player.danmaku.show()):(n.showDanmaku=!1,n.player.danmaku.hide()),n.player.user.set("danmaku",n.showDanmaku?1:0),n.hide()}),this.unlimitDanmaku=this.player.user.get("unlimited"),this.player.template.unlimitDanmakuToggle.checked=this.unlimitDanmaku,this.player.template.unlimitDanmaku.addEventListener("click",function(){n.player.template.unlimitDanmakuToggle.checked=!n.player.template.unlimitDanmakuToggle.checked,n.player.template.unlimitDanmakuToggle.checked?(n.unlimitDanmaku=!0,n.player.danmaku.unlimit(!0)):(n.unlimitDanmaku=!1,n.player.danmaku.unlimit(!1)),n.player.user.set("unlimited",n.unlimitDanmaku?1:0),n.hide()}),this.player.template.speed.addEventListener("click",function(){n.player.template.settingBox.classList.add("dplayer-setting-box-narrow"),n.player.template.settingBox.classList.add("dplayer-setting-box-speed")});for(var i=function(t){n.player.template.speedItem[t].addEventListener("click",function(){n.player.speed(n.player.template.speedItem[t].dataset.speed),n.hide()})},r=0;r<this.player.template.speedItem.length;r++)i(r);if(this.player.danmaku){this.player.on("danmaku_opacity",function(t){n.player.bar.set("danmaku",t,"width"),n.player.user.set("opacity",t)}),this.player.danmaku.opacity(this.player.user.get("opacity"));var a=function(t){var e=t||window.event,i=((e.clientX||e.changedTouches[0].clientX)-o.default.getBoundingClientRectViewLeft(n.player.template.danmakuOpacityBarWrap))/130;i=Math.max(i,0),i=Math.min(i,1),n.player.danmaku.opacity(i)},s=function t(){document.removeEventListener(o.default.nameMap.dragEnd,t),document.removeEventListener(o.default.nameMap.dragMove,a),n.player.template.danmakuOpacityBox.classList.remove("dplayer-setting-danmaku-active")};this.player.template.danmakuOpacityBarWrapWrap.addEventListener("click",function(t){var e=t||window.event,i=((e.clientX||e.changedTouches[0].clientX)-o.default.getBoundingClientRectViewLeft(n.player.template.danmakuOpacityBarWrap))/130;i=Math.max(i,0),i=Math.min(i,1),n.player.danmaku.opacity(i)}),this.player.template.danmakuOpacityBarWrapWrap.addEventListener(o.default.nameMap.dragStart,function(){document.addEventListener(o.default.nameMap.dragMove,a),document.addEventListener(o.default.nameMap.dragEnd,s),n.player.template.danmakuOpacityBox.classList.add("dplayer-setting-danmaku-active")})}}return r(t,[{key:"hide",value:function(){var t=this;this.player.template.settingBox.classList.remove("dplayer-setting-box-open"),this.player.template.mask.classList.remove("dplayer-mask-show"),setTimeout(function(){t.player.template.settingBox.classList.remove("dplayer-setting-box-narrow"),t.player.template.settingBox.classList.remove("dplayer-setting-box-speed")},300),this.player.controller.disableAutoHide=!1}},{key:"show",value:function(){this.player.template.settingBox.classList.add("dplayer-setting-box-open"),this.player.template.mask.classList.add("dplayer-mask-show"),this.player.controller.disableAutoHide=!0}}]),t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e.container,this.barWidth=e.barWidth,this.container.style.backgroundImage="url('"+e.url+"')",this.events=e.events}return i(t,[{key:"resize",value:function(t,e){this.container.style.width=t+"px",this.container.style.height=e+"px",this.container.style.top=2-e+"px"}},{key:"show",value:function(){this.container.style.display="block",this.events&&this.events.trigger("thumbnails_show")}},{key:"move",value:function(t){this.container.style.backgroundPosition="-"+160*(Math.ceil(t/this.barWidth*100)-1)+"px 0",this.container.style.left=Math.min(Math.max(t-this.container.offsetWidth/2,-10),this.barWidth-150)+"px"}},{key:"hide",value:function(){this.container.style.display="none",this.events&&this.events.trigger("thumbnails_hide")}}]),t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=s(n(1)),o=s(n(18)),a=s(n(2));function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.player=e,this.autoHideTimer=0,r.default.isMobile||(this.player.container.addEventListener("mousemove",function(){n.setAutoHide()}),this.player.container.addEventListener("click",function(){n.setAutoHide()}),this.player.on("play",function(){n.setAutoHide()}),this.player.on("pause",function(){n.setAutoHide()})),this.initPlayButton(),this.initThumbnails(),this.initPlayedBar(),this.initFullButton(),this.initQualityButton(),this.initScreenshotButton(),this.initSubtitleButton(),this.initHighlights(),r.default.isMobile||this.initVolumeButton()}return i(t,[{key:"initPlayButton",value:function(){var t=this;this.player.template.playButton.addEventListener("click",function(){t.player.toggle()}),r.default.isMobile?(this.player.template.videoWrap.addEventListener("click",function(){t.toggle()}),this.player.template.controllerMask.addEventListener("click",function(){t.toggle()})):(this.player.template.videoWrap.addEventListener("click",function(){t.player.toggle()}),this.player.template.controllerMask.addEventListener("click",function(){t.player.toggle()}))}},{key:"initHighlights",value:function(){var t=this;this.player.on("durationchange",function(){if(1!==t.player.video.duration&&t.player.video.duration!==1/0&&t.player.options.highlight){var e=document.querySelectorAll(".dplayer-highlight");[].slice.call(e,0).forEach(function(e){t.player.template.playedBarWrap.removeChild(e)});for(var n=0;n<t.player.options.highlight.length;n++)if(t.player.options.highlight[n].text&&t.player.options.highlight[n].time){var i=document.createElement("div");i.classList.add("dplayer-highlight"),i.style.left=t.player.options.highlight[n].time/t.player.video.duration*100+"%",i.innerHTML='<span class="dplayer-highlight-text">'+t.player.options.highlight[n].text+"</span>",t.player.template.playedBarWrap.insertBefore(i,t.player.template.playedBarTime)}}})}},{key:"initThumbnails",value:function(){var t=this;this.player.options.video.thumbnails&&(this.thumbnails=new o.default({container:this.player.template.barPreview,barWidth:this.player.template.barWrap.offsetWidth,url:this.player.options.video.thumbnails,events:this.player.events}),this.player.on("loadedmetadata",function(){t.thumbnails.resize(160,t.player.video.videoHeight/t.player.video.videoWidth*160)}))}},{key:"initPlayedBar",value:function(){var t=this,e=function(e){var n=((e.clientX||e.changedTouches[0].clientX)-r.default.getBoundingClientRectViewLeft(t.player.template.playedBarWrap))/t.player.template.playedBarWrap.clientWidth;n=Math.max(n,0),n=Math.min(n,1),t.player.bar.set("played",n,"width"),t.player.template.ptime.innerHTML=r.default.secondToTime(n*t.player.video.duration)},n=function n(i){document.removeEventListener(r.default.nameMap.dragEnd,n),document.removeEventListener(r.default.nameMap.dragMove,e);var o=((i.clientX||i.changedTouches[0].clientX)-r.default.getBoundingClientRectViewLeft(t.player.template.playedBarWrap))/t.player.template.playedBarWrap.clientWidth;o=Math.max(o,0),o=Math.min(o,1),t.player.bar.set("played",o,"width"),t.player.seek(t.player.bar.get("played")*t.player.video.duration),t.player.timer.enable("progress")};this.player.template.playedBarWrap.addEventListener(r.default.nameMap.dragStart,function(){t.player.timer.disable("progress"),document.addEventListener(r.default.nameMap.dragMove,e),document.addEventListener(r.default.nameMap.dragEnd,n)}),this.player.template.playedBarWrap.addEventListener(r.default.nameMap.dragMove,function(e){if(t.player.video.duration){var n=r.default.cumulativeOffset(t.player.template.playedBarWrap).left,i=(e.clientX||e.changedTouches[0].clientX)-n;if(i<0||i>t.player.template.playedBarWrap.offsetWidth)return;var o=t.player.video.duration*(i/t.player.template.playedBarWrap.offsetWidth);r.default.isMobile&&t.thumbnails&&t.thumbnails.show(),t.thumbnails&&t.thumbnails.move(i),t.player.template.playedBarTime.style.left=i-(o>=3600?25:20)+"px",t.player.template.playedBarTime.innerText=r.default.secondToTime(o),t.player.template.playedBarTime.classList.remove("hidden")}}),this.player.template.playedBarWrap.addEventListener(r.default.nameMap.dragEnd,function(){r.default.isMobile&&t.thumbnails&&t.thumbnails.hide()}),r.default.isMobile||(this.player.template.playedBarWrap.addEventListener("mouseenter",function(){t.player.video.duration&&(t.thumbnails&&t.thumbnails.show(),t.player.template.playedBarTime.classList.remove("hidden"))}),this.player.template.playedBarWrap.addEventListener("mouseleave",function(){t.player.video.duration&&(t.thumbnails&&t.thumbnails.hide(),t.player.template.playedBarTime.classList.add("hidden"))}))}},{key:"initFullButton",value:function(){var t=this;this.player.template.browserFullButton.addEventListener("click",function(){t.player.fullScreen.toggle("browser")}),this.player.template.webFullButton.addEventListener("click",function(){t.player.fullScreen.toggle("web")})}},{key:"initVolumeButton",value:function(){var t=this,e=function(e){var n=e||window.event,i=((n.clientX||n.changedTouches[0].clientX)-r.default.getBoundingClientRectViewLeft(t.player.template.volumeBarWrap)-5.5)/35;t.player.volume(i)},n=function n(){document.removeEventListener(r.default.nameMap.dragEnd,n),document.removeEventListener(r.default.nameMap.dragMove,e),t.player.template.volumeButton.classList.remove("dplayer-volume-active")};this.player.template.volumeBarWrapWrap.addEventListener("click",function(e){var n=e||window.event,i=((n.clientX||n.changedTouches[0].clientX)-r.default.getBoundingClientRectViewLeft(t.player.template.volumeBarWrap)-5.5)/35;t.player.volume(i)}),this.player.template.volumeBarWrapWrap.addEventListener(r.default.nameMap.dragStart,function(){document.addEventListener(r.default.nameMap.dragMove,e),document.addEventListener(r.default.nameMap.dragEnd,n),t.player.template.volumeButton.classList.add("dplayer-volume-active")}),this.player.template.volumeButtonIcon.addEventListener("click",function(){t.player.video.muted?(t.player.video.muted=!1,t.player.switchVolumeIcon(),t.player.bar.set("volume",t.player.volume(),"width")):(t.player.video.muted=!0,t.player.template.volumeIcon.innerHTML=a.default.volumeOff,t.player.bar.set("volume",0,"width"))})}},{key:"initQualityButton",value:function(){var t=this;this.player.options.video.quality&&this.player.template.qualityList.addEventListener("click",function(e){e.target.classList.contains("dplayer-quality-item")&&t.player.switchQuality(e.target.dataset.index)})}},{key:"initScreenshotButton",value:function(){var t=this;this.player.options.screenshot&&this.player.template.camareButton.addEventListener("click",function(){var e=document.createElement("canvas");e.width=t.player.video.videoWidth,e.height=t.player.video.videoHeight,e.getContext("2d").drawImage(t.player.video,0,0,e.width,e.height);var n=void 0;e.toBlob(function(t){n=URL.createObjectURL(t);var e=document.createElement("a");e.href=n,e.download="DPlayer.png",e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e),URL.revokeObjectURL(n)}),t.player.events.trigger("screenshot",n)})}},{key:"initSubtitleButton",value:function(){var t=this;this.player.options.subtitle&&(this.player.events.on("subtitle_show",function(){t.player.template.subtitleButton.dataset.balloon=t.player.tran("Hide subtitle"),t.player.template.subtitleButtonInner.style.opacity="",t.player.user.set("subtitle",1)}),this.player.events.on("subtitle_hide",function(){t.player.template.subtitleButton.dataset.balloon=t.player.tran("Show subtitle"),t.player.template.subtitleButtonInner.style.opacity="0.4",t.player.user.set("subtitle",0)}),this.player.template.subtitleButton.addEventListener("click",function(){t.player.subtitle.toggle()}))}},{key:"setAutoHide",value:function(){var t=this;this.show(),clearTimeout(this.autoHideTimer),this.autoHideTimer=setTimeout(function(){!t.player.video.played.length||t.player.paused||t.disableAutoHide||t.hide()},3e3)}},{key:"show",value:function(){this.player.container.classList.remove("dplayer-hide-controller")}},{key:"hide",value:function(){this.player.container.classList.add("dplayer-hide-controller"),this.player.setting.hide(),this.player.comment&&this.player.comment.hide()}},{key:"isShow",value:function(){return!this.player.container.classList.contains("dplayer-hide-controller")}},{key:"toggle",value:function(){this.isShow()?this.hide():this.show()}},{key:"destroy",value:function(){clearTimeout(this.autoHideTimer)}}]),t}();e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e,this.container.addEventListener("animationend",function(){n.container.classList.remove("dplayer-bezel-transition")})}return i(t,[{key:"switch",value:function(t){this.container.innerHTML=t,this.container.classList.add("dplayer-bezel-transition")}}]),t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.player=e,window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},this.types=["loading","info","fps"],this.init()}return i(t,[{key:"init",value:function(){var t=this;this.types.map(function(e){return"fps"!==e&&t["init"+e+"Checker"](),e})}},{key:"initloadingChecker",value:function(){var t=this,e=0,n=0,i=!1;this.loadingChecker=setInterval(function(){t.enableloadingChecker&&(n=t.player.video.currentTime,i||n!==e||t.player.video.paused||(t.player.container.classList.add("dplayer-loading"),i=!0),i&&n>e&&!t.player.video.paused&&(t.player.container.classList.remove("dplayer-loading"),i=!1),e=n)},100)}},{key:"initfpsChecker",value:function(){var t=this;window.requestAnimationFrame(function(){if(t.enablefpsChecker)if(t.initfpsChecker(),t.fpsStart){t.fpsIndex++;var e=new Date;e-t.fpsStart>1e3&&(t.player.infoPanel.fps(t.fpsIndex/(e-t.fpsStart)*1e3),t.fpsStart=new Date,t.fpsIndex=0)}else t.fpsStart=new Date,t.fpsIndex=0;else t.fpsStart=0,t.fpsIndex=0})}},{key:"initinfoChecker",value:function(){var t=this;this.infoChecker=setInterval(function(){t.enableinfoChecker&&t.player.infoPanel.update()},1e3)}},{key:"enable",value:function(t){this["enable"+t+"Checker"]=!0,"fps"===t&&this.initfpsChecker()}},{key:"disable",value:function(t){this["enable"+t+"Checker"]=!1}},{key:"destroy",value:function(){var t=this;this.types.map(function(e){return t["enable"+e+"Checker"]=!1,t[e+"Checker"]&&clearInterval(t[e+"Checker"]),e})}}]),t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.elements={},this.elements.volume=e.volumeBar,this.elements.played=e.playedBar,this.elements.loaded=e.loadedBar,this.elements.danmaku=e.danmakuOpacityBar}return i(t,[{key:"set",value:function(t,e,n){e=Math.max(e,0),e=Math.min(e,1),this.elements[t].style[n]=100*e+"%"}},{key:"get",value:function(t){return parseFloat(this.elements[t].style.width)/100}}]),t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(e,n,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e,this.video=n,this.options=i,this.events=r,this.init()}return i(t,[{key:"init",value:function(){var t=this;if(this.container.style.fontSize=this.options.fontSize,this.container.style.bottom=this.options.bottom,this.container.style.color=this.options.color,this.video.textTracks&&this.video.textTracks[0]){var e=this.video.textTracks[0];e.oncuechange=function(){var n=e.activeCues[0];if(n){t.container.innerHTML="";var i=document.createElement("p");i.appendChild(n.getCueAsHTML()),t.container.appendChild(i)}else t.container.innerHTML="";t.events.trigger("subtitle_change")}}}},{key:"show",value:function(){this.container.classList.remove("dplayer-subtitle-hide"),this.events.trigger("subtitle_show")}},{key:"hide",value:function(){this.container.classList.add("dplayer-subtitle-hide"),this.events.trigger("subtitle_hide")}},{key:"toggle",value:function(){this.container.classList.contains("dplayer-subtitle-hide")?this.show():this.hide()}}]),t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=(i=n(1))&&i.__esModule?i:{default:i},a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.storageName={opacity:"dplayer-danmaku-opacity",volume:"dplayer-volume",unlimited:"dplayer-danmaku-unlimited",danmaku:"dplayer-danmaku-show",subtitle:"dplayer-subtitle-show"},this.default={opacity:.7,volume:e.options.hasOwnProperty("volume")?e.options.volume:.7,unlimited:(e.options.danmaku&&e.options.danmaku.unlimited?1:0)||0,danmaku:1,subtitle:1},this.data={},this.init()}return r(t,[{key:"init",value:function(){for(var t in this.storageName){var e=this.storageName[t];this.data[t]=parseFloat(o.default.storage.get(e)||this.default[t])}}},{key:"get",value:function(t){return this.data[t]}},{key:"set",value:function(t,e){this.data[t]=e,o.default.storage.set(this.storageName[t],e)}}]),t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=(i=n(1))&&i.__esModule?i:{default:i},a=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.player=e,this.player.events.on("webfullscreen",function(){n.player.resize()}),this.player.events.on("webfullscreen_cancel",function(){n.player.resize(),o.default.setScrollPosition(n.lastScrollPosition)});var i=function(){n.player.resize(),n.isFullScreen("browser")?n.player.events.trigger("fullscreen"):(o.default.setScrollPosition(n.lastScrollPosition),n.player.events.trigger("fullscreen_cancel"))},r=function(){var t=document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;t&&t!==n.player.container||(n.player.resize(),t?n.player.events.trigger("fullscreen"):(o.default.setScrollPosition(n.lastScrollPosition),n.player.events.trigger("fullscreen_cancel")))};/Firefox/.test(navigator.userAgent)?(document.addEventListener("mozfullscreenchange",r),document.addEventListener("fullscreenchange",r)):(this.player.container.addEventListener("fullscreenchange",i),this.player.container.addEventListener("webkitfullscreenchange",i),document.addEventListener("msfullscreenchange",r),document.addEventListener("MSFullscreenChange",r))}return r(t,[{key:"isFullScreen",value:function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"browser"){case"browser":return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;case"web":return this.player.container.classList.contains("dplayer-fulled")}}},{key:"request",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"browser",e="browser"===t?"web":"browser",n=this.isFullScreen(e);switch(n||(this.lastScrollPosition=o.default.getScrollPosition()),t){case"browser":this.player.container.requestFullscreen?this.player.container.requestFullscreen():this.player.container.mozRequestFullScreen?this.player.container.mozRequestFullScreen():this.player.container.webkitRequestFullscreen?this.player.container.webkitRequestFullscreen():this.player.video.webkitEnterFullscreen?this.player.video.webkitEnterFullscreen():this.player.video.webkitEnterFullScreen?this.player.video.webkitEnterFullScreen():this.player.container.msRequestFullscreen&&this.player.container.msRequestFullscreen();break;case"web":this.player.container.classList.add("dplayer-fulled"),document.body.classList.add("dplayer-web-fullscreen-fix"),this.player.events.trigger("webfullscreen")}n&&this.cancel(e)}},{key:"cancel",value:function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"browser"){case"browser":document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.webkitCancelFullscreen?document.webkitCancelFullscreen():document.msCancelFullScreen?document.msCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen();break;case"web":this.player.container.classList.remove("dplayer-fulled"),document.body.classList.remove("dplayer-web-fullscreen-fix"),this.player.events.trigger("webfullscreen_cancel")}}},{key:"toggle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"browser";this.isFullScreen(t)?this.cancel(t):this.request(t)}}]),t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.events={},this.videoEvents=["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","mozaudioavailable","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],this.playerEvents=["screenshot","thumbnails_show","thumbnails_hide","danmaku_show","danmaku_hide","danmaku_clear","danmaku_loaded","danmaku_send","danmaku_opacity","contextmenu_show","contextmenu_hide","notice_show","notice_hide","quality_start","quality_end","destroy","resize","fullscreen","fullscreen_cancel","webfullscreen","webfullscreen_cancel","subtitle_show","subtitle_hide","subtitle_change"]}return i(t,[{key:"on",value:function(t,e){this.type(t)&&"function"==typeof e&&(this.events[t]||(this.events[t]=[]),this.events[t].push(e))}},{key:"trigger",value:function(t,e){if(this.events[t]&&this.events[t].length)for(var n=0;n<this.events[t].length;n++)this.events[t][n](e)}},{key:"type",value:function(t){return-1!==this.playerEvents.indexOf(t)?"player":-1!==this.videoEvents.indexOf(t)?"video":(console.error("Unknown event name: "+t),null)}}]),t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r="function"==typeof Symbol&&"symbol"==u(Symbol.iterator)?function(t){return u(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":u(t)},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=(i=n(1))&&i.__esModule?i:{default:i},s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=e,this.container=this.options.container,this.danTunnel={right:{},top:{},bottom:{}},this.danIndex=0,this.dan=[],this.showing=!0,this._opacity=this.options.opacity,this.events=this.options.events,this.unlimited=this.options.unlimited,this._measure(""),this.load()}return o(t,[{key:"load",value:function(){var t,e=this;t=this.options.api.maximum?this.options.api.address+"v3/?id="+this.options.api.id+"&max="+this.options.api.maximum:this.options.api.address+"v3/?id="+this.options.api.id;var n=(this.options.api.addition||[]).slice(0);n.push(t),this.events&&this.events.trigger("danmaku_load_start",n),this._readAllEndpoints(n,function(t){e.dan=[].concat.apply([],t).sort(function(t,e){return t.time-e.time}),window.requestAnimationFrame(function(){e.frame()}),e.options.callback(),e.events&&e.events.trigger("danmaku_load_end")})}},{key:"reload",value:function(t){this.options.api=t,this.dan=[],this.clear(),this.load()}},{key:"_readAllEndpoints",value:function(t,e){for(var n=this,i=[],r=0,o=function(o){n.options.apiBackend.read({url:t[o],success:function(n){i[o]=n,++r===t.length&&e(i)},error:function(a){n.options.error(a||n.options.tran("Danmaku load failed")),i[o]=[],++r===t.length&&e(i)}})},a=0;a<t.length;++a)o(a)}},{key:"send",value:function(t,e){var n=this,i={token:this.options.api.token,id:this.options.api.id,author:this.options.api.user,time:this.options.time(),text:t.text,color:t.color,type:t.type};this.options.apiBackend.send({url:this.options.api.address+"v3/",data:i,success:e,error:function(t){n.options.error(t||n.options.tran("Danmaku send failed"))}}),this.dan.splice(this.danIndex,0,i),this.danIndex++;var r={text:this.htmlEncode(i.text),color:i.color,type:i.type,border:"2px solid "+this.options.borderColor};this.draw(r),this.events&&this.events.trigger("danmaku_send",i)}},{key:"frame",value:function(){var t=this;if(this.dan.length&&!this.paused&&this.showing){for(var e=this.dan[this.danIndex],n=[];e&&this.options.time()>parseFloat(e.time);)n.push(e),e=this.dan[++this.danIndex];this.draw(n)}window.requestAnimationFrame(function(){t.frame()})}},{key:"opacity",value:function(t){if(void 0!==t){for(var e=this.container.getElementsByClassName("dplayer-danmaku-item"),n=0;n<e.length;n++)e[n].style.opacity=t;this._opacity=t,this.events&&this.events.trigger("danmaku_opacity",this._opacity)}return this._opacity}},{key:"draw",value:function(t){var e=this;if(this.showing){var n=this.options.height,i=this.container.offsetWidth,o=this.container.offsetHeight,s=parseInt(o/n),u=function(t){var n=t.offsetWidth||parseInt(t.style.width),i=t.getBoundingClientRect().right||e.container.getBoundingClientRect().right+n;return e.container.getBoundingClientRect().right-i},l=function(t){return(i+t)/5},c=function(t,n,o){for(var a=i/l(o),c=function(r){var o=e.danTunnel[n][r+""];if(!o||!o.length)return e.danTunnel[n][r+""]=[t],t.addEventListener("animationend",function(){e.danTunnel[n][r+""].splice(0,1)}),{v:r%s};if("right"!==n)return"continue";for(var c=0;c<o.length;c++){var d=u(o[c])-10;if(d<=i-a*l(parseInt(o[c].style.width))||d<=0)break;if(c===o.length-1)return e.danTunnel[n][r+""].push(t),t.addEventListener("animationend",function(){e.danTunnel[n][r+""].splice(0,1)}),{v:r%s}}},d=0;e.unlimited||d<s;d++){var h=c(d);switch(h){case"continue":continue;default:if("object"===(void 0===h?"undefined":r(h)))return h.v}}return-1};"[object Array]"!==Object.prototype.toString.call(t)&&(t=[t]);for(var d=document.createDocumentFragment(),h=function(r){t[r].type=a.default.number2Type(t[r].type),t[r].color||(t[r].color=16777215);var o=document.createElement("div");o.classList.add("dplayer-danmaku-item"),o.classList.add("dplayer-danmaku-"+t[r].type),t[r].border?o.innerHTML='<span style="border:'+t[r].border+'">'+t[r].text+"</span>":o.innerHTML=t[r].text,o.style.opacity=e._opacity,o.style.color=a.default.number2Color(t[r].color),o.addEventListener("animationend",function(){e.container.removeChild(o)});var s=e._measure(t[r].text),u=void 0;switch(t[r].type){case"right":(u=c(o,t[r].type,s))>=0&&(o.style.width=s+1+"px",o.style.top=n*u+"px",o.style.transform="translateX(-"+i+"px)");break;case"top":(u=c(o,t[r].type))>=0&&(o.style.top=n*u+"px");break;case"bottom":(u=c(o,t[r].type))>=0&&(o.style.bottom=n*u+"px");break;default:console.error("Can't handled danmaku type: "+t[r].type)}u>=0&&(o.classList.add("dplayer-danmaku-move"),d.appendChild(o))},f=0;f<t.length;f++)h(f);return this.container.appendChild(d),d}}},{key:"play",value:function(){this.paused=!1}},{key:"pause",value:function(){this.paused=!0}},{key:"_measure",value:function(t){if(!this.context){var e=getComputedStyle(this.container.getElementsByClassName("dplayer-danmaku-item")[0],null);this.context=document.createElement("canvas").getContext("2d"),this.context.font=e.getPropertyValue("font")}return this.context.measureText(t).width}},{key:"seek",value:function(){this.clear();for(var t=0;t<this.dan.length;t++){if(this.dan[t].time>=this.options.time()){this.danIndex=t;break}this.danIndex=this.dan.length}}},{key:"clear",value:function(){this.danTunnel={right:{},top:{},bottom:{}},this.danIndex=0,this.options.container.innerHTML="",this.events&&this.events.trigger("danmaku_clear")}},{key:"htmlEncode",value:function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2f;")}},{key:"resize",value:function(){for(var t=this.container.offsetWidth,e=this.container.getElementsByClassName("dplayer-danmaku-item"),n=0;n<e.length;n++)e[n].style.transform="translateX(-"+t+"px)"}},{key:"hide",value:function(){this.showing=!1,this.pause(),this.clear(),this.events&&this.events.trigger("danmaku_hide")}},{key:"show",value:function(){this.seek(),this.showing=!0,this.play(),this.events&&this.events.trigger("danmaku_show")}},{key:"unlimit",value:function(t){this.unlimited=t}}]),t}();e.default=s},function(t,e,n){"use strict";(function(e){t.exports=!1;try{t.exports="[object process]"===Object.prototype.toString.call(e.process)}catch(t){}}).call(this,n(4))},function(t,e,n){"use strict";(function(e){var i=n(28),r=Object.create(i?e:window),o=/["&'<>]/;r.$escape=function(t){return function(t){var e=""+t,n=o.exec(e);if(!n)return t;var i="",r=void 0,a=void 0,s=void 0;for(r=n.index,a=0;r<e.length;r++){switch(e.charCodeAt(r)){case 34:s="&#34;";break;case 38:s="&#38;";break;case 39:s="&#39;";break;case 60:s="&#60;";break;case 62:s="&#62;";break;default:continue}a!==r&&(i+=e.substring(a,r)),a=r+1,i+=s}return a!==r?i+e.substring(a,r):i}(function t(e){return"string"!=typeof e&&(e=null==e?"":"function"==typeof e?t(e.call(e)):JSON.stringify(e)),e}(t))},r.$each=function(t,e){if(Array.isArray(t))for(var n=0,i=t.length;n<i;n++)e(t[n],n);else for(var r in t)e(t[r],r)},t.exports=r}).call(this,n(4))},function(t,e,n){var i=n(6);t.exports=function(t){"use strict";t=t||{};var e,r="",o=(arguments[1],t.video),a=t.options,s=i.$escape,u=t.tran,l=t.icons,c=t.index,d=i.$each;return t.$value,t.$index,r+='<div class="dplayer-mask"></div>\n<div class="dplayer-video-wrap">\n    ',e=n(5)(o),r+=e,r+="\n    ",a.logo&&(r+='\n    <div class="dplayer-logo">\n        <img src="',r+=s(a.logo),r+='">\n    </div>\n    '),r+='\n    <div class="dplayer-danmaku"',a.danmaku&&a.danmaku.bottm&&(r+=' style="margin-bottom:',r+=s(a.danmaku.bottm),r+='"'),r+='>\n        <div class="dplayer-danmaku-item dplayer-danmaku-item--demo"></div>\n    </div>\n    <div class="dplayer-subtitle"></div>\n    <div class="dplayer-bezel">\n        <span class="dplayer-bezel-icon"></span>\n        ',a.danmaku&&(r+='\n        <span class="dplayer-danloading">',r+=s(u("Danmaku is loading")),r+="</span>\n        "),r+='\n        <span class="diplayer-loading-icon">',r+=l.loading,r+='</span>\n    </div>\n</div>\n<div class="dplayer-controller-mask"></div>\n<div class="dplayer-controller">\n    <div class="dplayer-icons dplayer-comment-box">\n        <button class="dplayer-icon dplayer-comment-setting-icon" data-balloon="',r+=s(u("Setting")),r+='" data-balloon-pos="up">\n            <span class="dplayer-icon-content">',r+=l.pallette,r+='</span>\n        </button>\n        <div class="dplayer-comment-setting-box">\n            <div class="dplayer-comment-setting-color">\n                <div class="dplayer-comment-setting-title">',r+=s(u("Set danmaku color")),r+='</div>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-',r+=s(c),r+='" value="#fff" checked>\n                    <span style="background: #fff;"></span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-',r+=s(c),r+='" value="#e54256">\n                    <span style="background: #e54256"></span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-',r+=s(c),r+='" value="#ffe133">\n                    <span style="background: #ffe133"></span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-',r+=s(c),r+='" value="#64DD17">\n                    <span style="background: #64DD17"></span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-',r+=s(c),r+='" value="#39ccff">\n                    <span style="background: #39ccff"></span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-',r+=s(c),r+='" value="#D500F9">\n                    <span style="background: #D500F9"></span>\n                </label>\n            </div>\n            <div class="dplayer-comment-setting-type">\n                <div class="dplayer-comment-setting-title">',r+=s(u("Set danmaku type")),r+='</div>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-type-',r+=s(c),r+='" value="1">\n                    <span>',r+=s(u("Top")),r+='</span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-type-',r+=s(c),r+='" value="0" checked>\n                    <span>',r+=s(u("Rolling")),r+='</span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-type-',r+=s(c),r+='" value="2">\n                    <span>',r+=s(u("Bottom")),r+='</span>\n                </label>\n            </div>\n        </div>\n        <input class="dplayer-comment-input" type="text" placeholder="',r+=s(u("Input danmaku, hit Enter")),r+='" maxlength="30">\n        <button class="dplayer-icon dplayer-send-icon" data-balloon="',r+=s(u("Send")),r+='" data-balloon-pos="up">\n            <span class="dplayer-icon-content">',r+=l.send,r+='</span>\n        </button>\n    </div>\n    <div class="dplayer-icons dplayer-icons-left">\n        <button class="dplayer-icon dplayer-play-icon">\n            <span class="dplayer-icon-content">',r+=l.play,r+='</span>\n        </button>\n        <div class="dplayer-volume">\n            <button class="dplayer-icon dplayer-volume-icon">\n                <span class="dplayer-icon-content">',r+=l.volumeDown,r+='</span>\n            </button>\n            <div class="dplayer-volume-bar-wrap" data-balloon-pos="up">\n                <div class="dplayer-volume-bar">\n                    <div class="dplayer-volume-bar-inner" style="background: ',r+=s(a.theme),r+=';">\n                        <span class="dplayer-thumb" style="background: ',r+=s(a.theme),r+='"></span>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <span class="dplayer-time">\n            <span class="dplayer-ptime">0:00</span> /\n            <span class="dplayer-dtime">0:00</span>\n        </span>\n        ',a.live&&(r+='\n        <span class="dplayer-live-badge"><span class="dplayer-live-dot" style="background: ',r+=s(a.theme),r+=';"></span>',r+=s(u("Live")),r+="</span>\n        "),r+='\n    </div>\n    <div class="dplayer-icons dplayer-icons-right">\n        ',a.video.quality&&(r+='\n        <div class="dplayer-quality">\n            <button class="dplayer-icon dplayer-quality-icon">',r+=s(a.video.quality[a.video.defaultQuality].name),r+='</button>\n            <div class="dplayer-quality-mask">\n                <div class="dplayer-quality-list">\n                ',d(a.video.quality,function(t,e){r+='\n                    <div class="dplayer-quality-item" data-index="',r+=s(e),r+='">',r+=s(t.name),r+="</div>\n                "}),r+="\n                </div>\n            </div>\n        </div>\n        "),r+="\n        ",a.screenshot&&(r+='\n        <div class="dplayer-icon dplayer-camera-icon" data-balloon="',r+=s(u("Screenshot")),r+='" data-balloon-pos="up">\n            <span class="dplayer-icon-content">',r+=l.camera,r+="</span>\n        </div>\n        "),r+='\n        <div class="dplayer-comment">\n            <button class="dplayer-icon dplayer-comment-icon" data-balloon="',r+=s(u("Send danmaku")),r+='" data-balloon-pos="up">\n                <span class="dplayer-icon-content">',r+=l.comment,r+="</span>\n            </button>\n        </div>\n        ",a.subtitle&&(r+='\n        <div class="dplayer-subtitle-btn">\n            <button class="dplayer-icon dplayer-subtitle-icon" data-balloon="',r+=s(u("Hide subtitle")),r+='" data-balloon-pos="up">\n                <span class="dplayer-icon-content">',r+=l.subtitle,r+="</span>\n            </button>\n        </div>\n        "),r+='\n        <div class="dplayer-setting">\n            <button class="dplayer-icon dplayer-setting-icon" data-balloon="',r+=s(u("Setting")),r+='" data-balloon-pos="up">\n                <span class="dplayer-icon-content">',r+=l.setting,r+='</span>\n            </button>\n            <div class="dplayer-setting-box">\n                <div class="dplayer-setting-origin-panel">\n                    <div class="dplayer-setting-item dplayer-setting-speed">\n                        <span class="dplayer-label">',r+=s(u("Speed")),r+='</span>\n                        <div class="dplayer-toggle">',r+=l.right,r+='</div>\n                    </div>\n                    <div class="dplayer-setting-item dplayer-setting-loop">\n                        <span class="dplayer-label">',r+=s(u("Loop")),r+='</span>\n                        <div class="dplayer-toggle">\n                            <input class="dplayer-toggle-setting-input" type="checkbox" name="dplayer-toggle">\n                            <label for="dplayer-toggle"></label>\n                        </div>\n                    </div>\n                    <div class="dplayer-setting-item dplayer-setting-showdan">\n                        <span class="dplayer-label">',r+=s(u("Show danmaku")),r+='</span>\n                        <div class="dplayer-toggle">\n                            <input class="dplayer-showdan-setting-input" type="checkbox" name="dplayer-toggle-dan">\n                            <label for="dplayer-toggle-dan"></label>\n                        </div>\n                    </div>\n                    <div class="dplayer-setting-item dplayer-setting-danunlimit">\n                        <span class="dplayer-label">',r+=s(u("Unlimited danmaku")),r+='</span>\n                        <div class="dplayer-toggle">\n                            <input class="dplayer-danunlimit-setting-input" type="checkbox" name="dplayer-toggle-danunlimit">\n                            <label for="dplayer-toggle-danunlimit"></label>\n                        </div>\n                    </div>\n                    <div class="dplayer-setting-item dplayer-setting-danmaku">\n                        <span class="dplayer-label">',r+=s(u("Opacity for danmaku")),r+='</span>\n                        <div class="dplayer-danmaku-bar-wrap">\n                            <div class="dplayer-danmaku-bar">\n                                <div class="dplayer-danmaku-bar-inner">\n                                    <span class="dplayer-thumb"></span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="dplayer-setting-speed-panel">\n                    <div class="dplayer-setting-speed-item" data-speed="0.5">\n                        <span class="dplayer-label">0.5</span>\n                    </div>\n                    <div class="dplayer-setting-speed-item" data-speed="0.75">\n                        <span class="dplayer-label">0.75</span>\n                    </div>\n                    <div class="dplayer-setting-speed-item" data-speed="1">\n                        <span class="dplayer-label">',r+=s(u("Normal")),r+='</span>\n                    </div>\n                    <div class="dplayer-setting-speed-item" data-speed="1.25">\n                        <span class="dplayer-label">1.25</span>\n                    </div>\n                    <div class="dplayer-setting-speed-item" data-speed="1.5">\n                        <span class="dplayer-label">1.5</span>\n                    </div>\n                    <div class="dplayer-setting-speed-item" data-speed="2">\n                        <span class="dplayer-label">2</span>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="dplayer-full">\n            <button class="dplayer-icon dplayer-full-in-icon" data-balloon="',r+=s(u("Web full screen")),r+='" data-balloon-pos="up">\n                <span class="dplayer-icon-content">',r+=l.fullWeb,r+='</span>\n            </button>\n            <button class="dplayer-icon dplayer-full-icon" data-balloon="',r+=s(u("Full screen")),r+='" data-balloon-pos="up">\n                <span class="dplayer-icon-content">',r+=l.full,r+='</span>\n            </button>\n        </div>\n    </div>\n    <div class="dplayer-bar-wrap">\n        <div class="dplayer-bar-time hidden">00:00</div>\n        <div class="dplayer-bar-preview"></div>\n        <div class="dplayer-bar">\n            <div class="dplayer-loaded" style="width: 0;"></div>\n            <div class="dplayer-played" style="width: 0; background: ',r+=s(a.theme),r+='">\n                <span class="dplayer-thumb" style="background: ',r+=s(a.theme),r+='"></span>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="dplayer-info-panel dplayer-info-panel-hide">\n    <div class="dplayer-info-panel-close">[x]</div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-version">\n        <span class="dplayer-info-panel-item-title">Player version</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-fps">\n        <span class="dplayer-info-panel-item-title">Player FPS</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-type">\n        <span class="dplayer-info-panel-item-title">Video type</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-url">\n        <span class="dplayer-info-panel-item-title">Video url</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-resolution">\n        <span class="dplayer-info-panel-item-title">Video resolution</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-duration">\n        <span class="dplayer-info-panel-item-title">Video duration</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    ',a.danmaku&&(r+='\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-danmaku-id">\n        <span class="dplayer-info-panel-item-title">Danamku id</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-danmaku-api">\n        <span class="dplayer-info-panel-item-title">Danamku api</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-danmaku-amount">\n        <span class="dplayer-info-panel-item-title">Danamku amount</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    '),r+='\n</div>\n<div class="dplayer-menu">\n    ',d(a.contextmenu,function(t,e){r+='\n        <div class="dplayer-menu-item">\n            <a',t.link&&(r+=' target="_blank"'),r+=' href="',r+=s(t.link||"javascript:void(0);"),r+='">',r+=s(u(t.text)),r+="</a>\n        </div>\n    "}),r+='\n</div>\n<div class="dplayer-notice"></div>'}},function(t,e){t.exports='<svg version="1.1" viewBox="0 0 22 22"><svg x="7" y="1"><circle class="diplayer-loading-dot diplayer-loading-dot-0" cx="4" cy="4" r="2"></circle></svg><svg x="11" y="3"><circle class="diplayer-loading-dot diplayer-loading-dot-1" cx="4" cy="4" r="2"></circle></svg><svg x="13" y="7"><circle class="diplayer-loading-dot diplayer-loading-dot-2" cx="4" cy="4" r="2"></circle></svg><svg x="11" y="11"><circle class="diplayer-loading-dot diplayer-loading-dot-3" cx="4" cy="4" r="2"></circle></svg><svg x="7" y="13"><circle class="diplayer-loading-dot diplayer-loading-dot-4" cx="4" cy="4" r="2"></circle></svg><svg x="3" y="11"><circle class="diplayer-loading-dot diplayer-loading-dot-5" cx="4" cy="4" r="2"></circle></svg><svg x="1" y="7"><circle class="diplayer-loading-dot diplayer-loading-dot-6" cx="4" cy="4" r="2"></circle></svg><svg x="3" y="3"><circle class="diplayer-loading-dot diplayer-loading-dot-7" cx="4" cy="4" r="2"></circle></svg></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M26.667 5.333h-21.333c-0 0-0.001 0-0.001 0-1.472 0-2.666 1.194-2.666 2.666 0 0 0 0.001 0 0.001v-0 16c0 0 0 0.001 0 0.001 0 1.472 1.194 2.666 2.666 2.666 0 0 0.001 0 0.001 0h21.333c0 0 0.001 0 0.001 0 1.472 0 2.666-1.194 2.666-2.666 0-0 0-0.001 0-0.001v0-16c0-0 0-0.001 0-0.001 0-1.472-1.194-2.666-2.666-2.666-0 0-0.001 0-0.001 0h0zM5.333 16h5.333v2.667h-5.333v-2.667zM18.667 24h-13.333v-2.667h13.333v2.667zM26.667 24h-5.333v-2.667h5.333v2.667zM26.667 18.667h-13.333v-2.667h13.333v2.667z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M16 23c-3.309 0-6-2.691-6-6s2.691-6 6-6 6 2.691 6 6-2.691 6-6 6zM16 13c-2.206 0-4 1.794-4 4s1.794 4 4 4c2.206 0 4-1.794 4-4s-1.794-4-4-4zM27 28h-22c-1.654 0-3-1.346-3-3v-16c0-1.654 1.346-3 3-3h3c0.552 0 1 0.448 1 1s-0.448 1-1 1h-3c-0.551 0-1 0.449-1 1v16c0 0.552 0.449 1 1 1h22c0.552 0 1-0.448 1-1v-16c0-0.551-0.448-1-1-1h-11c-0.552 0-1-0.448-1-1s0.448-1 1-1h11c1.654 0 3 1.346 3 3v16c0 1.654-1.346 3-3 3zM24 10.5c0 0.828 0.672 1.5 1.5 1.5s1.5-0.672 1.5-1.5c0-0.828-0.672-1.5-1.5-1.5s-1.5 0.672-1.5 1.5zM15 4c0 0.552-0.448 1-1 1h-4c-0.552 0-1-0.448-1-1v0c0-0.552 0.448-1 1-1h4c0.552 0 1 0.448 1 1v0z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M19.357 2.88c1.749 0 3.366 0.316 4.851 0.946 1.485 0.632 2.768 1.474 3.845 2.533s1.922 2.279 2.532 3.661c0.611 1.383 0.915 2.829 0.915 4.334 0 1.425-0.304 2.847-0.915 4.271-0.611 1.425-1.587 2.767-2.928 4.028-0.855 0.813-1.811 1.607-2.869 2.38s-2.136 1.465-3.233 2.075c-1.099 0.61-2.198 1.098-3.296 1.465-1.098 0.366-2.115 0.549-3.051 0.549-1.343 0-2.441-0.438-3.296-1.311-0.854-0.876-1.281-2.41-1.281-4.608 0-0.366 0.020-0.773 0.060-1.221s0.062-0.895 0.062-1.343c0-0.773-0.183-1.353-0.55-1.738-0.366-0.387-0.793-0.58-1.281-0.58-0.652 0-1.21 0.295-1.678 0.886s-0.926 1.23-1.373 1.921c-0.447 0.693-0.905 1.334-1.372 1.923s-1.028 0.886-1.679 0.886c-0.529 0-1.048-0.427-1.556-1.282s-0.763-2.259-0.763-4.212c0-2.197 0.529-4.241 1.587-6.133s2.462-3.529 4.21-4.912c1.75-1.383 3.762-2.471 6.041-3.264 2.277-0.796 4.617-1.212 7.018-1.253zM7.334 15.817c0.569 0 1.047-0.204 1.434-0.611s0.579-0.875 0.579-1.404c0-0.569-0.193-1.047-0.579-1.434s-0.864-0.579-1.434-0.579c-0.529 0-0.987 0.193-1.373 0.579s-0.58 0.864-0.58 1.434c0 0.53 0.194 0.998 0.58 1.404 0.388 0.407 0.845 0.611 1.373 0.611zM12.216 11.79c0.691 0 1.292-0.254 1.8-0.763s0.762-1.107 0.762-1.8c0-0.732-0.255-1.343-0.762-1.831-0.509-0.489-1.109-0.732-1.8-0.732-0.732 0-1.342 0.244-1.831 0.732-0.488 0.488-0.732 1.098-0.732 1.831 0 0.693 0.244 1.292 0.732 1.8s1.099 0.763 1.831 0.763zM16.366 25.947c0.692 0 1.282-0.214 1.77-0.64s0.732-0.987 0.732-1.678-0.244-1.261-0.732-1.709c-0.489-0.448-1.078-0.671-1.77-0.671-0.65 0-1.21 0.223-1.678 0.671s-0.702 1.018-0.702 1.709c0 0.692 0.234 1.25 0.702 1.678s1.027 0.64 1.678 0.64zM19.113 9.592c0.651 0 1.129-0.203 1.433-0.611 0.305-0.406 0.459-0.874 0.459-1.404 0-0.488-0.154-0.947-0.459-1.373-0.304-0.427-0.782-0.641-1.433-0.641-0.529 0-1.008 0.193-1.434 0.58s-0.64 0.865-0.64 1.434c0 0.571 0.213 1.049 0.64 1.434 0.427 0.389 0.905 0.581 1.434 0.581zM24.848 12.826c0.57 0 1.067-0.213 1.495-0.64 0.427-0.427 0.64-0.947 0.64-1.556 0-0.57-0.214-1.068-0.64-1.495-0.428-0.427-0.927-0.64-1.495-0.64-0.611 0-1.129 0.213-1.555 0.64-0.428 0.427-0.642 0.926-0.642 1.495 0 0.611 0.213 1.129 0.642 1.556s0.947 0.64 1.555 0.64z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M13.725 30l3.9-5.325-3.9-1.125v6.45zM0 17.5l11.050 3.35 13.6-11.55-10.55 12.425 11.8 3.65 6.1-23.375-32 15.5z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M27.090 0.131h-22.731c-2.354 0-4.262 1.839-4.262 4.109v16.401c0 2.269 1.908 4.109 4.262 4.109h4.262v-2.706h8.469l-8.853 8.135 1.579 1.451 7.487-6.88h9.787c2.353 0 4.262-1.84 4.262-4.109v-16.401c0-2.27-1.909-4.109-4.262-4.109v0zM28.511 19.304c0 1.512-1.272 2.738-2.841 2.738h-8.425l-0.076-0.070-0.076 0.070h-11.311c-1.569 0-2.841-1.226-2.841-2.738v-13.696c0-1.513 1.272-2.739 2.841-2.739h19.889c1.569 0 2.841-0.142 2.841 1.37v15.064z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M27.128 0.38h-22.553c-2.336 0-4.229 1.825-4.229 4.076v16.273c0 2.251 1.893 4.076 4.229 4.076h4.229v-2.685h8.403l-8.784 8.072 1.566 1.44 7.429-6.827h9.71c2.335 0 4.229-1.825 4.229-4.076v-16.273c0-2.252-1.894-4.076-4.229-4.076zM28.538 19.403c0 1.5-1.262 2.717-2.819 2.717h-8.36l-0.076-0.070-0.076 0.070h-11.223c-1.557 0-2.819-1.217-2.819-2.717v-13.589c0-1.501 1.262-2.718 2.819-2.718h19.734c1.557 0 2.819-0.141 2.819 1.359v14.947zM9.206 10.557c-1.222 0-2.215 0.911-2.215 2.036s0.992 2.035 2.215 2.035c1.224 0 2.216-0.911 2.216-2.035s-0.992-2.036-2.216-2.036zM22.496 10.557c-1.224 0-2.215 0.911-2.215 2.036s0.991 2.035 2.215 2.035c1.224 0 2.215-0.911 2.215-2.035s-0.991-2.036-2.215-2.036zM15.852 10.557c-1.224 0-2.215 0.911-2.215 2.036s0.991 2.035 2.215 2.035c1.222 0 2.215-0.911 2.215-2.035s-0.992-2.036-2.215-2.036z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M22 16l-10.105-10.6-1.895 1.987 8.211 8.613-8.211 8.612 1.895 1.988 8.211-8.613z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 28"><path d="M28.633 17.104c0.035 0.21 0.026 0.463-0.026 0.76s-0.14 0.598-0.262 0.904c-0.122 0.306-0.271 0.581-0.445 0.825s-0.367 0.419-0.576 0.524c-0.209 0.105-0.393 0.157-0.55 0.157s-0.332-0.035-0.524-0.105c-0.175-0.052-0.393-0.1-0.655-0.144s-0.528-0.052-0.799-0.026c-0.271 0.026-0.541 0.083-0.812 0.17s-0.502 0.236-0.694 0.445c-0.419 0.437-0.664 0.934-0.734 1.493s0.009 1.092 0.236 1.598c0.175 0.349 0.148 0.699-0.079 1.048-0.105 0.14-0.271 0.284-0.498 0.432s-0.476 0.284-0.747 0.406-0.555 0.218-0.851 0.288c-0.297 0.070-0.559 0.105-0.786 0.105-0.157 0-0.306-0.061-0.445-0.183s-0.236-0.253-0.288-0.393h-0.026c-0.192-0.541-0.52-1.009-0.982-1.402s-1-0.589-1.611-0.589c-0.594 0-1.131 0.197-1.611 0.589s-0.816 0.851-1.009 1.375c-0.087 0.21-0.218 0.362-0.393 0.458s-0.367 0.144-0.576 0.144c-0.244 0-0.52-0.044-0.825-0.131s-0.611-0.197-0.917-0.327c-0.306-0.131-0.581-0.284-0.825-0.458s-0.428-0.349-0.55-0.524c-0.087-0.122-0.135-0.266-0.144-0.432s0.057-0.397 0.197-0.694c0.192-0.402 0.266-0.86 0.223-1.375s-0.266-0.991-0.668-1.428c-0.244-0.262-0.541-0.432-0.891-0.511s-0.681-0.109-0.995-0.092c-0.367 0.017-0.742 0.087-1.127 0.21-0.244 0.070-0.489 0.052-0.734-0.052-0.192-0.070-0.371-0.231-0.537-0.485s-0.314-0.533-0.445-0.838c-0.131-0.306-0.231-0.62-0.301-0.943s-0.087-0.59-0.052-0.799c0.052-0.384 0.227-0.629 0.524-0.734 0.524-0.21 0.995-0.555 1.415-1.035s0.629-1.017 0.629-1.611c0-0.611-0.21-1.144-0.629-1.598s-0.891-0.786-1.415-0.996c-0.157-0.052-0.288-0.179-0.393-0.38s-0.157-0.406-0.157-0.616c0-0.227 0.035-0.48 0.105-0.76s0.162-0.55 0.275-0.812 0.244-0.502 0.393-0.72c0.148-0.218 0.31-0.38 0.485-0.485 0.14-0.087 0.275-0.122 0.406-0.105s0.275 0.052 0.432 0.105c0.524 0.21 1.070 0.275 1.637 0.197s1.070-0.327 1.506-0.747c0.21-0.209 0.362-0.467 0.458-0.773s0.157-0.607 0.183-0.904c0.026-0.297 0.026-0.568 0-0.812s-0.048-0.419-0.065-0.524c-0.035-0.105-0.066-0.227-0.092-0.367s-0.013-0.262 0.039-0.367c0.105-0.244 0.293-0.458 0.563-0.642s0.563-0.336 0.878-0.458c0.314-0.122 0.62-0.214 0.917-0.275s0.533-0.092 0.707-0.092c0.227 0 0.406 0.074 0.537 0.223s0.223 0.301 0.275 0.458c0.192 0.471 0.507 0.886 0.943 1.244s0.952 0.537 1.546 0.537c0.611 0 1.153-0.17 1.624-0.511s0.803-0.773 0.996-1.297c0.070-0.14 0.179-0.284 0.327-0.432s0.301-0.223 0.458-0.223c0.244 0 0.511 0.035 0.799 0.105s0.572 0.166 0.851 0.288c0.279 0.122 0.537 0.279 0.773 0.472s0.423 0.402 0.563 0.629c0.087 0.14 0.113 0.293 0.079 0.458s-0.070 0.284-0.105 0.354c-0.227 0.506-0.297 1.039-0.21 1.598s0.341 1.048 0.76 1.467c0.419 0.419 0.934 0.651 1.546 0.694s1.179-0.057 1.703-0.301c0.14-0.087 0.31-0.122 0.511-0.105s0.371 0.096 0.511 0.236c0.262 0.244 0.493 0.616 0.694 1.113s0.336 1 0.406 1.506c0.035 0.297-0.013 0.528-0.144 0.694s-0.266 0.275-0.406 0.327c-0.542 0.192-1.004 0.528-1.388 1.009s-0.576 1.026-0.576 1.637c0 0.594 0.162 1.113 0.485 1.559s0.747 0.764 1.27 0.956c0.122 0.070 0.227 0.14 0.314 0.21 0.192 0.157 0.323 0.358 0.393 0.602v0zM16.451 19.462c0.786 0 1.528-0.149 2.227-0.445s1.305-0.707 1.821-1.231c0.515-0.524 0.921-1.131 1.218-1.821s0.445-1.428 0.445-2.214c0-0.786-0.148-1.524-0.445-2.214s-0.703-1.292-1.218-1.808c-0.515-0.515-1.122-0.921-1.821-1.218s-1.441-0.445-2.227-0.445c-0.786 0-1.524 0.148-2.214 0.445s-1.292 0.703-1.808 1.218c-0.515 0.515-0.921 1.118-1.218 1.808s-0.445 1.428-0.445 2.214c0 0.786 0.149 1.524 0.445 2.214s0.703 1.297 1.218 1.821c0.515 0.524 1.118 0.934 1.808 1.231s1.428 0.445 2.214 0.445v0z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 33"><path d="M24.965 24.38h-18.132c-1.366 0-2.478-1.113-2.478-2.478v-11.806c0-1.364 1.111-2.478 2.478-2.478h18.132c1.366 0 2.478 1.113 2.478 2.478v11.806c0 1.364-1.11 2.478-2.478 2.478zM6.833 10.097v11.806h18.134l-0.002-11.806h-18.132zM2.478 28.928h5.952c0.684 0 1.238-0.554 1.238-1.239 0-0.684-0.554-1.238-1.238-1.238h-5.952v-5.802c0-0.684-0.554-1.239-1.238-1.239s-1.239 0.556-1.239 1.239v5.802c0 1.365 1.111 2.478 2.478 2.478zM30.761 19.412c-0.684 0-1.238 0.554-1.238 1.238v5.801h-5.951c-0.686 0-1.239 0.554-1.239 1.238 0 0.686 0.554 1.239 1.239 1.239h5.951c1.366 0 2.478-1.111 2.478-2.478v-5.801c0-0.683-0.554-1.238-1.239-1.238zM0 5.55v5.802c0 0.683 0.554 1.238 1.238 1.238s1.238-0.555 1.238-1.238v-5.802h5.952c0.684 0 1.238-0.554 1.238-1.238s-0.554-1.238-1.238-1.238h-5.951c-1.366-0.001-2.478 1.111-2.478 2.476zM32 11.35v-5.801c0-1.365-1.11-2.478-2.478-2.478h-5.951c-0.686 0-1.239 0.554-1.239 1.238s0.554 1.238 1.239 1.238h5.951v5.801c0 0.683 0.554 1.237 1.238 1.237 0.686 0.002 1.239-0.553 1.239-1.236z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 33"><path d="M6.667 28h-5.333c-0.8 0-1.333-0.533-1.333-1.333v-5.333c0-0.8 0.533-1.333 1.333-1.333s1.333 0.533 1.333 1.333v4h4c0.8 0 1.333 0.533 1.333 1.333s-0.533 1.333-1.333 1.333zM30.667 28h-5.333c-0.8 0-1.333-0.533-1.333-1.333s0.533-1.333 1.333-1.333h4v-4c0-0.8 0.533-1.333 1.333-1.333s1.333 0.533 1.333 1.333v5.333c0 0.8-0.533 1.333-1.333 1.333zM30.667 12c-0.8 0-1.333-0.533-1.333-1.333v-4h-4c-0.8 0-1.333-0.533-1.333-1.333s0.533-1.333 1.333-1.333h5.333c0.8 0 1.333 0.533 1.333 1.333v5.333c0 0.8-0.533 1.333-1.333 1.333zM1.333 12c-0.8 0-1.333-0.533-1.333-1.333v-5.333c0-0.8 0.533-1.333 1.333-1.333h5.333c0.8 0 1.333 0.533 1.333 1.333s-0.533 1.333-1.333 1.333h-4v4c0 0.8-0.533 1.333-1.333 1.333z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 21 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 21 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 21 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528zM25.152 16q0 2.72-1.536 5.056t-4 3.36q-0.256 0.096-0.448 0.096-0.48 0-0.832-0.352t-0.32-0.8q0-0.704 0.672-1.056 1.024-0.512 1.376-0.8 1.312-0.96 2.048-2.4t0.736-3.104-0.736-3.104-2.048-2.4q-0.352-0.288-1.376-0.8-0.672-0.352-0.672-1.056 0-0.448 0.32-0.8t0.8-0.352q0.224 0 0.48 0.096 2.496 1.056 4 3.36t1.536 5.056z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 17 32"><path d="M14.080 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048zM2.88 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 16 32"><path d="M15.552 15.168q0.448 0.32 0.448 0.832 0 0.448-0.448 0.768l-13.696 8.512q-0.768 0.512-1.312 0.192t-0.544-1.28v-16.448q0-0.96 0.544-1.28t1.312 0.192z"></path></svg>'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=a(n(2)),o=a(n(30));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e.container,this.options=e.options,this.index=e.index,this.tran=e.tran,this.init()}return i(t,[{key:"init",value:function(){this.container.innerHTML=(0,o.default)({options:this.options,index:this.index,tran:this.tran,icons:r.default,video:{current:!0,pic:this.options.video.pic,screenshot:this.options.screenshot,preload:this.options.preload,url:this.options.video.url,subtitle:this.options.subtitle}}),this.volumeBar=this.container.querySelector(".dplayer-volume-bar-inner"),this.volumeBarWrap=this.container.querySelector(".dplayer-volume-bar"),this.volumeBarWrapWrap=this.container.querySelector(".dplayer-volume-bar-wrap"),this.volumeButton=this.container.querySelector(".dplayer-volume"),this.volumeButtonIcon=this.container.querySelector(".dplayer-volume-icon"),this.volumeIcon=this.container.querySelector(".dplayer-volume-icon .dplayer-icon-content"),this.playedBar=this.container.querySelector(".dplayer-played"),this.loadedBar=this.container.querySelector(".dplayer-loaded"),this.playedBarWrap=this.container.querySelector(".dplayer-bar-wrap"),this.playedBarTime=this.container.querySelector(".dplayer-bar-time"),this.danmaku=this.container.querySelector(".dplayer-danmaku"),this.danmakuLoading=this.container.querySelector(".dplayer-danloading"),this.video=this.container.querySelector(".dplayer-video-current"),this.bezel=this.container.querySelector(".dplayer-bezel-icon"),this.playButton=this.container.querySelector(".dplayer-play-icon"),this.videoWrap=this.container.querySelector(".dplayer-video-wrap"),this.controllerMask=this.container.querySelector(".dplayer-controller-mask"),this.ptime=this.container.querySelector(".dplayer-ptime"),this.settingButton=this.container.querySelector(".dplayer-setting-icon"),this.settingBox=this.container.querySelector(".dplayer-setting-box"),this.mask=this.container.querySelector(".dplayer-mask"),this.loop=this.container.querySelector(".dplayer-setting-loop"),this.loopToggle=this.container.querySelector(".dplayer-setting-loop .dplayer-toggle-setting-input"),this.showDanmaku=this.container.querySelector(".dplayer-setting-showdan"),this.showDanmakuToggle=this.container.querySelector(".dplayer-showdan-setting-input"),this.unlimitDanmaku=this.container.querySelector(".dplayer-setting-danunlimit"),this.unlimitDanmakuToggle=this.container.querySelector(".dplayer-danunlimit-setting-input"),this.speed=this.container.querySelector(".dplayer-setting-speed"),this.speedItem=this.container.querySelectorAll(".dplayer-setting-speed-item"),this.danmakuOpacityBar=this.container.querySelector(".dplayer-danmaku-bar-inner"),this.danmakuOpacityBarWrap=this.container.querySelector(".dplayer-danmaku-bar"),this.danmakuOpacityBarWrapWrap=this.container.querySelector(".dplayer-danmaku-bar-wrap"),this.danmakuOpacityBox=this.container.querySelector(".dplayer-setting-danmaku"),this.dtime=this.container.querySelector(".dplayer-dtime"),this.controller=this.container.querySelector(".dplayer-controller"),this.commentInput=this.container.querySelector(".dplayer-comment-input"),this.commentButton=this.container.querySelector(".dplayer-comment-icon"),this.commentSettingBox=this.container.querySelector(".dplayer-comment-setting-box"),this.commentSettingButton=this.container.querySelector(".dplayer-comment-setting-icon"),this.commentSettingFill=this.container.querySelector(".dplayer-comment-setting-icon path"),this.commentSendButton=this.container.querySelector(".dplayer-send-icon"),this.commentSendFill=this.container.querySelector(".dplayer-send-icon path"),this.commentColorSettingBox=this.container.querySelector(".dplayer-comment-setting-color"),this.browserFullButton=this.container.querySelector(".dplayer-full-icon"),this.webFullButton=this.container.querySelector(".dplayer-full-in-icon"),this.menu=this.container.querySelector(".dplayer-menu"),this.menuItem=this.container.querySelectorAll(".dplayer-menu-item"),this.qualityList=this.container.querySelector(".dplayer-quality-list"),this.camareButton=this.container.querySelector(".dplayer-camera-icon"),this.subtitleButton=this.container.querySelector(".dplayer-subtitle-icon"),this.subtitleButtonInner=this.container.querySelector(".dplayer-subtitle-icon .dplayer-icon-content"),this.subtitle=this.container.querySelector(".dplayer-subtitle"),this.qualityButton=this.container.querySelector(".dplayer-quality-icon"),this.barPreview=this.container.querySelector(".dplayer-bar-preview"),this.barWrap=this.container.querySelector(".dplayer-bar-wrap"),this.notice=this.container.querySelector(".dplayer-notice"),this.infoPanel=this.container.querySelector(".dplayer-info-panel"),this.infoPanelClose=this.container.querySelector(".dplayer-info-panel-close"),this.infoVersion=this.container.querySelector(".dplayer-info-panel-item-version .dplayer-info-panel-item-data"),this.infoFPS=this.container.querySelector(".dplayer-info-panel-item-fps .dplayer-info-panel-item-data"),this.infoType=this.container.querySelector(".dplayer-info-panel-item-type .dplayer-info-panel-item-data"),this.infoUrl=this.container.querySelector(".dplayer-info-panel-item-url .dplayer-info-panel-item-data"),this.infoResolution=this.container.querySelector(".dplayer-info-panel-item-resolution .dplayer-info-panel-item-data"),this.infoDuration=this.container.querySelector(".dplayer-info-panel-item-duration .dplayer-info-panel-item-data"),this.infoDanmakuId=this.container.querySelector(".dplayer-info-panel-item-danmaku-id .dplayer-info-panel-item-data"),this.infoDanmakuApi=this.container.querySelector(".dplayer-info-panel-item-danmaku-api .dplayer-info-panel-item-data"),this.infoDanmakuAmount=this.container.querySelector(".dplayer-info-panel-item-danmaku-amount .dplayer-info-panel-item-data")}}]),t}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={"zh-cn":{"Danmaku is loading":"弹幕加载中",Top:"顶部",Bottom:"底部",Rolling:"滚动","Input danmaku, hit Enter":"输入弹幕，回车发送","About author":"关于作者","DPlayer feedback":"播放器意见反馈","About DPlayer":"关于 DPlayer 播放器",Loop:"洗脑循环",Speed:"速度","Opacity for danmaku":"弹幕透明度",Normal:"正常","Please input danmaku content!":"要输入弹幕内容啊喂！","Set danmaku color":"设置弹幕颜色","Set danmaku type":"设置弹幕类型","Show danmaku":"显示弹幕","Video load failed":"视频加载失败","Danmaku load failed":"弹幕加载失败","Danmaku send failed":"弹幕发送失败","Switching to":"正在切换至","Switched to":"已经切换至",quality:"画质",FF:"快进",REW:"快退","Unlimited danmaku":"海量弹幕","Send danmaku":"发送弹幕",Setting:"设置","Full screen":"全屏","Web full screen":"页面全屏",Send:"发送",Screenshot:"截图",s:"秒","Show subtitle":"显示字幕","Hide subtitle":"隐藏字幕",Volume:"音量",Live:"直播","Video info":"视频统计信息"},"zh-tw":{"Danmaku is loading":"彈幕載入中",Top:"頂部",Bottom:"底部",Rolling:"滾動","Input danmaku, hit Enter":"輸入彈幕，Enter 發送","About author":"關於作者","DPlayer feedback":"播放器意見回饋","About DPlayer":"關於 DPlayer 播放器",Loop:"循環播放",Speed:"速度","Opacity for danmaku":"彈幕透明度",Normal:"正常","Please input danmaku content!":"請輸入彈幕內容啊！","Set danmaku color":"設定彈幕顏色","Set danmaku type":"設定彈幕類型","Show danmaku":"顯示彈幕","Video load failed":"影片載入失敗","Danmaku load failed":"彈幕載入失敗","Danmaku send failed":"彈幕發送失敗","Switching to":"正在切換至","Switched to":"已經切換至",quality:"畫質",FF:"快進",REW:"快退","Unlimited danmaku":"巨量彈幕","Send danmaku":"發送彈幕",Setting:"設定","Full screen":"全螢幕","Web full screen":"頁面全螢幕",Send:"發送",Screenshot:"截圖",s:"秒","Show subtitle":"顯示字幕","Hide subtitle":"隱藏字幕",Volume:"音量",Live:"直播","Video info":"影片統計訊息"}};e.default=function(t){var e=this;this.lang=t,this.tran=function(t){return i[e.lang]&&i[e.lang][t]?i[e.lang][t]:t}}},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){"use strict";var i=n(7);function r(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new i(t),e(n.reason))})}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var t;return{token:new r(function(e){t=e}),cancel:t}},t.exports=r},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";var i=n(0);t.exports=function(t,e,n){return i.forEach(n,function(n){t=n(t,e)}),t}},function(t,e,n){"use strict";var i=n(0),r=n(53),o=n(8),a=n(3),s=n(52),u=n(51);function l(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return l(t),t.baseURL&&!s(t.url)&&(t.url=u(t.baseURL,t.url)),t.headers=t.headers||{},t.data=r(t.data,t.headers,t.transformRequest),t.headers=i.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),i.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||a.adapter)(t).then(function(e){return l(t),e.data=r(e.data,e.headers,t.transformResponse),e},function(e){return o(e)||(l(t),e&&e.response&&(e.response.data=r(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,n){"use strict";var i=n(0);function r(){this.handlers=[]}r.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},r.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},r.prototype.forEach=function(t){i.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=r},function(t,e,n){"use strict";var i=n(0);t.exports=i.isStandardBrowserEnv()?{write:function(t,e,n,r,o,a){var s=[];s.push(t+"="+encodeURIComponent(e)),i.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),i.isString(r)&&s.push("path="+r),i.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";function i(){this.message="String contains an invalid character"}i.prototype=new Error,i.prototype.code=5,i.prototype.name="InvalidCharacterError",t.exports=function(t){for(var e,n,r=String(t),o="",a=0,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.charAt(0|a)||(s="=",a%1);o+=s.charAt(63&e>>8-a%1*8)){if((n=r.charCodeAt(a+=.75))>255)throw new i;e=e<<8|n}return o}},function(t,e,n){"use strict";var i=n(0);t.exports=i.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(t){var i=t;return e&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=r(window.location.href),function(e){var n=i.isString(e)?r(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var i=n(0),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,a={};return t?(i.forEach(t.split("\n"),function(t){if(o=t.indexOf(":"),e=i.trim(t.substr(0,o)).toLowerCase(),n=i.trim(t.substr(o+1)),e){if(a[e]&&r.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}}),a):a}},function(t,e,n){"use strict";var i=n(0);function r(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(i.isURLSearchParams(e))o=e.toString();else{var a=[];i.forEach(e,function(t,e){null!=t&&(i.isArray(t)?e+="[]":t=[t],i.forEach(t,function(t){i.isDate(t)?t=t.toISOString():i.isObject(t)&&(t=JSON.stringify(t)),a.push(r(e)+"="+r(t))}))}),o=a.join("&")}return o&&(t+=(-1===t.indexOf("?")?"?":"&")+o),t}},function(t,e,n){"use strict";t.exports=function(t,e,n,i,r){return t.config=e,n&&(t.code=n),t.request=i,t.response=r,t}},function(t,e,n){"use strict";var i=n(9);t.exports=function(t,e,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(i("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},function(t,e,n){"use strict";var i=n(0);t.exports=function(t,e){i.forEach(t,function(n,i){i!==e&&i.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[i])})}},function(t,e,n){"use strict";var i=n(3),r=n(0),o=n(55),a=n(54);function s(t){this.defaults=t,this.interceptors={request:new o,response:new o}}s.prototype.request=function(t){"string"==typeof t&&(t=r.merge({url:arguments[0]},arguments[1])),(t=r.merge(i,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var e=[a,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},r.forEach(["delete","get","head","options"],function(t){s.prototype[t]=function(e,n){return this.request(r.merge(n||{},{method:t,url:e}))}}),r.forEach(["post","put","patch"],function(t){s.prototype[t]=function(e,n,i){return this.request(r.merge(i||{},{method:t,url:e,data:n}))}}),t.exports=s},function(t,e,n){"use strict";function i(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}t.exports=function(t){return null!=t&&(i(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&i(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e,n){"use strict";var i=n(0),r=n(11),o=n(64),a=n(3);function s(t){var e=new o(t),n=r(o.prototype.request,e);return i.extend(n,o.prototype,e),i.extend(n,e),n}var u=s(a);u.Axios=o,u.create=function(t){return s(i.merge(a,t))},u.Cancel=n(7),u.CancelToken=n(50),u.isCancel=n(8),u.all=function(t){return Promise.all(t)},u.spread=n(49),t.exports=u,t.exports.default=u},function(t,e,n){"use strict";t.exports=n(66)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=(i=n(67))&&i.__esModule?i:{default:i};e.default={send:function(t){r.default.post(t.url,t.data).then(function(e){var n=e.data;n&&0===n.code?t.success&&t.success(n):t.error&&t.error(n&&n.msg)}).catch(function(e){console.error(e),t.error&&t.error()})},read:function(t){r.default.get(t.url).then(function(e){var n=e.data;n&&0===n.code?t.success&&t.success(n.data.map(function(t){return{time:t[0],type:t[1],color:t[2],author:t[3],text:t[4]}})):t.error&&t.error(n&&n.msg)}).catch(function(e){console.error(e),t.error&&t.error()})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r="function"==typeof Symbol&&"symbol"==u(Symbol.iterator)?function(t){return u(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":u(t)},o=(i=n(68))&&i.__esModule?i:{default:i};e.default=function(t){var e={container:t.element||document.getElementsByClassName("dplayer")[0],live:!1,autoplay:!1,theme:"#b7daff",loop:!1,lang:(navigator.language||navigator.browserLanguage).toLowerCase(),screenshot:!1,hotkey:!0,preload:"metadata",volume:.7,apiBackend:o.default,video:{},contextmenu:[],mutex:!0};for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n]);return t.video&&!t.video.type&&(t.video.type="auto"),"object"===r(t.danmaku)&&t.danmaku&&!t.danmaku.user&&(t.danmaku.user="DIYgod"),t.subtitle&&(!t.subtitle.type&&(t.subtitle.type="webvtt"),!t.subtitle.fontSize&&(t.subtitle.fontSize="20px"),!t.subtitle.bottom&&(t.subtitle.bottom="40px"),!t.subtitle.color&&(t.subtitle.color="#fff")),t.video.quality&&(t.video.url=t.video.quality[t.video.defaultQuality].url),t.lang&&(t.lang=t.lang.toLowerCase()),t.contextmenu=t.contextmenu.concat([{text:"Video info",click:function(t){t.infoPanel.triggle()}},{text:"About author",link:"https://diygod.me"},{text:"DPlayer v1.25.0",link:"https://github.com/MoePlayer/DPlayer"}]),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){return e.reject(n)})})}},function(t,e,n){"use strict";(function(t,e){!function(t,n){if(!t.setImmediate){var i,r,o,a,s,u=1,l={},c=!1,d=t.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(t);h=h&&h.setTimeout?h:t,"[object process]"==={}.toString.call(t.process)?i=function(t){e.nextTick(function(){p(t)})}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?(a="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&p(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),i=function(e){t.postMessage(a+e,"*")}):t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){p(t.data)},i=function(t){o.port2.postMessage(t)}):d&&"onreadystatechange"in d.createElement("script")?(r=d.documentElement,i=function(t){var e=d.createElement("script");e.onreadystatechange=function(){p(t),e.onreadystatechange=null,r.removeChild(e),e=null},r.appendChild(e)}):i=function(t){setTimeout(p,0,t)},h.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return l[u]=r,i(u),u++},h.clearImmediate=f}function f(t){delete l[t]}function p(t){if(c)setTimeout(p,0,t);else{var e=l[t];if(e){c=!0;try{!function(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(n,i)}}(e)}finally{f(t),c=!1}}}}}("undefined"==typeof self?void 0===t?void 0:t:self)}).call(this,n(4),n(12))},function(e,i,r){"use strict";var o=Function.prototype.apply;function a(t,e){this._id=t,this._clearFn=e}i.setTimeout=function(){return new a(o.call(setTimeout,window,arguments),clearTimeout)},i.setInterval=function(){return new a(o.call(setInterval,window,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(t){t&&t.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(window,this._id)},i.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},i.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},i._unrefActive=i.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},r(71),i.setImmediate=t,i.clearImmediate=n},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i,r="function"==typeof Symbol&&"symbol"==u(Symbol.iterator)?function(t){return u(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":u(t)},o=(i=n(70))&&i.__esModule?i:{default:i},a=setTimeout;function s(){}function l(t){if(!(this instanceof l))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],p(t,this)}function c(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,l._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var i;try{i=n(t._value)}catch(t){return void h(e.promise,t)}d(e.promise,i)}else(1===t._state?d:h)(e.promise,t._value)})):t._deferreds.push(e)}function d(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"===(void 0===e?"undefined":r(e))||"function"==typeof e)){var n=e.then;if(e instanceof l)return t._state=3,t._value=e,void f(t);if("function"==typeof n)return void p((i=n,o=e,function(){i.apply(o,arguments)}),t)}t._state=1,t._value=e,f(t)}catch(e){h(t,e)}var i,o}function h(t,e){t._state=2,t._value=e,f(t)}function f(t){2===t._state&&0===t._deferreds.length&&l._immediateFn(function(){t._handled||l._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)c(t,t._deferreds[e]);t._deferreds=null}function p(t,e){var n=!1;try{t(function(t){n||(n=!0,d(e,t))},function(t){n||(n=!0,h(e,t))})}catch(t){if(n)return;n=!0,h(e,t)}}l.prototype.catch=function(t){return this.then(null,t)},l.prototype.then=function(t,e){var n=new this.constructor(s);return c(this,new function(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}(t,e,n)),n},l.prototype.finally=o.default,l.all=function(t){return new l(function(e,n){if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var i=Array.prototype.slice.call(t);if(0===i.length)return e([]);var o=i.length;function a(t,s){try{if(s&&("object"===(void 0===s?"undefined":r(s))||"function"==typeof s)){var u=s.then;if("function"==typeof u)return void u.call(s,function(e){a(t,e)},n)}i[t]=s,0==--o&&e(i)}catch(t){n(t)}}for(var s=0;s<i.length;s++)a(s,i[s])})},l.resolve=function(t){return t&&"object"===(void 0===t?"undefined":r(t))&&t.constructor===l?t:new l(function(e){e(t)})},l.reject=function(t){return new l(function(e,n){n(t)})},l.race=function(t){return new l(function(e,n){for(var i=0,r=t.length;i<r;i++)t[i].then(e,n)})},l._immediateFn="function"==typeof t&&function(e){t(e)}||function(t){a(t,0)},l._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},e.default=l}).call(this,n(72).setImmediate)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=S(n(73)),o=S(n(1)),a=S(n(69)),s=S(n(48)),u=S(n(47)),l=S(n(2)),c=S(n(27)),d=S(n(26)),h=S(n(25)),f=S(n(24)),p=S(n(23)),m=S(n(22)),v=S(n(21)),y=S(n(20)),g=S(n(19)),b=S(n(17)),_=S(n(16)),w=S(n(15)),x=S(n(14)),k=S(n(13)),T=S(n(5));function S(t){return t&&t.__esModule?t:{default:t}}var E=0,C=[],O=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=(0,a.default)(e),this.options.video.quality&&(this.qualityIndex=this.options.video.defaultQuality,this.quality=this.options.video.quality[this.options.video.defaultQuality]),this.tran=new s.default(this.options.lang).tran,this.events=new d.default,this.user=new f.default(this),this.container=this.options.container,this.container.classList.add("dplayer"),this.options.danmaku||this.container.classList.add("dplayer-no-danmaku"),this.options.live&&this.container.classList.add("dplayer-live"),o.default.isMobile&&this.container.classList.add("dplayer-mobile"),this.arrow=this.container.offsetWidth<=500,this.arrow&&this.container.classList.add("dplayer-arrow"),this.template=new u.default({container:this.container,options:this.options,index:E,tran:this.tran}),this.video=this.template.video,this.bar=new m.default(this.template),this.bezel=new y.default(this.template.bezel),this.fullScreen=new h.default(this),this.controller=new g.default(this),this.options.danmaku&&(this.danmaku=new c.default({container:this.template.danmaku,opacity:this.user.get("opacity"),callback:function(){setTimeout(function(){n.template.danmakuLoading.style.display="none",n.options.autoplay&&n.play()},0)},error:function(t){n.notice(t)},apiBackend:this.options.apiBackend,borderColor:this.options.theme,height:this.arrow?24:30,time:function(){return n.video.currentTime},unlimited:this.user.get("unlimited"),api:{id:this.options.danmaku.id,address:this.options.danmaku.api,token:this.options.danmaku.token,maximum:this.options.danmaku.maximum,addition:this.options.danmaku.addition,user:this.options.danmaku.user},events:this.events,tran:function(t){return n.tran(t)}}),this.comment=new _.default(this)),this.setting=new b.default(this),document.addEventListener("click",function(){n.focus=!1},!0),this.container.addEventListener("click",function(){n.focus=!0},!0),this.paused=!0,this.timer=new v.default(this),this.hotkey=new w.default(this),this.contextmenu=new x.default(this),this.initVideo(this.video,this.quality&&this.quality.type||this.options.video.type),this.infoPanel=new k.default(this),!this.danmaku&&this.options.autoplay&&this.play(),E++,C.push(this)}return i(t,[{key:"seek",value:function(t){t=Math.max(t,0),this.video.duration&&(t=Math.min(t,this.video.duration)),this.video.currentTime<t?this.notice(this.tran("FF")+" "+(t-this.video.currentTime).toFixed(0)+" "+this.tran("s")):this.video.currentTime>t&&this.notice(this.tran("REW")+" "+(this.video.currentTime-t).toFixed(0)+" "+this.tran("s")),this.video.currentTime=t,this.danmaku&&this.danmaku.seek(),this.bar.set("played",t/this.video.duration,"width"),this.template.ptime.innerHTML=o.default.secondToTime(t)}},{key:"play",value:function(){var t=this;if(this.paused=!1,this.video.paused&&this.bezel.switch(l.default.play),this.template.playButton.innerHTML=l.default.pause,r.default.resolve(this.video.play()).catch(function(){t.pause()}).then(function(){}),this.timer.enable("loading"),this.container.classList.remove("dplayer-paused"),this.container.classList.add("dplayer-playing"),this.danmaku&&this.danmaku.play(),this.options.mutex)for(var e=0;e<C.length;e++)this!==C[e]&&C[e].pause()}},{key:"pause",value:function(){this.paused=!0,this.container.classList.remove("dplayer-loading"),this.video.paused||this.bezel.switch(l.default.pause),this.template.playButton.innerHTML=l.default.play,this.video.pause(),this.timer.disable("loading"),this.container.classList.remove("dplayer-playing"),this.container.classList.add("dplayer-paused"),this.danmaku&&this.danmaku.pause()}},{key:"switchVolumeIcon",value:function(){this.volume()>=.95?this.template.volumeIcon.innerHTML=l.default.volumeUp:this.volume()>0?this.template.volumeIcon.innerHTML=l.default.volumeDown:this.template.volumeIcon.innerHTML=l.default.volumeOff}},{key:"volume",value:function(t,e,n){if(t=parseFloat(t),!isNaN(t)){t=Math.max(t,0),t=Math.min(t,1),this.bar.set("volume",t,"width");var i=(100*t).toFixed(0)+"%";this.template.volumeBarWrapWrap.dataset.balloon=i,e||this.user.set("volume",t),n||this.notice(this.tran("Volume")+" "+(100*t).toFixed(0)+"%"),this.video.volume=t,this.video.muted&&(this.video.muted=!1),this.switchVolumeIcon()}return this.video.volume}},{key:"toggle",value:function(){this.video.paused?this.play():this.pause()}},{key:"on",value:function(t,e){this.events.on(t,e)}},{key:"switchVideo",value:function(t,e){this.pause(),this.video.poster=t.pic?t.pic:"",this.video.src=t.url,this.initMSE(this.video,t.type||"auto"),e&&(this.template.danmakuLoading.style.display="block",this.bar.set("played",0,"width"),this.bar.set("loaded",0,"width"),this.template.ptime.innerHTML="00:00",this.template.danmaku.innerHTML="",this.danmaku&&this.danmaku.reload({id:e.id,address:e.api,token:e.token,maximum:e.maximum,addition:e.addition,user:e.user}))}},{key:"initMSE",value:function(t,e){var n=this;if(this.type=e,this.options.video.customType&&this.options.video.customType[e])"[object Function]"===Object.prototype.toString.call(this.options.video.customType[e])?this.options.video.customType[e](this.video,this):console.error("Illegal customType: "+e);else switch("auto"===this.type&&(/m3u8(#|\?|$)/i.exec(t.src)?this.type="hls":/.flv(#|\?|$)/i.exec(t.src)?this.type="flv":/.mpd(#|\?|$)/i.exec(t.src)?this.type="dash":this.type="normal"),"hls"===this.type&&(t.canPlayType("application/x-mpegURL")||t.canPlayType("application/vnd.apple.mpegURL"))&&(this.type="normal"),this.type){case"hls":if(Hls)if(Hls.isSupported()){var i=new Hls;i.loadSource(t.src),i.attachMedia(t)}else this.notice("Error: Hls is not supported.");else this.notice("Error: Can't find Hls.");break;case"flv":if(flvjs&&flvjs.isSupported())if(flvjs.isSupported()){var r=flvjs.createPlayer({type:"flv",url:t.src});r.attachMediaElement(t),r.load()}else this.notice("Error: flvjs is not supported.");else this.notice("Error: Can't find flvjs.");break;case"dash":dashjs?dashjs.MediaPlayer().create().initialize(t,t.src,!1):this.notice("Error: Can't find dashjs.");break;case"webtorrent":if(WebTorrent)if(WebTorrent.WEBRTC_SUPPORT){this.container.classList.add("dplayer-loading");var o=new WebTorrent,a=t.src;o.add(a,function(t){t.files.find(function(t){return t.name.endsWith(".mp4")}).renderTo(n.video,{autoplay:n.options.autoplay},function(){n.container.classList.remove("dplayer-loading")})})}else this.notice("Error: Webtorrent is not supported.");else this.notice("Error: Can't find Webtorrent.")}}},{key:"initVideo",value:function(t,e){var n=this;this.initMSE(t,e),this.on("durationchange",function(){1!==t.duration&&t.duration!==1/0&&(n.template.dtime.innerHTML=o.default.secondToTime(t.duration))}),this.on("progress",function(){var e=t.buffered.length?t.buffered.end(t.buffered.length-1)/t.duration:0;n.bar.set("loaded",e,"width")}),this.on("error",function(){n.video.error&&n.tran&&n.notice&&(n.type,n.notice(n.tran("Video load failed"),-1))}),this.on("ended",function(){n.bar.set("played",1,"width"),n.setting.loop?(n.seek(0),n.play()):n.pause(),n.danmaku&&(n.danmaku.danIndex=0)}),this.on("play",function(){n.paused&&n.play()}),this.on("pause",function(){n.paused||n.pause()}),this.on("timeupdate",function(){n.bar.set("played",n.video.currentTime/n.video.duration,"width");var t=o.default.secondToTime(n.video.currentTime);n.template.ptime.innerHTML!==t&&(n.template.ptime.innerHTML=t)});for(var i=function(e){t.addEventListener(n.events.videoEvents[e],function(){n.events.trigger(n.events.videoEvents[e])})},r=0;r<this.events.videoEvents.length;r++)i(r);this.volume(this.user.get("volume"),!0,!0),this.options.subtitle&&(this.subtitle=new p.default(this.template.subtitle,this.video,this.options.subtitle,this.events),this.user.get("subtitle")||this.subtitle.hide())}},{key:"switchQuality",value:function(t){var e=this;if(this.qualityIndex!==t&&!this.switchingQuality){this.qualityIndex=t,this.switchingQuality=!0,this.quality=this.options.video.quality[t],this.template.qualityButton.innerHTML=this.quality.name;var n=this.video.paused;this.video.pause();var i=(0,T.default)({current:!1,pic:null,screenshot:this.options.screenshot,preload:"auto",url:this.quality.url,subtitle:this.options.subtitle}),r=(new DOMParser).parseFromString(i,"text/html").body.firstChild;this.template.videoWrap.insertBefore(r,this.template.videoWrap.getElementsByTagName("div")[0]),this.prevVideo=this.video,this.video=r,this.initVideo(this.video,this.quality.type||this.options.video.type),this.seek(this.prevVideo.currentTime),this.notice(this.tran("Switching to")+" "+this.quality.name+" "+this.tran("quality"),-1),this.events.trigger("quality_start",this.quality),this.on("canplay",function(){if(e.prevVideo){if(e.video.currentTime!==e.prevVideo.currentTime)return void e.seek(e.prevVideo.currentTime);e.template.videoWrap.removeChild(e.prevVideo),e.video.classList.add("dplayer-video-current"),n||e.video.play(),e.prevVideo=null,e.notice(e.tran("Switched to")+" "+e.quality.name+" "+e.tran("quality")),e.switchingQuality=!1,e.events.trigger("quality_end")}})}}},{key:"notice",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.8;this.template.notice.innerHTML=t,this.template.notice.style.opacity=i,this.noticeTime&&clearTimeout(this.noticeTime),this.events.trigger("notice_show",t),n>0&&(this.noticeTime=setTimeout(function(){e.template.notice.style.opacity=0,e.events.trigger("notice_hide")},n))}},{key:"resize",value:function(){this.danmaku&&this.danmaku.resize(),this.events.trigger("resize")}},{key:"speed",value:function(t){this.video.playbackRate=t}},{key:"destroy",value:function(){C.splice(C.indexOf(this),1),this.pause(),this.controller.destroy(),this.timer.destroy(),this.video.src="",this.container.innerHTML="",this.events.trigger("destroy")}}],[{key:"version",get:function(){return"1.25.0"}}]),t}();e.default=O},,,function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(77);var i,r=(i=n(74))&&i.__esModule?i:{default:i};console.log("\n %c DPlayer v1.25.0 fdcf45b %c http://dplayer.js.org \n\n","color: #fadfa3; background: #030307; padding:5px 0;","background: #fadfa3; padding:5px 0;"),e.default=r.default}]).default},"object"==u(e)&&"object"==u(i)?i.exports=s():(o=[],void 0===(a="function"==typeof(r=s)?r.apply(e,o):r)||(i.exports=a))}).call(this,n(0).setImmediate,n(0).clearImmediate,n(2)(t))},function(t,e){NexT.utils=NexT.$u={wrapImageWithFancyBox:function(){$(".content img").not("[hidden]").not(".no-fancybox").not(".group-picture img, .post-gallery img").not("#QR img").not(".post-share img").each(function(){var t=$(this),e=t.attr("title"),n=t.parent("a");if(n.size()<1){var i=t.attr("data-original")?this.getAttribute("data-original"):this.getAttribute("src");n=t.wrap('<a href="'+i+'"></a>').parent("a")}n.addClass("fancybox fancybox.image"),n.attr("rel","group"),e&&(n.append('<p class="image-caption">'+e+"</p>"),n.attr("title",e))}),$(".fancybox").fancybox({helpers:{overlay:{locked:!1}}})},lazyLoadPostsImages:function(){$("#posts").find("img").lazyload({effect:"fadeIn",threshold:0})},registerTabsTag:function(){var t=".tabs ul.nav-tabs ";$(function(){$(window).bind("hashchange",function(){var e=location.hash;""!==e&&($(t+'li:has(a[href="'+e+'"])').addClass("active").siblings().removeClass("active"),$(e).addClass("active").siblings().removeClass("active"))}).trigger("hashchange")}),$(t+".tab").on("click",function(t){if(t.preventDefault(),!$(this).hasClass("active")){$(this).addClass("active").siblings().removeClass("active");var e=$(this).find("a").attr("href");$(e).addClass("active").siblings().removeClass("active"),""!==location.hash&&history.pushState("",document.title,window.location.pathname+window.location.search)}})},registerESCKeyEvent:function(){$(document).on("keyup",function(t){27===t.which&&$(".search-popup").is(":visible")&&($(".search-popup").hide(),$(".search-popup-overlay").remove(),$("body").css("overflow",""))})},embeddedVideoTransformer:function(){var t=$("iframe"),e=new RegExp(["www.youtube.com","player.vimeo.com","player.youku.com","music.163.com","www.tudou.com"].join("|"));function n(t){return{width:t.width(),height:t.height()}}function i(t,e){return e/t*100}t.each(function(){var t,r=$(this),o=n(r);if(this.src.search(e)>0){var a=i(o.width,o.height);r.width("100%").height("100%").css({position:"absolute",top:"0",left:"0"});var s=document.createElement("div");if(s.className="fluid-vids",s.style.position="relative",s.style.marginBottom="20px",s.style.width="100%",s.style.paddingTop=a+"%",""===s.style.paddingTop&&(s.style.paddingTop="50%"),this.parentNode.insertBefore(s,this),s.appendChild(this),this.src.search("music.163.com")>0)((t=n(r)).width>o.width||t.height<o.height)&&(s.style.paddingTop=i(t.width,o.height)+"%")}})},addActiveClassToMenuItem:function(){var t=window.location.pathname;t="/"===t?t:t.substring(0,t.length-1),$('.menu-item a[href^="'+t+'"]:first').parent().addClass("menu-item-active")},hasMobileUA:function(){var t=window.navigator.userAgent;return/iPad|iPhone|Android|Opera Mini|BlackBerry|webOS|UCWEB|Blazer|PSP|IEMobile|Symbian/g.test(t)},isTablet:function(){return window.screen.width<992&&window.screen.width>767&&this.hasMobileUA()},isMobile:function(){return window.screen.width<767&&this.hasMobileUA()},isDesktop:function(){return!this.isTablet()&&!this.isMobile()},escapeSelector:function(t){return t.replace(/[!"$%&'()*+,.\/:;<=>?@[\\\]^`{|}~]/g,"\\$&")},displaySidebar:function(){!this.isDesktop()||this.isPisces()||this.isGemini()||$(".sidebar-toggle").trigger("click")},isMist:function(){return"Mist"===CONFIG.scheme},isPisces:function(){return"Pisces"===CONFIG.scheme},isGemini:function(){return"Gemini"===CONFIG.scheme},getScrollbarWidth:function(){var t=$("<div />").addClass("scrollbar-measure").prependTo("body"),e=t[0],n=e.offsetWidth-e.clientWidth;return t.remove(),n},getContentVisibilityHeight:function(){var t=$("#content").height(),e=$(window).height();return t>e?t-e:$(document).height()-e},getSidebarb2tHeight:function(){return CONFIG.sidebar.b2t?$(".back-to-top").height():0},getSidebarSchemePadding:function(){var t="block"==$(".sidebar-nav").css("display")?$(".sidebar-nav").outerHeight(!0):0,e=$(".sidebar-inner"),n=e.innerWidth()-e.width();return this.isPisces()||this.isGemini()?2*n+t+2*CONFIG.sidebar.offset+this.getSidebarb2tHeight():2*n+t/2}},$(document).ready(function(){function t(t){t=t||"auto",$(".site-overview, .post-toc").css("max-height",t)}!function(){var e;$(window).on("resize",function(){e&&clearTimeout(e),e=setTimeout(function(){t(document.body.clientHeight-NexT.utils.getSidebarSchemePadding())},0)});var n=NexT.utils.getScrollbarWidth();$(".sidebar-panel").height()>document.body.clientHeight-NexT.utils.getSidebarSchemePadding()&&$(".site-overview").css("width","calc(100% + "+n+"px)");$(".post-toc").css("width","calc(100% + "+n+"px)"),t(document.body.clientHeight-NexT.utils.getSidebarSchemePadding())}()})},function(t,e){$(document).ready(function(){NexT.motion={};var t={lines:[],push:function(t){this.lines.push(t)},init:function(){this.lines.forEach(function(t){t.init()})},arrow:function(){this.lines.forEach(function(t){t.arrow()})},close:function(){this.lines.forEach(function(t){t.close()})}};function e(t){this.el=$(t.el),this.status=$.extend({},{init:{width:"100%",opacity:1,left:0,rotateZ:0,top:0}},t.status)}e.prototype.init=function(){this.transform("init")},e.prototype.arrow=function(){this.transform("arrow")},e.prototype.close=function(){this.transform("close")},e.prototype.transform=function(t){this.el.velocity("stop").velocity(this.status[t])};var n=new e({el:".sidebar-toggle-line-first",status:{arrow:{width:"50%",rotateZ:"-45deg",top:"2px"},close:{width:"100%",rotateZ:"-45deg",top:"5px"}}}),i=new e({el:".sidebar-toggle-line-middle",status:{arrow:{width:"90%"},close:{opacity:0}}}),r=new e({el:".sidebar-toggle-line-last",status:{arrow:{width:"50%",rotateZ:"45deg",top:"-2px"},close:{width:"100%",rotateZ:"45deg",top:"-5px"}}});t.push(n),t.push(i),t.push(r);var o,a;({toggleEl:$(".sidebar-toggle"),dimmerEl:$("#sidebar-dimmer"),sidebarEl:$(".sidebar"),isSidebarVisible:!1,init:function(){this.toggleEl.on("click",this.clickHandler.bind(this)),this.dimmerEl.on("click",this.clickHandler.bind(this)),this.toggleEl.on("mouseenter",this.mouseEnterHandler.bind(this)),this.toggleEl.on("mouseleave",this.mouseLeaveHandler.bind(this)),this.sidebarEl.on("touchstart",this.touchstartHandler.bind(this)),this.sidebarEl.on("touchend",this.touchendHandler.bind(this)),this.sidebarEl.on("touchmove",function(t){t.preventDefault()}),$(document).on("sidebar.isShowing",function(){NexT.utils.isDesktop()&&$("body").velocity("stop").velocity({paddingRight:"320px"},200)}).on("sidebar.isHiding",function(){})},clickHandler:function(){this.isSidebarVisible?this.hideSidebar():this.showSidebar(),this.isSidebarVisible=!this.isSidebarVisible},mouseEnterHandler:function(){this.isSidebarVisible||t.arrow()},mouseLeaveHandler:function(){this.isSidebarVisible||t.init()},touchstartHandler:function(t){o=t.originalEvent.touches[0].clientX,a=t.originalEvent.touches[0].clientY},touchendHandler:function(t){var e=t.originalEvent.changedTouches[0].clientX,n=t.originalEvent.changedTouches[0].clientY;e-o>30&&Math.abs(n-a)<20&&this.clickHandler()},showSidebar:function(){var e=this;t.close(),this.sidebarEl.velocity("stop").velocity({width:"320px"},{display:"block",duration:200,begin:function(){$(".sidebar .motion-element").velocity("transition.slideRightIn",{stagger:50,drag:!0,complete:function(){e.sidebarEl.trigger("sidebar.motion.complete")}})},complete:function(){e.sidebarEl.addClass("sidebar-active"),e.sidebarEl.trigger("sidebar.didShow")}}),this.sidebarEl.trigger("sidebar.isShowing")},hideSidebar:function(){NexT.utils.isDesktop()&&$("body").velocity("stop").velocity({paddingRight:0}),this.sidebarEl.find(".motion-element").velocity("stop").css("display","none"),this.sidebarEl.velocity("stop").velocity({width:0},{display:"none"}),t.init(),this.sidebarEl.removeClass("sidebar-active"),this.sidebarEl.trigger("sidebar.isHiding"),$(".post-toc-wrap")&&("block"===$(".site-overview-wrap").css("display")?$(".post-toc-wrap").removeClass("motion-element"):$(".post-toc-wrap").addClass("motion-element"))}}).init(),NexT.motion.integrator={queue:[],cursor:-1,add:function(t){return this.queue.push(t),this},next:function(){this.cursor++;var t=this.queue[this.cursor];$.isFunction(t)&&t(NexT.motion.integrator)},bootstrap:function(){this.next()}},NexT.motion.middleWares={logo:function(t){var e=[],n=$(".brand"),i=$(".site-title"),r=$(".site-subtitle"),o=$(".logo-line-before i"),a=$(".logo-line-after i");function s(t,e){return{e:$(t),p:{translateX:e},o:{duration:500,sequenceQueue:!1}}}function u(t){return(t=Array.isArray(t)?t:[t]).every(function(t){return $.isFunction(t.size)&&t.size()>0})}n.size()>0&&e.push({e:n,p:{opacity:1},o:{duration:200}}),NexT.utils.isMist()&&u([o,a])&&e.push(s(o,"100%"),s(a,"-100%")),u(i)&&e.push({e:i,p:{opacity:1,top:180},o:{duration:200}}),u(r)&&e.push({e:r,p:{opacity:1,top:100},o:{duration:200}}),CONFIG.motion.async&&t.next(),e.length>0?(e[e.length-1].o.complete=function(){t.next()},$.Velocity.RunSequence(e)):t.next()},menu:function(t){CONFIG.motion.async&&t.next(),$(".menu-item").velocity("transition.slideDownIn",{display:null,duration:200,complete:function(){t.next()}})},postList:function(t){var e=$(".post-block, .pagination, .comments"),n=CONFIG.motion.transition.post_block,i=$(".post-header"),r=CONFIG.motion.transition.post_header,o=$(".post-body"),a=CONFIG.motion.transition.post_body,s=$(".collection-title, .archive-year"),u=CONFIG.motion.transition.coll_header,l=$(".sidebar-inner"),c=CONFIG.motion.transition.sidebar;e.size()>0?function(){var d=window.postMotionOptions||{stagger:100,drag:!0};d.complete=function(){CONFIG.motion.transition.sidebar&&(NexT.utils.isPisces()||NexT.utils.isGemini())&&l.css({transform:"initial"}),t.next()},CONFIG.motion.transition.post_block&&e.velocity("transition."+n,d);CONFIG.motion.transition.post_header&&i.velocity("transition."+r,d);CONFIG.motion.transition.post_body&&o.velocity("transition."+a,d);CONFIG.motion.transition.coll_header&&s.velocity("transition."+u,d);CONFIG.motion.transition.sidebar&&(NexT.utils.isPisces()||NexT.utils.isGemini())&&l.velocity("transition."+c,d)}():t.next(),CONFIG.motion.async&&t.next()},sidebar:function(t){"always"===CONFIG.sidebar.display&&NexT.utils.displaySidebar(),t.next()}}})},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t){"use strict";var e=function e(n,i){this.options=t.extend({},e.DEFAULTS,i),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(n),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};function i(i){return this.each(function(){var r=t(this),o=r.data("bs.affix"),a="object"==n(i)&&i;o||r.data("bs.affix",o=new e(this,a)),"string"==typeof i&&o[i]()})}e.VERSION="3.3.5",e.RESET="affix affix-top affix-bottom",e.DEFAULTS={offset:0,target:window},e.prototype.getState=function(t,e,n,i){var r=this.$target.scrollTop(),o=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return r<n&&"top";if("bottom"==this.affixed)return null!=n?!(r+this.unpin<=o.top)&&"bottom":!(r+a<=t-i)&&"bottom";var s=null==this.affixed,u=s?r:o.top;return null!=n&&r<=n?"top":null!=i&&u+(s?a:e)>=t-i&&"bottom"},e.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(e.RESET).addClass("affix");var t=this.$target.scrollTop(),n=this.$element.offset();return this.pinnedOffset=n.top-t},e.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var i=this.$element.height(),r=this.options.offset,o=r.top,a=r.bottom,s=Math.max(t(document).height(),t(document.body).height());"object"!=n(r)&&(a=o=r),"function"==typeof o&&(o=r.top(this.$element)),"function"==typeof a&&(a=r.bottom(this.$element));var u=this.getState(s,i,o,a);if(this.affixed!=u){null!=this.unpin&&this.$element.css("top","");var l="affix"+(u?"-"+u:""),c=t.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=u,this.unpin="bottom"==u?this.getPinnedOffset():null,this.$element.removeClass(e.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==u&&this.$element.offset({top:s-i-a})}};var r=t.fn.affix;t.fn.affix=i,t.fn.affix.Constructor=e,t.fn.affix.noConflict=function(){return t.fn.affix=r,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),n=e.data();n.offset=n.offset||{},null!=n.offsetBottom&&(n.offset.bottom=n.offsetBottom),null!=n.offsetTop&&(n.offset.top=n.offsetTop),i.call(e,n)})})}(jQuery)},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t){"use strict";function e(n,i){this.$body=t(document.body),this.$scrollElement=t(n).is(document.body)?t(window):t(n),this.options=t.extend({},e.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function i(i){return this.each(function(){var r=t(this),o=r.data("bs.scrollspy"),a="object"==n(i)&&i;o||r.data("bs.scrollspy",o=new e(this,a)),"string"==typeof i&&o[i]()})}e.VERSION="3.3.2",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,n="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(n="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),r=e.data("target")||e.attr("href"),o=/^#./.test(r)&&t(NexT.utils.escapeSelector(r));return o&&o.length&&o.is(":visible")&&[[o[n]().top+i,r]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var e,n=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),r=this.options.offset+i-this.$scrollElement.height(),o=this.offsets,a=this.targets,s=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),n>=r)return s!=(e=a[a.length-1])&&this.activate(e);if(s&&n<o[0])return t(this.selector).trigger("clear.bs.scrollspy"),this.activeTarget=null,this.clear();for(e=o.length;e--;)s!=a[e]&&n>=o[e]&&(!o[e+1]||n<=o[e+1])&&this.activate(a[e])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',i=t(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var r=t.fn.scrollspy;t.fn.scrollspy=i,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=r,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);i.call(e,e.data())})})}(jQuery)},function(t,e){$(document).ready(function(){$(document).trigger("bootstrap:before"),NexT.utils.isMobile()&&window.FastClick.attach(document.body),NexT.utils.lazyLoadPostsImages(),NexT.utils.registerESCKeyEvent(),$(".site-nav-toggle button").on("click",function(){var t=$(".site-nav"),e=t.hasClass("site-nav-on"),n=e?"slideUp":"slideDown",i=e?"removeClass":"addClass";t.stop()[n]("fast",function(){t[i]("site-nav-on")})}),CONFIG.fancybox&&NexT.utils.wrapImageWithFancyBox(),CONFIG.tabs&&NexT.utils.registerTabsTag(),NexT.utils.embeddedVideoTransformer(),NexT.motion.integrator.add(NexT.motion.middleWares.logo).add(NexT.motion.middleWares.menu).add(NexT.motion.middleWares.postList).add(NexT.motion.middleWares.sidebar),$(document).trigger("motion:before"),CONFIG.motion.enable&&NexT.motion.integrator.bootstrap(),$(document).trigger("bootstrap:after")})},function(t,e){if(document.getElementById("evanyou")){var n,i=function(){for(s.clearRect(0,0,l,c),n=[{x:0,y:.7*c+d},{x:0,y:.7*c-d}];n[1].x<l+d;)r(n[0],n[1])},r=function(t,e){s.beginPath(),s.moveTo(t.x,t.y),s.lineTo(e.x,e.y);var i=e.x+(2*v()-.25)*d,r=o(e.y);s.lineTo(i,r),s.closePath(),f-=p/-50,s.fillStyle="#"+(127*m(f)+128<<16|127*m(f+p/3)+128<<8|127*m(f+p/3*2)+128).toString(16),s.fill(),n[0]=n[1],n[1]={x:i,y:r}},o=function t(e){var n=e+(2*v()-1.1)*d;return n>c||n<0?t(e):n},a=document.getElementById("evanyou"),s=a.getContext("2d"),u=window.devicePixelRatio||1,l=window.innerWidth,c=window.innerHeight,d=90,h=Math,f=0,p=2*h.PI,m=h.cos,v=h.random;a.width=l*u,a.height=c*u,s.scale(u,u),s.globalAlpha=.6,document.onclick=i,document.ontouchstart=i,i()}},function(t,e,n){(function(t,n){var i,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}"undefined"!=typeof self&&self,a=function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=15)}([function(t,e,n){(function(t,n){var i;!function(){var r="object"==("undefined"==typeof self?"undefined":s(self))&&self.self===self&&self||"object"==s(t)&&t.global===t&&t||this||{},o=r._,a=Array.prototype,u=Object.prototype,l="undefined"!=typeof Symbol?Symbol.prototype:null,c=a.push,d=a.slice,h=u.toString,f=u.hasOwnProperty,p=Array.isArray,m=Object.keys,v=Object.create,y=function(){},g=function t(e){return e instanceof t?e:this instanceof t?void(this._wrapped=e):new t(e)};void 0===e||e.nodeType?r._=g:(void 0!==n&&!n.nodeType&&n.exports&&(e=n.exports=g),e._=g),g.VERSION="1.9.1";var b,_=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)}}return function(){return t.apply(e,arguments)}},w=function(t,e,n){return g.iteratee!==b?g.iteratee(t,e):null==t?g.identity:g.isFunction(t)?_(t,e,n):g.isObject(t)&&!g.isArray(t)?g.matcher(t):g.property(t)};g.iteratee=b=function(t,e){return w(t,e,1/0)};var x=function(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),i=Array(n),r=0;r<n;r++)i[r]=arguments[r+e];switch(e){case 0:return t.call(this,i);case 1:return t.call(this,arguments[0],i);case 2:return t.call(this,arguments[0],arguments[1],i)}var o=Array(e+1);for(r=0;r<e;r++)o[r]=arguments[r];return o[e]=i,t.apply(this,o)}},k=function(t){if(!g.isObject(t))return{};if(v)return v(t);y.prototype=t;var e=new y;return y.prototype=null,e},T=function(t){return function(e){return null==e?void 0:e[t]}},S=function(t,e){return null!=t&&f.call(t,e)},E=function(t,e){for(var n=e.length,i=0;i<n;i++){if(null==t)return;t=t[e[i]]}return n?t:void 0},C=Math.pow(2,53)-1,O=T("length"),A=function(t){var e=O(t);return"number"==typeof e&&e>=0&&e<=C};g.each=g.forEach=function(t,e,n){var i,r;if(e=_(e,n),A(t))for(i=0,r=t.length;i<r;i++)e(t[i],i,t);else{var o=g.keys(t);for(i=0,r=o.length;i<r;i++)e(t[o[i]],o[i],t)}return t},g.map=g.collect=function(t,e,n){e=w(e,n);for(var i=!A(t)&&g.keys(t),r=(i||t).length,o=Array(r),a=0;a<r;a++){var s=i?i[a]:a;o[a]=e(t[s],s,t)}return o};var L=function(t){var e=function(e,n,i,r){var o=!A(e)&&g.keys(e),a=(o||e).length,s=t>0?0:a-1;for(r||(i=e[o?o[s]:s],s+=t);s>=0&&s<a;s+=t){var u=o?o[s]:s;i=n(i,e[u],u,e)}return i};return function(t,n,i,r){var o=arguments.length>=3;return e(t,_(n,r,4),i,o)}};g.reduce=g.foldl=g.inject=L(1),g.reduceRight=g.foldr=L(-1),g.find=g.detect=function(t,e,n){var i=(A(t)?g.findIndex:g.findKey)(t,e,n);if(void 0!==i&&-1!==i)return t[i]},g.filter=g.select=function(t,e,n){var i=[];return e=w(e,n),g.each(t,function(t,n,r){e(t,n,r)&&i.push(t)}),i},g.reject=function(t,e,n){return g.filter(t,g.negate(w(e)),n)},g.every=g.all=function(t,e,n){e=w(e,n);for(var i=!A(t)&&g.keys(t),r=(i||t).length,o=0;o<r;o++){var a=i?i[o]:o;if(!e(t[a],a,t))return!1}return!0},g.some=g.any=function(t,e,n){e=w(e,n);for(var i=!A(t)&&g.keys(t),r=(i||t).length,o=0;o<r;o++){var a=i?i[o]:o;if(e(t[a],a,t))return!0}return!1},g.contains=g.includes=g.include=function(t,e,n,i){return A(t)||(t=g.values(t)),("number"!=typeof n||i)&&(n=0),g.indexOf(t,e,n)>=0},g.invoke=x(function(t,e,n){var i,r;return g.isFunction(e)?r=e:g.isArray(e)&&(i=e.slice(0,-1),e=e[e.length-1]),g.map(t,function(t){var o=r;if(!o){if(i&&i.length&&(t=E(t,i)),null==t)return;o=t[e]}return null==o?o:o.apply(t,n)})}),g.pluck=function(t,e){return g.map(t,g.property(e))},g.where=function(t,e){return g.filter(t,g.matcher(e))},g.findWhere=function(t,e){return g.find(t,g.matcher(e))},g.max=function(t,e,n){var i,r,o=-1/0,a=-1/0;if(null==e||"number"==typeof e&&"object"!=s(t[0])&&null!=t)for(var u=0,l=(t=A(t)?t:g.values(t)).length;u<l;u++)null!=(i=t[u])&&i>o&&(o=i);else e=w(e,n),g.each(t,function(t,n,i){((r=e(t,n,i))>a||r===-1/0&&o===-1/0)&&(o=t,a=r)});return o},g.min=function(t,e,n){var i,r,o=1/0,a=1/0;if(null==e||"number"==typeof e&&"object"!=s(t[0])&&null!=t)for(var u=0,l=(t=A(t)?t:g.values(t)).length;u<l;u++)null!=(i=t[u])&&i<o&&(o=i);else e=w(e,n),g.each(t,function(t,n,i){((r=e(t,n,i))<a||r===1/0&&o===1/0)&&(o=t,a=r)});return o},g.shuffle=function(t){return g.sample(t,1/0)},g.sample=function(t,e,n){if(null==e||n)return A(t)||(t=g.values(t)),t[g.random(t.length-1)];var i=A(t)?g.clone(t):g.values(t),r=O(i);e=Math.max(Math.min(e,r),0);for(var o=r-1,a=0;a<e;a++){var s=g.random(a,o),u=i[a];i[a]=i[s],i[s]=u}return i.slice(0,e)},g.sortBy=function(t,e,n){var i=0;return e=w(e,n),g.pluck(g.map(t,function(t,n,r){return{value:t,index:i++,criteria:e(t,n,r)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index}),"value")};var M=function(t,e){return function(n,i,r){var o=e?[[],[]]:{};return i=w(i,r),g.each(n,function(e,r){var a=i(e,r,n);t(o,e,a)}),o}};g.groupBy=M(function(t,e,n){S(t,n)?t[n].push(e):t[n]=[e]}),g.indexBy=M(function(t,e,n){t[n]=e}),g.countBy=M(function(t,e,n){S(t,n)?t[n]++:t[n]=1});var j=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;g.toArray=function(t){return t?g.isArray(t)?d.call(t):g.isString(t)?t.match(j):A(t)?g.map(t,g.identity):g.values(t):[]},g.size=function(t){return null==t?0:A(t)?t.length:g.keys(t).length},g.partition=M(function(t,e,n){t[n?0:1].push(e)},!0),g.first=g.head=g.take=function(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[0]:g.initial(t,t.length-e)},g.initial=function(t,e,n){return d.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},g.last=function(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[t.length-1]:g.rest(t,Math.max(0,t.length-e))},g.rest=g.tail=g.drop=function(t,e,n){return d.call(t,null==e||n?1:e)},g.compact=function(t){return g.filter(t,Boolean)};var P=function t(e,n,i,r){for(var o=(r=r||[]).length,a=0,s=O(e);a<s;a++){var u=e[a];if(A(u)&&(g.isArray(u)||g.isArguments(u)))if(n)for(var l=0,c=u.length;l<c;)r[o++]=u[l++];else t(u,n,i,r),o=r.length;else i||(r[o++]=u)}return r};g.flatten=function(t,e){return P(t,e,!1)},g.without=x(function(t,e){return g.difference(t,e)}),g.uniq=g.unique=function(t,e,n,i){g.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=w(n,i));for(var r=[],o=[],a=0,s=O(t);a<s;a++){var u=t[a],l=n?n(u,a,t):u;e&&!n?(a&&o===l||r.push(u),o=l):n?g.contains(o,l)||(o.push(l),r.push(u)):g.contains(r,u)||r.push(u)}return r},g.union=x(function(t){return g.uniq(P(t,!0,!0))}),g.intersection=function(t){for(var e=[],n=arguments.length,i=0,r=O(t);i<r;i++){var o=t[i];if(!g.contains(e,o)){var a;for(a=1;a<n&&g.contains(arguments[a],o);a++);a===n&&e.push(o)}}return e},g.difference=x(function(t,e){return e=P(e,!0,!0),g.filter(t,function(t){return!g.contains(e,t)})}),g.unzip=function(t){for(var e=t&&g.max(t,O).length||0,n=Array(e),i=0;i<e;i++)n[i]=g.pluck(t,i);return n},g.zip=x(g.unzip),g.object=function(t,e){for(var n={},i=0,r=O(t);i<r;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n};var I=function(t){return function(e,n,i){n=w(n,i);for(var r=O(e),o=t>0?0:r-1;o>=0&&o<r;o+=t)if(n(e[o],o,e))return o;return-1}};g.findIndex=I(1),g.findLastIndex=I(-1),g.sortedIndex=function(t,e,n,i){for(var r=(n=w(n,i,1))(e),o=0,a=O(t);o<a;){var s=Math.floor((o+a)/2);n(t[s])<r?o=s+1:a=s}return o};var N=function(t,e,n){return function(i,r,o){var a=0,s=O(i);if("number"==typeof o)t>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return i[o=n(i,r)]===r?o:-1;if(r!=r)return(o=e(d.call(i,a,s),g.isNaN))>=0?o+a:-1;for(o=t>0?a:s-1;o>=0&&o<s;o+=t)if(i[o]===r)return o;return-1}};g.indexOf=N(1,g.findIndex,g.sortedIndex),g.lastIndexOf=N(-1,g.findLastIndex),g.range=function(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),o=0;o<i;o++,t+=n)r[o]=t;return r},g.chunk=function(t,e){if(null==e||e<1)return[];for(var n=[],i=0,r=t.length;i<r;)n.push(d.call(t,i,i+=e));return n};var q=function(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var o=k(t.prototype),a=t.apply(o,r);return g.isObject(a)?a:o};g.bind=x(function(t,e,n){if(!g.isFunction(t))throw new TypeError("Bind must be called on a function");var i=x(function(r){return q(t,i,e,this,n.concat(r))});return i}),g.partial=x(function(t,e){var n=g.partial.placeholder;return function i(){for(var r=0,o=e.length,a=Array(o),s=0;s<o;s++)a[s]=e[s]===n?arguments[r++]:e[s];for(;r<arguments.length;)a.push(arguments[r++]);return q(t,i,this,this,a)}}),g.partial.placeholder=g,g.bindAll=x(function(t,e){var n=(e=P(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var i=e[n];t[i]=g.bind(t[i],t)}}),g.memoize=function(t,e){var n=function n(i){var r=n.cache,o=""+(e?e.apply(this,arguments):i);return S(r,o)||(r[o]=t.apply(this,arguments)),r[o]};return n.cache={},n},g.delay=x(function(t,e,n){return setTimeout(function(){return t.apply(null,n)},e)}),g.defer=g.partial(g.delay,g,1),g.throttle=function(t,e,n){var i,r,o,a,s=0;n||(n={});var u=function(){s=!1===n.leading?0:g.now(),i=null,a=t.apply(r,o),i||(r=o=null)},l=function(){var l=g.now();s||!1!==n.leading||(s=l);var c=e-(l-s);return r=this,o=arguments,c<=0||c>e?(i&&(clearTimeout(i),i=null),s=l,a=t.apply(r,o),i||(r=o=null)):i||!1===n.trailing||(i=setTimeout(u,c)),a};return l.cancel=function(){clearTimeout(i),s=0,i=r=o=null},l},g.debounce=function(t,e,n){var i,r,o=function(e,n){i=null,n&&(r=t.apply(e,n))},a=x(function(a){if(i&&clearTimeout(i),n){var s=!i;i=setTimeout(o,e),s&&(r=t.apply(this,a))}else i=g.delay(o,e,this,a);return r});return a.cancel=function(){clearTimeout(i),i=null},a},g.wrap=function(t,e){return g.partial(e,t)},g.negate=function(t){return function(){return!t.apply(this,arguments)}},g.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}},g.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},g.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},g.once=g.partial(g.before,2),g.restArguments=x;var D=!{toString:null}.propertyIsEnumerable("toString"),B=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],R=function(t,e){var n=B.length,i=t.constructor,r=g.isFunction(i)&&i.prototype||u,o="constructor";for(S(t,o)&&!g.contains(e,o)&&e.push(o);n--;)(o=B[n])in t&&t[o]!==r[o]&&!g.contains(e,o)&&e.push(o)};g.keys=function(t){if(!g.isObject(t))return[];if(m)return m(t);var e=[];for(var n in t)S(t,n)&&e.push(n);return D&&R(t,e),e},g.allKeys=function(t){if(!g.isObject(t))return[];var e=[];for(var n in t)e.push(n);return D&&R(t,e),e},g.values=function(t){for(var e=g.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=t[e[r]];return i},g.mapObject=function(t,e,n){e=w(e,n);for(var i=g.keys(t),r=i.length,o={},a=0;a<r;a++){var s=i[a];o[s]=e(t[s],s,t)}return o},g.pairs=function(t){for(var e=g.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=[e[r],t[e[r]]];return i},g.invert=function(t){for(var e={},n=g.keys(t),i=0,r=n.length;i<r;i++)e[t[n[i]]]=n[i];return e},g.functions=g.methods=function(t){var e=[];for(var n in t)g.isFunction(t[n])&&e.push(n);return e.sort()};var U=function(t,e){return function(n){var i=arguments.length;if(e&&(n=Object(n)),i<2||null==n)return n;for(var r=1;r<i;r++)for(var o=arguments[r],a=t(o),s=a.length,u=0;u<s;u++){var l=a[u];e&&void 0!==n[l]||(n[l]=o[l])}return n}};g.extend=U(g.allKeys),g.extendOwn=g.assign=U(g.keys),g.findKey=function(t,e,n){e=w(e,n);for(var i,r=g.keys(t),o=0,a=r.length;o<a;o++)if(e(t[i=r[o]],i,t))return i};var F,z,H=function(t,e,n){return e in n};g.pick=x(function(t,e){var n={},i=e[0];if(null==t)return n;g.isFunction(i)?(e.length>1&&(i=_(i,e[1])),e=g.allKeys(t)):(i=H,e=P(e,!1,!1),t=Object(t));for(var r=0,o=e.length;r<o;r++){var a=e[r],s=t[a];i(s,a,t)&&(n[a]=s)}return n}),g.omit=x(function(t,e){var n,i=e[0];return g.isFunction(i)?(i=g.negate(i),e.length>1&&(n=e[1])):(e=g.map(P(e,!1,!1),String),i=function(t,n){return!g.contains(e,n)}),g.pick(t,i,n)}),g.defaults=U(g.allKeys,!0),g.create=function(t,e){var n=k(t);return e&&g.extendOwn(n,e),n},g.clone=function(t){return g.isObject(t)?g.isArray(t)?t.slice():g.extend({},t):t},g.tap=function(t,e){return e(t),t},g.isMatch=function(t,e){var n=g.keys(e),i=n.length;if(null==t)return!i;for(var r=Object(t),o=0;o<i;o++){var a=n[o];if(e[a]!==r[a]||!(a in r))return!1}return!0},F=function(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var r=s(t);return("function"===r||"object"===r||"object"==s(e))&&z(t,e,n,i)},z=function(t,e,n,i){t instanceof g&&(t=t._wrapped),e instanceof g&&(e=e._wrapped);var r=h.call(t);if(r!==h.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return l.valueOf.call(t)===l.valueOf.call(e)}var o="[object Array]"===r;if(!o){if("object"!=s(t)||"object"!=s(e))return!1;var a=t.constructor,u=e.constructor;if(a!==u&&!(g.isFunction(a)&&a instanceof a&&g.isFunction(u)&&u instanceof u)&&"constructor"in t&&"constructor"in e)return!1}i=i||[];for(var c=(n=n||[]).length;c--;)if(n[c]===t)return i[c]===e;if(n.push(t),i.push(e),o){if((c=t.length)!==e.length)return!1;for(;c--;)if(!F(t[c],e[c],n,i))return!1}else{var d,f=g.keys(t);if(c=f.length,g.keys(e).length!==c)return!1;for(;c--;)if(d=f[c],!S(e,d)||!F(t[d],e[d],n,i))return!1}return n.pop(),i.pop(),!0},g.isEqual=function(t,e){return F(t,e)},g.isEmpty=function(t){return null==t||(A(t)&&(g.isArray(t)||g.isString(t)||g.isArguments(t))?0===t.length:0===g.keys(t).length)},g.isElement=function(t){return!(!t||1!==t.nodeType)},g.isArray=p||function(t){return"[object Array]"===h.call(t)},g.isObject=function(t){var e=s(t);return"function"===e||"object"===e&&!!t},g.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(t){g["is"+t]=function(e){return h.call(e)==="[object "+t+"]"}}),g.isArguments(arguments)||(g.isArguments=function(t){return S(t,"callee")});var W=r.document&&r.document.childNodes;"object"!=("undefined"==typeof Int8Array?"undefined":s(Int8Array))&&"function"!=typeof W&&(g.isFunction=function(t){return"function"==typeof t||!1}),g.isFinite=function(t){return!g.isSymbol(t)&&isFinite(t)&&!isNaN(parseFloat(t))},g.isNaN=function(t){return g.isNumber(t)&&isNaN(t)},g.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===h.call(t)},g.isNull=function(t){return null===t},g.isUndefined=function(t){return void 0===t},g.has=function(t,e){if(!g.isArray(e))return S(t,e);for(var n=e.length,i=0;i<n;i++){var r=e[i];if(null==t||!f.call(t,r))return!1;t=t[r]}return!!n},g.noConflict=function(){return r._=o,this},g.identity=function(t){return t},g.constant=function(t){return function(){return t}},g.noop=function(){},g.property=function(t){return g.isArray(t)?function(e){return E(e,t)}:T(t)},g.propertyOf=function(t){return null==t?function(){}:function(e){return g.isArray(e)?E(t,e):t[e]}},g.matcher=g.matches=function(t){return t=g.extendOwn({},t),function(e){return g.isMatch(e,t)}},g.times=function(t,e,n){var i=Array(Math.max(0,t));e=_(e,n,1);for(var r=0;r<t;r++)i[r]=e(r);return i},g.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},g.now=Date.now||function(){return(new Date).getTime()};var $={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},V=g.invert($),Q=function(t){var e=function(e){return t[e]},n="(?:"+g.keys(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,e):t}};g.escape=Q($),g.unescape=Q(V),g.result=function(t,e,n){g.isArray(e)||(e=[e]);var i=e.length;if(!i)return g.isFunction(n)?n.call(t):n;for(var r=0;r<i;r++){var o=null==t?void 0:t[e[r]];void 0===o&&(o=n,r=i),t=g.isFunction(o)?o.call(t):o}return t};var G=0;g.uniqueId=function(t){var e=++G+"";return t?t+e:e},g.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var X=/(.)^/,J={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},K=/\\|'|\r|\n|\u2028|\u2029/g,Y=function(t){return"\\"+J[t]};g.template=function(t,e,n){!e&&n&&(e=n),e=g.defaults({},e,g.templateSettings);var i,r=RegExp([(e.escape||X).source,(e.interpolate||X).source,(e.evaluate||X).source].join("|")+"|$","g"),o=0,a="__p+='";t.replace(r,function(e,n,i,r,s){return a+=t.slice(o,s).replace(K,Y),o=s+e.length,n?a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?a+="'+\n((__t=("+i+"))==null?'':__t)+\n'":r&&(a+="';\n"+r+"\n__p+='"),e}),a+="';\n",e.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{i=new Function(e.variable||"obj","_",a)}catch(t){throw t.source=a,t}var s=function(t){return i.call(this,t,g)};return s.source="function("+(e.variable||"obj")+"){\n"+a+"}",s},g.chain=function(t){var e=g(t);return e._chain=!0,e};var Z=function(t,e){return t._chain?g(e).chain():e};g.mixin=function(t){return g.each(g.functions(t),function(e){var n=g[e]=t[e];g.prototype[e]=function(){var t=[this._wrapped];return c.apply(t,arguments),Z(this,n.apply(g,t))}}),g},g.mixin(g),g.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=a[t];g.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],Z(this,n)}}),g.each(["concat","join","slice"],function(t){var e=a[t];g.prototype[t]=function(){return Z(this,e.apply(this._wrapped,arguments))}}),g.prototype.value=function(){return this._wrapped},g.prototype.valueOf=g.prototype.toJSON=g.prototype.value,g.prototype.toString=function(){return String(this._wrapped)},void 0!==(i=function(){return g}.apply(e,[]))&&(n.exports=i)}()}).call(e,n(7),n(17)(t))},function(t,e,n){"use strict";var i=n(29).Promise;i._continueWhile=function(t,e){return t()?e().then(function(){return i._continueWhile(t,e)}):i.resolve()},t.exports=i},function(t,e,n){"use strict";var i=n(0),r=n(44),o=n(0).extend,a=n(1),s=n(5),u=n(3),l=u.getSessionToken,c=u.ajax,d=function(t,e){var n=(new Date).getTime(),i=r(n+t);return e?i+","+n+",master":i+","+n},h=function(t,e){e?t["X-LC-Sign"]=d(s.applicationKey):t["X-LC-Key"]=s.applicationKey},f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],n={"X-LC-Id":s.applicationId,"Content-Type":"application/json;charset=UTF-8"},i=!1;return"boolean"==typeof t.useMasterKey?i=t.useMasterKey:"boolean"==typeof s._config.useMasterKey&&(i=s._config.useMasterKey),i?s.masterKey?e?n["X-LC-Sign"]=d(s.masterKey,!0):n["X-LC-Key"]=s.masterKey+",master":(console.warn("masterKey is not set, fall back to use appKey"),h(n,e)):h(n,e),s.hookKey&&(n["X-LC-Hook-Key"]=s.hookKey),null!==s._config.production&&(n["X-LC-Prod"]=String(s._config.production)),n["X-LC-UA"]=s._sharedConfig.userAgent,a.resolve().then(function(){var e=l(t);if(e)n["X-LC-Session"]=e;else if(!s._config.disableCurrentUser)return s.User.currentAsync().then(function(t){return t&&t._sessionToken&&(n["X-LC-Session"]=t._sessionToken),n});return n})},p=function(t){var e=t.service,n=t.version,r=t.method,o=t.path,a=t.query,u=t.data,l=t.authOptions,d=t.signKey,h=void 0===d||d;if(!s.applicationId||!s.applicationKey&&!s.masterKey)throw new Error("Not initialized");s._appRouter.refresh();var p=s._config.requestTimeout,m=function(t){var e=t.service,n=void 0===e?"api":e,i=t.version,r=void 0===i?"1.1":i,o=t.path,a=s._config.serverURLs[n];if(!a)throw new Error("undefined server URL for "+n);return"/"!==a.charAt(a.length-1)&&(a+="/"),a+=r,o&&(a+=o),a}({service:e,path:o,version:n});return f(l,h).then(function(t){return c({method:r,url:m,query:a,data:u,headers:t,timeout:p}).catch(function(t){var e={code:t.code||-1,error:t.message||t.responseText};if(t.response&&t.response.code)e=t.response;else if(t.responseText)try{e=JSON.parse(t.responseText)}catch(t){}e.rawMessage=e.rawMessage||e.error,s._sharedConfig.keepErrorRawMessage||(e.error+=" ["+(t.statusCode||"N/A")+" "+r+" "+m+"]");var n=new Error(e.error);throw delete e.error,i.extend(n,e)})})};s.request=p,t.exports={_request:function(t,e,n,i,r,a,s){var u="";if(t&&(u+="/"+t),e&&(u+="/"+e),n&&(u+="/"+n),r&&r._fetchWhenSave)throw new Error("_fetchWhenSave should be in the query");if(r&&r._where)throw new Error("_where should be in the query");return i&&"get"===i.toLowerCase()&&(s=o({},s,r),r=null),p({method:i,path:u,query:s,data:r,authOptions:a})},request:p}},function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(t){return s(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":s(t)},r=n(0),o=n(8),a=n(6),u=a("leancloud:request"),l=a("leancloud:request:error"),c=n(1),d=0,h=function(t){return r.isArray(t)?t:null==t?[]:[t]},f=function(){};t.exports={ajax:function(t){var e=t.method,n=t.url,r=t.query,s=t.data,h=t.headers,f=void 0===h?{}:h,p=t.onprogress,m=t.timeout,v={};if(r)for(var y in r){var g=r[y];void 0!==g&&("object"===(void 0===g?"undefined":i(g))?v[y]=JSON.stringify(g):v[y]=g)}var b=d++;return u("request(%d) %s %s %o %o %o",b,e,n,v,s,f),new c(function(t,i){var c=o(e,n).set(f).query(v).send(s);p&&c.on("progress",p),m&&c.timeout(m),c.end(function(o,c){return o?(c&&(a.enabled("leancloud:request")||l("request(%d) %s %s %o %o %o",b,e,n,r,s,f),l("response(%d) %d %O %o",b,c.status,c.body||c.text,c.header),o.statusCode=c.status,o.responseText=c.text,o.response=c.body),i(o)):(u("response(%d) %d %O %o",b,c.status,c.body||c.text,c.header),t(c.body))})})},isNullOrUndefined:function(t){return r.isNull(t)||r.isUndefined(t)},ensureArray:h,transformFetchOptions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.keys,n=t.include,i=t.includeACL,r={};return e&&(r.keys=h(e).join(",")),n&&(r.include=h(n).join(",")),i&&(r.returnACL=i),r},getSessionToken:function(t){return t.sessionToken?t.sessionToken:t.user&&"function"==typeof t.user.getSessionToken?t.user.getSessionToken():void 0},tap:function(t){return function(e){return t(e),e}},inherits:function(t,e,n){var i;return i=e&&e.hasOwnProperty("constructor")?e.constructor:function(){t.apply(this,arguments)},r.extend(i,t),f.prototype=t.prototype,i.prototype=new f,e&&r.extend(i.prototype,e),n&&r.extend(i,n),i.prototype.constructor=i,i.__super__=t.prototype,i},parseDate:function(t){return new Date(t)},setValue:function(t,e,n){var i=e.split("."),r=i.pop(),o=t;return i.forEach(function(t){void 0===o[t]&&(o[t]={}),o=o[t]}),o[r]=n,t},findValue:function(t,e){for(var n=e.split("."),i=n[0],r=n.pop(),o=t,a=0;a<n.length;a++)if(void 0===(o=o[n[a]]))return[void 0,void 0,r];return[o[r],o,r,i]},isPlainObject:function(t){return r.isObject(t)&&Object.getPrototypeOf(t)===Object.prototype}}},function(t,e,n){"use strict";function i(t,e){var n=new Error(e);return n.code=t,n}n(0).extend(i,{OTHER_CAUSE:-1,INTERNAL_SERVER_ERROR:1,CONNECTION_FAILED:100,OBJECT_NOT_FOUND:101,INVALID_QUERY:102,INVALID_CLASS_NAME:103,MISSING_OBJECT_ID:104,INVALID_KEY_NAME:105,INVALID_POINTER:106,INVALID_JSON:107,COMMAND_UNAVAILABLE:108,NOT_INITIALIZED:109,INCORRECT_TYPE:111,INVALID_CHANNEL_NAME:112,PUSH_MISCONFIGURED:115,OBJECT_TOO_LARGE:116,OPERATION_FORBIDDEN:119,CACHE_MISS:120,INVALID_NESTED_KEY:121,INVALID_FILE_NAME:122,INVALID_ACL:123,TIMEOUT:124,INVALID_EMAIL_ADDRESS:125,MISSING_CONTENT_TYPE:126,MISSING_CONTENT_LENGTH:127,INVALID_CONTENT_LENGTH:128,FILE_TOO_LARGE:129,FILE_SAVE_ERROR:130,FILE_DELETE_ERROR:153,DUPLICATE_VALUE:137,INVALID_ROLE_NAME:139,EXCEEDED_QUOTA:140,SCRIPT_FAILED:141,VALIDATION_ERROR:142,INVALID_IMAGE_DATA:150,UNSAVED_FILE_ERROR:151,INVALID_PUSH_TIME_ERROR:152,USERNAME_MISSING:200,PASSWORD_MISSING:201,USERNAME_TAKEN:202,EMAIL_TAKEN:203,EMAIL_MISSING:204,EMAIL_NOT_FOUND:205,SESSION_MISSING:206,MUST_CREATE_USER_THROUGH_SIGNUP:207,ACCOUNT_ALREADY_LINKED:208,LINKED_ID_MISSING:250,INVALID_LINKED_SESSION:251,UNSUPPORTED_SERVICE:252,X_DOMAIN_REQUEST:602}),t.exports=i},function(t,e,n){"use strict";(function(e){var i=n(0),r=n(9),o=n(6),a=n(22),s=n(3),u=s.inherits,l=s.parseDate,c=n(1),d=e.AV||{};d._config={serverURLs:{},useMasterKey:!1,production:null,realtime:null,requestTimeout:null},d._sharedConfig={userAgent:a,liveQueryRealtime:null},d._getAVPath=function(t){if(!d.applicationId)throw new Error("You need to call AV.initialize before using AV.");if(t||(t=""),!i.isString(t))throw new Error("Tried to get a localStorage path that wasn't a String.");return"/"===t[0]&&(t=t.substring(1)),"AV/"+d.applicationId+"/"+t},d._installationId=null,d._getInstallationId=function(){if(d._installationId)return c.resolve(d._installationId);var t=d._getAVPath("installationId");return d.localStorage.getItemAsync(t).then(function(e){return d._installationId=e,d._installationId?e:(d._installationId=e=r(),d.localStorage.setItemAsync(t,e).then(function(){return e}))})},d._subscriptionId=null,d._refreshSubscriptionId=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d._getAVPath("subscriptionId"),e=d._subscriptionId=r();return d.localStorage.setItemAsync(t,e).then(function(){return e})},d._getSubscriptionId=function(){if(d._subscriptionId)return c.resolve(d._subscriptionId);var t=d._getAVPath("subscriptionId");return d.localStorage.getItemAsync(t).then(function(e){return d._subscriptionId=e,d._subscriptionId||(e=d._refreshSubscriptionId(t)),e})},d._parseDate=l,d._extend=function(t,e){var n=u(this,t,e);return n.extend=this.extend,n},d._encode=function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t instanceof d.Object){if(n)throw new Error("AV.Objects not allowed here");return e&&!i.include(e,t)&&t._hasData?t._toFullJSON(e.concat(t),r):t._toPointer()}if(t instanceof d.ACL)return t.toJSON();if(i.isDate(t))return r?{__type:"Date",iso:t.toJSON()}:t.toJSON();if(t instanceof d.GeoPoint)return t.toJSON();if(i.isArray(t))return i.map(t,function(t){return d._encode(t,e,n,r)});if(i.isRegExp(t))return t.source;if(t instanceof d.Relation)return t.toJSON();if(t instanceof d.Op)return t.toJSON();if(t instanceof d.File){if(!t.url()&&!t.id)throw new Error("Tried to save an object containing an unsaved file.");return t._toFullJSON(e,r)}return i.isObject(t)?i.mapObject(t,function(t,i){return d._encode(t,e,n,r)}):t},d._decode=function(t,e){if(!i.isObject(t)||i.isDate(t))return t;if(i.isArray(t))return i.map(t,function(t){return d._decode(t)});if(t instanceof d.Object)return t;if(t instanceof d.File)return t;if(t instanceof d.Op)return t;if(t instanceof d.GeoPoint)return t;if(t instanceof d.ACL)return t;if("ACL"===e)return new d.ACL(t);if(t.__op)return d.Op._decode(t);var n;if("Pointer"===t.__type){n=t.className;var r=d.Object._create(n);if(Object.keys(t).length>3){var o=i.clone(t);delete o.__type,delete o.className,r._finishFetch(o,!0)}else r._finishFetch({objectId:t.objectId},!1);return r}if("Object"===t.__type){n=t.className;var a=i.clone(t);delete a.__type,delete a.className;var s=d.Object._create(n);return s._finishFetch(a,!0),s}if("Date"===t.__type)return d._parseDate(t.iso);if("GeoPoint"===t.__type)return new d.GeoPoint({latitude:t.latitude,longitude:t.longitude});if("Relation"===t.__type){if(!e)throw new Error("key missing decoding a Relation");var u=new d.Relation(null,e);return u.targetClassName=t.className,u}if("File"===t.__type){var l=new d.File(t.name),c=i.clone(t);return delete c.__type,l._finishFetch(c),l}return i.mapObject(t,d._decode)},d.parseJSON=d._decode,d.parse=function(t){return d.parseJSON(JSON.parse(t))},d.stringify=function(t){return JSON.stringify(d._encode(t,[],!1,!0))},d._encodeObjectOrArray=function(t){var e=function(t){return t&&t._toFullJSON&&(t=t._toFullJSON([])),i.mapObject(t,function(t){return d._encode(t,[])})};return i.isArray(t)?t.map(function(t){return e(t)}):e(t)},d._arrayEach=i.each,d._traverse=function(t,e,n){if(t instanceof d.Object){if(n=n||[],i.indexOf(n,t)>=0)return;return n.push(t),d._traverse(t.attributes,e,n),e(t)}return t instanceof d.Relation||t instanceof d.File?e(t):i.isArray(t)?(i.each(t,function(i,r){var o=d._traverse(i,e,n);o&&(t[r]=o)}),e(t)):i.isObject(t)?(d._each(t,function(i,r){var o=d._traverse(i,e,n);o&&(t[r]=o)}),e(t)):e(t)},d._objectEach=d._each=function(t,e){i.isObject(t)?i.each(i.keys(t),function(n){e(t[n],n)}):i.each(t,e)},d.debug={enable:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"leancloud*";return o.enable(t)},disable:o.disable},t.exports=d}).call(e,n(7))},function(e,n,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(t){return s(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":s(t)})(t)}n.log=function(){var t;return"object"===("undefined"==typeof console?"undefined":r(console))&&console.log&&(t=console).log.apply(t,arguments)},n.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var i=0,r=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(i++,"%c"===t&&(r=i))}),t.splice(r,0,n)}},n.save=function(t){try{t?n.storage.setItem("debug",t):n.storage.removeItem("debug")}catch(t){}},n.load=function(){var e;try{e=n.storage.getItem("debug")}catch(e){}return!e&&void 0!==t&&"env"in t&&(e=t.env.DEBUG),e},n.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},n.storage=function(){try{return localStorage}catch(t){}}(),n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=i(20)(n),e.exports.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==("undefined"==typeof window?"undefined":s(window))&&(n=window)}t.exports=n},function(t,e,n){function i(){}function r(t){if(!m(t))return t;var e=[];for(var n in t)o(e,n,t[n]);return e.join("&")}function o(t,e,n){if(null!=n)if(Array.isArray(n))n.forEach(function(n){o(t,e,n)});else if(m(n))for(var i in n)o(t,e+"["+i+"]",n[i]);else t.push(encodeURIComponent(e)+"="+encodeURIComponent(n));else null===n&&t.push(encodeURIComponent(e))}function a(t){for(var e,n,i={},r=t.split("&"),o=0,a=r.length;o<a;++o)-1==(n=(e=r[o]).indexOf("="))?i[decodeURIComponent(e)]="":i[decodeURIComponent(e.slice(0,n))]=decodeURIComponent(e.slice(n+1));return i}function u(t){return/[\/+]json($|[^-\w])/.test(t)}function l(t){this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var e=this.xhr.status;1223===e&&(e=204),this._setStatusProperties(e),this.header=this.headers=function(t){for(var e,n,i,r,o=t.split(/\r?\n/),a={},s=0,u=o.length;s<u;++s)-1!==(e=(n=o[s]).indexOf(":"))&&(i=n.slice(0,e).toLowerCase(),r=b(n.slice(e+1)),a[i]=r);return a}(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&t._responseType?this.body=this.xhr.response:this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function c(t,e){var n=this;this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var t,e=null,i=null;try{i=new l(n)}catch(i){return(e=new Error("Parser is unable to parse the response")).parse=!0,e.original=i,n.xhr?(e.rawResponse=void 0===n.xhr.responseType?n.xhr.responseText:n.xhr.response,e.status=n.xhr.status?n.xhr.status:null,e.statusCode=e.status):(e.rawResponse=null,e.status=null),n.callback(e)}n.emit("response",i);try{n._isResponseOK(i)||(t=new Error(i.statusText||"Unsuccessful HTTP response"))}catch(e){t=e}t?(t.original=e,t.response=i,t.status=i.status,n.callback(t,i)):n.callback(null,i)})}function d(t,e,n){var i=g("DELETE",t);return"function"==typeof e&&(n=e,e=null),e&&i.send(e),n&&i.end(n),i}var h;"undefined"!=typeof window?h=window:"undefined"!=typeof self?h=self:(console.warn("Using browser-only version of superagent in non-browser environment"),h=this);var f=n(24),p=n(25),m=n(11),v=n(26),y=n(28),g=e=t.exports=function(t,n){return"function"==typeof n?new e.Request("GET",t).end(n):1==arguments.length?new e.Request("GET",t):new e.Request(t,n)};e.Request=c,g.getXHR=function(){if(!(!h.XMLHttpRequest||h.location&&"file:"==h.location.protocol&&h.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}throw Error("Browser-only version of superagent could not find XHR")};var b="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};g.serializeObject=r,g.parseString=a,g.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},g.serialize={"application/x-www-form-urlencoded":r,"application/json":JSON.stringify},g.parse={"application/x-www-form-urlencoded":a,"application/json":JSON.parse},v(l.prototype),l.prototype._parseBody=function(t){var e=g.parse[this.type];return this.req._parser?this.req._parser(this,t):(!e&&u(this.type)&&(e=g.parse["application/json"]),e&&t&&(t.length||t instanceof Object)?e(t):null)},l.prototype.toError=function(){var t=this.req,e=t.method,n=t.url,i="cannot "+e+" "+n+" ("+this.status+")",r=new Error(i);return r.status=this.status,r.method=e,r.url=n,r},g.Response=l,f(c.prototype),p(c.prototype),c.prototype.type=function(t){return this.set("Content-Type",g.types[t]||t),this},c.prototype.accept=function(t){return this.set("Accept",g.types[t]||t),this},c.prototype.auth=function(t,e,n){1===arguments.length&&(e=""),"object"==s(e)&&null!==e&&(n=e,e=""),n||(n={type:"function"==typeof btoa?"basic":"auto"});var i=function(t){if("function"==typeof btoa)return btoa(t);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(t,e,n,i)},c.prototype.query=function(t){return"string"!=typeof t&&(t=r(t)),t&&this._query.push(t),this},c.prototype.attach=function(t,e,n){if(e){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(t,e,n||e.name)}return this},c.prototype._getFormData=function(){return this._formData||(this._formData=new h.FormData),this._formData},c.prototype.callback=function(t,e){if(this._shouldRetry(t,e))return this._retry();var n=this._callback;this.clearTimeout(),t&&(this._maxRetries&&(t.retries=this._retries-1),this.emit("error",t)),n(t,e)},c.prototype.crossDomainError=function(){var t=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");t.crossDomain=!0,t.status=this.status,t.method=this.method,t.url=this.url,this.callback(t)},c.prototype.buffer=c.prototype.ca=c.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},c.prototype.pipe=c.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},c.prototype._isHost=function(t){return t&&"object"==s(t)&&!Array.isArray(t)&&"[object Object]"!==Object.prototype.toString.call(t)},c.prototype.end=function(t){return this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=t||i,this._finalizeQueryString(),this._end()},c.prototype._end=function(){var t=this,e=this.xhr=g.getXHR(),n=this._formData||this._data;this._setTimeouts(),e.onreadystatechange=function(){var n=e.readyState;if(n>=2&&t._responseTimeoutTimer&&clearTimeout(t._responseTimeoutTimer),4==n){var i;try{i=e.status}catch(t){i=0}if(!i){if(t.timedout||t._aborted)return;return t.crossDomainError()}t.emit("end")}};var i=function(e,n){n.total>0&&(n.percent=n.loaded/n.total*100),n.direction=e,t.emit("progress",n)};if(this.hasListeners("progress"))try{e.onprogress=i.bind(null,"download"),e.upload&&(e.upload.onprogress=i.bind(null,"upload"))}catch(t){}try{this.username&&this.password?e.open(this.method,this.url,!0,this.username,this.password):e.open(this.method,this.url,!0)}catch(t){return this.callback(t)}if(this._withCredentials&&(e.withCredentials=!0),!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof n&&!this._isHost(n)){var r=this._header["content-type"],o=this._serializer||g.serialize[r?r.split(";")[0]:""];!o&&u(r)&&(o=g.serialize["application/json"]),o&&(n=o(n))}for(var a in this.header)null!=this.header[a]&&this.header.hasOwnProperty(a)&&e.setRequestHeader(a,this.header[a]);return this._responseType&&(e.responseType=this._responseType),this.emit("request",this),e.send(void 0!==n?n:null),this},g.agent=function(){return new y},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(t){y.prototype[t.toLowerCase()]=function(e,n){var i=new g.Request(t,e);return this._setDefaults(i),n&&i.end(n),i}}),y.prototype.del=y.prototype.delete,g.get=function(t,e,n){var i=g("GET",t);return"function"==typeof e&&(n=e,e=null),e&&i.query(e),n&&i.end(n),i},g.head=function(t,e,n){var i=g("HEAD",t);return"function"==typeof e&&(n=e,e=null),e&&i.query(e),n&&i.end(n),i},g.options=function(t,e,n){var i=g("OPTIONS",t);return"function"==typeof e&&(n=e,e=null),e&&i.send(e),n&&i.end(n),i},g.del=d,g.delete=d,g.patch=function(t,e,n){var i=g("PATCH",t);return"function"==typeof e&&(n=e,e=null),e&&i.send(e),n&&i.end(n),i},g.post=function(t,e,n){var i=g("POST",t);return"function"==typeof e&&(n=e,e=null),e&&i.send(e),n&&i.end(n),i},g.put=function(t,e,n){var i=g("PUT",t);return"function"==typeof e&&(n=e,e=null),e&&i.send(e),n&&i.end(n),i}},function(t,e,n){var i=n(18),r=n(19);t.exports=function(t,e,n){var o=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var a=(t=t||{}).random||(t.rng||i)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e)for(var s=0;s<16;++s)e[o+s]=a[s];return e||r(a)}},function(t,e,n){"use strict";t.exports="4.0.1"},function(t,e,n){"use strict";t.exports=function(t){return null!==t&&"object"==s(t)}},function(t,e,n){"use strict";var i=n(1),r=n(31),o=["getItem","setItem","removeItem","clear"];r.async?o.forEach(function(t){"function"!=typeof r[t]&&(r[t]=function(){var e=new Error("Synchronous API ["+t+"] is not available in this runtime.");throw e.code="SYNC_API_NOT_AVAILABLE",e})}):o.forEach(function(t){"function"==typeof r[t]&&(r[t+"Async"]=function(){return i.resolve(r[t].apply(r,arguments))})}),t.exports=r},function(t,e,n){"use strict";var i=n(12),r=n(5),o=e.removeAsync=i.removeItemAsync.bind(i);e.getAsync=function(t){return t="AV/"+r.applicationId+"/"+t,i.getItemAsync(t).then(function(e){return function(t,e){try{t=JSON.parse(t)}catch(t){return null}return t?t.expiredAt&&t.expiredAt<Date.now()?o(e).then(function(){return null}):t.value:null}(e,t)})},e.setAsync=function(t,e,n){var o={value:e};return"number"==typeof n&&(o.expiredAt=Date.now()+n),i.setItemAsync("AV/"+r.applicationId+"/"+t,JSON.stringify(o))}},function(t,e){var n={utf8:{stringToBytes:function(t){return n.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(n.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}};t.exports=n},function(t,e,n){"use strict";
/*!
 * LeanCloud JavaScript SDK
 * https://leancloud.cn
 *
 * Copyright 2016 LeanCloud.cn, Inc.
 * The LeanCloud JavaScript SDK is freely distributable under the MIT license.
 */n(16);var i=n(0),r=n(5);r._=i,r.version=n(10),r.Promise=n(1),r.localStorage=n(12),r.Cache=n(13),r.Error=n(4),n(33),n(35)(r),n(36)(r),n(37)(r),n(38)(r),n(39)(r),n(40)(r),n(48)(r),n(49)(r),n(50)(r),n(51)(r),n(52)(r),n(54)(r),n(55)(r),n(56)(r),n(57)(r),n(58)(r),n(59)(r),r.Conversation=n(60),n(61),t.exports=r},function(t,e,n){},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var i=new Uint8Array(16);t.exports=function(){return n(i),i}}else{var r=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),r[e]=t>>>((3&e)<<3)&255;return r}}},function(t,e){for(var n=[],i=0;i<256;++i)n[i]=(i+256).toString(16).substr(1);t.exports=function(t,e){var i=e||0,r=n;return[r[t[i++]],r[t[i++]],r[t[i++]],r[t[i++]],"-",r[t[i++]],r[t[i++]],"-",r[t[i++]],r[t[i++]],"-",r[t[i++]],r[t[i++]],"-",r[t[i++]],r[t[i++]],r[t[i++]],r[t[i++]],r[t[i++]],r[t[i++]]].join("")}},function(t,e,n){"use strict";t.exports=function(t){function e(t){for(var e=0,n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return i.colors[Math.abs(e)%i.colors.length]}function i(t){function n(){if(n.enabled){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var o=n,s=Number(new Date),u=s-(a||s);o.diff=u,o.prev=a,o.curr=s,a=s,e[0]=i.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");var l=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,function(t,n){if("%%"===t)return t;l++;var r=i.formatters[n];if("function"==typeof r){var a=e[l];t=r.call(o,a),e.splice(l,1),l--}return t}),i.formatArgs.call(o,e),(o.log||i.log).apply(o,e)}}var a;return n.namespace=t,n.enabled=i.enabled(t),n.useColors=i.useColors(),n.color=e(t),n.destroy=r,n.extend=o,"function"==typeof i.init&&i.init(n),i.instances.push(n),n}function r(){var t=i.instances.indexOf(this);return-1!==t&&(i.instances.splice(t,1),!0)}function o(t,e){return i(this.namespace+(void 0===e?":":e)+t)}return i.debug=i,i.default=i,i.coerce=function(t){return t instanceof Error?t.stack||t.message:t},i.disable=function(){i.enable("")},i.enable=function(t){i.save(t),i.names=[],i.skips=[];var e,n=("string"==typeof t?t:"").split(/[\s,]+/),r=n.length;for(e=0;e<r;e++)n[e]&&("-"===(t=n[e].replace(/\*/g,".*?"))[0]?i.skips.push(new RegExp("^"+t.substr(1)+"$")):i.names.push(new RegExp("^"+t+"$")));for(e=0;e<i.instances.length;e++){var o=i.instances[e];o.enabled=i.enabled(o.namespace)}},i.enabled=function(t){if("*"===t[t.length-1])return!0;var e,n;for(e=0,n=i.skips.length;e<n;e++)if(i.skips[e].test(t))return!1;for(e=0,n=i.names.length;e<n;e++)if(i.names[e].test(t))return!0;return!1},i.humanize=n(21),Object.keys(t).forEach(function(e){i[e]=t[e]}),i.instances=[],i.names=[],i.skips=[],i.formatters={},i.selectColor=e,i.enable(i.load()),i}},function(t,e){function n(t){var e=Math.abs(t);return e>=u?i(t,e,u,"day"):e>=a?i(t,e,a,"hour"):e>=o?i(t,e,o,"minute"):e>=r?i(t,e,r,"second"):t+" ms"}function i(t,e,n,i){var r=e>=1.5*n;return Math.round(t/n)+" "+i+(r?"s":"")}var r=1e3,o=60*r,a=60*o,u=24*a,l=7*u,c=365.25*u;t.exports=function(t,e){e=e||{};var i=s(t);if("string"===i&&t.length>0)return function(t){if(!((t=String(t)).length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*c;case"weeks":case"week":case"w":return n*l;case"days":case"day":case"d":return n*u;case"hours":case"hour":case"hrs":case"hr":case"h":return n*a;case"minutes":case"minute":case"mins":case"min":case"m":return n*o;case"seconds":case"second":case"secs":case"sec":case"s":return n*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}(t);if("number"===i&&isFinite(t))return e.long?n(t):function(t){var e=Math.abs(t);return e>=u?Math.round(t/u)+"d":e>=a?Math.round(t/a)+"h":e>=o?Math.round(t/o)+"m":e>=r?Math.round(t/r)+"s":t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){"use strict";var i=n(10),r=["Browser"].concat(n(23));t.exports="LeanCloud-JS-SDK/"+i+" ("+r.join("; ")+")"},function(t,e,n){"use strict";t.exports=[]},function(t,e,n){function i(t){if(t)return function(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}(t)}t.exports=i,i.prototype.on=i.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},i.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i,r=0;r<n.length;r++)if((i=n[r])===e||i.fn===e){n.splice(r,1);break}return 0===n.length&&delete this._callbacks["$"+t],this},i.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(n){i=0;for(var r=(n=n.slice(0)).length;i<r;++i)n[i].apply(this,e)}return this},i.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},i.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,n){"use strict";function i(t){if(t)return function(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}(t)}var r=n(11);t.exports=i,i.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},i.prototype.parse=function(t){return this._parser=t,this},i.prototype.responseType=function(t){return this._responseType=t,this},i.prototype.serialize=function(t){return this._serializer=t,this},i.prototype.timeout=function(t){if(!t||"object"!=s(t))return this._timeout=t,this._responseTimeout=0,this;for(var e in t)switch(e){case"deadline":this._timeout=t.deadline;break;case"response":this._responseTimeout=t.response;break;default:console.warn("Unknown timeout option",e)}return this},i.prototype.retry=function(t,e){return 0!==arguments.length&&!0!==t||(t=1),t<=0&&(t=0),this._maxRetries=t,this._retries=0,this._retryCallback=e,this};var o=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];i.prototype._shouldRetry=function(t,e){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var n=this._retryCallback(t,e);if(!0===n)return!0;if(!1===n)return!1}catch(t){console.error(t)}if(e&&e.status&&e.status>=500&&501!=e.status)return!0;if(t){if(t.code&&~o.indexOf(t.code))return!0;if(t.timeout&&"ECONNABORTED"==t.code)return!0;if(t.crossDomain)return!0}return!1},i.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},i.prototype.then=function(t,e){if(!this._fullfilledPromise){var n=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(t,e){n.end(function(n,i){n?e(n):t(i)})})}return this._fullfilledPromise.then(t,e)},i.prototype.catch=function(t){return this.then(void 0,t)},i.prototype.use=function(t){return t(this),this},i.prototype.ok=function(t){if("function"!=typeof t)throw Error("Callback required");return this._okCallback=t,this},i.prototype._isResponseOK=function(t){return!!t&&(this._okCallback?this._okCallback(t):t.status>=200&&t.status<300)},i.prototype.get=function(t){return this._header[t.toLowerCase()]},i.prototype.getHeader=i.prototype.get,i.prototype.set=function(t,e){if(r(t)){for(var n in t)this.set(n,t[n]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},i.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},i.prototype.field=function(t,e){if(null==t)throw new Error(".field(name, val) name can not be empty");if(this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()"),r(t)){for(var n in t)this.field(n,t[n]);return this}if(Array.isArray(e)){for(var i in e)this.field(t,e[i]);return this}if(null==e)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof e&&(e=""+e),this._getFormData().append(t,e),this},i.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},i.prototype._auth=function(t,e,n,i){switch(n.type){case"basic":this.set("Authorization","Basic "+i(t+":"+e));break;case"auto":this.username=t,this.password=e;break;case"bearer":this.set("Authorization","Bearer "+t)}return this},i.prototype.withCredentials=function(t){return null==t&&(t=!0),this._withCredentials=t,this},i.prototype.redirects=function(t){return this._maxRedirects=t,this},i.prototype.maxResponseSize=function(t){if("number"!=typeof t)throw TypeError("Invalid argument");return this._maxResponseSize=t,this},i.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},i.prototype.send=function(t){var e=r(t),n=this._header["content-type"];if(this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()"),e&&!this._data)Array.isArray(t)?this._data=[]:this._isHost(t)||(this._data={});else if(t&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(e&&r(this._data))for(var i in t)this._data[i]=t[i];else"string"==typeof t?(n||this.type("form"),n=this._header["content-type"],this._data="application/x-www-form-urlencoded"==n?this._data?this._data+"&"+t:t:(this._data||"")+t):this._data=t;return!e||this._isHost(t)?this:(n||this.type("json"),this)},i.prototype.sortQuery=function(t){return this._sort=void 0===t||t,this},i.prototype._finalizeQueryString=function(){var t=this._query.join("&");if(t&&(this.url+=(this.url.indexOf("?")>=0?"&":"?")+t),this._query.length=0,this._sort){var e=this.url.indexOf("?");if(e>=0){var n=this.url.substring(e+1).split("&");"function"==typeof this._sort?n.sort(this._sort):n.sort(),this.url=this.url.substring(0,e)+"?"+n.join("&")}}},i.prototype._appendQueryString=function(){console.trace("Unsupported")},i.prototype._timeoutError=function(t,e,n){if(!this._aborted){var i=new Error(t+e+"ms exceeded");i.timeout=e,i.code="ECONNABORTED",i.errno=n,this.timedout=!0,this.abort(),this.callback(i)}},i.prototype._setTimeouts=function(){var t=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){t._timeoutError("Timeout of ",t._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){t._timeoutError("Response timeout of ",t._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},function(t,e,n){"use strict";function i(t){if(t)return function(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}(t)}var r=n(27);t.exports=i,i.prototype.get=function(t){return this.header[t.toLowerCase()]},i.prototype._setHeaderProperties=function(t){var e=t["content-type"]||"";this.type=r.type(e);var n=r.params(e);for(var i in n)this[i]=n[i];this.links={};try{t.link&&(this.links=r.parseLinks(t.link))}catch(t){}},i.prototype._setStatusProperties=function(t){var e=t/100|0;this.status=this.statusCode=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.redirect=3==e,this.clientError=4==e,this.serverError=5==e,this.error=(4==e||5==e)&&this.toError(),this.created=201==t,this.accepted=202==t,this.noContent=204==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.forbidden=403==t,this.notFound=404==t,this.unprocessableEntity=422==t}},function(t,e,n){"use strict";e.type=function(t){return t.split(/ *; */).shift()},e.params=function(t){return t.split(/ *; */).reduce(function(t,e){var n=e.split(/ *= */),i=n.shift(),r=n.shift();return i&&r&&(t[i]=r),t},{})},e.parseLinks=function(t){return t.split(/ *, */).reduce(function(t,e){var n=e.split(/ *; */),i=n[0].slice(1,-1);return t[n[1].split(/ *= */)[1].slice(1,-1)]=i,t},{})},e.cleanHeader=function(t,e){return delete t["content-type"],delete t["content-length"],delete t["transfer-encoding"],delete t.host,e&&(delete t.authorization,delete t.cookie),t}},function(t,e){function n(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert"].forEach(function(t){n.prototype[t]=function(){return this._defaults.push({fn:t,arguments:arguments}),this}}),n.prototype._setDefaults=function(t){this._defaults.forEach(function(e){t[e.fn].apply(t,e.arguments)})},t.exports=n},function(e,n,i){(function(n){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.3+b33f4734
 */
!function(t,n){e.exports=n()}(0,function(){"use strict";function e(t){return"function"==typeof t}function r(){var t=setTimeout;return function(){return t(o,1)}}function o(){for(var t=0;t<w;t+=2)(0,L[t])(L[t+1]),L[t]=void 0,L[t+1]=void 0;w=0}function a(t,e){var n=this,i=new this.constructor(l);void 0===i[j]&&b(i);var r=n._state;if(r){var o=arguments[r-1];T(function(){return g(r,i,o,n._result)})}else v(n,i,t,e);return i}function u(t){if(t&&"object"==s(t)&&t.constructor===this)return t;var e=new this(l);return h(e,t),e}function l(){}function c(t){try{return t.then}catch(t){return q.error=t,q}}function d(t,n,i){n.constructor===t.constructor&&i===a&&n.constructor.resolve===u?function(t,e){e._state===I?p(t,e._result):e._state===N?m(t,e._result):v(e,void 0,function(e){return h(t,e)},function(e){return m(t,e)})}(t,n):i===q?(m(t,q.error),q.error=null):void 0===i?p(t,n):e(i)?function(t,e,n){T(function(t){var i=!1,r=function(t,e,n,i){try{t.call(e,n,i)}catch(t){return t}}(n,e,function(n){i||(i=!0,e!==n?h(t,n):p(t,n))},function(e){i||(i=!0,m(t,e))},t._label);!i&&r&&(i=!0,m(t,r))},t)}(t,n,i):p(t,n)}function h(t,e){t===e?m(t,new TypeError("You cannot resolve a promise with itself")):function(t){var e=s(t);return null!==t&&("object"===e||"function"===e)}(e)?d(t,e,c(e)):p(t,e)}function f(t){t._onerror&&t._onerror(t._result),y(t)}function p(t,e){t._state===P&&(t._result=e,t._state=I,0!==t._subscribers.length&&T(y,t))}function m(t,e){t._state===P&&(t._state=N,t._result=e,T(f,t))}function v(t,e,n,i){var r=t._subscribers,o=r.length;t._onerror=null,r[o]=e,r[o+I]=n,r[o+N]=i,0===o&&t._state&&T(y,t)}function y(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var i=void 0,r=void 0,o=t._result,a=0;a<e.length;a+=3)i=e[a],r=e[a+n],i?g(n,i,r,o):r(o);t._subscribers.length=0}}function g(t,n,i,r){var o=e(i),a=void 0,s=void 0,u=void 0,l=void 0;if(o){if((a=function(t,e){try{return t(e)}catch(t){return q.error=t,q}}(i,r))===q?(l=!0,s=a.error,a.error=null):u=!0,n===a)return void m(n,new TypeError("A promises callback cannot return that same promise."))}else a=r,u=!0;n._state!==P||(o&&u?h(n,a):l?m(n,s):t===I?p(n,a):t===N&&m(n,a))}function b(t){t[j]=D++,t._state=void 0,t._result=void 0,t._subscribers=[]}var _=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},w=0,x=void 0,k=void 0,T=function(t,e){L[w]=t,L[w+1]=e,2===(w+=2)&&(k?k(o):M())},S="undefined"!=typeof window?window:void 0,E=S||{},C=E.MutationObserver||E.WebKitMutationObserver,O="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),A="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,L=new Array(1e3),M=void 0;M=O?function(){return t.nextTick(o)}:C?function(){var t=0,e=new C(o),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}():A?function(){var t=new MessageChannel;return t.port1.onmessage=o,function(){return t.port2.postMessage(0)}}():void 0===S?function(){try{var t=i(30);return void 0!==(x=t.runOnLoop||t.runOnContext)?function(){x(o)}:r()}catch(t){return r()}}():r();var j=Math.random().toString(36).substring(2),P=void 0,I=1,N=2,q={error:null},D=0,B=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(l),this.promise[j]||b(this.promise),_(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?p(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&p(this.promise,this._result))):m(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===P&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,i=n.resolve;if(i===u){var r=c(t);if(r===a&&t._state!==P)this._settledAt(t._state,e,t._result);else if("function"!=typeof r)this._remaining--,this._result[e]=t;else if(n===R){var o=new n(l);d(o,t,r),this._willSettleAt(o,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(i(t),e)},t.prototype._settledAt=function(t,e,n){var i=this.promise;i._state===P&&(this._remaining--,t===N?m(i,n):this._result[e]=n),0===this._remaining&&p(i,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;v(t,void 0,function(t){return n._settledAt(I,e,t)},function(t){return n._settledAt(N,e,t)})},t}(),R=function(){function t(e){this[j]=D++,this._result=this._state=void 0,this._subscribers=[],l!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(t,e){try{e(function(e){h(t,e)},function(e){m(t,e)})}catch(e){m(t,e)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){throw n})})},t}();return R.prototype.then=a,R.all=function(t){return new B(this,t).promise},R.race=function(t){var e=this;return new e(_(t)?function(n,i){for(var r=t.length,o=0;o<r;o++)e.resolve(t[o]).then(n,i)}:function(t,e){return e(new TypeError("You must pass an array to race."))})},R.resolve=u,R.reject=function(t){var e=new this(l);return m(e,t),e},R._setScheduler=function(t){k=t},R._setAsap=function(t){T=t},R._asap=T,R.polyfill=function(){var t=void 0;if(void 0!==n)t=n;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var i=null;try{i=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===i&&!e.cast)return}t.Promise=R},R.Promise=R,R})}).call(n,i(7))},function(t,e){},function(t,e,n){"use strict";(function(e){var i={},r=e.localStorage;try{var o="__storejs__";if(r.setItem(o,o),r.getItem(o)!=o)throw new Error;r.removeItem(o)}catch(t){r=n(32)}["getItem","setItem","removeItem","clear"].forEach(function(t){i[t]=function(){return r[t].apply(r,arguments)}}),i.async=!1,t.exports=i}).call(e,n(7))},function(t,e,n){!function(e){var n={},i={};n.length=0,n.getItem=function(t){return t in i?i[t]:null},n.setItem=function(t,e){void 0===e?n.removeItem(t):(i.hasOwnProperty(t)||n.length++,i[t]=""+e)},n.removeItem=function(t){i.hasOwnProperty(t)&&(delete i[t],n.length--)},n.key=function(t){return Object.keys(i)[t]||null},n.clear=function(){i={},n.length=0},t.exports=n}()},function(t,e,n){"use strict";function i(t){if(c(t))return{};var e=t.slice(0,8).toLowerCase(),n="lncldglobal.com";return{push:"https://"+e+".push."+n,stats:"https://"+e+".stats."+n,engine:"https://"+e+".engine."+n,api:"https://"+e+".api."+n,rtm:"https://"+e+".rtm."+n}}var r=n(5),o=n(34),a=n(3).isNullOrUndefined,s=n(0),u=s.extend,l=s.isObject,c=function(t){return"-MdYXbMMI"!==t.slice(-9)},d=function(t){return{push:t,stats:t,engine:t,api:t,rtm:t}},h=!1;r.init=function(t){if(!l(t))return r.init({appId:t,appKey:arguments.length<=1?void 0:arguments[1],masterKey:arguments.length<=2?void 0:arguments[2]});var e=t.appId,n=t.appKey,a=t.masterKey,s=(t.hookKey,t.serverURLs),f=t.disableCurrentUser,p=t.production,m=t.realtime;if(r.applicationId)throw new Error("SDK is already initialized.");if(!e)throw new TypeError("appId must be a string");if(!n)throw new TypeError("appKey must be a string");if(a&&console.warn("MasterKey is not supposed to be used in browser."),c(e)&&!s)throw new TypeError("serverURLs option is required for apps from CN region");r._config.applicationId=e,r._config.applicationKey=n,r._config.masterKey=a,r.setProduction(p),void 0!==f&&(r._config.disableCurrentUser=f),r._appRouter=new o(r);var v=h||void 0!==s;if(r._setServerURLs(u({},i(e),r._config.serverURLs,"string"==typeof s?d(s):s),v),m)r._config.realtime=m;else if(r._sharedConfig.liveQueryRealtime){var y=r._config.serverURLs,g=y.api,b=y.rtm;r._config.realtime=new r._sharedConfig.liveQueryRealtime({appId:e,appKey:n,server:{api:g,RTMRouter:b}})}},r.setProduction=function(t){a(t)?r._config.production=null:r._config.production=t?1:0},r._setServerURLs=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"string"!=typeof t?u(r._config.serverURLs,t):r._config.serverURLs=d(t),e&&(r._appRouter?r._appRouter.disable():h=!0)},r.setServerURLs=function(t){return r._setServerURLs(t)},r.keepErrorRawMessage=function(t){r._sharedConfig.keepErrorRawMessage=t},r.setRequestTimeout=function(t){r._config.requestTimeout=t},r.initialize=r.init,["applicationId","applicationKey","masterKey","hookKey"].forEach(function(t){return Object.defineProperty(r,t,{get:function(){return r._config[t]},set:function(e){r._config[t]=e}})})},function(t,e,n){"use strict";function i(t){var e=this;this.AV=t,this.lockedUntil=0,o.getAsync("serverURLs").then(function(t){if(!e.disabled){if(!t)return e.lock(0);var n=t.serverURLs,i=t.lockedUntil;e.AV._setServerURLs(n,!1),e.lockedUntil=i}}).catch(function(){return e.lock(0)})}var r=n(3).ajax,o=n(13);i.prototype.disable=function(){this.disabled=!0},i.prototype.lock=function(t){this.lockedUntil=Date.now()+t},i.prototype.refresh=function(){var t=this;if(!(this.disabled||Date.now()<this.lockedUntil))return this.lock(10),r({method:"get",url:"https://app-router.com/2/route",query:{appId:this.AV.applicationId}}).then(function(e){if(!t.disabled){var n=e.ttl;if(!n)throw new Error("missing ttl");n*=1e3;var i={push:"https://"+e.push_server,stats:"https://"+e.stats_server,engine:"https://"+e.engine_server,api:"https://"+e.api_server};return t.AV._setServerURLs(i,!1),t.lock(n),o.setAsync("serverURLs",{serverURLs:i,lockedUntil:t.lockedUntil},n)}}).catch(function(e){console.warn("refresh server URLs failed: "+e.message),t.lock(600)})},t.exports=i},function(t,e,n){"use strict";var i=n(0);t.exports=function(t){var e=/\s+/,n=Array.prototype.slice;t.Events={on:function(t,n,i){var r,o,a,s,u;if(!n)return this;for(t=t.split(e),r=this._callbacks||(this._callbacks={}),o=t.shift();o;)(a=(u=r[o])?u.tail:{}).next=s={},a.context=i,a.callback=n,r[o]={tail:s,next:u?u.next:a},o=t.shift();return this},off:function(t,n,r){var o,a,s,u,l,c;if(a=this._callbacks){if(!(t||n||r))return delete this._callbacks,this;for(o=(t=t?t.split(e):i.keys(a)).shift();o;)if(s=a[o],delete a[o],s&&(n||r)){for(u=s.tail,s=s.next;s!==u;)l=s.callback,c=s.context,(n&&l!==n||r&&c!==r)&&this.on(o,l,c),s=s.next;o=t.shift()}return this}},trigger:function(t){var i,r,o,a,s,u,l;if(!(o=this._callbacks))return this;for(u=o.all,t=t.split(e),l=n.call(arguments,1),i=t.shift();i;){if(r=o[i])for(a=r.tail;(r=r.next)!==a;)r.callback.apply(r.context||this,l);if(r=u)for(a=r.tail,s=[i].concat(l);(r=r.next)!==a;)r.callback.apply(r.context||this,s);i=t.shift()}return this}},t.Events.bind=t.Events.on,t.Events.unbind=t.Events.off}},function(t,e,n){"use strict";var i=n(0),r=n(1);t.exports=function(t){t.GeoPoint=function(e,n){i.isArray(e)?(t.GeoPoint._validate(e[0],e[1]),this.latitude=e[0],this.longitude=e[1]):i.isObject(e)?(t.GeoPoint._validate(e.latitude,e.longitude),this.latitude=e.latitude,this.longitude=e.longitude):i.isNumber(e)&&i.isNumber(n)?(t.GeoPoint._validate(e,n),this.latitude=e,this.longitude=n):(this.latitude=0,this.longitude=0);var r=this;this.__defineGetter__&&this.__defineSetter__&&(this._latitude=this.latitude,this._longitude=this.longitude,this.__defineGetter__("latitude",function(){return r._latitude}),this.__defineGetter__("longitude",function(){return r._longitude}),this.__defineSetter__("latitude",function(e){t.GeoPoint._validate(e,r.longitude),r._latitude=e}),this.__defineSetter__("longitude",function(e){t.GeoPoint._validate(r.latitude,e),r._longitude=e}))},t.GeoPoint._validate=function(t,e){if(t<-90)throw new Error("AV.GeoPoint latitude "+t+" < -90.0.");if(t>90)throw new Error("AV.GeoPoint latitude "+t+" > 90.0.");if(e<-180)throw new Error("AV.GeoPoint longitude "+e+" < -180.0.");if(e>180)throw new Error("AV.GeoPoint longitude "+e+" > 180.0.")},t.GeoPoint.current=function(){return new r(function(e,n){navigator.geolocation.getCurrentPosition(function(n){e(new t.GeoPoint({latitude:n.coords.latitude,longitude:n.coords.longitude}))},n)})},i.extend(t.GeoPoint.prototype,{toJSON:function(){return t.GeoPoint._validate(this.latitude,this.longitude),{__type:"GeoPoint",latitude:this.latitude,longitude:this.longitude}},radiansTo:function(t){var e=Math.PI/180,n=this.latitude*e,i=this.longitude*e,r=t.latitude*e,o=n-r,a=i-t.longitude*e,s=Math.sin(o/2),u=Math.sin(a/2),l=s*s+Math.cos(n)*Math.cos(r)*u*u;return l=Math.min(1,l),2*Math.asin(Math.sqrt(l))},kilometersTo:function(t){return 6371*this.radiansTo(t)},milesTo:function(t){return 3958.8*this.radiansTo(t)}})}},function(t,e,n){"use strict";var i=n(0);t.exports=function(t){t.ACL=function(e){var n=this;if(n.permissionsById={},i.isObject(e))if(e instanceof t.User)n.setReadAccess(e,!0),n.setWriteAccess(e,!0);else{if(i.isFunction(e))throw new Error("AV.ACL() called with a function.  Did you forget ()?");t._objectEach(e,function(e,r){if(!i.isString(r))throw new Error("Tried to create an ACL with an invalid userId.");n.permissionsById[r]={},t._objectEach(e,function(t,e){if("read"!==e&&"write"!==e)throw new Error("Tried to create an ACL with an invalid permission type.");if(!i.isBoolean(t))throw new Error("Tried to create an ACL with an invalid permission value.");n.permissionsById[r][e]=t})})}},t.ACL.prototype.toJSON=function(){return i.clone(this.permissionsById)},t.ACL.prototype._setAccess=function(e,n,r){if(n instanceof t.User?n=n.id:n instanceof t.Role&&(n="role:"+n.getName()),!i.isString(n))throw new Error("userId must be a string.");if(!i.isBoolean(r))throw new Error("allowed must be either true or false.");var o=this.permissionsById[n];if(!o){if(!r)return;o={},this.permissionsById[n]=o}r?this.permissionsById[n][e]=!0:(delete o[e],i.isEmpty(o)&&delete this.permissionsById[n])},t.ACL.prototype._getAccess=function(e,n){n instanceof t.User?n=n.id:n instanceof t.Role&&(n="role:"+n.getName());var i=this.permissionsById[n];return!!i&&!!i[e]},t.ACL.prototype.setReadAccess=function(t,e){this._setAccess("read",t,e)},t.ACL.prototype.getReadAccess=function(t){return this._getAccess("read",t)},t.ACL.prototype.setWriteAccess=function(t,e){this._setAccess("write",t,e)},t.ACL.prototype.getWriteAccess=function(t){return this._getAccess("write",t)},t.ACL.prototype.setPublicReadAccess=function(t){this.setReadAccess("*",t)},t.ACL.prototype.getPublicReadAccess=function(){return this.getReadAccess("*")},t.ACL.prototype.setPublicWriteAccess=function(t){this.setWriteAccess("*",t)},t.ACL.prototype.getPublicWriteAccess=function(){return this.getWriteAccess("*")},t.ACL.prototype.getRoleReadAccess=function(e){if(e instanceof t.Role&&(e=e.getName()),i.isString(e))return this.getReadAccess("role:"+e);throw new Error("role must be a AV.Role or a String")},t.ACL.prototype.getRoleWriteAccess=function(e){if(e instanceof t.Role&&(e=e.getName()),i.isString(e))return this.getWriteAccess("role:"+e);throw new Error("role must be a AV.Role or a String")},t.ACL.prototype.setRoleReadAccess=function(e,n){if(e instanceof t.Role&&(e=e.getName()),!i.isString(e))throw new Error("role must be a AV.Role or a String");this.setReadAccess("role:"+e,n)},t.ACL.prototype.setRoleWriteAccess=function(e,n){if(e instanceof t.Role&&(e=e.getName()),!i.isString(e))throw new Error("role must be a AV.Role or a String");this.setWriteAccess("role:"+e,n)}}},function(t,e,n){"use strict";var i=n(0);t.exports=function(t){t.Op=function(){this._initialize.apply(this,arguments)},i.extend(t.Op.prototype,{_initialize:function(){}}),i.extend(t.Op,{_extend:t._extend,_opDecoderMap:{},_registerDecoder:function(e,n){t.Op._opDecoderMap[e]=n},_decode:function(e){var n=t.Op._opDecoderMap[e.__op];return n?n(e):void 0}}),t.Op._registerDecoder("Batch",function(e){var n=null;return t._arrayEach(e.ops,function(e){e=t.Op._decode(e),n=e._mergeWithPrevious(n)}),n}),t.Op.Set=t.Op._extend({_initialize:function(t){this._value=t},value:function(){return this._value},toJSON:function(){return t._encode(this.value())},_mergeWithPrevious:function(t){return this},_estimate:function(t){return this.value()}}),t.Op._UNSET={},t.Op.Unset=t.Op._extend({toJSON:function(){return{__op:"Delete"}},_mergeWithPrevious:function(t){return this},_estimate:function(e){return t.Op._UNSET}}),t.Op._registerDecoder("Delete",function(e){return new t.Op.Unset}),t.Op.Increment=t.Op._extend({_initialize:function(t){this._amount=t},amount:function(){return this._amount},toJSON:function(){return{__op:"Increment",amount:this._amount}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)return new t.Op.Set(this.amount());if(e instanceof t.Op.Set)return new t.Op.Set(e.value()+this.amount());if(e instanceof t.Op.Increment)return new t.Op.Increment(this.amount()+e.amount());throw new Error("Op is invalid after previous op.")}return this},_estimate:function(t){return t?t+this.amount():this.amount()}}),t.Op._registerDecoder("Increment",function(e){return new t.Op.Increment(e.amount)}),t.Op.BitAnd=t.Op._extend({_initialize:function(t){this._value=t},value:function(){return this._value},toJSON:function(){return{__op:"BitAnd",value:this.value()}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)return new t.Op.Set(0);if(e instanceof t.Op.Set)return new t.Op.Set(e.value()&this.value());throw new Error("Op is invalid after previous op.")}return this},_estimate:function(t){return t&this.value()}}),t.Op._registerDecoder("BitAnd",function(e){return new t.Op.BitAnd(e.value)}),t.Op.BitOr=t.Op._extend({_initialize:function(t){this._value=t},value:function(){return this._value},toJSON:function(){return{__op:"BitOr",value:this.value()}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)return new t.Op.Set(this.value());if(e instanceof t.Op.Set)return new t.Op.Set(e.value()|this.value());throw new Error("Op is invalid after previous op.")}return this},_estimate:function(t){return t|this.value()}}),t.Op._registerDecoder("BitOr",function(e){return new t.Op.BitOr(e.value)}),t.Op.BitXor=t.Op._extend({_initialize:function(t){this._value=t},value:function(){return this._value},toJSON:function(){return{__op:"BitXor",value:this.value()}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)return new t.Op.Set(this.value());if(e instanceof t.Op.Set)return new t.Op.Set(e.value()^this.value());throw new Error("Op is invalid after previous op.")}return this},_estimate:function(t){return t^this.value()}}),t.Op._registerDecoder("BitXor",function(e){return new t.Op.BitXor(e.value)}),t.Op.Add=t.Op._extend({_initialize:function(t){this._objects=t},objects:function(){return this._objects},toJSON:function(){return{__op:"Add",objects:t._encode(this.objects())}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)return new t.Op.Set(this.objects());if(e instanceof t.Op.Set)return new t.Op.Set(this._estimate(e.value()));if(e instanceof t.Op.Add)return new t.Op.Add(e.objects().concat(this.objects()));throw new Error("Op is invalid after previous op.")}return this},_estimate:function(t){return t?t.concat(this.objects()):i.clone(this.objects())}}),t.Op._registerDecoder("Add",function(e){return new t.Op.Add(t._decode(e.objects))}),t.Op.AddUnique=t.Op._extend({_initialize:function(t){this._objects=i.uniq(t)},objects:function(){return this._objects},toJSON:function(){return{__op:"AddUnique",objects:t._encode(this.objects())}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)return new t.Op.Set(this.objects());if(e instanceof t.Op.Set)return new t.Op.Set(this._estimate(e.value()));if(e instanceof t.Op.AddUnique)return new t.Op.AddUnique(this._estimate(e.objects()));throw new Error("Op is invalid after previous op.")}return this},_estimate:function(e){if(e){var n=i.clone(e);return t._arrayEach(this.objects(),function(e){if(e instanceof t.Object&&e.id){var r=i.find(n,function(n){return n instanceof t.Object&&n.id===e.id});if(r){var o=i.indexOf(n,r);n[o]=e}else n.push(e)}else i.contains(n,e)||n.push(e)}),n}return i.clone(this.objects())}}),t.Op._registerDecoder("AddUnique",function(e){return new t.Op.AddUnique(t._decode(e.objects))}),t.Op.Remove=t.Op._extend({_initialize:function(t){this._objects=i.uniq(t)},objects:function(){return this._objects},toJSON:function(){return{__op:"Remove",objects:t._encode(this.objects())}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)return e;if(e instanceof t.Op.Set)return new t.Op.Set(this._estimate(e.value()));if(e instanceof t.Op.Remove)return new t.Op.Remove(i.union(e.objects(),this.objects()));throw new Error("Op is invalid after previous op.")}return this},_estimate:function(e){if(e){var n=i.difference(e,this.objects());return t._arrayEach(this.objects(),function(e){e instanceof t.Object&&e.id&&(n=i.reject(n,function(n){return n instanceof t.Object&&n.id===e.id}))}),n}return[]}}),t.Op._registerDecoder("Remove",function(e){return new t.Op.Remove(t._decode(e.objects))}),t.Op.Relation=t.Op._extend({_initialize:function(e,n){this._targetClassName=null;var r=this,o=function(e){if(e instanceof t.Object){if(!e.id)throw new Error("You can't add an unsaved AV.Object to a relation.");if(r._targetClassName||(r._targetClassName=e.className),r._targetClassName!==e.className)throw new Error("Tried to create a AV.Relation with 2 different types: "+r._targetClassName+" and "+e.className+".");return e.id}return e};this.relationsToAdd=i.uniq(i.map(e,o)),this.relationsToRemove=i.uniq(i.map(n,o))},added:function(){var e=this;return i.map(this.relationsToAdd,function(n){var i=t.Object._create(e._targetClassName);return i.id=n,i})},removed:function(){var e=this;return i.map(this.relationsToRemove,function(n){var i=t.Object._create(e._targetClassName);return i.id=n,i})},toJSON:function(){var t=null,e=null,n=this,r=function(t){return{__type:"Pointer",className:n._targetClassName,objectId:t}};return this.relationsToAdd.length>0&&(t={__op:"AddRelation",objects:i.map(this.relationsToAdd,r)}),this.relationsToRemove.length>0&&(e={__op:"RemoveRelation",objects:i.map(this.relationsToRemove,r)}),t&&e?{__op:"Batch",ops:[t,e]}:t||e||{}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)throw new Error("You can't modify a relation after deleting it.");if(e instanceof t.Op.Relation){if(e._targetClassName&&e._targetClassName!==this._targetClassName)throw new Error("Related object must be of class "+e._targetClassName+", but "+this._targetClassName+" was passed in.");var n=i.union(i.difference(e.relationsToAdd,this.relationsToRemove),this.relationsToAdd),r=i.union(i.difference(e.relationsToRemove,this.relationsToAdd),this.relationsToRemove),o=new t.Op.Relation(n,r);return o._targetClassName=this._targetClassName,o}throw new Error("Op is invalid after previous op.")}return this},_estimate:function(e,n,i){if(e){if(e instanceof t.Relation){if(this._targetClassName)if(e.targetClassName){if(e.targetClassName!==this._targetClassName)throw new Error("Related object must be a "+e.targetClassName+", but a "+this._targetClassName+" was passed in.")}else e.targetClassName=this._targetClassName;return e}throw new Error("Op is invalid after previous op.")}new t.Relation(n,i).targetClassName=this._targetClassName}}),t.Op._registerDecoder("AddRelation",function(e){return new t.Op.Relation(t._decode(e.objects),[])}),t.Op._registerDecoder("RemoveRelation",function(e){return new t.Op.Relation([],t._decode(e.objects))})}},function(t,e,n){"use strict";var i=n(0);t.exports=function(t){t.Relation=function(t,e){if(!i.isString(e))throw new TypeError("key must be a string");this.parent=t,this.key=e,this.targetClassName=null},t.Relation.reverseQuery=function(e,n,i){var r=new t.Query(e);return r.equalTo(n,i._toPointer()),r},i.extend(t.Relation.prototype,{_ensureParentAndKey:function(t,e){if(this.parent=this.parent||t,this.key=this.key||e,this.parent!==t)throw new Error("Internal Error. Relation retrieved from two different Objects.");if(this.key!==e)throw new Error("Internal Error. Relation retrieved from two different keys.")},add:function(e){i.isArray(e)||(e=[e]);var n=new t.Op.Relation(e,[]);this.parent.set(this.key,n),this.targetClassName=n._targetClassName},remove:function(e){i.isArray(e)||(e=[e]);var n=new t.Op.Relation([],e);this.parent.set(this.key,n),this.targetClassName=n._targetClassName},toJSON:function(){return{__type:"Relation",className:this.targetClassName}},query:function(){var e,n;return this.targetClassName?(e=t.Object._getSubclass(this.targetClassName),n=new t.Query(e)):(e=t.Object._getSubclass(this.parent.className),(n=new t.Query(e))._extraOptions.redirectClassNameForKey=this.key),n._addCondition("$relatedTo","object",this.parent._toPointer()),n._addCondition("$relatedTo","key",this.key),n}})}},function(t,e,n){"use strict";var i=n(0),r=n(41),o=n(42),a=n(43),s=n(4),u=n(2)._request,l=n(1),c=n(3),d=c.tap,h=c.transformFetchOptions,f=n(6)("leancloud:file"),p=n(47);t.exports=function(t){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},n=function(t){return i.isString(t)?t.match(/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/)[4]:""},c=function(t){if(t<26)return String.fromCharCode(65+t);if(t<52)return String.fromCharCode(t-26+97);if(t<62)return String.fromCharCode(t-52+48);if(62===t)return"+";if(63===t)return"/";throw new Error("Tried to encode large digit "+t+" in base64.")},m=function(t){var e=[];return e.length=Math.ceil(t.length/3),i.times(e.length,function(n){var i=t[3*n],r=t[3*n+1]||0,o=t[3*n+2]||0,a=3*n+1<t.length,s=3*n+2<t.length;e[n]=[c(i>>2&63),c(i<<4&48|r>>4&15),a?c(r<<2&60|o>>6&3):"=",s?c(63&o):"="].join("")}),e.join("")};t.File=function(e,r,o){if(this.attributes={name:e,url:"",metaData:{},base64:""},i.isString(r))throw new TypeError("Creating an AV.File from a String is not yet supported.");i.isArray(r)&&(this.attributes.metaData.size=r.length,r={base64:m(r)}),this._extName="",this._data=r,this._uploadHeaders={},"undefined"!=typeof Blob&&r instanceof Blob&&(r.size&&(this.attributes.metaData.size=r.size),r.name&&(this._extName=n(r.name)));var a=void 0;if(r&&r.owner)a=r.owner;else if(!t._config.disableCurrentUser)try{a=t.User.current()}catch(t){if("SYNC_API_NOT_AVAILABLE"!==t.code)throw t}this.attributes.metaData.owner=a?a.id:"unknown",this.set("mime_type",o)},t.File.withURL=function(e,n,i,r){if(!e||!n)throw new Error("Please provide file name and url");var o=new t.File(e,null,r);if(i)for(var a in i)o.attributes.metaData[a]||(o.attributes.metaData[a]=i[a]);return o.attributes.url=n,o.attributes.metaData.__source="external",o},t.File.createWithoutData=function(e){var n=new t.File;return n.id=e,n},i.extend(t.File.prototype,{className:"_File",_toFullJSON:function(e){var n=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=i.clone(this.attributes);return t._objectEach(o,function(n,i){o[i]=t._encode(n,e,void 0,r)}),t._objectEach(this._operations,function(t,e){o[e]=t}),i.has(this,"id")&&(o.objectId=this.id),i(["createdAt","updatedAt"]).each(function(t){if(i.has(n,t)){var e=n[t];o[t]=i.isDate(e)?e.toJSON():e}}),r&&(o.__type="File"),o},toFullJSON:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this._toFullJSON(t)},toJSON:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[this];return this._toFullJSON(n,!1)},_toPointer:function(){return{__type:"Pointer",className:this.className,objectId:this.id}},getACL:function(){return this._acl},setACL:function(e){return e instanceof t.ACL?(this._acl=e,this):new s(s.OTHER_CAUSE,"ACL must be a AV.ACL.")},name:function(){return this.get("name")},url:function(){return this.get("url")},get:function(t){switch(t){case"objectId":return this.id;case"url":case"name":case"mime_type":case"metaData":case"createdAt":case"updatedAt":return this.attributes[t];default:return this.attributes.metaData[t]}},set:function(){for(var t=this,e=function(e,n){switch(e){case"name":case"url":case"mime_type":case"base64":case"metaData":t.attributes[e]=n;break;default:t.attributes.metaData[e]=n}},n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];switch(i.length){case 1:for(var o in i[0])e(o,i[0][o]);break;case 2:e(i[0],i[1])}return this},setUploadHeader:function(t,e){return this._uploadHeaders[t]=e,this},metaData:function(t,e){return t&&e?(this.attributes.metaData[t]=e,this):t&&!e?this.attributes.metaData[t]:this.attributes.metaData},thumbnailURL:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"png",o=this.attributes.url;if(!o)throw new Error("Invalid url.");if(!t||!e||t<=0||e<=0)throw new Error("Invalid width or height value.");if(n<=0||n>100)throw new Error("Invalid quality value.");return o+"?imageView/"+(i?2:1)+"/w/"+t+"/h/"+e+"/q/"+n+"/format/"+r},size:function(){return this.metaData().size},ownerId:function(){return this.metaData().owner},destroy:function(t){return this.id?u("files",null,this.id,"DELETE",null,t):l.reject(new Error("The file id does not eixst."))},_fileToken:function(t,i){var r=this.attributes.name,o=n(r);!o&&this._extName&&(r+=this._extName,o=this._extName);var a=e()+e()+e()+e()+e()+o,s={key:a,name:r,keep_file_name:i.keepFileName,ACL:this._acl,mime_type:t,metaData:this.attributes.metaData};return this._qiniu_key=a,u("fileTokens",null,null,"POST",s,i)},save:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.id)throw new Error("File is already saved.");if(!this._previousSave)if(this._data){var n=this.get("mime_type");this._previousSave=this._fileToken(n,e).then(function(s){return s.mime_type&&(n=s.mime_type,t.set("mime_type",n)),t._token=s.token,l.resolve().then(function(){var e=t._data;if(e&&e.base64)return p(e.base64,n);if(e&&e.blob)return!e.blob.type&&n&&(e.blob.type=n),e.blob.name||(e.blob.name=t.get("name")),e.blob;if("undefined"!=typeof Blob&&e instanceof Blob)return e;throw new TypeError("malformed file data")}).then(function(n){var u=i.extend({},e);switch(e.onprogress&&(u.onprogress=function(t){if("download"!==t.direction)return e.onprogress(t)}),s.provider){case"s3":return a(s,n,t,u);case"qcloud":return r(s,n,t,u);case"qiniu":default:return o(s,n,t,u)}}).then(d(function(){return t._callback(!0)}),function(e){throw t._callback(!1),e})})}else if(this.attributes.url&&"external"===this.attributes.metaData.__source){var s={name:this.attributes.name,ACL:this._acl,metaData:this.attributes.metaData,mime_type:this.mimeType,url:this.attributes.url};this._previousSave=u("files",this.attributes.name,null,"post",s,e).then(function(e){return t.attributes.name=e.name,t.attributes.url=e.url,t.id=e.objectId,e.size&&(t.attributes.metaData.size=e.size),t})}return this._previousSave},_callback:function(t){u("fileCallback",null,null,"post",{token:this._token,result:t}).catch(f),delete this._token,delete this._data},fetch:function(t,e){return u("files",null,this.id,"GET",h(t),e).then(this._finishFetch.bind(this))},_finishFetch:function(e){var n=t.Object.prototype.parse(e);return n.attributes={name:n.name,url:n.url,mime_type:n.mime_type,bucket:n.bucket},n.attributes.metaData=n.metaData||{},n.id=n.objectId,delete n.objectId,delete n.metaData,delete n.url,delete n.name,delete n.mime_type,delete n.bucket,i.extend(this,n),this}})}},function(t,e,n){"use strict";var i=n(8),r=n(6)("cos"),o=n(1);t.exports=function(t,e,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};n.attributes.url=t.url,n._bucket=t.bucket,n.id=t.objectId;var s=t.upload_url+"?sign="+encodeURIComponent(t.token);return new o(function(t,o){var u=i("POST",s).set(n._uploadHeaders).attach("fileContent",e,n.attributes.name).field("op","upload");a.onprogress&&u.on("progress",a.onprogress),u.end(function(e,i){if(i&&r(i.status,i.body,i.text),e)return i&&(e.statusCode=i.status,e.responseText=i.text,e.response=i.body),o(e);t(n)})})}},function(t,e,n){"use strict";var i=n(8),r=n(1),o=n(6)("qiniu");t.exports=function(t,e,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};n.attributes.url=t.url,n._bucket=t.bucket,n.id=t.objectId;var s=t.token,u=t.upload_url||"https://upload.qiniup.com";return new r(function(r,l){var c=i("POST",u).set(n._uploadHeaders).attach("file",e,n.attributes.name).field("name",n.attributes.name).field("key",t.key||n._qiniu_key).field("token",s);a.onprogress&&c.on("progress",a.onprogress),c.end(function(t,e){if(e&&o(e.status,e.body,e.text),t)return e&&(t.statusCode=e.status,t.responseText=e.text,t.response=e.body),l(t);r(n)})})}},function(t,e,n){"use strict";var i=n(8),r=n(1),o=function(t,e){return e&&(t.statusCode=e.status,t.responseText=e.text,t.response=e.body),t};t.exports=function(t,e,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return n.attributes.url=t.url,n._bucket=t.bucket,n.id=t.objectId,new r(function(r,s){var u=i("PUT",t.upload_url).set(Object.assign({"Content-Type":n.get("mime_type"),"Cache-Control":"public, max-age=31536000"},n._uploadHeaders));a.onprogress&&u.on("progress",a.onprogress),u.on("response",function(t){if(t.ok)return r(n);s(o(t.error,t))}),u.on("error",function(t,e){return s(o(t,e))}),u.send(e).end()})}},function(t,e,n){!function(){var e=n(45),i=n(14).utf8,r=n(46),o=n(14).bin,a=function t(n,a){n.constructor==String?n=a&&"binary"===a.encoding?o.stringToBytes(n):i.stringToBytes(n):r(n)?n=Array.prototype.slice.call(n,0):Array.isArray(n)||(n=n.toString());for(var s=e.bytesToWords(n),u=8*n.length,l=1732584193,c=-271733879,d=-1732584194,h=271733878,f=0;f<s.length;f++)s[f]=16711935&(s[f]<<8|s[f]>>>24)|4278255360&(s[f]<<24|s[f]>>>8);s[u>>>5]|=128<<u%32,s[14+(u+64>>>9<<4)]=u;var p=t._ff,m=t._gg,v=t._hh,y=t._ii;for(f=0;f<s.length;f+=16){var g=l,b=c,_=d,w=h;l=p(l,c,d,h,s[f+0],7,-680876936),h=p(h,l,c,d,s[f+1],12,-389564586),d=p(d,h,l,c,s[f+2],17,606105819),c=p(c,d,h,l,s[f+3],22,-1044525330),l=p(l,c,d,h,s[f+4],7,-176418897),h=p(h,l,c,d,s[f+5],12,1200080426),d=p(d,h,l,c,s[f+6],17,-1473231341),c=p(c,d,h,l,s[f+7],22,-45705983),l=p(l,c,d,h,s[f+8],7,1770035416),h=p(h,l,c,d,s[f+9],12,-1958414417),d=p(d,h,l,c,s[f+10],17,-42063),c=p(c,d,h,l,s[f+11],22,-1990404162),l=p(l,c,d,h,s[f+12],7,1804603682),h=p(h,l,c,d,s[f+13],12,-40341101),d=p(d,h,l,c,s[f+14],17,-1502002290),l=m(l,c=p(c,d,h,l,s[f+15],22,1236535329),d,h,s[f+1],5,-165796510),h=m(h,l,c,d,s[f+6],9,-1069501632),d=m(d,h,l,c,s[f+11],14,643717713),c=m(c,d,h,l,s[f+0],20,-373897302),l=m(l,c,d,h,s[f+5],5,-701558691),h=m(h,l,c,d,s[f+10],9,38016083),d=m(d,h,l,c,s[f+15],14,-660478335),c=m(c,d,h,l,s[f+4],20,-405537848),l=m(l,c,d,h,s[f+9],5,568446438),h=m(h,l,c,d,s[f+14],9,-1019803690),d=m(d,h,l,c,s[f+3],14,-187363961),c=m(c,d,h,l,s[f+8],20,1163531501),l=m(l,c,d,h,s[f+13],5,-1444681467),h=m(h,l,c,d,s[f+2],9,-51403784),d=m(d,h,l,c,s[f+7],14,1735328473),l=v(l,c=m(c,d,h,l,s[f+12],20,-1926607734),d,h,s[f+5],4,-378558),h=v(h,l,c,d,s[f+8],11,-2022574463),d=v(d,h,l,c,s[f+11],16,1839030562),c=v(c,d,h,l,s[f+14],23,-35309556),l=v(l,c,d,h,s[f+1],4,-1530992060),h=v(h,l,c,d,s[f+4],11,1272893353),d=v(d,h,l,c,s[f+7],16,-155497632),c=v(c,d,h,l,s[f+10],23,-1094730640),l=v(l,c,d,h,s[f+13],4,681279174),h=v(h,l,c,d,s[f+0],11,-358537222),d=v(d,h,l,c,s[f+3],16,-722521979),c=v(c,d,h,l,s[f+6],23,76029189),l=v(l,c,d,h,s[f+9],4,-640364487),h=v(h,l,c,d,s[f+12],11,-421815835),d=v(d,h,l,c,s[f+15],16,530742520),l=y(l,c=v(c,d,h,l,s[f+2],23,-995338651),d,h,s[f+0],6,-198630844),h=y(h,l,c,d,s[f+7],10,1126891415),d=y(d,h,l,c,s[f+14],15,-1416354905),c=y(c,d,h,l,s[f+5],21,-57434055),l=y(l,c,d,h,s[f+12],6,1700485571),h=y(h,l,c,d,s[f+3],10,-1894986606),d=y(d,h,l,c,s[f+10],15,-1051523),c=y(c,d,h,l,s[f+1],21,-2054922799),l=y(l,c,d,h,s[f+8],6,1873313359),h=y(h,l,c,d,s[f+15],10,-30611744),d=y(d,h,l,c,s[f+6],15,-1560198380),c=y(c,d,h,l,s[f+13],21,1309151649),l=y(l,c,d,h,s[f+4],6,-145523070),h=y(h,l,c,d,s[f+11],10,-1120210379),d=y(d,h,l,c,s[f+2],15,718787259),c=y(c,d,h,l,s[f+9],21,-343485551),l=l+g>>>0,c=c+b>>>0,d=d+_>>>0,h=h+w>>>0}return e.endian([l,c,d,h])};a._ff=function(t,e,n,i,r,o,a){var s=t+(e&n|~e&i)+(r>>>0)+a;return(s<<o|s>>>32-o)+e},a._gg=function(t,e,n,i,r,o,a){var s=t+(e&i|n&~i)+(r>>>0)+a;return(s<<o|s>>>32-o)+e},a._hh=function(t,e,n,i,r,o,a){var s=t+(e^n^i)+(r>>>0)+a;return(s<<o|s>>>32-o)+e},a._ii=function(t,e,n,i,r,o,a){var s=t+(n^(e|~i))+(r>>>0)+a;return(s<<o|s>>>32-o)+e},a._blocksize=16,a._digestsize=16,t.exports=function(t,n){if(null==t)throw new Error("Illegal argument "+t);var i=e.wordsToBytes(a(t,n));return n&&n.asBytes?i:n&&n.asString?o.bytesToString(i):e.bytesToHex(i)}}()},function(t,e){!function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&n.rotl(t,8)|4278255360&n.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=n.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,i=0;n<t.length;n++,i+=8)e[i>>>5]|=t[n]<<24-i%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var n=[],i=0;i<t.length;i+=3)for(var r=t[i]<<16|t[i+1]<<8|t[i+2],o=0;o<4;o++)8*i+6*o<=8*t.length?n.push(e.charAt(r>>>6*(3-o)&63)):n.push("=");return n.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],i=0,r=0;i<t.length;r=++i%4)0!=r&&n.push((e.indexOf(t.charAt(i-1))&Math.pow(2,-2*r+8)-1)<<2*r|e.indexOf(t.charAt(i))>>>6-2*r);return n}};t.exports=n}()},function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(n(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e,n){"use strict";t.exports=function(t,e){var n;t.indexOf("base64")<0?n=atob(t):t.split(",")[0].indexOf("base64")>=0?(e=e||t.split(",")[0].split(":")[1].split(";")[0],n=atob(t.split(",")[1])):n=unescape(t.split(",")[1]);for(var i=new Uint8Array(n.length),r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return new Blob([i],{type:e})}},function(t,e,n){"use strict";function i(t,e){return t&&t[e]?o.isFunction(t[e])?t[e]():t[e]:null}var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=n(0),a=n(4),s=n(1),u=n(2)._request,l=n(3),c=l.isNullOrUndefined,d=l.ensureArray,h=l.transformFetchOptions,f=l.setValue,p=l.findValue,m=l.isPlainObject,v=["objectId","createdAt","updatedAt"],y=function(t){if(-1!==v.indexOf(t))throw new Error("key["+t+"] is reserved")},g=function(t){var e=o.find(t,function(t){return t instanceof Error});if(!e)return t;var n=new a(e.code,e.message);throw n.results=t,n};t.exports=function(t){t.Object=function(e,n){if(o.isString(e))return t.Object._create.apply(this,arguments);e=e||{},n&&n.parse&&(e=this.parse(e),e=this._mergeMagicFields(e));var r=i(this,"defaults");r&&(e=o.extend({},r,e)),n&&n.collection&&(this.collection=n.collection),this._serverData={},this._opSetQueue=[{}],this._flags={},this.attributes={},this._hashedJSON={},this._escapedAttributes={},this.cid=o.uniqueId("c"),this.changed={},this._silent={},this._pending={},this.set(e,{silent:!0}),this.changed={},this._silent={},this._pending={},this._hasData=!0,this._previousAttributes=o.clone(this.attributes),this.initialize.apply(this,arguments)},t.Object.saveAll=function(e,n){return t.Object._deepSaveAsync(e,null,n)},t.Object.fetchAll=function(t,e){return s.resolve().then(function(){return u("batch",null,null,"POST",{requests:o.map(t,function(t){if(!t.className)throw new Error("object must have className to fetch");if(!t.id)throw new Error("object must have id to fetch");if(t.dirty())throw new Error("object is modified but not saved");return{method:"GET",path:"/1.1/classes/"+t.className+"/"+t.id}})},e)}).then(function(e){var n=o.map(t,function(t,n){if(e[n].success){var i=t.parse(e[n].success);return t._cleanupUnsetKeys(i),t._finishFetch(i),t}return null===e[n].success?new a(a.OBJECT_NOT_FOUND,"Object not found."):new a(e[n].error.code,e[n].error.error)});return g(n)})},o.extend(t.Object.prototype,t.Events,{_fetchWhenSave:!1,initialize:function(){},fetchWhenSave:function(t){if(console.warn("AV.Object#fetchWhenSave is deprecated, use AV.Object#save with options.fetchWhenSave instead."),!o.isBoolean(t))throw new Error("Expect boolean value for fetchWhenSave");this._fetchWhenSave=t},getObjectId:function(){return this.id},getCreatedAt:function(){return this.createdAt},getUpdatedAt:function(){return this.updatedAt},toJSON:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this._toFullJSON(n,!1)},toFullJSON:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this._toFullJSON(t)},_toFullJSON:function(e){var n=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=o.clone(this.attributes);if(o.isArray(e))var a=e.concat(this);return t._objectEach(r,function(e,n){r[n]=t._encode(e,a,void 0,i)}),t._objectEach(this._operations,function(t,e){r[e]=t}),o.has(this,"id")&&(r.objectId=this.id),o(["createdAt","updatedAt"]).each(function(t){if(o.has(n,t)){var e=n[t];r[t]=o.isDate(e)?e.toJSON():e}}),i&&(r.__type="Object",o.isArray(e)&&e.length&&(r.__type="Pointer"),r.className=this.className),r},_refreshCache:function(){var e=this;e._refreshingCache||(e._refreshingCache=!0,t._objectEach(this.attributes,function(n,i){n instanceof t.Object?n._refreshCache():o.isObject(n)&&e._resetCacheForKey(i)&&e.set(i,new t.Op.Set(n),{silent:!0})}),delete e._refreshingCache)},dirty:function(t){this._refreshCache();var e=o.last(this._opSetQueue);return t?!!e[t]:!this.id||o.keys(e).length>0},_toPointer:function(){return{__type:"Pointer",className:this.className,objectId:this.id}},get:function(t){switch(t){case"objectId":return this.id;case"createdAt":case"updatedAt":return this[t];default:return this.attributes[t]}},relation:function(e){var n=this.get(e);if(n){if(!(n instanceof t.Relation))throw new Error("Called relation() on non-relation field "+e);return n._ensureParentAndKey(this,e),n}return new t.Relation(this,e)},escape:function(t){var e=this._escapedAttributes[t];if(e)return e;var n,i=this.attributes[t];return n=c(i)?"":o.escape(i.toString()),this._escapedAttributes[t]=n,n},has:function(t){return!c(this.attributes[t])},_mergeMagicFields:function(e){var n=this;return t._arrayEach(["objectId","createdAt","updatedAt"],function(i){e[i]&&("objectId"===i?n.id=e[i]:"createdAt"!==i&&"updatedAt"!==i||o.isDate(e[i])?n[i]=e[i]:n[i]=t._parseDate(e[i]),delete e[i])}),e},_startSave:function(){this._opSetQueue.push({})},_cancelSave:function(){var e=o.first(this._opSetQueue);this._opSetQueue=o.rest(this._opSetQueue);var n=o.first(this._opSetQueue);t._objectEach(e,function(t,i){var r=e[i],o=n[i];r&&o?n[i]=o._mergeWithPrevious(r):r&&(n[i]=r)}),this._saving=this._saving-1},_finishSave:function(e){var n={};t._traverse(this.attributes,function(e){e instanceof t.Object&&e.id&&e._hasData&&(n[e.id]=e)});var i=o.first(this._opSetQueue);this._opSetQueue=o.rest(this._opSetQueue),this._applyOpSet(i,this._serverData),this._mergeMagicFields(e);var r=this;t._objectEach(e,function(e,i){r._serverData[i]=t._decode(e,i);var o=t._traverse(r._serverData[i],function(e){if(e instanceof t.Object&&n[e.id])return n[e.id]});o&&(r._serverData[i]=o)}),this._rebuildAllEstimatedData();var a=this._opSetQueue.map(o.clone);this._refreshCache(),this._opSetQueue=a,this._saving=this._saving-1},_finishFetch:function(e,n){this._opSetQueue=[{}],this._mergeMagicFields(e);var i=this;t._objectEach(e,function(e,n){i._serverData[n]=t._decode(e,n)}),this._rebuildAllEstimatedData(),this._refreshCache(),this._opSetQueue=[{}],this._hasData=n},_applyOpSet:function(e,n){var i=this;t._objectEach(e,function(e,o){var a=p(n,o),s=r(a,3),u=s[0],l=s[1],c=s[2];f(n,o,e._estimate(u,i,o)),l&&l[c]===t.Op._UNSET&&delete l[c]})},_resetCacheForKey:function(e){var n=this.attributes[e];if(o.isObject(n)&&!(n instanceof t.Object)&&!(n instanceof t.File)){var i=JSON.stringify(function t(e){return o.isArray(e)?e.map(t):m(e)?o.mapObject(e,t):o.isObject(e)&&e._toPointer?e._toPointer():e}(n));if(this._hashedJSON[e]!==i){var r=!!this._hashedJSON[e];return this._hashedJSON[e]=i,r}}return!1},_rebuildEstimatedDataForKey:function(e){var n=this;delete this.attributes[e],this._serverData[e]&&(this.attributes[e]=this._serverData[e]),t._arrayEach(this._opSetQueue,function(i){var o=i[e];if(o){var a=p(n.attributes,e),s=r(a,4),u=s[0],l=s[1],c=s[2],d=s[3];f(n.attributes,e,o._estimate(u,n,e)),l&&l[c]===t.Op._UNSET&&delete l[c],n._resetCacheForKey(d)}})},_rebuildAllEstimatedData:function(){var e=this,n=o.clone(this.attributes);this.attributes=o.clone(this._serverData),t._arrayEach(this._opSetQueue,function(n){e._applyOpSet(n,e.attributes),t._objectEach(n,function(t,n){e._resetCacheForKey(n)})}),t._objectEach(n,function(t,n){e.attributes[n]!==t&&e.trigger("change:"+n,e,e.attributes[n],{})}),t._objectEach(this.attributes,function(t,i){o.has(n,i)||e.trigger("change:"+i,e,t,{})})},set:function(e,n,i){var r;if(o.isObject(e)||c(e)?(r=o.mapObject(e,function(e,n){return y(n),t._decode(e,n)}),i=n):(r={},y(e),r[e]=t._decode(n,e)),i=i||{},!r)return this;r instanceof t.Object&&(r=r.attributes),i.unset&&t._objectEach(r,function(e,n){r[n]=new t.Op.Unset});var a=o.clone(r),s=this;t._objectEach(a,function(e,n){e instanceof t.Op&&(a[n]=e._estimate(s.attributes[n],s,n),a[n]===t.Op._UNSET&&delete a[n])}),this._validate(r,i),i.changes={};var u=this._escapedAttributes;return t._arrayEach(o.keys(r),function(e){var n=r[e];n instanceof t.Relation&&(n.parent=s),n instanceof t.Op||(n=new t.Op.Set(n));var a=!0;n instanceof t.Op.Set&&o.isEqual(s.attributes[e],n.value)&&(a=!1),a&&(delete u[e],i.silent?s._silent[e]=!0:i.changes[e]=!0);var l=o.last(s._opSetQueue);l[e]=n._mergeWithPrevious(l[e]),s._rebuildEstimatedDataForKey(e),a?(s.changed[e]=s.attributes[e],i.silent||(s._pending[e]=!0)):(delete s.changed[e],delete s._pending[e])}),i.silent||this.change(i),this},unset:function(t,e){return(e=e||{}).unset=!0,this.set(t,null,e)},increment:function(e,n){return(o.isUndefined(n)||o.isNull(n))&&(n=1),this.set(e,new t.Op.Increment(n))},add:function(e,n){return this.set(e,new t.Op.Add(d(n)))},addUnique:function(e,n){return this.set(e,new t.Op.AddUnique(d(n)))},remove:function(e,n){return this.set(e,new t.Op.Remove(d(n)))},bitAnd:function(e,n){return this.set(e,new t.Op.BitAnd(n))},bitOr:function(e,n){return this.set(e,new t.Op.BitOr(n))},bitXor:function(e,n){return this.set(e,new t.Op.BitXor(n))},op:function(t){return o.last(this._opSetQueue)[t]},clear:function(t){(t=t||{}).unset=!0;var e=o.extend(this.attributes,this._operations);return this.set(e,t)},revert:function(t){var e=o.last(this._opSetQueue);return d(t||o.keys(e)).forEach(function(t){delete e[t]}),this._rebuildAllEstimatedData(),this},_getSaveJSON:function(){var e=o.clone(o.first(this._opSetQueue));return t._objectEach(e,function(t,n){e[n]=t.toJSON()}),e},_canBeSerialized:function(){return t.Object._canBeSerializedAsValue(this.attributes)},fetch:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],n=this;return u("classes",this.className,this.id,"GET",h(t),e).then(function(e){var i=n.parse(e);return n._cleanupUnsetKeys(i,t.keys?d(t.keys).join(",").split(","):void 0),n._finishFetch(i,!0),n})},_cleanupUnsetKeys:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.keys(this._serverData);o.forEach(n,function(n){void 0===t[n]&&delete e._serverData[n]})},save:function(e,n,i){var r,a,l;o.isObject(e)||c(e)?(r=e,l=n):((r={})[e]=n,l=i),(l=o.clone(l)||{}).wait&&(a=o.clone(this.attributes));var d=o.clone(l)||{};d.wait&&(d.silent=!0),r&&this.set(r,d);var h=this,f=[],p=[];return t.Object._findUnsavedChildren(h,f,p),f.length+p.length>1?t.Object._deepSaveAsync(this,h,l):(this._startSave(),this._saving=(this._saving||0)+1,this._allPreviousSaves=this._allPreviousSaves||s.resolve(),this._allPreviousSaves=this._allPreviousSaves.catch(function(t){}).then(function(){var t,e=h.id?"PUT":"POST",n=h._getSaveJSON(),i={};if((h._fetchWhenSave||l.fetchWhenSave)&&(i.new="true"),l._failOnNotExist&&(i.failOnNotExist="true"),l.query&&("function"==typeof l.query._getParams&&(t=l.query._getParams())&&(i.where=t.where),!i.where))throw new Error("options.query is not an AV.Query");o.extend(n,h._flags);var s="classes",c=h.className;"_User"!==h.className||h.id||(s="users",c=null);var f=(l._makeRequest||u)(s,c,h.id,e,n,l,i);return f.then(function(t){var e=h.parse(t);return l.wait&&(e=o.extend(r||{},e)),h._finishSave(e),l.wait&&h.set(a,d),h},function(t){throw h._cancelSave(),t})}),this._allPreviousSaves)},destroy:function(t){t=t||{};var e=this,n=function(){e.trigger("destroy",e,e.collection,t)};return this.id?(t.wait||n(),u("classes",this.className,this.id,"DELETE",this._flags,t).then(function(){return t.wait&&n(),e})):n()},parse:function(e){var n=o.clone(e);return o(["createdAt","updatedAt"]).each(function(e){n[e]&&(n[e]=t._parseDate(n[e]))}),n.createdAt&&!n.updatedAt&&(n.updatedAt=n.createdAt),n},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.id},change:function(e){e=e||{};var n=this._changing;this._changing=!0;var i=this;t._objectEach(this._silent,function(t){i._pending[t]=!0});var r=o.extend({},e.changes,this._silent);if(this._silent={},t._objectEach(r,function(t,n){i.trigger("change:"+n,i,i.get(n),e)}),n)return this;for(var a=function(t,e){i._pending[e]||i._silent[e]||delete i.changed[e]};!o.isEmpty(this._pending);)this._pending={},this.trigger("change",this,e),t._objectEach(this.changed,a),i._previousAttributes=o.clone(this.attributes);return this._changing=!1,this},hasChanged:function(t){return arguments.length?this.changed&&o.has(this.changed,t):!o.isEmpty(this.changed)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&o.clone(this.changed);var n={},i=this._previousAttributes;return t._objectEach(e,function(t,e){o.isEqual(i[e],t)||(n[e]=t)}),n},previous:function(t){return arguments.length&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return o.clone(this._previousAttributes)},isValid:function(){try{this.validate(this.attributes)}catch(t){return!1}return!0},validate:function(e){if(o.has(e,"ACL")&&!(e.ACL instanceof t.ACL))throw new a(a.OTHER_CAUSE,"ACL must be a AV.ACL.")},_validate:function(t,e){!e.silent&&this.validate&&(t=o.extend({},this.attributes,t),this.validate(t))},getACL:function(){return this.get("ACL")},setACL:function(t,e){return this.set("ACL",t,e)},disableBeforeHook:function(){this.ignoreHook("beforeSave"),this.ignoreHook("beforeUpdate"),this.ignoreHook("beforeDelete")},disableAfterHook:function(){this.ignoreHook("afterSave"),this.ignoreHook("afterUpdate"),this.ignoreHook("afterDelete")},ignoreHook:function(e){o.contains(["beforeSave","afterSave","beforeUpdate","afterUpdate","beforeDelete","afterDelete"],e)||console.trace("Unsupported hookName: "+e),t.hookKey||console.trace("ignoreHook required hookKey"),this._flags.__ignore_hooks||(this._flags.__ignore_hooks=[]),this._flags.__ignore_hooks.push(e)}}),t.Object.createWithoutData=function(e,n,i){var r=void 0;if(o.isString(e))r=t.Object._getSubclass(e);else{if(!(e.prototype&&e.prototype instanceof t.Object))throw new Error("class must be a string or a subclass of AV.Object.");r=e}var a=new r;return a.id=n,a._hasData=i,a},t.Object.destroyAll=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t||0===t.length)return s.resolve();var n=o.groupBy(t,function(t){return JSON.stringify({className:t.className,flags:t._flags})}),i={requests:o.map(n,function(t){var e=o.map(t,"id").join(",");return{method:"DELETE",path:"/1.1/classes/"+t[0].className+"/"+e,body:t[0]._flags}})};return u("batch",null,null,"POST",i,e).then(function(t){var e=o.find(t,function(t){return!t.success});if(e)throw new a(e.error.code,e.error.error)})},t.Object._getSubclass=function(e){if(!o.isString(e))throw new Error("AV.Object._getSubclass requires a string argument.");var n=t.Object._classMap[e];return n||(n=t.Object.extend(e),t.Object._classMap[e]=n),n},t.Object._create=function(e,n,i){return new(t.Object._getSubclass(e))(n,i)},t.Object._classMap={},t.Object._extend=t._extend,t.Object.new=function(e,n){return new t.Object(e,n)},t.Object.extend=function(e,n,i){if(!o.isString(e)){if(e&&o.has(e,"className"))return t.Object.extend(e.className,e,n);throw new Error("AV.Object.extend's first argument should be the className.")}"User"===e&&(e="_User");var r=null;if(o.has(t.Object._classMap,e)){var a=t.Object._classMap[e];if(!n&&!i)return a;r=a._extend(n,i)}else(n=n||{})._className=e,r=this._extend(n,i);return r.extend=function(n){if(o.isString(n)||n&&o.has(n,"className"))return t.Object.extend.apply(r,arguments);var i=[e].concat(o.toArray(arguments));return t.Object.extend.apply(r,i)},Object.defineProperty(r,"query",Object.getOwnPropertyDescriptor(t.Object,"query")),r.new=function(t,e){return new r(t,e)},t.Object._classMap[e]=r,r},Object.defineProperty(t.Object.prototype,"className",{get:function(){var t=this._className||this.constructor._LCClassName||this.constructor.name;return"User"===t?"_User":t}}),t.Object.register=function(e,n){if(!(e.prototype instanceof t.Object))throw new Error("registered class is not a subclass of AV.Object");var i=n||e.name;if(!i.length)throw new Error("registered class must be named");n&&(e._LCClassName=n),t.Object._classMap[i]=e},Object.defineProperty(t.Object,"query",{get:function(){return new t.Query(this.prototype.className)}}),t.Object._findUnsavedChildren=function(e,n,i){t._traverse(e,function(e){return e instanceof t.Object?void(e.dirty()&&n.push(e)):e instanceof t.File?void(e.id||i.push(e)):void 0})},t.Object._canBeSerializedAsValue=function(e){var n=!0;return e instanceof t.Object||e instanceof t.File?n=!!e.id:o.isArray(e)?t._arrayEach(e,function(e){t.Object._canBeSerializedAsValue(e)||(n=!1)}):o.isObject(e)&&t._objectEach(e,function(e){t.Object._canBeSerializedAsValue(e)||(n=!1)}),n},t.Object._deepSaveAsync=function(e,n,i){var r=[],l=[];t.Object._findUnsavedChildren(e,r,l);var c=s.resolve();o.each(l,function(t){c=c.then(function(){return t.save()})});var d=o.uniq(r),h=o.uniq(d);return c.then(function(){return s._continueWhile(function(){return h.length>0},function(){var e=[],n=[];if(t._arrayEach(h,function(t){e.length>20?n.push(t):t._canBeSerialized()?e.push(t):n.push(t)}),h=n,0===e.length)return s.reject(new a(a.OTHER_CAUSE,"Tried to save a batch with a cycle."));var r=s.resolve(o.map(e,function(t){return t._allPreviousSaves||s.resolve()})).then(function(){return u("batch",null,null,"POST",{requests:o.map(e,function(t){var e=t.id?"PUT":"POST",n=t._getSaveJSON();o.extend(n,t._flags);var i="/classes/"+t.className;return"_User"!==t.className||t.id||(i="/users"),i="/1.1"+i,t.id&&(i=i+"/"+t.id),t._startSave(),{method:e,path:i,body:n}})},i).then(function(t){var n=o.map(e,function(e,n){return t[n].success?(e._finishSave(e.parse(t[n].success)),e):(e._cancelSave(),new a(t[n].error.code,t[n].error.error))});return g(n)})});return t._arrayEach(e,function(t){t._allPreviousSaves=r}),r})}).then(function(){return e})}}},function(t,e,n){"use strict";var i=n(0),r=n(4);t.exports=function(t){t.Role=t.Object.extend("_Role",{constructor:function(e,n){if(i.isString(e)?(t.Object.prototype.constructor.call(this,null,null),this.setName(e)):t.Object.prototype.constructor.call(this,e,n),n){if(!(n instanceof t.ACL))throw new TypeError("acl must be an instance of AV.ACL");this.setACL(n)}},getName:function(){return this.get("name")},setName:function(t,e){return this.set("name",t,e)},getUsers:function(){return this.relation("users")},getRoles:function(){return this.relation("roles")},validate:function(e,n){if("name"in e&&e.name!==this.getName()){var o=e.name;if(this.id&&this.id!==e.objectId)return new r(r.OTHER_CAUSE,"A role's name can only be set before it has been saved.");if(!i.isString(o))return new r(r.OTHER_CAUSE,"A role's name must be a String.");if(!/^[0-9a-zA-Z\-_ ]+$/.test(o))return new r(r.OTHER_CAUSE,"A role's name can only contain alphanumeric characters, _, -, and spaces.")}return!!t.Object.prototype.validate&&t.Object.prototype.validate.call(this,e,n)}})}},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var r=n(0),o=n(9),a=n(4),s=n(2),u=s._request,l=s.request,c=n(1),d=function(){if("undefined"==typeof wx||"function"!=typeof wx.login)throw new Error("Weapp Login is only available in Weapp");return new c(function(t,e){wx.login({success:function(n){var i=n.code,r=n.errMsg;i?t(i):e(new Error(r))},fail:function(){return e(new Error("wx.login 失败"))}})})},h=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.preferUnionId,i=e.unionIdPlatform,r=void 0===i?"weixin":i,o=e.asMainAccount,a=void 0===o||o;return n?{platform:r,main_account:a,code:t}:{code:t}},f=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.unionIdPlatform,o=void 0===i?"weixin":i,s=n.asMainAccount,u=void 0!==s&&s;if("string"!=typeof e)throw new a(a.OTHER_CAUSE,"unionId is not a string");if("string"!=typeof o)throw new a(a.OTHER_CAUSE,"unionIdPlatform is not a string");return r.extend({},t,{platform:o,unionid:e,main_account:Boolean(u)})};t.exports=function(t){t.User=t.Object.extend("_User",{_isCurrentUser:!1,_mergeMagicFields:function(e){return e.sessionToken&&(this._sessionToken=e.sessionToken,delete e.sessionToken),t.User.__super__._mergeMagicFields.call(this,e)},_cleanupAuthData:function(){if(this.isCurrent()){var e=this.get("authData");e&&t._objectEach(this.get("authData"),function(t,n){e[n]||delete e[n]})}},_synchronizeAllAuthData:function(){if(this.get("authData")){var e=this;t._objectEach(this.get("authData"),function(t,n){e._synchronizeAuthData(n)})}},_synchronizeAuthData:function(e){if(this.isCurrent()){var n;r.isString(e)?(n=e,e=t.User._authProviders[n]):n=e.getAuthType();var i=this.get("authData");i&&e&&(e.restoreAuthentication(i[n])||this.dissociateAuthData(e))}},_handleSaveResult:function(e){return e&&!t._config.disableCurrentUser&&(this._isCurrentUser=!0),this._cleanupAuthData(),this._synchronizeAllAuthData(),delete this._serverData.password,this._rebuildEstimatedDataForKey("password"),this._refreshCache(),!e&&!this.isCurrent()||t._config.disableCurrentUser?c.resolve():c.resolve(t.User._saveCurrentUser(this))},_linkWith:function(e,n){var o,a=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=s.failOnNotExist,l=void 0!==u&&u;return r.isString(e)?(o=e,e=t.User._authProviders[e]):o=e.getAuthType(),n?this.save({authData:i({},o,n)},{fetchWhenSave:!!this.get("authData"),_failOnNotExist:l}).then(function(t){return t._handleSaveResult(!0).then(function(){return t})}):e.authenticate().then(function(t){return a._linkWith(e,t)})},associateWithAuthData:function(t,e){return this._linkWith(e,t)},associateWithAuthDataAndUnionId:function(t,e,n,i){return this._linkWith(e,f(t,n,i))},associateWithWeapp:function(t){var e=this;return d().then(function(n){return e._linkWith("lc_weapp",h(n,t))})},linkWithWeapp:function(t){return console.warn("DEPRECATED: User#linkWithWeapp 已废弃，请使用 User#associateWithWeapp 代替"),this.associateWithWeapp(t)},associateWithWeappWithUnionId:function(t,e){var n=this;return d().then(function(i){return n._linkWith("lc_weapp",f({code:i},t,e))})},dissociateAuthData:function(t){return this.unset("authData."+t),this.save().then(function(t){return t._handleSaveResult(!0).then(function(){return t})})},_unlinkFrom:function(t){return console.warn("DEPRECATED: User#_unlinkFrom 已废弃，请使用 User#dissociateAuthData 代替"),this.dissociateAuthData(t)},_isLinked:function(t){var e;return e=r.isString(t)?t:t.getAuthType(),!!(this.get("authData")||{})[e]},isAnonymous:function(){return this._isLinked("anonymous")},logOut:function(){this._logOutWithAll(),this._isCurrentUser=!1},_logOutWithAll:function(){if(this.get("authData")){var e=this;t._objectEach(this.get("authData"),function(t,n){e._logOutWith(n)})}},_logOutWith:function(e){this.isCurrent()&&(r.isString(e)&&(e=t.User._authProviders[e]),e&&e.deauthenticate&&e.deauthenticate())},signUp:function(t,e){var n=t&&t.username||this.get("username");if(!n||""===n)throw new a(a.OTHER_CAUSE,"Cannot sign up user with an empty name.");var i=t&&t.password||this.get("password");if(!i||""===i)throw new a(a.OTHER_CAUSE,"Cannot sign up user with an empty password.");return this.save(t,e).then(function(t){return t.isAnonymous()&&(t.unset("authData.anonymous"),t._opSetQueue=[{}]),t._handleSaveResult(!0).then(function(){return t})})},signUpOrlogInWithMobilePhone:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t&&t.mobilePhoneNumber||this.get("mobilePhoneNumber");if(!n||""===n)throw new a(a.OTHER_CAUSE,"Cannot sign up or login user by mobilePhoneNumber with an empty mobilePhoneNumber.");var i=t&&t.smsCode||this.get("smsCode");if(!i||""===i)throw new a(a.OTHER_CAUSE,"Cannot sign up or login user by mobilePhoneNumber  with an empty smsCode.");return e._makeRequest=function(t,e,n,i,r){return u("usersByMobilePhone",null,null,"POST",r)},this.save(t,e).then(function(t){return delete t.attributes.smsCode,delete t._serverData.smsCode,t._handleSaveResult(!0).then(function(){return t})})},loginWithAuthData:function(t,e,n){return this._linkWith(e,t,n)},loginWithAuthDataAndUnionId:function(t,e,n,i){return this.loginWithAuthData(f(t,n,i),e,i)},loginWithWeapp:function(t){var e=this;return d().then(function(n){return e.loginWithAuthData(h(n,t),"lc_weapp",t)})},loginWithWeappWithUnionId:function(t,e){var n=this;return d().then(function(i){return n.loginWithAuthData(f({code:i},t,e),"lc_weapp",e)})},logIn:function(){var t=this;return u("login",null,null,"POST",this.toJSON()).then(function(e){var n=t.parse(e);return t._finishFetch(n),t._handleSaveResult(!0).then(function(){return n.smsCode||delete t.attributes.smsCode,t})})},save:function(e,n,i){var o,a;return r.isObject(e)||r.isNull(e)||r.isUndefined(e)?(o=e,a=n):((o={})[e]=n,a=i),a=a||{},t.Object.prototype.save.call(this,o,a).then(function(t){return t._handleSaveResult(!1).then(function(){return t})})},follow:function(e,n){if(!this.id)throw new Error("Please signin.");var i=void 0,o=void 0;e.user?(i=e.user,o=e.attributes):i=e;var a=r.isString(i)?i:i.id;if(!a)throw new Error("Invalid target user.");var s="users/"+this.id+"/friendship/"+a;return u(s,null,null,"POST",t._encode(o),n)},unfollow:function(t,e){if(!this.id)throw new Error("Please signin.");var n;n=t.user?t.user:t;var i=r.isString(n)?n:n.id;if(!i)throw new Error("Invalid target user.");var o="users/"+this.id+"/friendship/"+i;return u(o,null,null,"DELETE",null,e)},followerQuery:function(){return t.User.followerQuery(this.id)},followeeQuery:function(){return t.User.followeeQuery(this.id)},fetch:function(e,n){return t.Object.prototype.fetch.call(this,e,n).then(function(t){return t._handleSaveResult(!1).then(function(){return t})})},updatePassword:function(t,e,n){var i="users/"+this.id+"/updatePassword";return u(i,null,null,"PUT",{old_password:t,new_password:e},n)},isCurrent:function(){return this._isCurrentUser},getUsername:function(){return this.get("username")},getMobilePhoneNumber:function(){return this.get("mobilePhoneNumber")},setMobilePhoneNumber:function(t,e){return this.set("mobilePhoneNumber",t,e)},setUsername:function(t,e){return this.set("username",t,e)},setPassword:function(t,e){return this.set("password",t,e)},getEmail:function(){return this.get("email")},setEmail:function(t,e){return this.set("email",t,e)},authenticated:function(){return console.warn("DEPRECATED: 如果要判断当前用户的登录状态是否有效，请使用 currentUser.isAuthenticated().then()，如果要判断该用户是否是当前登录用户，请使用 user.id === currentUser.id。"),!!this._sessionToken&&!t._config.disableCurrentUser&&t.User.current()&&t.User.current().id===this.id},isAuthenticated:function(){var e=this;return c.resolve().then(function(){return!!e._sessionToken&&t.User._fetchUserBySessionToken(e._sessionToken).then(function(){return!0},function(t){if(211===t.code)return!1;throw t})})},getSessionToken:function(){return this._sessionToken},refreshSessionToken:function(t){var e=this;return u("users/"+this.id+"/refreshSessionToken",null,null,"PUT",null,t).then(function(t){return e._finishFetch(t),e._handleSaveResult(!0).then(function(){return e})})},getRoles:function(e){return t.Relation.reverseQuery("_Role","users",this).find(e)}},{_currentUser:null,_currentUserMatchesDisk:!1,_CURRENT_USER_KEY:"currentUser",_authProviders:{},signUp:function(e,n,i,r){return(i=i||{}).username=e,i.password=n,t.Object._create("_User").signUp(i,r)},logIn:function(e,n){var i=t.Object._create("_User");return i._finishFetch({username:e,password:n}),i.logIn()},become:function(t){return this._fetchUserBySessionToken(t).then(function(t){return t._handleSaveResult(!0).then(function(){return t})})},_fetchUserBySessionToken:function(e){var n=t.Object._create("_User");return l({method:"GET",path:"/users/me",authOptions:{sessionToken:e}}).then(function(t){var e=n.parse(t);return n._finishFetch(e),n})},logInWithMobilePhoneSmsCode:function(e,n){var i=t.Object._create("_User");return i._finishFetch({mobilePhoneNumber:e,smsCode:n}),i.logIn()},signUpOrlogInWithMobilePhone:function(e,n,i,r){return(i=i||{}).mobilePhoneNumber=e,i.smsCode=n,t.Object._create("_User").signUpOrlogInWithMobilePhone(i,r)},logInWithMobilePhone:function(e,n){var i=t.Object._create("_User");return i._finishFetch({mobilePhoneNumber:e,password:n}),i.logIn()},loginWithEmail:function(e,n){var i=t.Object._create("_User");return i._finishFetch({email:e,password:n}),i.logIn()},loginWithAuthData:function(e,n,i){return t.User._logInWith(n,e,i)},signUpOrlogInWithAuthData:function(){return console.warn("DEPRECATED: User.signUpOrlogInWithAuthData 已废弃，请使用 User#loginWithAuthData 代替"),this.loginWithAuthData.apply(this,arguments)},loginWithAuthDataAndUnionId:function(t,e,n,i){return this.loginWithAuthData(f(t,n,i),e,i)},signUpOrlogInWithAuthDataAndUnionId:function(){return console.warn("DEPRECATED: User.signUpOrlogInWithAuthDataAndUnionId 已废弃，请使用 User#loginWithAuthDataAndUnionId 代替"),this.loginWithAuthDataAndUnionId.apply(this,arguments)},loginWithWeapp:function(t){var e=this;return d().then(function(n){return e.loginWithAuthData(h(n,t),"lc_weapp",t)})},loginWithWeappWithUnionId:function(t,e){var n=this;return d().then(function(i){return n.loginWithAuthData(f({code:i},t,e),"lc_weapp",e)})},_genId:function(){return o()},loginAnonymously:function(){return this.loginWithAuthData({id:t.User._genId()},"anonymous")},associateWithAuthData:function(t,e,n){return console.warn("DEPRECATED: User.associateWithAuthData 已废弃，请使用 User#associateWithAuthData 代替"),t._linkWith(e,n)},logOut:function(){return t._config.disableCurrentUser?(console.warn("AV.User.current() was disabled in multi-user environment, call logOut() from user object instead https://leancloud.cn/docs/leanengine-node-sdk-upgrade-1.html"),c.resolve(null)):(null!==t.User._currentUser&&(t.User._currentUser._logOutWithAll(),t.User._currentUser._isCurrentUser=!1),t.User._currentUserMatchesDisk=!0,t.User._currentUser=null,t.localStorage.removeItemAsync(t._getAVPath(t.User._CURRENT_USER_KEY)).then(function(){return t._refreshSubscriptionId()}))},followerQuery:function(e){if(!e||!r.isString(e))throw new Error("Invalid user object id.");var n=new t.FriendShipQuery("_Follower");return n._friendshipTag="follower",n.equalTo("user",t.Object.createWithoutData("_User",e)),n},followeeQuery:function(e){if(!e||!r.isString(e))throw new Error("Invalid user object id.");var n=new t.FriendShipQuery("_Followee");return n._friendshipTag="followee",n.equalTo("user",t.Object.createWithoutData("_User",e)),n},requestPasswordReset:function(t){return u("requestPasswordReset",null,null,"POST",{email:t})},requestEmailVerify:function(t){return u("requestEmailVerify",null,null,"POST",{email:t})},requestMobilePhoneVerify:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={mobilePhoneNumber:t};return e.validateToken&&(n.validate_token=e.validateToken),u("requestMobilePhoneVerify",null,null,"POST",n,e)},requestPasswordResetBySmsCode:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={mobilePhoneNumber:t};return e.validateToken&&(n.validate_token=e.validateToken),u("requestPasswordResetBySmsCode",null,null,"POST",n,e)},resetPasswordBySmsCode:function(t,e){return u("resetPasswordBySmsCode",null,t,"PUT",{password:e})},verifyMobilePhone:function(t){return u("verifyMobilePhone",null,t,"POST",null)},requestLoginSmsCode:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={mobilePhoneNumber:t};return e.validateToken&&(n.validate_token=e.validateToken),u("requestLoginSmsCode",null,null,"POST",n,e)},currentAsync:function(){return t._config.disableCurrentUser?(console.warn("AV.User.currentAsync() was disabled in multi-user environment, access user from request instead https://leancloud.cn/docs/leanengine-node-sdk-upgrade-1.html"),c.resolve(null)):t.User._currentUser?c.resolve(t.User._currentUser):t.User._currentUserMatchesDisk?c.resolve(t.User._currentUser):t.localStorage.getItemAsync(t._getAVPath(t.User._CURRENT_USER_KEY)).then(function(e){if(!e)return null;t.User._currentUserMatchesDisk=!0,t.User._currentUser=t.Object._create("_User"),t.User._currentUser._isCurrentUser=!0;var n=JSON.parse(e);return t.User._currentUser.id=n._id,delete n._id,t.User._currentUser._sessionToken=n._sessionToken,delete n._sessionToken,t.User._currentUser._finishFetch(n),t.User._currentUser._synchronizeAllAuthData(),t.User._currentUser._refreshCache(),t.User._currentUser._opSetQueue=[{}],t.User._currentUser})},current:function(){if(t._config.disableCurrentUser)return console.warn("AV.User.current() was disabled in multi-user environment, access user from request instead https://leancloud.cn/docs/leanengine-node-sdk-upgrade-1.html"),null;if(t.User._currentUser)return t.User._currentUser;if(t.User._currentUserMatchesDisk)return t.User._currentUser;t.User._currentUserMatchesDisk=!0;var e=t.localStorage.getItem(t._getAVPath(t.User._CURRENT_USER_KEY));if(!e)return null;t.User._currentUser=t.Object._create("_User"),t.User._currentUser._isCurrentUser=!0;var n=JSON.parse(e);return t.User._currentUser.id=n._id,delete n._id,t.User._currentUser._sessionToken=n._sessionToken,delete n._sessionToken,t.User._currentUser._finishFetch(n),t.User._currentUser._synchronizeAllAuthData(),t.User._currentUser._refreshCache(),t.User._currentUser._opSetQueue=[{}],t.User._currentUser},_saveCurrentUser:function(e){return(t.User._currentUser!==e?t.User.logOut():c.resolve()).then(function(){e._isCurrentUser=!0,t.User._currentUser=e;var n=e._toFullJSON();return n._id=e.id,n._sessionToken=e._sessionToken,t.localStorage.setItemAsync(t._getAVPath(t.User._CURRENT_USER_KEY),JSON.stringify(n)).then(function(){return t.User._currentUserMatchesDisk=!0,t._refreshSubscriptionId()})})},_registerAuthenticationProvider:function(e){t.User._authProviders[e.getAuthType()]=e,!t._config.disableCurrentUser&&t.User.current()&&t.User.current()._synchronizeAuthData(e.getAuthType())},_logInWith:function(e,n,i){return t.Object._create("_User")._linkWith(e,n,i)}})}},function(t,e,n){"use strict";var i=n(0),r=n(6)("leancloud:query"),o=n(1),a=n(4),s=n(2),u=s._request,l=s.request,c=n(3),d=c.ensureArray,h=c.transformFetchOptions,f=function(t,e){if(void 0===t)throw new Error(e)};t.exports=function(t){t.Query=function(e){i.isString(e)&&(e=t.Object._getSubclass(e)),this.objectClass=e,this.className=e.prototype.className,this._where={},this._include=[],this._select=[],this._limit=-1,this._skip=0},t.Query.or=function(){var e=i.toArray(arguments),n=null;t._arrayEach(e,function(t){if(i.isNull(n)&&(n=t.className),n!==t.className)throw new Error("All queries must be for the same class")});var r=new t.Query(n);return r._orQuery(e),r},t.Query.and=function(){var e=i.toArray(arguments),n=null;t._arrayEach(e,function(t){if(i.isNull(n)&&(n=t.className),n!==t.className)throw new Error("All queries must be for the same class")});var r=new t.Query(n);return r._andQuery(e),r},t.Query.doCloudQuery=function(e,n,r){var o={cql:e};return i.isArray(n)?o.pvalues=n:r=n,u("cloudQuery",null,null,"GET",o,r).then(function(e){var n=new t.Query(e.className);return{results:i.map(e.results,function(t){var i=n._newObject(e);return i._finishFetch&&i._finishFetch(n._processResult(t),!0),i}),count:e.count,className:e.className}})},t.Query.fromJSON=function(e){var n=e.className,r=e.where,o=e.include,a=e.select,s=e.includeACL,u=e.limit,l=e.skip,c=e.order;if("string"!=typeof n)throw new TypeError("Invalid Query JSON, className must be a String.");var d=new t.Query(n);return i.extend(d,{_where:r,_include:o,_select:a,_includeACL:s,_limit:u,_skip:l,_order:c}),d},t.Query._extend=t._extend,i.extend(t.Query.prototype,{_processResult:function(t){return t},get:function(t,e){if(!i.isString(t))throw new Error("objectId must be a string");if(""===t)return o.reject(new a(a.OBJECT_NOT_FOUND,"Object not found."));var n=this._newObject();n.id=t;var r=this._getParams(),s={};return r.keys&&(s.keys=r.keys),r.include&&(s.include=r.include),r.includeACL&&(s.includeACL=r.includeACL),u("classes",this.className,t,"GET",h(s),e).then(function(t){if(i.isEmpty(t))throw new a(a.OBJECT_NOT_FOUND,"Object not found.");return n._finishFetch(n.parse(t),!0),n})},toJSON:function(){return{className:this.className,where:this._where,include:this._include,select:this._select,includeACL:this._includeACL,limit:this._limit,skip:this._skip,order:this._order}},_getParams:function(){var t={where:this._where};return this._include.length>0&&(t.include=this._include.join(",")),this._select.length>0&&(t.keys=this._select.join(",")),void 0!==this._includeACL&&(t.returnACL=this._includeACL),this._limit>=0&&(t.limit=this._limit),this._skip>0&&(t.skip=this._skip),void 0!==this._order&&(t.order=this._order),t},_newObject:function(e){return e&&e.className?new t.Object(e.className):new this.objectClass},_createRequest:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._getParams(),e=arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/classes/"+this.className;return encodeURIComponent(JSON.stringify(t)).length>2e3?l({path:"/batch",method:"POST",data:{requests:[{method:"GET",path:"/1.1"+n,params:t}]},authOptions:e}).then(function(t){var e=t[0];if(e.success)return e.success;var n=new Error(e.error.error||"Unknown batch error");throw n.code=e.error.code,n}):l({method:"GET",path:n,query:t,authOptions:e})},_parseResponse:function(t){var e=this;return i.map(t.results,function(n){var i=e._newObject(t);return i._finishFetch&&i._finishFetch(e._processResult(n),!0),i})},find:function(t){return this._createRequest(void 0,t).then(this._parseResponse.bind(this))},scan:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.orderedBy,a=e.batchSize,s=arguments[1],l=this._getParams();r("scan %O",l),l.order&&(console.warn("The order of the query is ignored for Query#scan. Checkout the orderedBy option of Query#scan."),delete l.order),l.skip&&(console.warn("The skip option of the query is ignored for Query#scan."),delete l.skip),l.limit&&(console.warn("The limit option of the query is ignored for Query#scan."),delete l.limit),n&&(l.scan_key=n),a&&(l.limit=a);var c=o.resolve([]),d=void 0,h=!1;return{next:function(){return(c=c.then(function(e){return h?[]:e.length>1?e:d||0===e.length?u("scan/classes",t.className,null,"GET",d?i.extend({},l,{cursor:d}):l,s).then(function(e){return d=e.cursor,t._parseResponse(e)}).then(function(t){return t.length||(h=!0),e.concat(t)}):(h=!0,e)})).then(function(t){return t.shift()}).then(function(t){return{value:t,done:h}})}}},destroyAll:function(e){return this.find(e).then(function(n){return t.Object.destroyAll(n,e)})},count:function(t){var e=this._getParams();return e.limit=0,e.count=1,this._createRequest(e,t).then(function(t){return t.count})},first:function(t){var e=this,n=this._getParams();return n.limit=1,this._createRequest(n,t).then(function(t){return i.map(t.results,function(t){var n=e._newObject();return n._finishFetch&&n._finishFetch(e._processResult(t),!0),n})[0]})},skip:function(t){return f(t,"undefined is not a valid skip value"),this._skip=t,this},limit:function(t){return f(t,"undefined is not a valid limit value"),this._limit=t,this},equalTo:function(e,n){return f(e,"undefined is not a valid key"),f(n,"undefined is not a valid value"),this._where[e]=t._encode(n),this},_addCondition:function(e,n,i){return f(e,"undefined is not a valid condition key"),f(n,"undefined is not a valid condition"),f(i,"undefined is not a valid condition value"),this._where[e]||(this._where[e]={}),this._where[e][n]=t._encode(i),this},sizeEqualTo:function(t,e){return this._addCondition(t,"$size",e),this},notEqualTo:function(t,e){return this._addCondition(t,"$ne",e),this},lessThan:function(t,e){return this._addCondition(t,"$lt",e),this},greaterThan:function(t,e){return this._addCondition(t,"$gt",e),this},lessThanOrEqualTo:function(t,e){return this._addCondition(t,"$lte",e),this},greaterThanOrEqualTo:function(t,e){return this._addCondition(t,"$gte",e),this},containedIn:function(t,e){return this._addCondition(t,"$in",e),this},notContainedIn:function(t,e){return this._addCondition(t,"$nin",e),this},containsAll:function(t,e){return this._addCondition(t,"$all",e),this},exists:function(t){return this._addCondition(t,"$exists",!0),this},doesNotExist:function(t){return this._addCondition(t,"$exists",!1),this},matches:function(t,e,n){return this._addCondition(t,"$regex",e),n||(n=""),e.ignoreCase&&(n+="i"),e.multiline&&(n+="m"),n&&n.length&&this._addCondition(t,"$options",n),this},matchesQuery:function(t,e){var n=e._getParams();return n.className=e.className,this._addCondition(t,"$inQuery",n),this},doesNotMatchQuery:function(t,e){var n=e._getParams();return n.className=e.className,this._addCondition(t,"$notInQuery",n),this},matchesKeyInQuery:function(t,e,n){var i=n._getParams();return i.className=n.className,this._addCondition(t,"$select",{key:e,query:i}),this},doesNotMatchKeyInQuery:function(t,e,n){var i=n._getParams();return i.className=n.className,this._addCondition(t,"$dontSelect",{key:e,query:i}),this},_orQuery:function(t){var e=i.map(t,function(t){return t._getParams().where});return this._where.$or=e,this},_andQuery:function(t){var e=i.map(t,function(t){return t._getParams().where});return this._where.$and=e,this},_quote:function(t){return"\\Q"+t.replace("\\E","\\E\\\\E\\Q")+"\\E"},contains:function(t,e){return this._addCondition(t,"$regex",this._quote(e)),this},startsWith:function(t,e){return this._addCondition(t,"$regex","^"+this._quote(e)),this},endsWith:function(t,e){return this._addCondition(t,"$regex",this._quote(e)+"$"),this},ascending:function(t){return f(t,"undefined is not a valid key"),this._order=t,this},addAscending:function(t){return f(t,"undefined is not a valid key"),this._order?this._order+=","+t:this._order=t,this},descending:function(t){return f(t,"undefined is not a valid key"),this._order="-"+t,this},addDescending:function(t){return f(t,"undefined is not a valid key"),this._order?this._order+=",-"+t:this._order="-"+t,this},near:function(e,n){return n instanceof t.GeoPoint||(n=new t.GeoPoint(n)),this._addCondition(e,"$nearSphere",n),this},withinRadians:function(t,e,n){return this.near(t,e),this._addCondition(t,"$maxDistance",n),this},withinMiles:function(t,e,n){return this.withinRadians(t,e,n/3958.8)},withinKilometers:function(t,e,n){return this.withinRadians(t,e,n/6371)},withinGeoBox:function(e,n,i){return n instanceof t.GeoPoint||(n=new t.GeoPoint(n)),i instanceof t.GeoPoint||(i=new t.GeoPoint(i)),this._addCondition(e,"$within",{$box:[n,i]}),this},include:function(t){var e=this;return f(t,"undefined is not a valid key"),i.forEach(arguments,function(t){e._include=e._include.concat(d(t))}),this},includeACL:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._includeACL=t,this},select:function(t){var e=this;return f(t,"undefined is not a valid key"),i.forEach(arguments,function(t){e._select=e._select.concat(d(t))}),this},each:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._order||this._skip||this._limit>=0){var r=new Error("Cannot iterate on a query with sort, skip, or limit.");return o.reject(r)}var a=new t.Query(this.objectClass);a._limit=n.batchSize||100,a._where=i.clone(this._where),a._include=i.clone(this._include),a.ascending("objectId");var s=!1;return o._continueWhile(function(){return!s},function(){return a.find(n).then(function(t){var n=o.resolve();return i.each(t,function(t){n=n.then(function(){return e(t)})}),n.then(function(){t.length>=a._limit?a.greaterThan("objectId",t[t.length-1].id):s=!0})})})},subscribe:function(e){return t.LiveQuery.init(this,e)}}),t.FriendShipQuery=t.Query._extend({_newObject:function(){return new(t.Object._getSubclass("_User"))},_processResult:function(t){if(t&&t[this._friendshipTag]){var e=t[this._friendshipTag];return"Pointer"===e.__type&&"_User"===e.className&&(delete e.__type,delete e.className),e}return null}})}},function(t,e,n){"use strict";var i=n(0),r=n(53),o=n(1),a=n(3).inherits,s=n(2).request,u=function(t,e){return s({method:"POST",path:"/LiveQuery/subscribe",data:{query:t,id:e}})};t.exports=function(t){var e=function(){if(!t._config.realtime)throw new Error("LiveQuery not supported. Please use the LiveQuery bundle. https://url.leanapp.cn/enable-live-query")};t.LiveQuery=a(r,{constructor:function(t,e,n,i){var o=this;r.apply(this),this.id=t,this._client=e,this._client.register(this),this._queryJSON=n,this._subscriptionId=i,this._onMessage=this._dispatch.bind(this),this._onReconnect=function(){u(o._queryJSON,o._subscriptionId).catch(function(t){return console.error("LiveQuery resubscribe error: "+t.message)})},e.on("message",this._onMessage),e.on("reconnect",this._onReconnect)},_dispatch:function(e){var n=this;e.forEach(function(e){var r=e.op,o=e.object,a=e.query_id,s=e.updatedKeys;if(a===n.id){var u=t.parseJSON(i.extend({__type:"_File"===o.className?"File":"Object"},o));s?n.emit(r,u,s):n.emit(r,u)}})},unsubscribe:function(){var t=this._client;return t.off("message",this._onMessage),t.off("reconnect",this._onReconnect),t.deregister(this),s({method:"POST",path:"/LiveQuery/unsubscribe",data:{id:t.id,query_id:this.id}})}},{init:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.subscriptionId,a=void 0===r?t._getSubscriptionId():r;if(e(),!(n instanceof t.Query))throw new TypeError("LiveQuery must be inited with a Query");return o.resolve(a).then(function(e){return t._config.realtime.createLiveQueryClient(e).then(function(i){var r=n._getParams(),o={where:r.where,keys:r.keys,returnACL:r.returnACL,className:n.className},a=u(o,e).then(function(n){var r=n.query_id;return new t.LiveQuery(r,i,o,e)}).finally(function(){i.deregister(a)});return i.register(a),a})})},pause:function(){return e(),t._config.realtime.pause()},resume:function(){return e(),t._config.realtime.resume()}})}},function(t,e,n){"use strict";function i(){}function r(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(){this._events=new i,this._eventsCount=0}var a=Object.prototype.hasOwnProperty,s="~";Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(s=!1)),o.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)a.call(t,e)&&n.push(s?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},o.prototype.listeners=function(t,e){var n=s?s+t:t,i=this._events[n];if(e)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var r=0,o=i.length,a=new Array(o);r<o;r++)a[r]=i[r].fn;return a},o.prototype.emit=function(t,e,n,i,r,o){var a=s?s+t:t;if(!this._events[a])return!1;var u,l,c=this._events[a],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,n),!0;case 4:return c.fn.call(c.context,e,n,i),!0;case 5:return c.fn.call(c.context,e,n,i,r),!0;case 6:return c.fn.call(c.context,e,n,i,r,o),!0}for(l=1,u=new Array(d-1);l<d;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var h,f=c.length;for(l=0;l<f;l++)switch(c[l].once&&this.removeListener(t,c[l].fn,void 0,!0),d){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,e);break;case 3:c[l].fn.call(c[l].context,e,n);break;case 4:c[l].fn.call(c[l].context,e,n,i);break;default:if(!u)for(h=1,u=new Array(d-1);h<d;h++)u[h-1]=arguments[h];c[l].fn.apply(c[l].context,u)}}return!0},o.prototype.on=function(t,e,n){var i=new r(e,n||this),o=s?s+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],i]:this._events[o].push(i):(this._events[o]=i,this._eventsCount++),this},o.prototype.once=function(t,e,n){var i=new r(e,n||this,!0),o=s?s+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],i]:this._events[o].push(i):(this._events[o]=i,this._eventsCount++),this},o.prototype.removeListener=function(t,e,n,r){var o=s?s+t:t;if(!this._events[o])return this;if(!e)return 0==--this._eventsCount?this._events=new i:delete this._events[o],this;var a=this._events[o];if(a.fn)a.fn!==e||r&&!a.once||n&&a.context!==n||(0==--this._eventsCount?this._events=new i:delete this._events[o]);else{for(var u=0,l=[],c=a.length;u<c;u++)(a[u].fn!==e||r&&!a[u].once||n&&a[u].context!==n)&&l.push(a[u]);l.length?this._events[o]=1===l.length?l[0]:l:0==--this._eventsCount?this._events=new i:delete this._events[o]}return this},o.prototype.removeAllListeners=function(t){var e;return t?(e=s?s+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new i:delete this._events[e])):(this._events=new i,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=s,o.EventEmitter=o,t.exports=o},function(t,e,n){"use strict";var i=n(0),r=n(3).tap;t.exports=function(t){t.Captcha=function(t,e){this._options=t,this._authOptions=e,this.url=void 0,this.captchaToken=void 0,this.validateToken=void 0},t.Captcha.prototype.refresh=function(){var e=this;return t.Cloud._requestCaptcha(this._options,this._authOptions).then(function(t){var n=t.captchaToken,r=t.url;return i.extend(e,{captchaToken:n,url:r}),r})},t.Captcha.prototype.verify=function(e){var n=this;return t.Cloud.verifyCaptcha(e,this.captchaToken).then(r(function(t){return n.validateToken=t}))},t.Captcha.prototype.bind=function(t,e){var n=this,i=t.textInput,r=t.image,o=t.verifyButton,a=e.success,s=e.error;if("string"==typeof i&&!(i=document.getElementById(i)))throw new Error("textInput with id "+i+" not found");if("string"==typeof r&&!(r=document.getElementById(r)))throw new Error("image with id "+r+" not found");if("string"==typeof o&&!(o=document.getElementById(o)))throw new Error("verifyButton with id "+o+" not found");this.__refresh=function(){return n.refresh().then(function(t){r.src=t,i&&(i.value="",i.focus())}).catch(function(t){return console.warn("refresh captcha fail: "+t.message)})},r&&(this.__image=r,r.src=this.url,r.addEventListener("click",this.__refresh)),this.__verify=function(){var t=i.value;n.verify(t).catch(function(t){throw n.__refresh(),t}).then(a,s).catch(function(t){return console.warn("verify captcha fail: "+t.message)})},i&&o&&(this.__verifyButton=o,o.addEventListener("click",this.__verify))},t.Captcha.prototype.unbind=function(){this.__image&&this.__image.removeEventListener("click",this.__refresh),this.__verifyButton&&this.__verifyButton.removeEventListener("click",this.__verify)},t.Captcha.request=function(e,n){var i=new t.Captcha(e,n);return i.refresh().then(function(){return i})}}},function(t,e,n){"use strict";var i=n(0),r=n(2),o=r._request,a=r.request,s=n(1);t.exports=function(t){t.Cloud=t.Cloud||{},i.extend(t.Cloud,{run:function(e,n,i){return a({service:"engine",method:"POST",path:"/functions/"+e,data:t._encode(n,null,!0),authOptions:i}).then(function(e){return t._decode(e).result})},rpc:function(e,n,r){return i.isArray(n)?s.reject(new Error("Can't pass Array as the param of rpc function in JavaScript SDK.")):a({service:"engine",method:"POST",path:"/call/"+e,data:t._encodeObjectOrArray(n),authOptions:r}).then(function(e){return t._decode(e).result})},getServerDate:function(){return o("date",null,null,"GET").then(function(e){return t._decode(e)})},requestSmsCode:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(i.isString(t)&&(t={mobilePhoneNumber:t}),!t.mobilePhoneNumber)throw new Error("Missing mobilePhoneNumber.");return e.validateToken&&(t=i.extend({},t,{validate_token:e.validateToken})),o("requestSmsCode",null,null,"POST",t,e)},verifySmsCode:function(t,e){if(!t)throw new Error("Missing sms code.");var n={};return i.isString(e)&&(n.mobilePhoneNumber=e),o("verifySmsCode",t,null,"POST",n)},_requestCaptcha:function(t,e){return o("requestCaptcha",null,null,"GET",t,e).then(function(t){var e=t.captcha_url;return{captchaToken:t.captcha_token,url:e}})},requestCaptcha:t.Captcha.request,verifyCaptcha:function(t,e){return o("verifyCaptcha",null,null,"POST",{captcha_code:t,captcha_token:e}).then(function(t){return t.validate_token})}})}},function(t,e,n){"use strict";var i=n(2).request;t.exports=function(t){t.Installation=t.Object.extend("_Installation"),t.Push=t.Push||{},t.Push.send=function(t,e){if(t.where&&(t.where=t.where._getParams().where),t.where&&t.cql)throw new Error("Both where and cql can't be set");if(t.push_time&&(t.push_time=t.push_time.toJSON()),t.expiration_time&&(t.expiration_time=t.expiration_time.toJSON()),t.expiration_time&&t.expiration_time_interval)throw new Error("Both expiration_time and expiration_time_interval can't be set");return i({service:"push",method:"POST",path:"/push",data:t,authOptions:e})}}},function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(t){return s(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":s(t)},r=n(0),o=n(1),a=n(2)._request,u=n(3).getSessionToken;t.exports=function(t){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(e)?t.User._fetchUserBySessionToken(u(e)):t.User.currentAsync()},n=function(n){return e(n).then(function(e){return t.Object.createWithoutData("_User",e.id)._toPointer()})};t.Status=function(t,e){return this.data={},this.inboxType="default",this.query=null,t&&"object"===(void 0===t?"undefined":i(t))?this.data=t:(t&&(this.data.image=t),e&&(this.data.message=e)),this},r.extend(t.Status.prototype,{get:function(t){return this.data[t]},set:function(t,e){return this.data[t]=e,this},destroy:function(t){return this.id?a("statuses",null,this.id,"DELETE",t):o.reject(new Error("The status id is not exists."))},toObject:function(){return this.id?t.Object.createWithoutData("_Status",this.id):null},_getDataJSON:function(){var e=r.clone(this.data);return t._encode(e)},send:function(){var e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!u(i)&&!t.User.current())throw new Error("Please signin an user.");return this.query?n(i).then(function(t){var n=e.query._getParams();n.className=e.query.className;var r={};return r.query=n,e.data=e.data||{},e.data.source=e.data.source||t,r.data=e._getDataJSON(),r.inboxType=e.inboxType||"default",a("statuses",null,null,"POST",r,i)}).then(function(n){return e.id=n.objectId,e.createdAt=t._parseDate(n.createdAt),e}):t.Status.sendStatusToFollowers(this,i)},_finishFetch:function(e){this.id=e.objectId,this.createdAt=t._parseDate(e.createdAt),this.updatedAt=t._parseDate(e.updatedAt),this.messageId=e.messageId,delete e.messageId,delete e.objectId,delete e.createdAt,delete e.updatedAt,this.data=t._decode(e)}}),t.Status.sendStatusToFollowers=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!u(i)&&!t.User.current())throw new Error("Please signin an user.");return n(i).then(function(n){var r={className:"_Follower",keys:"follower"};r.where={user:n};var o={};return o.query=r,e.data=e.data||{},e.data.source=e.data.source||n,o.data=e._getDataJSON(),o.inboxType=e.inboxType||"default",a("statuses",null,null,"POST",o,i).then(function(n){return e.id=n.objectId,e.createdAt=t._parseDate(n.createdAt),e})})},t.Status.sendPrivateStatus=function(e,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!u(o)&&!t.User.current())throw new Error("Please signin an user.");if(!i)throw new Error("Invalid target user.");var s=r.isString(i)?i:i.id;if(!s)throw new Error("Invalid target user.");return n(o).then(function(n){var i={className:"_User"};i.where={objectId:s};var r={};return r.query=i,e.data=e.data||{},e.data.source=e.data.source||n,r.data=e._getDataJSON(),r.inboxType="private",e.inboxType="private",a("statuses",null,null,"POST",r,o).then(function(n){return e.id=n.objectId,e.createdAt=t._parseDate(n.createdAt),e})})},t.Status.countUnreadStatuses=function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r.isString(i)||(s=i),!u(s)&&null==n&&!t.User.current())throw new Error("Please signin an user or pass the owner objectId.");return o.resolve(n||e(s)).then(function(e){var n={};return n.inboxType=t._encode(i),n.owner=t._encode(e),a("subscribe/statuses/count",null,null,"GET",n,s)})},t.Status.resetUnreadCount=function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r.isString(i)||(s=i),!u(s)&&null==n&&!t.User.current())throw new Error("Please signin an user or pass the owner objectId.");return o.resolve(n||e(s)).then(function(e){var n={};return n.inboxType=t._encode(i),n.owner=t._encode(e),a("subscribe/statuses/resetUnreadCount",null,null,"POST",n,s)})},t.Status.statusQuery=function(e){var n=new t.Query("_Status");return e&&n.equalTo("source",e),n},t.InboxQuery=t.Query._extend({_objectClass:t.Status,_sinceId:0,_maxId:0,_inboxType:"default",_owner:null,_newObject:function(){return new t.Status},_createRequest:function(e,n){return t.InboxQuery.__super__._createRequest.call(this,e,n,"/subscribe/statuses")},sinceId:function(t){return this._sinceId=t,this},maxId:function(t){return this._maxId=t,this},owner:function(t){return this._owner=t,this},inboxType:function(t){return this._inboxType=t,this},_getParams:function(){var e=t.InboxQuery.__super__._getParams.call(this);return e.owner=t._encode(this._owner),e.inboxType=t._encode(this._inboxType),e.sinceId=t._encode(this._sinceId),e.maxId=t._encode(this._maxId),e}}),t.Status.inboxQuery=function(e,n){var i=new t.InboxQuery(t.Status);return e&&(i._owner=e),n&&(i._inboxType=n),i}}},function(t,e,n){"use strict";var i=n(0),r=n(2)._request;t.exports=function(t){t.SearchSortBuilder=function(){this._sortFields=[]},i.extend(t.SearchSortBuilder.prototype,{_addField:function(t,e,n,i){var r={};return r[t]={order:e||"asc",mode:n||"avg",missing:"_"+(i||"last")},this._sortFields.push(r),this},ascending:function(t,e,n){return this._addField(t,"asc",e,n)},descending:function(t,e,n){return this._addField(t,"desc",e,n)},whereNear:function(t,e,n){n=n||{};var i={},r={lat:e.latitude,lon:e.longitude},o={order:n.order||"asc",mode:n.mode||"avg",unit:n.unit||"km"};return o[t]=r,i._geo_distance=o,this._sortFields.push(i),this},build:function(){return JSON.stringify(t._encode(this._sortFields))}}),t.SearchQuery=t.Query._extend({_sid:null,_hits:0,_queryString:null,_highlights:null,_sortBuilder:null,_createRequest:function(t,e){return r("search/select",null,null,"GET",t||this._getParams(),e)},sid:function(t){return this._sid=t,this},queryString:function(t){return this._queryString=t,this},highlights:function(t){var e;return e=t&&i.isString(t)?arguments:t,this._highlights=e,this},sortBy:function(t){return this._sortBuilder=t,this},hits:function(){return this._hits||(this._hits=0),this._hits},_processResult:function(t){return delete t.className,delete t._app_url,delete t._deeplink,t},hasMore:function(){return!this._hitEnd},reset:function(){this._hitEnd=!1,this._sid=null,this._hits=0},find:function(){var t=this;return this._createRequest().then(function(e){return e.sid?(t._oldSid=t._sid,t._sid=e.sid):(t._sid=null,t._hitEnd=!0),t._hits=e.hits||0,i.map(e.results,function(n){n.className&&(e.className=n.className);var i=t._newObject(e);return i.appURL=n._app_url,i._finishFetch(t._processResult(n),!0),i})})},_getParams:function(){var e=t.SearchQuery.__super__._getParams.call(this);if(delete e.where,this.className&&(e.clazz=this.className),this._sid&&(e.sid=this._sid),!this._queryString)throw new Error("Please set query string.");if(e.q=this._queryString,this._highlights&&(e.highlights=this._highlights.join(",")),this._sortBuilder&&e.order)throw new Error("sort and order can not be set at same time.");return this._sortBuilder&&(e.sort=this._sortBuilder.build()),e}})}},function(t,e,n){"use strict";var i=n(0),r=n(4),o=n(2).request,a=n(1);t.exports=function(t){t.Insight=t.Insight||{},i.extend(t.Insight,{startJob:function(e,n){if(!e||!e.sql)throw new Error("Please provide the sql to run the job.");var i={jobConfig:e,appId:t.applicationId};return o({path:"/bigquery/jobs",method:"POST",data:t._encode(i,null,!0),authOptions:n,signKey:!1}).then(function(e){return t._decode(e).id})},on:function(t,e){}}),t.Insight.JobQuery=function(t,e){if(!t)throw new Error("Please provide the job id.");this.id=t,this.className=e,this._skip=0,this._limit=100},i.extend(t.Insight.JobQuery.prototype,{skip:function(t){return this._skip=t,this},limit:function(t){return this._limit=t,this},find:function(t){var e={skip:this._skip,limit:this._limit};return o({path:"/bigquery/jobs/"+this.id,method:"GET",query:e,authOptions:t,signKey:!1}).then(function(t){return t.error?a.reject(new r(t.code,t.error)):a.resolve(t)})}})}},function(t,e,n){"use strict";var i=n(0),r=n(2)._request,o=n(5),a=function(t){return"string"==typeof t?t:"function"==typeof t.getPayload?JSON.stringify(t.getPayload()):JSON.stringify(t)};t.exports=o.Object.extend("_Conversation",{constructor:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o.Object.prototype.constructor.call(this,null,null),this.set("name",t),void 0!==e.isSystem&&this.set("sys",!!e.isSystem),void 0!==e.isTransient&&this.set("tr",!!e.isTransient)},getCreator:function(){return this.get("c")},getLastMessageAt:function(){return this.get("lm")},getMembers:function(){return this.get("m")},addMember:function(t){return this.add("m",t)},getMutedMembers:function(){return this.get("mu")},getName:function(){return this.get("name")},isTransient:function(){return this.get("tr")},isSystem:function(){return this.get("sys")},send:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o={from_peer:t,conv_id:this.id,transient:!1,message:a(e)};return void 0!==n.toClients&&(o.to_peers=n.toClients),void 0!==n.transient&&(o.transient=!!n.transient),void 0!==n.pushData&&(o.push_data=n.pushData),r("rtm","messages",null,"POST",o,i)},broadcast:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s={from_peer:t,conv_id:this.id,message:a(e)};if(void 0!==n.pushData&&(s.push=n.pushData),void 0!==n.validTill){var u=n.validTill;i.isDate(u)&&(u=u.getTime()),n.valid_till=u}return r("rtm","broadcast",null,"POST",s,o)}})},function(t,e,n){"use strict";function i(t){var e=t.name,n=t.value,i=t.version;this.name=e,this.value=n,this.version=i}var r=n(0),o=n(1),a=n(2).request,s=n(3),u=s.ensureArray,l=s.parseDate,c=n(5);c.LeaderboardVersionChangeInterval={NEVER:"never",DAY:"day",WEEK:"week",MONTH:"month"},c.LeaderboardOrder={ASCENDING:"ascending",DESCENDING:"descending"},c.LeaderboardUpdateStrategy={BETTER:"better",LAST:"last",SUM:"sum"};var d=function(t){var e=c._decode(t);return new i({name:e.statisticName,value:e.statisticValue,version:e.version})};c.Leaderboard=function(t){this.statisticName=t,this.order=void 0,this.updateStrategy=void 0,this.versionChangeInterval=void 0,this.version=void 0,this.nextResetAt=void 0,this.createdAt=void 0};var h=c.Leaderboard;c.Leaderboard.createWithoutData=function(t){return new h(t)},c.Leaderboard.createLeaderboard=function(t,e){var n=t.statisticName,i=t.order,r=t.versionChangeInterval,o=t.updateStrategy;return a({method:"POST",path:"/leaderboard/leaderboards",data:{statisticName:n,order:i,versionChangeInterval:r,updateStrategy:o},authOptions:e}).then(function(t){return new h(n)._finishFetch(t)})},c.Leaderboard.getLeaderboard=function(t,e){return h.createWithoutData(t).fetch(e)},c.Leaderboard.getStatistics=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.statisticNames,i=arguments[2];return o.resolve().then(function(){if(!t||!t.id)throw new Error("user must be an AV.User");return a({method:"GET",path:"/leaderboard/users/"+t.id+"/statistics",query:{statistics:n?u(n).join(","):void 0},authOptions:i}).then(function(t){return t.results.map(d)})})},c.Leaderboard.updateStatistics=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.resolve().then(function(){if(!t||!t.id)throw new Error("user must be an AV.User");var i=r.map(e,function(t,e){return{statisticName:e,statisticValue:t}}),o=n.overwrite;return a({method:"POST",path:"/leaderboard/users/"+t.id+"/statistics",query:{overwrite:o?1:void 0},data:i,authOptions:n}).then(function(t){return t.results.map(d)})})},c.Leaderboard.deleteStatistics=function(t,e,n){return o.resolve().then(function(){if(!t||!t.id)throw new Error("user must be an AV.User");return a({method:"DELETE",path:"/leaderboard/users/"+t.id+"/statistics",query:{statistics:u(e).join(",")},authOptions:n}).then(function(){})})},r.extend(h.prototype,{_finishFetch:function(t){var e=this;return r.forEach(t,function(t,n){"updatedAt"!==n&&"objectId"!==n&&("expiredAt"===n&&(n="nextResetAt"),"createdAt"===n&&(t=l(t)),t&&"Date"===t.__type&&(t=l(t.iso)),e[n]=t)}),this},fetch:function(t){var e=this;return a({method:"GET",path:"/leaderboard/leaderboards/"+this.statisticName,authOptions:t}).then(function(t){return e._finishFetch(t)})},count:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.version,n=arguments[1];return a({method:"GET",path:"/leaderboard/leaderboards/"+this.statisticName+"/ranks",query:{count:1,limit:0,version:e},authOptions:n}).then(function(t){return t.count})},_getResults:function(t,e,n){var i=t.skip,o=t.limit,s=t.selectUserKeys,l=t.includeUserKeys,h=t.includeStatistics,f=t.version;return a({method:"GET",path:"/leaderboard/leaderboards/"+this.statisticName+"/ranks"+(n?"/"+n:""),query:{skip:i,limit:o,selectUserKeys:r.union(u(s),u(l)).join(",")||void 0,includeUser:l?u(l).join(","):void 0,includeStatistics:h?u(h).join(","):void 0,version:f},authOptions:e}).then(function(t){return t.results.map(function(t){var e=c._decode(t),n=e.user,i=e.statisticValue,r=e.rank,o=e.statistics;return{user:n,value:i,rank:r,includedStatistics:(void 0===o?[]:o).map(d)}})})},getResults:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.skip,n=t.limit,i=t.selectUserKeys,r=t.includeUserKeys,o=t.includeStatistics,a=t.version,s=arguments[1];return this._getResults({skip:e,limit:n,selectUserKeys:i,includeUserKeys:r,includeStatistics:o,version:a},s)},getResultsAroundUser:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];if(t&&"string"!=typeof t.id)return this.getResultsAroundUser(void 0,t,e);var i=e.limit,r=e.selectUserKeys,o=e.includeUserKeys,a=e.includeStatistics,s=e.version;return this._getResults({limit:i,selectUserKeys:r,includeUserKeys:o,includeStatistics:a,version:s},n,t?t.id:"self")},_update:function(t,e){var n=this;return a({method:"PUT",path:"/leaderboard/leaderboards/"+this.statisticName,data:t,authOptions:e}).then(function(t){return n._finishFetch(t)})},updateVersionChangeInterval:function(t,e){return this._update({versionChangeInterval:t},e)},updateUpdateStrategy:function(t,e){return this._update({updateStrategy:t},e)},reset:function(t){var e=this;return a({method:"PUT",path:"/leaderboard/leaderboards/"+this.statisticName+"/incrementVersion",authOptions:t}).then(function(t){return e._finishFetch(t)})},destroy:function(t){return c.request({method:"DELETE",path:"/leaderboard/leaderboards/"+this.statisticName,authOptions:t}).then(function(){})},getArchives:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.skip,i=e.limit,r=arguments[1];return a({method:"GET",path:"/leaderboard/leaderboards/"+this.statisticName+"/archives",query:{skip:n,limit:i},authOptions:r}).then(function(e){return e.results.map(function(e){var n=e.version,i=e.status,r=e.url,o=e.activatedAt,a=e.deactivatedAt;return{statisticName:t.statisticName,version:n,status:i,url:r,activatedAt:l(o.iso),deactivatedAt:l(a.iso)}})})}})}])},"object"==s(e)&&"object"==s(n)?n.exports=a():(r=[],void 0===(o="function"==typeof(i=a)?i.apply(e,r):i)||(n.exports=o))}).call(this,n(4),n(2)(t))},function(t,e,n){var i,r,o,a;!function(t){"use strict";function e(e,n,i,r){var o=t(i,n);o.addData(e),o.make(),r=r||0;var a=o.getModuleCount(),s=o.getModuleCount()+2*r;this.text=e,this.level=n,this.version=i,this.moduleCount=s,this.isDark=function(t,e){return e-=r,!(0>(t-=r)||t>=a||0>e||e>=a)&&o.isDark(t,e)},this.addBlank=function(t,e,n,i){var r=this.isDark,o=1/s;this.isDark=function(a,s){var u=s*o,l=a*o,c=u+o,d=l+o;return r(a,s)&&(t>c||u>n||e>d||l>i)}}}function n(t,n,i,r,o){i=Math.max(1,i||1),r=Math.min(40,r||40);for(var a=i;r>=a;a+=1)try{return new e(t,n,a,o)}catch(t){}}function i(t,e,n){c(n.background).is("img")?e.drawImage(n.background,0,0,n.size,n.size):n.background&&(e.fillStyle=n.background,e.fillRect(n.left,n.top,n.size,n.size));var i=n.mode;1===i||2===i?function(t,e,n){var i=n.size,r="bold "+n.mSize*i+"px "+n.fontname,o=c("<canvas/>")[0].getContext("2d");o.font=r;var a=o.measureText(n.label).width,s=n.mSize,u=a/i,l=(1-u)*n.mPosX,d=(1-s)*n.mPosY,h=l+u,f=d+s,p=.01;1===n.mode?t.addBlank(0,d-p,i,f+p):t.addBlank(l-p,d-p,h+p,f+p),e.fillStyle=n.fontcolor,e.font=r,e.fillText(n.label,l*i,d*i+.75*n.mSize*i)}(t,e,n):(3===i||4===i)&&function(t,e,n){var i=n.size,r=n.image.naturalWidth||1,o=n.image.naturalHeight||1,a=n.mSize,s=a*r/o,u=(1-s)*n.mPosX,l=(1-a)*n.mPosY,c=u+s,d=l+a,h=.01;3===n.mode?t.addBlank(0,l-h,i,d+h):t.addBlank(u-h,l-h,c+h,d+h),e.drawImage(n.image,u*i,l*i,s*i,a*i)}(t,e,n)}function r(t,e,n,i,r,o,a,s){t.isDark(a,s)&&e.rect(i,r,o,o)}function o(t,e,n,i,r,o,a,s){var u=t.isDark,l=i+o,c=r+o,d=n.radius*o,h=a-1,f=a+1,p=s-1,m=s+1,v=u(a,s),y=u(h,p),g=u(h,s),b=u(h,m),_=u(a,m),w=u(f,m),x=u(f,s),k=u(f,p),T=u(a,p);v?function(t,e,n,i,r,o,a,s,u,l){a?t.moveTo(e+o,n):t.moveTo(e,n),s?(t.lineTo(i-o,n),t.arcTo(i,n,i,r,o)):t.lineTo(i,n),u?(t.lineTo(i,r-o),t.arcTo(i,r,e,r,o)):t.lineTo(i,r),l?(t.lineTo(e+o,r),t.arcTo(e,r,e,n,o)):t.lineTo(e,r),a?(t.lineTo(e,n+o),t.arcTo(e,n,i,n,o)):t.lineTo(e,n)}(e,i,r,l,c,d,!g&&!T,!g&&!_,!x&&!_,!x&&!T):function(t,e,n,i,r,o,a,s,u,l){a&&(t.moveTo(e+o,n),t.lineTo(e,n),t.lineTo(e,n+o),t.arcTo(e,n,e+o,n,o)),s&&(t.moveTo(i-o,n),t.lineTo(i,n),t.lineTo(i,n+o),t.arcTo(i,n,i-o,n,o)),u&&(t.moveTo(i-o,r),t.lineTo(i,r),t.lineTo(i,r-o),t.arcTo(i,r,i-o,r,o)),l&&(t.moveTo(e+o,r),t.lineTo(e,r),t.lineTo(e,r-o),t.arcTo(e,r,e+o,r,o))}(e,i,r,l,c,d,g&&T&&y,g&&_&&b,x&&_&&w,x&&T&&k)}function a(t,e,n){var i,a,s=t.moduleCount,u=n.size/s,l=r;for(h&&n.radius>0&&n.radius<=.5&&(l=o),e.beginPath(),i=0;s>i;i+=1)for(a=0;s>a;a+=1){l(t,e,n,n.left+a*u,n.top+i*u,u,i,a)}if(c(n.fill).is("img")){e.strokeStyle="rgba(0,0,0,0.5)",e.lineWidth=2,e.stroke();var d=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",e.fill(),e.globalCompositeOperation=d,e.clip(),e.drawImage(n.fill,0,0,n.size,n.size),e.restore()}else e.fillStyle=n.fill,e.fill()}function s(t,e){var r=n(e.text,e.ecLevel,e.minVersion,e.maxVersion,e.quiet);if(!r)return null;var o=c(t).data("qrcode",r),s=o[0].getContext("2d");return i(r,s,e),a(r,s,e),o}function u(t){return s(c("<canvas/>").attr("width",t.size).attr("height",t.size),t)}function l(t){return d&&"canvas"===t.render?u(t):d&&"image"===t.render?function(t){return c("<img/>").attr("src",u(t)[0].toDataURL("image/png"))}(t):function(t){var e=n(t.text,t.ecLevel,t.minVersion,t.maxVersion,t.quiet);if(!e)return null;var i,r,o=t.size,a=t.background,s=Math.floor,u=e.moduleCount,l=s(o/u),d=s(.5*(o-l*u)),h={position:"relative",left:0,top:0,padding:0,margin:0,width:o,height:o},f={position:"absolute",padding:0,margin:0,width:l,height:l,"background-color":t.fill},p=c("<div/>").data("qrcode",e).css(h);for(a&&p.css("background-color",a),i=0;u>i;i+=1)for(r=0;u>r;r+=1)e.isDark(i,r)&&c("<div/>").css(f).css({left:d+r*l,top:d+i*l}).appendTo(p);return p}(t)}var c=jQuery,d=function(){var t=document.createElement("canvas");return Boolean(t.getContext&&t.getContext("2d"))}(),h="[object Opera]"!==Object.prototype.toString.call(window.opera),f={render:"canvas",minVersion:1,maxVersion:40,ecLevel:"L",left:0,top:0,size:200,fill:"#000",background:null,text:"no text",radius:0,quiet:0,mode:0,mSize:.1,mPosX:.5,mPosY:.5,label:"no label",fontname:"sans",fontcolor:"#000",image:null};c.fn.qrcode=function(t){var e=c.extend({},f,t);return this.each(function(){"canvas"===this.nodeName.toLowerCase()?s(this,e):c(this).append(l(e))})}}((a=function(){function t(e,n){if(void 0===e.length)throw new Error(e.length+"/"+n);var i=function(){for(var t=0;t<e.length&&0==e[t];)t+=1;for(var i=new Array(e.length-t+n),r=0;r<e.length-t;r+=1)i[r]=e[r+t];return i}(),r={getAt:function(t){return i[t]},getLength:function(){return i.length},multiply:function(e){for(var n=new Array(r.getLength()+e.getLength()-1),i=0;i<r.getLength();i+=1)for(var o=0;o<e.getLength();o+=1)n[i+o]^=v.gexp(v.glog(r.getAt(i))+v.glog(e.getAt(o)));return t(n,0)},mod:function(e){if(r.getLength()-e.getLength()<0)return r;for(var n=v.glog(r.getAt(0))-v.glog(e.getAt(0)),i=new Array(r.getLength()),o=0;o<r.getLength();o+=1)i[o]=r.getAt(o);for(o=0;o<e.getLength();o+=1)i[o]^=v.gexp(v.glog(e.getAt(o))+n);return t(i,0).mod(e)}};return r}var e=function(e,n){var i=e,r=a[n],o=null,s=0,u=null,l=new Array,c={},d=function(t,e){o=function(t){for(var e=new Array(t),n=0;t>n;n+=1){e[n]=new Array(t);for(var i=0;t>i;i+=1)e[n][i]=null}return e}(s=4*i+17),h(0,0),h(s-7,0),h(0,s-7),p(),f(),_(t,e),i>=7&&v(t),null==u&&(u=T(i,r,l)),w(u,e)},h=function(t,e){for(var n=-1;7>=n;n+=1)if(!(-1>=t+n||t+n>=s))for(var i=-1;7>=i;i+=1)-1>=e+i||e+i>=s||(o[t+n][e+i]=n>=0&&6>=n&&(0==i||6==i)||i>=0&&6>=i&&(0==n||6==n)||n>=2&&4>=n&&i>=2&&4>=i)},f=function(){for(var t=8;s-8>t;t+=1)null==o[t][6]&&(o[t][6]=t%2==0);for(var e=8;s-8>e;e+=1)null==o[6][e]&&(o[6][e]=e%2==0)},p=function(){for(var t=m.getPatternPosition(i),e=0;e<t.length;e+=1)for(var n=0;n<t.length;n+=1){var r=t[e],a=t[n];if(null==o[r][a])for(var s=-2;2>=s;s+=1)for(var u=-2;2>=u;u+=1)o[r+s][a+u]=-2==s||2==s||-2==u||2==u||0==s&&0==u}},v=function(t){for(var e=m.getBCHTypeNumber(i),n=0;18>n;n+=1){var r=!t&&1==(e>>n&1);o[Math.floor(n/3)][n%3+s-8-3]=r}for(n=0;18>n;n+=1)r=!t&&1==(e>>n&1),o[n%3+s-8-3][Math.floor(n/3)]=r},_=function(t,e){for(var n=r<<3|e,i=m.getBCHTypeInfo(n),a=0;15>a;a+=1){var u=!t&&1==(i>>a&1);6>a?o[a][8]=u:8>a?o[a+1][8]=u:o[s-15+a][8]=u}for(a=0;15>a;a+=1)u=!t&&1==(i>>a&1),8>a?o[8][s-a-1]=u:9>a?o[8][15-a-1+1]=u:o[8][15-a-1]=u;o[s-8][8]=!t},w=function(t,e){for(var n=-1,i=s-1,r=7,a=0,u=m.getMaskFunction(e),l=s-1;l>0;l-=2)for(6==l&&(l-=1);;){for(var c=0;2>c;c+=1)if(null==o[i][l-c]){var d=!1;a<t.length&&(d=1==(t[a]>>>r&1)),u(i,l-c)&&(d=!d),o[i][l-c]=d,-1==(r-=1)&&(a+=1,r=7)}if(0>(i+=n)||i>=s){i-=n,n=-n;break}}},x=function(e,n){for(var i=0,r=0,o=0,a=new Array(n.length),s=new Array(n.length),u=0;u<n.length;u+=1){var l=n[u].dataCount,c=n[u].totalCount-l;r=Math.max(r,l),o=Math.max(o,c),a[u]=new Array(l);for(var d=0;d<a[u].length;d+=1)a[u][d]=255&e.getBuffer()[d+i];i+=l;var h=m.getErrorCorrectPolynomial(c),f=t(a[u],h.getLength()-1).mod(h);for(s[u]=new Array(h.getLength()-1),d=0;d<s[u].length;d+=1){var p=d+f.getLength()-s[u].length;s[u][d]=p>=0?f.getAt(p):0}}var v=0;for(d=0;d<n.length;d+=1)v+=n[d].totalCount;var y=new Array(v),g=0;for(d=0;r>d;d+=1)for(u=0;u<n.length;u+=1)d<a[u].length&&(y[g]=a[u][d],g+=1);for(d=0;o>d;d+=1)for(u=0;u<n.length;u+=1)d<s[u].length&&(y[g]=s[u][d],g+=1);return y},T=function(t,e,n){for(var i=y.getRSBlocks(t,e),r=g(),o=0;o<n.length;o+=1){var a=n[o];r.put(a.getMode(),4),r.put(a.getLength(),m.getLengthInBits(a.getMode(),t)),a.write(r)}var s=0;for(o=0;o<i.length;o+=1)s+=i[o].dataCount;if(r.getLengthInBits()>8*s)throw new Error("code length overflow. ("+r.getLengthInBits()+">"+8*s+")");for(r.getLengthInBits()+4<=8*s&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(!1);for(;!(r.getLengthInBits()>=8*s||(r.put(236,8),r.getLengthInBits()>=8*s));)r.put(17,8);return x(r,i)};return c.addData=function(t){var e=b(t);l.push(e),u=null},c.isDark=function(t,e){if(0>t||t>=s||0>e||e>=s)throw new Error(t+","+e);return o[t][e]},c.getModuleCount=function(){return s},c.make=function(){d(!1,function(){for(var t=0,e=0,n=0;8>n;n+=1){d(!0,n);var i=m.getLostPoint(c);(0==n||t>i)&&(t=i,e=n)}return e}())},c.createTableTag=function(t,e){t=t||2;var n="";n+='<table style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: "+(e=void 0===e?4*t:e)+"px;",n+='">',n+="<tbody>";for(var i=0;i<c.getModuleCount();i+=1){n+="<tr>";for(var r=0;r<c.getModuleCount();r+=1)n+='<td style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: 0px;",n+=" width: "+t+"px;",n+=" height: "+t+"px;",n+=" background-color: ",n+=c.isDark(i,r)?"#000000":"#ffffff",n+=";",n+='"/>';n+="</tr>"}return(n+="</tbody>")+"</table>"},c.createImgTag=function(t,e){t=t||2,e=void 0===e?4*t:e;var n=c.getModuleCount()*t+2*e,i=e,r=n-e;return k(n,n,function(e,n){if(e>=i&&r>e&&n>=i&&r>n){var o=Math.floor((e-i)/t),a=Math.floor((n-i)/t);return c.isDark(a,o)?0:1}return 1})},c};e.stringToBytes=function(t){for(var e=new Array,n=0;n<t.length;n+=1){var i=t.charCodeAt(n);e.push(255&i)}return e},e.createStringToBytes=function(t,e){var n=function(){for(var n=w(t),i=function(){var t=n.read();if(-1==t)throw new Error;return t},r=0,o={};;){var a=n.read();if(-1==a)break;var s=i(),u=i()<<8|i();o[String.fromCharCode(a<<8|s)]=u,r+=1}if(r!=e)throw new Error(r+" != "+e);return o}(),i="?".charCodeAt(0);return function(t){for(var e=new Array,r=0;r<t.length;r+=1){var o=t.charCodeAt(r);if(128>o)e.push(o);else{var a=n[t.charAt(r)];"number"==typeof a?(255&a)==a?e.push(a):(e.push(a>>>8),e.push(255&a)):e.push(i)}}return e}};var n=1,i=2,r=4,o=8,a={L:1,M:0,Q:3,H:2},s=0,u=1,l=2,c=3,d=4,h=5,f=6,p=7,m=function(){var e=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],a=1335,m=7973,y={},g=function(t){for(var e=0;0!=t;)e+=1,t>>>=1;return e};return y.getBCHTypeInfo=function(t){for(var e=t<<10;g(e)-g(a)>=0;)e^=a<<g(e)-g(a);return 21522^(t<<10|e)},y.getBCHTypeNumber=function(t){for(var e=t<<12;g(e)-g(m)>=0;)e^=m<<g(e)-g(m);return t<<12|e},y.getPatternPosition=function(t){return e[t-1]},y.getMaskFunction=function(t){switch(t){case s:return function(t,e){return(t+e)%2==0};case u:return function(t,e){return t%2==0};case l:return function(t,e){return e%3==0};case c:return function(t,e){return(t+e)%3==0};case d:return function(t,e){return(Math.floor(t/2)+Math.floor(e/3))%2==0};case h:return function(t,e){return t*e%2+t*e%3==0};case f:return function(t,e){return(t*e%2+t*e%3)%2==0};case p:return function(t,e){return(t*e%3+(t+e)%2)%2==0};default:throw new Error("bad maskPattern:"+t)}},y.getErrorCorrectPolynomial=function(e){for(var n=t([1],0),i=0;e>i;i+=1)n=n.multiply(t([1,v.gexp(i)],0));return n},y.getLengthInBits=function(t,e){if(e>=1&&10>e)switch(t){case n:return 10;case i:return 9;case r:case o:return 8;default:throw new Error("mode:"+t)}else if(27>e)switch(t){case n:return 12;case i:return 11;case r:return 16;case o:return 10;default:throw new Error("mode:"+t)}else{if(!(41>e))throw new Error("type:"+e);switch(t){case n:return 14;case i:return 13;case r:return 16;case o:return 12;default:throw new Error("mode:"+t)}}},y.getLostPoint=function(t){for(var e=t.getModuleCount(),n=0,i=0;e>i;i+=1)for(var r=0;e>r;r+=1){for(var o=0,a=t.isDark(i,r),s=-1;1>=s;s+=1)if(!(0>i+s||i+s>=e))for(var u=-1;1>=u;u+=1)0>r+u||r+u>=e||(0!=s||0!=u)&&a==t.isDark(i+s,r+u)&&(o+=1);o>5&&(n+=3+o-5)}for(i=0;e-1>i;i+=1)for(r=0;e-1>r;r+=1){var l=0;t.isDark(i,r)&&(l+=1),t.isDark(i+1,r)&&(l+=1),t.isDark(i,r+1)&&(l+=1),t.isDark(i+1,r+1)&&(l+=1),(0==l||4==l)&&(n+=3)}for(i=0;e>i;i+=1)for(r=0;e-6>r;r+=1)t.isDark(i,r)&&!t.isDark(i,r+1)&&t.isDark(i,r+2)&&t.isDark(i,r+3)&&t.isDark(i,r+4)&&!t.isDark(i,r+5)&&t.isDark(i,r+6)&&(n+=40);for(r=0;e>r;r+=1)for(i=0;e-6>i;i+=1)t.isDark(i,r)&&!t.isDark(i+1,r)&&t.isDark(i+2,r)&&t.isDark(i+3,r)&&t.isDark(i+4,r)&&!t.isDark(i+5,r)&&t.isDark(i+6,r)&&(n+=40);var c=0;for(r=0;e>r;r+=1)for(i=0;e>i;i+=1)t.isDark(i,r)&&(c+=1);return n+Math.abs(100*c/e/e-50)/5*10},y}(),v=function(){for(var t=new Array(256),e=new Array(256),n=0;8>n;n+=1)t[n]=1<<n;for(n=8;256>n;n+=1)t[n]=t[n-4]^t[n-5]^t[n-6]^t[n-8];for(n=0;255>n;n+=1)e[t[n]]=n;var i={glog:function(t){if(1>t)throw new Error("glog("+t+")");return e[t]},gexp:function(e){for(;0>e;)e+=255;for(;e>=256;)e-=255;return t[e]}};return i}(),y=function(){var t=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e=function(t,e){var n={};return n.totalCount=t,n.dataCount=e,n},n={},i=function(e,n){switch(n){case a.L:return t[4*(e-1)+0];case a.M:return t[4*(e-1)+1];case a.Q:return t[4*(e-1)+2];case a.H:return t[4*(e-1)+3];default:return}};return n.getRSBlocks=function(t,n){var r=i(t,n);if(void 0===r)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+n);for(var o=r.length/3,a=new Array,s=0;o>s;s+=1)for(var u=r[3*s+0],l=r[3*s+1],c=r[3*s+2],d=0;u>d;d+=1)a.push(e(l,c));return a},n}(),g=function(){var t=new Array,e=0,n={getBuffer:function(){return t},getAt:function(e){var n=Math.floor(e/8);return 1==(t[n]>>>7-e%8&1)},put:function(t,e){for(var i=0;e>i;i+=1)n.putBit(1==(t>>>e-i-1&1))},getLengthInBits:function(){return e},putBit:function(n){var i=Math.floor(e/8);t.length<=i&&t.push(0),n&&(t[i]|=128>>>e%8),e+=1}};return n},b=function(t){var n=r,i=e.stringToBytes(t),o={getMode:function(){return n},getLength:function(t){return i.length},write:function(t){for(var e=0;e<i.length;e+=1)t.put(i[e],8)}};return o},_=function(){var t=new Array,e={writeByte:function(e){t.push(255&e)},writeShort:function(t){e.writeByte(t),e.writeByte(t>>>8)},writeBytes:function(t,n,i){n=n||0,i=i||t.length;for(var r=0;i>r;r+=1)e.writeByte(t[r+n])},writeString:function(t){for(var n=0;n<t.length;n+=1)e.writeByte(t.charCodeAt(n))},toByteArray:function(){return t},toString:function(){var e="";e+="[";for(var n=0;n<t.length;n+=1)n>0&&(e+=","),e+=t[n];return e+"]"}};return e},w=function(t){var e=t,n=0,i=0,r=0,o={read:function(){for(;8>r;){if(n>=e.length){if(0==r)return-1;throw new Error("unexpected end of file./"+r)}var t=e.charAt(n);if(n+=1,"="==t)return r=0,-1;t.match(/^\s$/)||(i=i<<6|a(t.charCodeAt(0)),r+=6)}var o=i>>>r-8&255;return r-=8,o}},a=function(t){if(t>=65&&90>=t)return t-65;if(t>=97&&122>=t)return t-97+26;if(t>=48&&57>=t)return t-48+52;if(43==t)return 62;if(47==t)return 63;throw new Error("c:"+t)};return o},x=function(t,e){var n=t,i=e,r=new Array(t*e),o={setPixel:function(t,e,i){r[e*n+t]=i},write:function(t){t.writeString("GIF87a"),t.writeShort(n),t.writeShort(i),t.writeByte(128),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(255),t.writeByte(255),t.writeByte(255),t.writeString(","),t.writeShort(0),t.writeShort(0),t.writeShort(n),t.writeShort(i),t.writeByte(0);var e=a(2);t.writeByte(2);for(var r=0;e.length-r>255;)t.writeByte(255),t.writeBytes(e,r,255),r+=255;t.writeByte(e.length-r),t.writeBytes(e,r,e.length-r),t.writeByte(0),t.writeString(";")}},a=function(t){for(var e=1<<t,n=1+(1<<t),i=t+1,o=s(),a=0;e>a;a+=1)o.add(String.fromCharCode(a));o.add(String.fromCharCode(e)),o.add(String.fromCharCode(n));var u=_(),l=function(t){var e=t,n=0,i=0,r={write:function(t,r){if(t>>>r!=0)throw new Error("length over");for(;n+r>=8;)e.writeByte(255&(t<<n|i)),r-=8-n,t>>>=8-n,i=0,n=0;i|=t<<n,n+=r},flush:function(){n>0&&e.writeByte(i)}};return r}(u);l.write(e,i);var c=0,d=String.fromCharCode(r[c]);for(c+=1;c<r.length;){var h=String.fromCharCode(r[c]);c+=1,o.contains(d+h)?d+=h:(l.write(o.indexOf(d),i),o.size()<4095&&(o.size()==1<<i&&(i+=1),o.add(d+h)),d=h)}return l.write(o.indexOf(d),i),l.write(n,i),l.flush(),u.toByteArray()},s=function(){var t={},e=0,n={add:function(i){if(n.contains(i))throw new Error("dup key:"+i);t[i]=e,e+=1},size:function(){return e},indexOf:function(e){return t[e]},contains:function(e){return void 0!==t[e]}};return n};return o},k=function(t,e,n,i){for(var r=x(t,e),o=0;e>o;o+=1)for(var a=0;t>a;a+=1)r.setPixel(a,o,n(a,o));var s=_();r.write(s);for(var u=function(){var t=0,e=0,n=0,i="",r={},o=function(t){i+=String.fromCharCode(a(63&t))},a=function(t){if(0>t);else{if(26>t)return 65+t;if(52>t)return t-26+97;if(62>t)return t-52+48;if(62==t)return 43;if(63==t)return 47}throw new Error("n:"+t)};return r.writeByte=function(i){for(t=t<<8|255&i,e+=8,n+=1;e>=6;)o(t>>>e-6),e-=6},r.flush=function(){if(e>0&&(o(t<<6-e),t=0,e=0),n%3!=0)for(var r=3-n%3,a=0;r>a;a+=1)i+="="},r.toString=function(){return i},r}(),l=s.toByteArray(),c=0;c<l.length;c+=1)u.writeByte(l[c]);u.flush();var d="";return d+="<img",d+=' src="',d+="data:image/gif;base64,",d+=u,d+='"',d+=' width="',d+=t,d+='"',d+=' height="',d+=e,d+='"',i&&(d+=' alt="',d+=i,d+='"'),d+"/>"};return e}(),function(n){r=[],void 0===(o="function"==typeof(i=n)?i.apply(e,r):i)||(t.exports=o)}(function(){return a}),function(t){t.stringToBytes=function(t){return function(t){for(var e=[],n=0;n<t.length;n++){var i=t.charCodeAt(n);128>i?e.push(i):2048>i?e.push(192|i>>6,128|63&i):55296>i||i>=57344?e.push(224|i>>12,128|i>>6&63,128|63&i):(n++,i=65536+((1023&i)<<10|1023&t.charCodeAt(n)),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i))}return e}(t)}}(a),a)),function(t){t.fn.share=function(e){function n(e,n){var i=function(e){0===e.mobileSites.length&&e.sites.length&&(e.mobileSites=e.sites);var n=(t(window).width()<=768?e.mobileSites:e.sites.length?e.sites:[]).slice(0),i=e.disabled;return"string"==typeof n&&(n=n.split(/\s*,\s*/)),"string"==typeof i&&(i=i.split(/\s*,\s*/)),/MicroMessenger/i.test(navigator.userAgent)&&i.push("wechat"),i.length&&t.each(i,function(e,i){var r=t.inArray(i,n);-1!==r&&n.splice(r,1)}),n}(n);"prepend"==n.mode&&i.reverse(),i.length&&t.each(i,function(i,r){var o=function(t,e){var n=a[t];for(var i in e.summary=e.description,e)if(e.hasOwnProperty(i)){var r=t+i.replace(/^[a-z]/,function(t){return t.toUpperCase()}),o=encodeURIComponent(void 0===e[r]?e[i]:e[r]);n=n.replace(new RegExp("{{"+i.toUpperCase()+"}}","g"),o)}return n}(r,n),u=n.initialized?e.find(".icon-"+r):t('<a class="social-share-icon icon-'+r+'"></a>');return!u.length||(u.prop("aria-label","分享到 "+s[r]),u.prop("href",o),"wechat"===r?u.prop("tabindex",-1):u.prop("target","_blank"),void(n.initialized||("prepend"==n.mode?e.prepend(u):e.append(u))))})}var i=t(document.head),r={url:location.href,site_url:location.origin,source:i.find("[name=site], [name=Site]").attr("content")||document.title,title:i.find("[name=title], [name=Title]").attr("content")||document.title,description:i.find("[name=description], [name=Description]").attr("content")||"",image:t("img:first").prop("src")||"",imageSelector:void 0,weiboKey:"",wechatQrcodeTitle:"微信扫一扫：分享",wechatQrcodeHelper:"<p>微信里点“发现”，扫一下</p><p>二维码便可将本文分享至朋友圈。</p>",wechatQrcodeSize:100,mobileSites:[],sites:["weibo","qq","wechat","tencent","douban","qzone","linkedin","diandian","facebook","twitter","google"],disabled:[],initialized:!1},o=t.extend({},r,e),a={qzone:"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url={{URL}}&title={{TITLE}}&desc={{DESCRIPTION}}&summary={{SUMMARY}}&site={{SOURCE}}",qq:"http://connect.qq.com/widget/shareqq/index.html?url={{URL}}&title={{TITLE}}&source={{SOURCE}}&desc={{DESCRIPTION}}&pics={{IMAGE}}",tencent:"http://share.v.t.qq.com/index.php?c=share&a=index&title={{TITLE}}&url={{URL}}&pic={{IMAGE}}",weibo:"http://service.weibo.com/share/share.php?url={{URL}}&title={{TITLE}}&pic={{IMAGE}}&appkey={{WEIBOKEY}}",wechat:"javascript:;",douban:"http://shuo.douban.com/!service/share?href={{URL}}&name={{TITLE}}&text={{DESCRIPTION}}&image={{IMAGE}}&starid=0&aid=0&style=11",diandian:"http://www.diandian.com/share?lo={{URL}}&ti={{TITLE}}&type=link",linkedin:"http://www.linkedin.com/shareArticle?mini=true&ro=true&title={{TITLE}}&url={{URL}}&summary={{SUMMARY}}&source={{SOURCE}}&armin=armin",facebook:"https://www.facebook.com/sharer/sharer.php?u={{URL}}",twitter:"https://twitter.com/intent/tweet?text={{TITLE}}&url={{URL}}&via={{SITE_URL}}",google:"https://plus.google.com/share?url={{URL}}"},s={qzone:"QQ空间",qq:"QQ",tencent:"腾讯微博",weibo:"微博",wechat:"微信",douban:"豆瓣",diandian:"点点",linkedin:"LinkedIn",facebook:"Facebook",twitter:"Twitter",google:"Google"};this.each(function(){if(t(this).data("initialized"))return!0;var e=t.extend({},o,t(this).data());e.imageSelector&&(e.image=t(e.imageSelector).map(function(){return t(this).prop("src")}).get().join("||"));var i=t(this).addClass("share-component social-share");n(i,e),function(t,e){var n=t.find("a.icon-wechat");n.length&&(n.append('<div class="wechat-qrcode"><h4>'+e.wechatQrcodeTitle+'</h4><div class="qrcode"></div><div class="help">'+e.wechatQrcodeHelper+"</div></div>"),n.find(".qrcode").qrcode({render:"image",size:e.wechatQrcodeSize,text:e.url}),n.offset().top<100&&n.find(".wechat-qrcode").addClass("bottom"))}(i,e),t(this).data("initialized",!0)})},t(function(){t(".share-component,.social-share").share()})}(jQuery)},function(t,e,n){var i=n(26);if(!NexT.utils.isMobile()){new i($(".site-nav")[0],{tolerance:5,offset:205,classes:{initial:"head-animated",pinned:"slideDown",unpinned:"slideUp"}}).init(),$.scrollto=function(t,e){$(t).click(function(){return $(this).addClass("active").siblings().removeClass("active"),$("html, body").animate({scrollTop:$("body").offset().top},e),!1})};var r=$(".back-to-top"),o=$(window).height()-980+"px";$(window).scroll(function(){$(window).scrollTop()>700&&"-900px"===r.css("top")?r.css("top",o):$(window).scrollTop()<=700&&"-900px"!==r.css("top")&&r.css("top","-900px")}),$.scrollto(".back-to-top",800)}},function(t,e,n){var i,r,o;function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
/*!
 * headroom.js v0.10.3 - Give your page some headroom. Hide your header until you need it
 * Copyright (c) 2019 Nick Williams - http://wicky.nillia.ms/headroom.js
 * License: MIT
 */
/*!
 * headroom.js v0.10.3 - Give your page some headroom. Hide your header until you need it
 * Copyright (c) 2019 Nick Williams - http://wicky.nillia.ms/headroom.js
 * License: MIT
 */
o=function(){"use strict";function t(){return"undefined"!=typeof window}function e(t){return(o=t)&&o.document&&function(t){return 9===t.nodeType}(o.document)?(n=(e=t).document,i=n.body,r=n.documentElement,{scrollHeight:function(){return Math.max(i.scrollHeight,r.scrollHeight,i.offsetHeight,r.offsetHeight,i.clientHeight,r.clientHeight)},height:function(){return e.innerHeight||r.clientHeight||i.clientHeight},scrollY:function(){return void 0!==e.pageYOffset?e.pageYOffset:(r||i.parentNode||i).scrollTop}}):function(t){return{scrollHeight:function(){return Math.max(t.scrollHeight,t.offsetHeight,t.clientHeight)},height:function(){return Math.max(t.offsetHeight,t.clientHeight)},scrollY:function(){return t.scrollTop}}}(t);var e,n,i,r,o}function n(t,n,i){var r,o=function(){var t=!1;try{var e={get passive(){t=!0}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){t=!1}return t}(),a=!1,s=e(t),u=s.scrollY(),l={};function c(){var t=Math.round(s.scrollY()),e=s.height(),r=s.scrollHeight();l.scrollY=t,l.lastScrollY=u,l.direction=t>u?"down":"up",l.distance=Math.abs(t-u),l.isOutOfBounds=t<0||t+e>r,l.top=t<=n.offset,l.bottom=t+e>=r,l.toleranceExceeded=l.distance>n.tolerance[l.direction],i(l),u=t,a=!1}function d(){a||(a=!0,r=requestAnimationFrame(c))}var h=!!o&&{passive:!0,capture:!1};return t.addEventListener("scroll",d,h),{destroy:function(){cancelAnimationFrame(r),t.removeEventListener("scroll",d,h)}}}function i(t,e){var n;e=e||{},Object.assign(this,i.options,e),this.classes=Object.assign({},i.options.classes,e.classes),this.elem=t,this.tolerance=(n=this.tolerance)===Object(n)?n:{down:n,up:n},this.initialised=!1,this.frozen=!1}return i.prototype={constructor:i,init:function(){return i.cutsTheMustard&&!this.initialised&&(this.addClass("initial"),this.initialised=!0,setTimeout(function(t){t.scrollTracker=n(t.scroller,{offset:t.offset,tolerance:t.tolerance},t.update.bind(t))},100,this)),this},destroy:function(){this.initialised=!1,Object.keys(this.classes).forEach(this.removeClass,this),this.scrollTracker.destroy()},unpin:function(){!this.hasClass("pinned")&&this.hasClass("unpinned")||(this.addClass("unpinned"),this.removeClass("pinned"),this.onUnpin&&this.onUnpin.call(this))},pin:function(){this.hasClass("unpinned")&&(this.addClass("pinned"),this.removeClass("unpinned"),this.onPin&&this.onPin.call(this))},freeze:function(){this.frozen=!0,this.addClass("frozen")},unfreeze:function(){this.frozen=!1,this.removeClass("frozen")},top:function(){this.hasClass("top")||(this.addClass("top"),this.removeClass("notTop"),this.onTop&&this.onTop.call(this))},notTop:function(){this.hasClass("notTop")||(this.addClass("notTop"),this.removeClass("top"),this.onNotTop&&this.onNotTop.call(this))},bottom:function(){this.hasClass("bottom")||(this.addClass("bottom"),this.removeClass("notBottom"),this.onBottom&&this.onBottom.call(this))},notBottom:function(){this.hasClass("notBottom")||(this.addClass("notBottom"),this.removeClass("bottom"),this.onNotBottom&&this.onNotBottom.call(this))},shouldUnpin:function(t){return"down"===t.direction&&!t.top&&t.toleranceExceeded},shouldPin:function(t){return"up"===t.direction&&t.toleranceExceeded||t.top},addClass:function(t){this.elem.classList.add(this.classes[t])},removeClass:function(t){this.elem.classList.remove(this.classes[t])},hasClass:function(t){return this.elem.classList.contains(this.classes[t])},update:function(t){t.isOutOfBounds||!0!==this.frozen&&(t.top?this.top():this.notTop(),t.bottom?this.bottom():this.notBottom(),this.shouldUnpin(t)?this.unpin():this.shouldPin(t)&&this.pin())}},i.options={tolerance:{up:0,down:0},offset:0,scroller:t()?window:null,classes:{frozen:"headroom--frozen",pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",bottom:"headroom--bottom",notBottom:"headroom--not-bottom",initial:"headroom"}},i.cutsTheMustard=!!(t()&&function(){}.bind&&"classList"in document.documentElement&&Object.assign&&Object.keys&&requestAnimationFrame),i},"object"===a(e)&&void 0!==t?t.exports=o():void 0===(r="function"==typeof(i=o)?i.call(e,n,e,t):i)||(t.exports=r)},function(t,e){!function t(){window.setTimeout(function(){t()},1e3);var e=new Date(window.CONFIG.since),n=((new Date).getTime()-e.getTime())/864e5,i=Math.floor(n),r=24*(n-i),o=Math.floor(r),a=60*(r-o),s=Math.floor(60*(r-o)),u=Math.floor(60*(a-s));$("#since").html(i+"天"+o+"小时"+s+"分"+u+"秒")}()},function(t,e){var n;window.CONFIG.favicon.visibilitychange&&(window.originTitle=document.title,document.addEventListener("visibilitychange",function(){document.hidden?($('[rel="icon"]').attr("href",window.CONFIG.favicon.hidden),document.title=window.CONFIG.favicon.hide_text,clearTimeout(n)):($('[rel="icon"]').attr("href",window.CONFIG.favicon.narmal),document.title=window.CONFIG.favicon.show_text+window.originTitle,n=setTimeout(function(){document.title=window.originTitle},2e3))}))},function(t,e,n){var i=n(40),r=i.TweenLite,o=document.getElementById("animate"),a=document.getElementById("guide"),s=a.getElementsByTagName("span"),u=o.getElementsByTagName("span"),l=s.length,c=function(t){setTimeout(function(){r.fromTo(u[t],.4,{opacity:0,y:40},{opacity:1,y:0,ease:i.Power3.easeOut}),r.fromTo(u[t],.4,{scale:0},{scale:1,ease:i.Back.easeOut})},200*t)},d=function(){for(var t=0;t<l;t++)c(t)},h=function(t,e){t.style.fontSize=e+"px",t.style.height=e+"px",t.style.lineHeight=e+"px"},f=function(){var t=window.innerWidth/9;t>100&&(t=100),h(o,t),h(a,t),function(){for(var t=0;t<l;t++){var e=s[t],n=u[t],i=e.getBoundingClientRect();n.style.left=i.left+"px"}}()};document.fonts&&document.fonts.ready?document.fonts.ready.then(function(){f(),d(),window.addEventListener("resize",f)}):setTimeout(function(){f(),d(),window.addEventListener("resize",f)},500)},function(t,e){$(".site-master-avatar").on("mouseover",function(){this.classList.add("animated","tada")}),$(".site-master-avatar").on("mouseout",function(){this.classList.remove("animated","tada")}),navigator.userAgent.match(/mobile/i)?$(".menu-item").click(function(){var t=$(this).find(".submenu");t.length&&(t.height()?t.css({height:""}):t.css({height:t[0].scrollHeight}))}):$(".menu-item").hover(function(){var t=$(this).find(".submenu");t.length&&t.css({height:t[0].scrollHeight})},function(){var t=$(this).find(".submenu");t.length&&t.css({height:""})})},function(t,e){for(var n=document.getElementsByClassName("post-body"),i=0;i<n.length;i++)n[i].addEventListener("copy",function(t){window.getSelection().toString()&&window.getSelection().toString().length>42&&(r(t),notie("商业转载请联系作者获得授权，非商业转载请注明出处，谢谢合作。",{type:"info",autoHide:!0}))});function r(t){var e=t.clipboardData||window.clipboardData;if(e){t.preventDefault();var n="著作权归作者所有。<br>商业转载请联系作者获得授权，非商业转载请注明出处。<br>作者："+CONFIG.site.author+"<br>链接："+window.location.href+"<br>来源："+CONFIG.site.title+"<br><br>"+window.getSelection().toString(),i="著作权归作者所有。\n商业转载请联系作者获得授权，非商业转载请注明出处。\n作者："+CONFIG.site.author+"\n链接："+window.location.href+"\n来源："+CONFIG.site.title+"\n\n"+window.getSelection().toString();e.setData("text/html",n),e.setData("text/plain",i)}}},function(t,e,n){n(33);var i=n(34);i.configure({showSpinner:!1,easing:"ease-out",speed:1e3}),$(document).pjax('a:not(.fancybox):not([target="_blank"])',"#main",{scrollTo:$(".main").position().top-60,fragment:"#main",timeout:5e3}),$(document).on("pjax:start",function(){if(i.start(),$("html, body").animate({scrollTop:$(".main").position().top-60},500),window.dplayers){for(var t=0;t<window.dplayers.length;t++)window.dplayers[t].destroy();window.dplayers=[]}if(window.aplayers){for(var e=0;e<window.aplayers.length;e++)window.aplayers[e].destroy();window.aplayers=[]}}),$(document).on("pjax:end",function(){i.done(),n(6)(),n(7)(),n(8)(),n(5)(),n(9)(),window.originTitle=document.title,ga&&(ga("set","location",window.location.href),ga("send","pageview"))})},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
/*!
 * Copyright 2012, Chris Wanstrath
 * Released under the MIT License
 * https://github.com/defunkt/jquery-pjax
 */
/*!
 * Copyright 2012, Chris Wanstrath
 * Released under the MIT License
 * https://github.com/defunkt/jquery-pjax
 */
!function(t){function e(e,n,r){return r=b(n,r),this.on("click.pjax",e,function(e){var n=r;n.container||((n=t.extend({},r)).container=t(this).attr("data-pjax")),i(e,n)})}function i(e,n,i){i=b(n,i);var r=e.currentTarget,a=t(r);if("A"!==r.tagName.toUpperCase())throw"$.fn.pjax or $.pjax.click requires an anchor element";if(!(e.which>1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||location.protocol!==r.protocol||location.hostname!==r.hostname||r.href.indexOf("#")>-1&&g(r)==g(location)||e.isDefaultPrevented())){var s={url:r.href,container:a.attr("data-pjax"),target:r},u=t.extend({},s,i),l=t.Event("pjax:click");a.trigger(l,[u]),l.isDefaultPrevented()||(o(u),e.preventDefault(),a.trigger("pjax:clicked",[u]))}}function r(e,n,i){i=b(n,i);var r=e.currentTarget,a=t(r);if("FORM"!==r.tagName.toUpperCase())throw"$.pjax.submit requires a form element";var s={type:(a.attr("method")||"GET").toUpperCase(),url:a.attr("action"),container:a.attr("data-pjax"),target:r};if("GET"!==s.type&&void 0!==window.FormData)s.data=new FormData(r),s.processData=!1,s.contentType=!1;else{if(a.find(":file").length)return;s.data=a.serializeArray()}o(t.extend({},s,i)),e.preventDefault()}function o(e){e=t.extend(!0,{},t.ajaxSettings,o.defaults,e),t.isFunction(e.url)&&(e.url=e.url());var n=y(e.url).hash,i=t.type(e.container);if("string"!==i)throw"expected string value for 'container' option; got "+i;var r,a=e.context=t(e.container);if(!a.length)throw"the container selector '"+e.container+"' did not match anything";function u(n,i,r){r||(r={}),r.relatedTarget=e.target;var o=t.Event(n,r);return a.trigger(o,i),!o.isDefaultPrevented()}e.data||(e.data={}),t.isArray(e.data)?e.data.push({name:"_pjax",value:e.container}):e.data._pjax=e.container,e.beforeSend=function(t,i){if("GET"!==i.type&&(i.timeout=0),t.setRequestHeader("X-PJAX","true"),t.setRequestHeader("X-PJAX-Container",e.container),!u("pjax:beforeSend",[t,i]))return!1;i.timeout>0&&(r=setTimeout(function(){u("pjax:timeout",[t,e])&&t.abort("timeout")},i.timeout),i.timeout=0);var o=y(i.url);n&&(o.hash=n),e.requestUrl=v(o)},e.complete=function(t,n){r&&clearTimeout(r),u("pjax:complete",[t,n,e]),u("pjax:end",[t,e])},e.error=function(t,n,i){var r=x("",t,e),o=u("pjax:error",[t,n,i,e]);"GET"==e.type&&"abort"!==n&&o&&s(r.url)},e.success=function(i,r,l){var c=o.state,d="function"==typeof t.pjax.defaults.version?t.pjax.defaults.version():t.pjax.defaults.version,h=l.getResponseHeader("X-PJAX-Version"),f=x(i,l,e),m=y(f.url);if(n&&(m.hash=n,f.url=m.href),d&&h&&d!==h)s(f.url);else if(f.contents){if(o.state={id:e.id||p(),url:f.url,title:f.title,container:e.container,fragment:e.fragment,timeout:e.timeout},(e.push||e.replace)&&window.history.replaceState(o.state,f.title,f.url),t.contains(a,document.activeElement))try{document.activeElement.blur()}catch(t){}f.title&&(document.title=f.title),u("pjax:beforeReplace",[f.contents,e],{state:o.state,previousState:c}),a.html(f.contents);var v=a.find("input[autofocus], textarea[autofocus]").last()[0];v&&document.activeElement!==v&&v.focus(),function(e){if(!e)return;var n=t("script[src]");e.each(function(){var e=this.src;if(!n.filter(function(){return this.src===e}).length){var i=document.createElement("script"),r=t(this).attr("type");r&&(i.type=r),i.src=t(this).attr("src"),document.head.appendChild(i)}})}(f.scripts);var g=e.scrollTo;if(n){var b=decodeURIComponent(n.slice(1)),_=document.getElementById(b)||document.getElementsByName(b)[0];_&&(g=t(_).offset().top)}"number"==typeof g&&t(window).scrollTop(g),u("pjax:success",[i,r,l,e])}else s(f.url)},o.state||(o.state={id:p(),url:window.location.href,title:document.title,container:e.container,fragment:e.fragment,timeout:e.timeout},window.history.replaceState(o.state,document.title)),f(o.xhr),o.options=e;var l,c,d=o.xhr=t.ajax(e);return d.readyState>0&&(e.push&&!e.replace&&(l=o.state.id,c=[e.container,m(a)],k[l]=c,S.push(l),E(T,0),E(S,o.defaults.maxCacheLength),window.history.pushState(null,"",e.requestUrl)),u("pjax:start",[d,e]),u("pjax:send",[d,e])),o.xhr}function a(e,n){var i={url:window.location.href,push:!1,replace:!0,scrollTo:!1};return o(t.extend(i,b(e,n)))}function s(t){window.history.replaceState(null,"",o.state.url),window.location.replace(t)}var u=!0,l=window.location.href,c=window.history.state;function d(e){u||f(o.xhr);var n,i=o.state,r=e.state;if(r&&r.container){if(u&&l==r.url)return;if(i){if(i.id===r.id)return;n=i.id<r.id?"forward":"back"}var a=k[r.id]||[],c=a[0]||r.container,d=t(c),h=a[1];if(d.length){i&&function(t,e,n){var i,r;k[e]=n,"forward"===t?(i=S,r=T):(i=T,r=S);i.push(e),(e=r.pop())&&delete k[e];E(i,o.defaults.maxCacheLength)}(n,i.id,[c,m(d)]);var p=t.Event("pjax:popstate",{state:r,direction:n});d.trigger(p);var v={id:r.id,url:r.url,container:c,push:!1,fragment:r.fragment,timeout:r.timeout,scrollTo:!1};if(h){d.trigger("pjax:start",[null,v]),o.state=r,r.title&&(document.title=r.title);var y=t.Event("pjax:beforeReplace",{state:r,previousState:i});d.trigger(y,[h,v]),d.html(h),d.trigger("pjax:end",[null,v])}else o(v);d[0].offsetHeight}else s(location.href)}u=!1}function h(e){var i=t.isFunction(e.url)?e.url():e.url,r=e.type?e.type.toUpperCase():"GET",o=t("<form>",{method:"GET"===r?"GET":"POST",action:i,style:"display:none"});"GET"!==r&&"POST"!==r&&o.append(t("<input>",{type:"hidden",name:"_method",value:r.toLowerCase()}));var a=e.data;if("string"==typeof a)t.each(a.split("&"),function(e,n){var i=n.split("=");o.append(t("<input>",{type:"hidden",name:i[0],value:i[1]}))});else if(t.isArray(a))t.each(a,function(e,n){o.append(t("<input>",{type:"hidden",name:n.name,value:n.value}))});else if("object"===n(a)){var s;for(s in a)o.append(t("<input>",{type:"hidden",name:s,value:a[s]}))}t(document.body).append(o),o.submit()}function f(e){e&&e.readyState<4&&(e.onreadystatechange=t.noop,e.abort())}function p(){return(new Date).getTime()}function m(e){var n=e.clone();return n.find("script").each(function(){this.src||t._data(this,"globalEval",!1)}),n.contents()}function v(t){return t.search=t.search.replace(/([?&])(_pjax|_)=[^&]*/g,"").replace(/^&/,""),t.href.replace(/\?($|#)/,"$1")}function y(t){var e=document.createElement("a");return e.href=t,e}function g(t){return t.href.replace(/#.*/,"")}function b(e,n){return e&&n?((n=t.extend({},n)).container=e,n):t.isPlainObject(e)?e:{container:e}}function _(t,e){return t.filter(e).add(t.find(e))}function w(e){return t.parseHTML(e,document,!0)}function x(e,n,i){var r,o,a={},s=/<html/i.test(e),u=n.getResponseHeader("X-PJAX-URL");if(a.url=u?v(y(u)):i.requestUrl,s){o=t(w(e.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]));var l=e.match(/<head[^>]*>([\s\S.]*)<\/head>/i);r=null!=l?t(w(l[0])):o}else r=o=t(w(e));if(0===o.length)return a;if(a.title=_(r,"title").last().text(),i.fragment){var c=o;"body"!==i.fragment&&(c=_(c,i.fragment).first()),c.length&&(a.contents="body"===i.fragment?c:c.contents(),a.title||(a.title=c.attr("title")||c.data("title")))}else s||(a.contents=o);return a.contents&&(a.contents=a.contents.not(function(){return t(this).is("title")}),a.contents.find("title").remove(),a.scripts=_(a.contents,"script[src]").remove(),a.contents=a.contents.not(a.scripts)),a.title&&(a.title=t.trim(a.title)),a}c&&c.container&&(o.state=c),"state"in window.history&&(u=!1);var k={},T=[],S=[];function E(t,e){for(;t.length>e;)delete k[t.shift()]}function C(){return t("meta").filter(function(){var e=t(this).attr("http-equiv");return e&&"X-PJAX-VERSION"===e.toUpperCase()}).attr("content")}function O(){t.fn.pjax=e,t.pjax=o,t.pjax.enable=t.noop,t.pjax.disable=A,t.pjax.click=i,t.pjax.submit=r,t.pjax.reload=a,t.pjax.defaults={timeout:650,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20,version:C},t(window).on("popstate.pjax",d)}function A(){t.fn.pjax=function(){return this},t.pjax=h,t.pjax.enable=O,t.pjax.disable=t.noop,t.pjax.click=t.noop,t.pjax.submit=t.noop,t.pjax.reload=function(){window.location.reload()},t(window).off("popstate.pjax",d)}t.event.props&&t.inArray("state",t.event.props)<0?t.event.props.push("state"):"state"in t.Event.prototype||t.event.addProp("state"),t.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]\D|WebApps\/.+CFNetwork)/),t.support.pjax?O():A()}(jQuery)},function(t,e,n){var i,r;void 0===(r="function"==typeof(i=function(){var t,e,n={version:"0.2.0"},i=n.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function r(t,e,n){return t<e?e:t>n?n:t}function o(t){return 100*(-1+t)}n.configure=function(t){var e,n;for(e in t)void 0!==(n=t[e])&&t.hasOwnProperty(e)&&(i[e]=n);return this},n.status=null,n.set=function(t){var e=n.isStarted();t=r(t,i.minimum,1),n.status=1===t?null:t;var u=n.render(!e),l=u.querySelector(i.barSelector),c=i.speed,d=i.easing;return u.offsetWidth,a(function(e){""===i.positionUsing&&(i.positionUsing=n.getPositioningCSS()),s(l,function(t,e,n){var r;return(r="translate3d"===i.positionUsing?{transform:"translate3d("+o(t)+"%,0,0)"}:"translate"===i.positionUsing?{transform:"translate("+o(t)+"%,0)"}:{"margin-left":o(t)+"%"}).transition="all "+e+"ms "+n,r}(t,c,d)),1===t?(s(u,{transition:"none",opacity:1}),u.offsetWidth,setTimeout(function(){s(u,{transition:"all "+c+"ms linear",opacity:0}),setTimeout(function(){n.remove(),e()},c)},c)):setTimeout(e,c)}),this},n.isStarted=function(){return"number"==typeof n.status},n.start=function(){return n.status||n.set(0),i.trickle&&function t(){setTimeout(function(){n.status&&(n.trickle(),t())},i.trickleSpeed)}(),this},n.done=function(t){return t||n.status?n.inc(.3+.5*Math.random()).set(1):this},n.inc=function(t){var e=n.status;return e?("number"!=typeof t&&(t=(1-e)*r(Math.random()*e,.1,.95)),e=r(e+t,0,.994),n.set(e)):n.start()},n.trickle=function(){return n.inc(Math.random()*i.trickleRate)},t=0,e=0,n.promise=function(i){return i&&"resolved"!==i.state()?(0===e&&n.start(),t++,e++,i.always(function(){0==--e?(t=0,n.done()):n.set((t-e)/t)}),this):this},n.render=function(t){if(n.isRendered())return document.getElementById("nprogress");l(document.documentElement,"nprogress-busy");var e=document.createElement("div");e.id="nprogress",e.innerHTML=i.template;var r,a=e.querySelector(i.barSelector),u=t?"-100":o(n.status||0),c=document.querySelector(i.parent);return s(a,{transition:"all 0 linear",transform:"translate3d("+u+"%,0,0)"}),i.showSpinner||(r=e.querySelector(i.spinnerSelector))&&h(r),c!=document.body&&l(c,"nprogress-custom-parent"),c.appendChild(e),e},n.remove=function(){c(document.documentElement,"nprogress-busy"),c(document.querySelector(i.parent),"nprogress-custom-parent");var t=document.getElementById("nprogress");t&&h(t)},n.isRendered=function(){return!!document.getElementById("nprogress")},n.getPositioningCSS=function(){var t=document.body.style,e="WebkitTransform"in t?"Webkit":"MozTransform"in t?"Moz":"msTransform"in t?"ms":"OTransform"in t?"O":"";return e+"Perspective"in t?"translate3d":e+"Transform"in t?"translate":"margin"};var a=function(){var t=[];function e(){var n=t.shift();n&&n(e)}return function(n){t.push(n),1==t.length&&e()}}(),s=function(){var t=["Webkit","O","Moz","ms"],e={};function n(n){return n=n.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()}),e[n]||(e[n]=function(e){var n=document.body.style;if(e in n)return e;for(var i,r=t.length,o=e.charAt(0).toUpperCase()+e.slice(1);r--;)if((i=t[r]+o)in n)return i;return e}(n))}function i(t,e,i){e=n(e),t.style[e]=i}return function(t,e){var n,r,o=arguments;if(2==o.length)for(n in e)void 0!==(r=e[n])&&e.hasOwnProperty(n)&&i(t,n,r);else i(t,o[1],o[2])}}();function u(t,e){return("string"==typeof t?t:d(t)).indexOf(" "+e+" ")>=0}function l(t,e){var n=d(t),i=n+e;u(n,e)||(t.className=i.substring(1))}function c(t,e){var n,i=d(t);u(t,e)&&(n=i.replace(" "+e+" "," "),t.className=n.substring(1,n.length-1))}function d(t){return(" "+(t.className||"")+" ").replace(/\s+/gi," ")}function h(t){t&&t.parentNode&&t.parentNode.removeChild(t)}return n})?i.call(e,n,e,t):i)||(t.exports=r)},function(t,e,n){var i,r,o;function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(){"use strict";var t=function(){return document.documentElement.clientWidth},e=function(){return document.documentElement.clientHeight},n=function(t,e){this.w=t,this.h=e},i=function(t,e){this.img=t,this.preservedTransform=t.style.transform,this.wrap=null,this.overlay=null,this.offset=e};i.prototype.forceRepaint=function(){this.img.offsetWidth},i.prototype.zoom=function(){var t=new n(this.img.naturalWidth,this.img.naturalHeight);this.wrap=document.createElement("div"),this.wrap.classList.add("zoom-img-wrap"),this.img.parentNode.insertBefore(this.wrap,this.img),this.wrap.appendChild(this.img),this.img.classList.add("zoom-img"),this.img.setAttribute("data-action","zoom-out"),this.overlay=document.createElement("div"),this.overlay.classList.add("zoom-overlay"),document.body.appendChild(this.overlay),this.forceRepaint();var e=this.calculateScale(t);this.forceRepaint(),this.animate(e),document.body.classList.add("zoom-overlay-open")},i.prototype.calculateScale=function(n){var i=n.w/this.img.width,r=t()-this.offset,o=e()-this.offset,a=n.w/n.h,s=r/o;return n.w<r&&n.h<o?i:a<s?o/n.h*i:r/n.w*i},i.prototype.animate=function(n){var i,r,o,a,s=(i=this.img,r=i.getBoundingClientRect(),o=document.documentElement,a=window,{top:r.top+a.pageYOffset-o.clientTop,left:r.left+a.pageXOffset-o.clientLeft}),u=window.pageYOffset,l=t()/2,c=u+e()/2,d="scale("+n+")",h="translate3d("+(l-(s.left+this.img.width/2))+"px, "+(c-(s.top+this.img.height/2))+"px, 0px)";this.img.style.transform=d,this.wrap.style.transform=h},i.prototype.dispose=function(){null!==this.wrap&&null!==this.wrap.parentNode&&(this.img.classList.remove("zoom-img"),this.img.setAttribute("data-action","zoom"),this.wrap.parentNode.insertBefore(this.img,this.wrap),this.wrap.parentNode.removeChild(this.wrap),document.body.removeChild(this.overlay),document.body.classList.remove("zoom-overlay-transitioning"))},i.prototype.close=function(){var t,e,n,i=this;document.body.classList.add("zoom-overlay-transitioning"),this.img.style.transform=this.preservedTransform,0===this.img.style.length&&this.img.removeAttribute("style"),this.wrap.style.transform="none",t=this.img,e="transitionend",n=function(){i.dispose(),document.body.classList.remove("zoom-overlay-open")},t.addEventListener(e,function t(i){i.target.removeEventListener(e,t),n()})};
/**
 * Pure JavaScript implementation of zoom.js.
 *
 * Original preamble:
 * zoom.js - It's the best way to zoom an image
 * @version v0.0.2
 * @link https://github.com/fat/zoom.js
 * @license MIT
 *
 * Needs a related CSS file to work. See the README at
 * https://github.com/nishanths/zoom.js for more info.
 *
 * This is a fork of the original zoom.js implementation by @fat.
 * Copyrights for the original project are held by @fat. All other copyright
 * for changes in the fork are held by Nishanth Shanmugham.
 *
 * Copyright (c) 2013 @fat
 * The MIT License. Copyright © 2016 Nishanth Shanmugham.
 */
var r=null,o=80,a=-1,s=-1;function u(){-1===a&&(a=window.pageYOffset),Math.abs(a-window.pageYOffset)>=40&&f()}function l(t){27===t.keyCode&&f()}function c(t){var e=t.touches[0];null!==e&&(s=e.pageY,t.target.addEventListener("touchmove",d))}function d(t){var e=t.touches[0];null!==e&&Math.abs(e.pageY-s)>10&&(f(),t.target.removeEventListener("touchmove",d))}function h(){f()}function f(t){null!==r&&(t?r.dispose():r.close(),document.removeEventListener("scroll",u),document.removeEventListener("keyup",l),document.removeEventListener("touchstart",c),document.removeEventListener("click",h,!0),r=null)}function p(e){document.body.classList.contains("zoom-overlay-open")||(e.metaKey||e.ctrlKey?window.open(e.target.getAttribute("data-original")||e.target.src,"_blank"):e.target.width>=t()-o||(f(!0),(r=new i(e.target,o)).zoom(),document.addEventListener("scroll",u),document.addEventListener("keyup",l),document.addEventListener("touchstart",c),document.addEventListener("click",h,!0)))}return function(t){return t.setAttribute("data-action","zoom"),t.addEventListener("click",p),function(){return t.removeEventListener("click",p)}}},"object"===a(e)&&void 0!==t?t.exports=o():void 0===(r="function"==typeof(i=o)?i.call(e,n,e,t):i)||(t.exports=r)},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}
/*!
     * online
     * Copyright(c) 2016 luojia <luojia@luojia.me>
     * MIT Licensed
     */
var i=function(){function t(e){var n=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.addr=e,this.groups=new Set,this.on=!1,this.waiting=!1,this.onOnlineChange=null,this.pinger=setInterval(function(){n.opened&&n.ws.send("")},2e4),this.user="".concat(r(Date.now(),10,62),"-").concat(r(Math.round(99999999*Math.random()),10,62)),this.ws=null,window.localStorage){var i=localStorage.getItem("online_user");i?this.user=i:localStorage.setItem("online_user",this.user)}e&&(this.on=!0,this.connet())}var e,i,o;return e=t,(i=[{key:"enter",value:function(t){if("string"!=typeof t)throw"name is not a string:"+t;return this.groups.add(t),this.opened&&this.ws.send(JSON.stringify({_:"enter",g:t,u:this.user})),this}},{key:"leave",value:function(t){if("string"!=typeof t)throw"name is not a string:"+t;return this.opened&&this.groups.delete(t)&&this.ws.send(JSON.stringify({_:"leave",g:t})),this}},{key:"leaveAll",value:function(){if(this.opened){var t=!0,e=!1,n=void 0;try{for(var i,r=this.groups[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var o=i.value;this.leave(o)}}catch(t){e=!0,n=t}finally{try{t||null==r.return||r.return()}finally{if(e)throw n}}}return this}},{key:"_report",value:function(t){this.onOnlineChange&&this.onOnlineChange(t)}},{key:"connet",value:function(t){var e=this;if(this.waiting=!1,t&&(this.addr=t),!1!==this.on&&!this.opened){var n=this.ws=new WebSocket(this.addr);return n.onmessage=function(t){if("connected"!==t.data){var n=JSON.parse(t.data);switch(n._){case"ol":n.c=parseInt(n.c,32),n.u=parseInt(n.u,32),e._report(n)}}else{var i=!0,r=!1,o=void 0;try{for(var a,s=e.groups[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var u=a.value;e.enter(u)}}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}}},n.onclose=function(t){if(!e.waiting){var n=!0,i=!1,r=void 0;try{for(var o,a=e.groups[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;e._report({g:s,c:0,u:0})}}catch(t){i=!0,r=t}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}e.waiting=!0,setTimeout(function(){e.connet()},5e3)}},n.onerror=function(t){n.onclose()},this}}},{key:"close",value:function(){this.on=!1,this.ws.close(),clearInterval(this.pinger)}},{key:"opened",get:function(){return this.ws&&1===this.ws.readyState}}])&&n(e.prototype,i),o&&n(e,o),t}();function r(t,e,n,i,r){var o,a="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",s=[],u="-"==(t+="").trim()[0],l=0;i||(i=a),r||(r=a),u&&(t=t.slice(1));for(var c=t.length;c--;)l+=i.indexOf(t[c])*Math.pow(e,t.length-c-1);for(;0!=l;s.unshift(r[o]))o=l%n,l=Math.floor(l/n);return l&&s.unshift(r[l]),(u?"-":"")+s.join("")}if(window.CONFIG.onlineAPI&&!NexT.utils.isMobile()){var o=new i(window.CONFIG.onlineAPI);o.enter(document.domain),o.onOnlineChange=function(t){document.getElementById("online-count").innerHTML=t.u}}},function(t,e){$(".search-form").submit(function(t){t.preventDefault(),window.open("https://www.google.com/search?&q=site%3A".concat(window.location.host,"+").concat(encodeURIComponent($('.search-form input[name="keyword"]').val())))})},function(t,e){var n=new APlayer({element:document.getElementById("aplayer-fixed"),mutex:!0,theme:"#97dffd",order:"random",lrcType:3,fixed:!0});$.ajax({url:"https://api.i-meto.com/meting/api?server=netease&type=playlist&id=35798529",success:function(t){n.list.add(JSON.parse(t))}})},function(t,e){function n(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}var s=function(){function t(e){var o=e.origin,a=e.speed,s=e.color,u=e.angle,l=e.context;r(this,t),this.origin=o,this.position=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach(function(e){i(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({},this.origin),this.color=s,this.speed=a,this.angle=u,this.context=l,this.renderCount=0}return a(t,[{key:"draw",value:function(){this.context.fillStyle=this.color,this.context.beginPath(),this.context.arc(this.position.x,this.position.y,2,0,2*Math.PI),this.context.fill()}},{key:"move",value:function(){this.position.x=Math.sin(this.angle)*this.speed+this.position.x,this.position.y=Math.cos(this.angle)*this.speed+this.position.y+.3*this.renderCount,this.renderCount++}}]),t}(),u=function(){function t(e){var n=e.origin,i=e.context,o=e.circleCount,a=void 0===o?10:o,s=e.area;r(this,t),this.origin=n,this.context=i,this.circleCount=a,this.area=s,this.stop=!1,this.circles=[]}return a(t,[{key:"randomArray",value:function(t){var e=t.length;return t[Math.floor(e*Math.random())]}},{key:"randomColor",value:function(){var t=["8","9","A","B","C","D","E","F"];return"#"+this.randomArray(t)+this.randomArray(t)+this.randomArray(t)+this.randomArray(t)+this.randomArray(t)+this.randomArray(t)}},{key:"randomRange",value:function(t,e){return(e-t)*Math.random()+t}},{key:"init",value:function(){for(var t=0;t<this.circleCount;t++){var e=new s({context:this.context,origin:this.origin,color:this.randomColor(),angle:this.randomRange(Math.PI-1,Math.PI+1),speed:this.randomRange(1,6)});this.circles.push(e)}}},{key:"move",value:function(){var t=this;this.circles.forEach(function(e,n){if(e.position.x>t.area.width||e.position.y>t.area.height)return t.circles.splice(n,1);e.move()}),0==this.circles.length&&(this.stop=!0)}},{key:"draw",value:function(){this.circles.forEach(function(t){return t.draw()})}}]),t}();(new(function(){function t(){r(this,t),this.computerCanvas=document.createElement("canvas"),this.renderCanvas=document.createElement("canvas"),this.computerContext=this.computerCanvas.getContext("2d"),this.renderContext=this.renderCanvas.getContext("2d"),this.globalWidth=window.innerWidth,this.globalHeight=window.innerHeight,this.booms=[],this.running=!1}return a(t,[{key:"handleMouseDown",value:function(t){var e=new u({origin:{x:t.clientX,y:t.clientY},context:this.computerContext,area:{width:this.globalWidth,height:this.globalHeight}});e.init(),this.booms.push(e),this.running||this.run()}},{key:"handlePageHide",value:function(){this.booms=[],this.running=!1}},{key:"init",value:function(){var t=this.renderCanvas.style;t.position="fixed",t.top=t.left=0,t.zIndex="999999999999999999999999999999999999999999",t.pointerEvents="none",t.width=this.renderCanvas.width=this.computerCanvas.width=this.globalWidth,t.height=this.renderCanvas.height=this.computerCanvas.height=this.globalHeight,document.body.append(this.renderCanvas),window.addEventListener("mousedown",this.handleMouseDown.bind(this)),window.addEventListener("pagehide",this.handlePageHide.bind(this))}},{key:"run",value:function(){var t=this;if(this.running=!0,0==this.booms.length)return this.running=!1;requestAnimationFrame(this.run.bind(this)),this.computerContext.clearRect(0,0,this.globalWidth,this.globalHeight),this.renderContext.clearRect(0,0,this.globalWidth,this.globalHeight),this.booms.forEach(function(e,n){if(e.stop)return t.booms.splice(n,1);e.move(),e.draw()}),this.renderContext.drawImage(this.computerCanvas,0,0,this.globalWidth,this.globalHeight)}}]),t}())).init()},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}
/*!
 * GSAP 3.0.2
 * https://greensock.com
 *
 * @license Copyright 2008-2019, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/n.r(e);var a,s,u,l,c,d,h,f,p,m,v,y,g,b,_,w,x,k,T,S,E,C,O,A,L={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},M={duration:.5,overwrite:!1,delay:0},j=1e-8,P=2*Math.PI,I=P/4,N=0,q=Math.sqrt,D=Math.cos,B=Math.sin,R=function(t){return"string"==typeof t},U=function(t){return"function"==typeof t},F=function(t){return"number"==typeof t},z=function(t){return void 0===t},H=function(t){return"object"===i(t)},W=function(t){return!1!==t},$=function(){return"undefined"!=typeof window},V=function(t){return U(t)||R(t)},Q=Array.isArray,G=/(?:-?\.?\d|\.)+/gi,X=/[-+=\.]*\d+[\.e\-\+]*\d*[e\-\+]*\d*/gi,J=/[-+=\.]*\d+(?:\.|e-|e)*\d*/gi,K=/\(([^()]+)\)/i,Y=/[\+-]=-?[\.\d]+/,Z=/[#\-+\.]*\b[a-z\d-=+%.]+/gi,tt={},et={},nt=function(t){return(et=Ot(t,tt))&&en},it=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},rt=function(t,e){return!e&&console.warn(t)},ot=function(t,e){return t&&(tt[t]=e)&&et&&(et[t]=e)||tt},at=function(){return 0},st={},ut=[],lt={},ct={},dt={},ht=30,ft=[],pt="onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",mt=function(t){var e,n,i=t[0];if(H(i)||U(i)||(t=[t]),!(e=(i._gsap||{}).harness)){for(n=ft.length;n--&&!ft[n].targetTest(i););e=ft[n]}for(n=t.length;n--;)t[n]&&(t[n]._gsap||(t[n]._gsap=new Ce(t[n],e)))||t.splice(n,1);return t},vt=function(t){return t._gsap||mt(Jt(t))[0]._gsap},yt=function(t,e){var n=t[e];return U(n)?t[e]():z(n)&&t.getAttribute(e)||n},gt=function(t,e){return(t=t.split(",")).forEach(e)||t},bt=function(t){return Math.round(1e4*t)/1e4},_t=function(t,e){for(var n=e.length,i=0;t.indexOf(e[i])<0&&++i<n;);return i<n},wt=function(t,e,n){var i,r=F(t[1]),o=(r?2:1)+(e<2?0:1),a=t[o];return r&&(a.duration=t[1]),1===e?(a.runBackwards=1,a.immediateRender=W(a.immediateRender)):2===e&&(i=t[o-1],a.startAt=i,a.immediateRender=W(a.immediateRender)),a.parent=n,a},xt=function(){var t,e,n=ut.length,i=ut.slice(0);for(lt={},ut.length=0,t=0;t<n;t++)(e=i[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)},kt=function(t,e,n,i){ut.length&&xt(),t.render(e,n,i),ut.length&&xt()},Tt=function(t){var e=parseFloat(t);return e||0===e?e:t},St=function(t){return t},Et=function(t,e){for(var n in e)n in t||(t[n]=e[n]);return t},Ct=function(t,e){for(var n in e)n in t||"duration"===n||"ease"===n||(t[n]=e[n])},Ot=function(t,e){for(var n in e)t[n]=e[n];return t},At=function t(e,n){for(var i in n)e[i]=H(n[i])?t(e[i]||(e[i]={}),n[i]):n[i];return e},Lt=function(t,e){var n,i={};for(n in t)n in e||(i[n]=t[n]);return i},Mt=function(t){var e=t.parent||a,n=t.keyframes?Ct:Et;if(W(t.inherit))for(;e;)n(t,e.vars.defaults),e=e.parent;return t},jt=function(t,e,n,i){void 0===n&&(n="_first"),void 0===i&&(i="_last");var r=e._prev,o=e._next;r?r._next=o:t[n]===e&&(t[n]=o),o?o._prev=r:t[i]===e&&(t[i]=r),e._dp=t,e._next=e._prev=e.parent=null},Pt=function(t,e){!t.parent||e&&!t.parent.autoRemoveChildren||t.parent.remove(t),t._act=0},It=function(t){for(var e=t;e;)e._dirty=1,e=e.parent;return t},Nt=function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t},qt=function t(e){return!e||e._ts&&t(e.parent)},Dt=function(t){return t._repeat?~~(t._tTime/(t=t.duration()+t._rDelay))*t:0},Bt=function(t,e){return e._ts>0?(t-e._start)*e._ts:(e._dirty?e.totalDuration():e._tDur)+(t-e._start)*e._ts},Rt=function(t,e,n){if(e.parent&&Pt(e),e._start=n+e._delay,e._end=e._start+(e.totalDuration()/e._ts||0),function(t,e,n,i,r){void 0===n&&(n="_first"),void 0===i&&(i="_last");var o,a=t[i];if(r)for(o=e[r];a&&a[r]>o;)a=a._prev;a?(e._next=a._next,a._next=e):(e._next=t[n],t[n]=e),e._next?e._next._prev=e:t[i]=e,e._prev=a,e.parent=t}(t,e,"_first","_last",t._sort?"_start":0),t._recent=e,e._time||!e._dur&&e._initted){var i=(t.rawTime()-e._start)*e._ts;(!e._dur||$t(0,e.totalDuration(),i)-e._tTime>j)&&e.render(i,!0)}if(It(t),t._dp&&t._time>=t._dur&&t._ts&&t._dur<t.duration())for(var r=t;r._dp;)r.totalTime(r._tTime,!0),r=r._dp;return t},Ut=function(t,e,n,i){return Pe(t,e),t._initted?!n&&t._pt&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)?(ut.push(t),t._lazy=[e,i],1):void 0:1},Ft=function(t){if(t instanceof Ae)return It(t);var e=t._repeat;return t._tDur=e?e<0?1e20:bt(t._dur*(e+1)+t._rDelay*e):t._dur,It(t.parent),t},zt={_start:0,endTime:at},Ht=function t(e,n,i){var r,o,a=e.labels,s=e._recent||zt,u=e.duration()>=1e8?s.endTime(!1):e._dur;return R(n)&&(isNaN(n)||n in a)?"<"===(r=n.charAt(0))||">"===r?("<"===r?s._start:s.endTime(s._repeat>=0))+(parseFloat(n.substr(1))||0):(r=n.indexOf("="))<0?(n in a||(a[n]=u),a[n]):(o=+(n.charAt(r-1)+n.substr(r+1)),r>1?t(e,n.substr(0,r-1))+o:u+o):null==n?u:+n},Wt=function(t,e){return t||0===t?e(t):e},$t=function(t,e,n){return n<t?t:n>e?e:n},Vt=function(t){return(t+"").substr((parseFloat(t)+"").length)},Qt=[].slice,Gt=function(t){return t&&H(t)&&"length"in t&&t.length-1 in t&&H(t[0])&&!t.nodeType&&t!==s},Xt=function(t,e,n){return void 0===n&&(n=[]),t.forEach(function(t){var i;return R(t)&&!e||Gt(t)?(i=n).push.apply(i,Jt(t)):n.push(t)})||n},Jt=function(t,e){return!R(t)||e||!u&&ve()?Q(t)?Xt(t,e):Gt(t)?Qt.call(t,0):t?[t]:[]:Qt.call(l.querySelectorAll(t),0)},Kt=function(t){if(U(t))return t;var e=H(t)?t:{each:t},n=xe(e.ease),i=e.from||0,r=parseFloat(e.base)||0,o={},a=i>0&&i<1,s=isNaN(i)||a,u=e.axis,l=i,c=i;return R(i)?l=c={center:.5,edges:.5,end:1}[i]||0:!a&&s&&(l=i[0],c=i[1]),function(t,a,d){var h,f,p,m,v,y,g,b,_,w=(d||e).length,x=o[w];if(!x){if(!(_="auto"===e.grid?0:(e.grid||[1,1e8])[1])){for(g=-1e8;g<(g=d[_++].getBoundingClientRect().left)&&_<w;);_--}for(x=o[w]=[],h=s?Math.min(_,w)*l-.5:i%_,f=s?w*c/_-.5:i/_|0,g=0,b=1e8,y=0;y<w;y++)p=y%_-h,m=f-(y/_|0),x[y]=v=u?Math.abs("y"===u?m:p):q(p*p+m*m),v>g&&(g=v),v<b&&(b=v);x.max=g-b,x.min=b,x.v=w=(parseFloat(e.amount)||parseFloat(e.each)*(_>w?w-1:u?"y"===u?w/_:_:Math.max(_,w/_))||0)*("edges"===i?-1:1),x.b=w<0?r-w:r,x.u=Vt(e.amount||e.each)||0,n=n&&w<0?we(n):n}return w=(x[t]-x.min)/x.max||0,bt(x.b+(n?n(w):w)*x.v)+x.u}},Yt=function(t){var e=t<1?Math.pow(10,(t+"").length-2):1;return function(n){return~~(Math.round(parseFloat(n)/t)*t*e)/e+(F(n)?0:Vt(n))}},Zt=function(t,e){var n,i,r=Q(t);return!r&&H(t)&&(n=r=t.radius||1e8,t=Jt(t.values),(i=!F(t[0]))&&(n*=n)),Wt(e,r?function(e){for(var r,o,a=parseFloat(i?e.x:e),s=parseFloat(i?e.y:0),u=1e8,l=0,c=t.length;c--;)(r=i?(r=t[c].x-a)*r+(o=t[c].y-s)*o:Math.abs(t[c]-a))<u&&(u=r,l=c);return l=!n||u<=n?t[l]:e,i||l===e||F(e)?l:l+Vt(e)}:Yt(t))},te=function(t,e,n,i){return Wt(Q(t)?!e:!i,function(){return Q(t)?t[~~(Math.random()*t.length)]:(n=n||1e-5)&&(i=n<1?Math.pow(10,(n+"").length-2):1)&&~~(Math.round((t+Math.random()*(e-t))/n)*n*i)/i})},ee=function(t,e,n){return Wt(n,function(n){return t[~~e(n)]})},ne=function(t){for(var e,n,i,r,o=0,a="";~(e=t.indexOf("random(",o));)i=t.indexOf(")",e),r="["===t.charAt(e+7),n=t.substr(e+7,i-e-7).match(r?Z:G),a+=t.substr(o,e-o)+te(r?n:+n[0],+n[1],+n[2]||1e-5),o=i+1;return a+t.substr(o,t.length-o)},ie=function(t,e,n,i,r){var o=e-t,a=i-n;return Wt(r,function(e){return n+(e-t)/o*a})},re=function(t,e,n){var i,r,o,a=t.labels,s=1e8;for(i in a)(r=a[i]-e)<0==!!n&&r&&s>(r=Math.abs(r))&&(o=i,s=r);return o},oe=function(t,e,n){var i,r,o=t.vars,a=o[e];if(a)return i=o[e+"Params"],r=o.callbackScope||t,n&&ut.length&&xt(),i?a.apply(r,i):a.call(r)},ae=function(t){return Pt(t),t.progress()<1&&oe(t,"onInterrupt"),t},se=function(t){var e=(t=!t.name&&t.default||t).name,n=U(t),i=e&&!n&&t.init?function(){this._props=[]}:t,r={init:at,render:Ve,add:Me,kill:Ge,modifier:Qe,rawVars:0},o={targetTest:0,get:0,getSetter:ze,aliases:{},register:0};if(ve(),t!==i){if(ct[e])return;Et(i,Et(Lt(t,r),o)),Ot(i.prototype,Ot(r,Lt(t,o))),ct[i.prop=e]=i,t.targetTest&&(ft.push(i),st[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}ot(e,i),t.register&&t.register(en,i,Ke)},ue={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},le=function(t,e,n){return 255*(6*(t=t<0?t+1:t>1?t-1:t)<1?e+(n-e)*t*6:t<.5?n:3*t<2?e+(n-e)*(2/3-t)*6:e)+.5|0},ce=function(t,e){var n,i,r,o,a,s,u,l,c,d,h=t?F(t)?[t>>16,t>>8&255,255&t]:0:ue.black;if(!h){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),ue[t])h=ue[t];else if("#"===t.charAt(0))4===t.length&&(n=t.charAt(1),i=t.charAt(2),r=t.charAt(3),t="#"+n+n+i+i+r+r),h=[(t=parseInt(t.substr(1),16))>>16,t>>8&255,255&t];else if("hsl"===t.substr(0,3))if(h=d=t.match(G),e){if(~t.indexOf("="))return t.match(X)}else o=+h[0]%360/360,a=+h[1]/100,n=2*(s=+h[2]/100)-(i=s<=.5?s*(a+1):s+a-s*a),h.length>3&&(h[3]*=1),h[0]=le(o+1/3,n,i),h[1]=le(o,n,i),h[2]=le(o-1/3,n,i);else h=t.match(G)||ue.transparent;h=h.map(Number)}return e&&!d&&(n=h[0]/255,i=h[1]/255,r=h[2]/255,s=((u=Math.max(n,i,r))+(l=Math.min(n,i,r)))/2,u===l?o=a=0:(c=u-l,a=s>.5?c/(2-u-l):c/(u+l),o=u===n?(i-r)/c+(i<r?6:0):u===i?(r-n)/c+2:(n-i)/c+4,o*=60),h[0]=o+.5|0,h[1]=100*a+.5|0,h[2]=100*s+.5|0),h},de=function(t,e){var n,i,r,o=(t+"").match(he),a=0,s="";if(!o)return t;for(n=0;n<o.length;n++)i=o[n],a+=(r=t.substr(a,t.indexOf(i,a)-a)).length+i.length,3===(i=ce(i,e)).length&&i.push(1),s+=r+(e?"hsla("+i[0]+","+i[1]+"%,"+i[2]+"%,"+i[3]:"rgba("+i.join(","))+")";return s+t.substr(a)},he=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(t in ue)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),fe=/hsl[a]?\(/,pe=function(t){var e,n=t.join(" ");he.lastIndex=0,he.test(n)&&(e=fe.test(n),t[0]=de(t[0],e),t[1]=de(t[1],e))},me=(y=Date.now,g=500,b=33,_=y(),w=_,k=x=1/60,S=function t(e){var n,i,r=y()-w,o=!0===e;r>g&&(_+=r-b),w+=r,v.time=(w-_)/1e3,((n=v.time-k)>0||o)&&(v.frame++,k+=n+(n>=x?.004:x-n),i=1),o||(f=p(t)),i&&T.forEach(function(t){return t(v.time,r,v.frame,e)})},v={time:0,frame:0,tick:function(){S(!0)},wake:function(){c&&(!u&&$()&&(s=u=window,l=s.document||{},tt.gsap=en,(s.gsapVersions||(s.gsapVersions=[])).push(en.version),nt(et||s.GreenSockGlobals||!s.gsap&&s||{}),m=s.requestAnimationFrame),f&&v.sleep(),p=m||function(t){return setTimeout(t,1e3*(k-v.time)+1|0)},h=1,S(2))},sleep:function(){(m?s.cancelAnimationFrame:clearTimeout)(f),h=0,p=at},lagSmoothing:function(t,e){g=t||1/j,b=Math.min(e,g,0)},fps:function(t){x=1/(t||60),k=v.time+x},add:function(t){T.indexOf(t)<0&&T.push(t),ve()},remove:function(t){var e;~(e=T.indexOf(t))&&T.splice(e,1)},_listeners:T=[]}),ve=function(){return!h&&me.wake()},ye={},ge=/^[\d.\-M][\d.\-,\s]/,be=/["']/g,_e=function(t){for(var e,n,i,r={},o=t.substr(1,t.length-3).split(":"),a=o[0],s=1,u=o.length;s<u;s++)n=o[s],e=s!==u-1?n.lastIndexOf(","):n.length,i=n.substr(0,e),r[a]=isNaN(i)?i.replace(be,"").trim():+i,a=n.substr(e+1).trim();return r},we=function(t){return function(e){return 1-t(1-e)}},xe=function(t,e){return t&&(U(t)?t:ye[t]||function(t){var e=(t+"").split("("),n=ye[e[0]];return n&&e.length>1&&n.config?n.config.apply(null,~t.indexOf("{")?[_e(e[1])]:K.exec(t)[1].split(",").map(Tt)):ye._CE&&ge.test(t)?ye._CE("",t):n}(t))||e},ke=function(t,e,n,i){void 0===n&&(n=function(t){return 1-e(1-t)}),void 0===i&&(i=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var r,o={easeIn:e,easeOut:n,easeInOut:i};return gt(t,function(t){for(var e in ye[t]=tt[t]=o,ye[r=t.toLowerCase()]=n,o)ye[r+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=ye[t+"."+e]=o[e]}),o},Te=function(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}},Se=function t(e,n,i){var r=n>=1?n:1,o=(i||(e?.3:.45))/(n<1?n:1),a=o/P*(Math.asin(1/r)||0),s=function(t){return 1===t?1:r*Math.pow(2,-10*t)*B((t-a)*o)+1},u="out"===e?s:"in"===e?function(t){return 1-s(1-t)}:Te(s);return o=P/o,u.config=function(n,i){return t(e,n,i)},u},Ee=function t(e,n){void 0===n&&(n=1.70158);var i=function(t){return--t*t*((n+1)*t+n)+1},r="out"===e?i:"in"===e?function(t){return 1-i(1-t)}:Te(i);return r.config=function(n){return t(e,n)},r};gt("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var n=e<5?e+1:e;ke(t+",Power"+(n-1),e?function(t){return Math.pow(t,n)}:function(t){return t},function(t){return 1-Math.pow(1-t,n)},function(t){return t<.5?Math.pow(2*t,n)/2:1-Math.pow(2*(1-t),n)/2})}),ye.Linear.easeNone=ye.none=ye.Linear.easeIn,ke("Elastic",Se("in"),Se("out"),Se()),E=7.5625,O=1/(C=2.75),ke("Bounce",function(t){return 1-A(1-t)},A=function(t){return t<O?E*t*t:t<.7272727272727273?E*Math.pow(t-1.5/C,2)+.75:t<.9090909090909092?E*(t-=2.25/C)*t+.9375:E*Math.pow(t-2.625/C,2)+.984375}),ke("Expo",function(t){return t?Math.pow(2,10*(t-1)):0}),ke("Circ",function(t){return-(q(1-t*t)-1)}),ke("Sine",function(t){return 1-D(t*I)}),ke("Back",Ee("in"),Ee("out"),Ee()),ye.SteppedEase=ye.steps=tt.SteppedEase={config:function(t,e){void 0===t&&(t=1);var n=1/t,i=t+(e?0:1),r=e?1:0,o=1-j;return function(t){return((i*$t(0,o,t)|0)+r)*n}}},M.ease=ye["quad.out"];var Ce=function(t,e){this.id=N++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:yt,this.set=e?e.getSetter:ze},Oe=function(){function t(t,e){var n=t.parent||a;this.vars=t,this._dur=this._tDur=+t.duration||0,this._delay=+t.delay||0,(this._repeat=t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase,Ft(this)),this._ts=1,this.data=t.data,h||me.wake(),n&&Rt(n,this,e||0===e?e:n._time),t.reversed&&this.reversed(!0),t.paused&&this.paused(!0)}var e=t.prototype;return e.delay=function(t){return t||0===t?(this._delay=t,this):this._delay},e.duration=function(t){var e=arguments.length,n=this._repeat,i=n>0?n*((e?t:this._dur)+this._rDelay):0;return e?this.totalDuration(n<0?t:t+i):this.totalDuration()&&this._dur},e.totalDuration=function(t){if(!arguments.length)return this._tDur;var e=this._repeat,n=(t||this._rDelay)&&e<0;return this._tDur=n?1e20:t,this._dur=n?t:(t-e*this._rDelay)/(e+1),this._dirty=0,It(this.parent),this},e.totalTime=function(t,e){if(ve(),!arguments.length)return this._tTime;var n,i=this.parent||this._dp;if(i&&i.smoothChildTiming&&this._ts){for(n=this._start,this._start=i._time-(this._ts>0?t/this._ts:((this._dirty?this.totalDuration():this._tDur)-t)/-this._ts),this._end+=this._start-n,i._dirty||It(i);i.parent;)i.parent._time!==i._start+(i._ts>0?i._tTime/i._ts:(i.totalDuration()-i._tTime)/-i._ts)&&i.totalTime(i._tTime,!0),i=i.parent;this.parent||Rt(this._dp,this,this._start-this._delay)}return this._tTime===t&&this._dur||(this._ts||(this._pTime=t),kt(this,t,e)),this},e.time=function(t,e){return arguments.length?this.totalTime((t+Dt(this))%this.duration()||(t?this._dur:0),e):this._time},e.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._tTime/this.totalDuration()},e.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+Dt(this),e):this.duration()?this._time/this._dur:this.ratio},e.iteration=function(t,e){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*n,e):this._repeat?1+~~(this._tTime/n):1},e.timeScale=function(t){var e=this._ts;return arguments.length?e?(this._end=this._start+this._tDur/(this._ts=t||j),Nt(this).totalTime(this._tTime,!0)):(this._pauseTS=t,this):e||this._pauseTS},e.paused=function(t){var e=!this._ts;return arguments.length?(e!==t&&(t?(this._pauseTS=this._ts,this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(this._ts=this._pauseTS,t=this._tTime||this._pTime,1===this.progress()&&(this._tTime-=j),this.totalTime(t,!0))),this):e},e.startTime=function(t){return arguments.length?(this.parent&&this.parent._sort&&Rt(this.parent,this,t-this._delay),this):this._start},e.endTime=function(t){return this._start+(W(t)?this.totalDuration():this.duration())/Math.abs(this._ts)},e.rawTime=function(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Bt(e.rawTime(t),this):this._tTime:this._tTime},e.repeat=function(t){return arguments.length?(this._repeat=t,Ft(this)):this._repeat},e.repeatDelay=function(t){return arguments.length?(this._rDelay=t,Ft(this)):this._rDelay},e.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},e.seek=function(t,e){return this.totalTime(Ht(this,t),W(e))},e.restart=function(t,e){return this.play().totalTime(t?-this._delay:0,W(e))},e.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},e.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},e.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(t){var e=this._ts||this._pauseTS;return arguments.length?(t!==this.reversed()&&(this[this._ts?"_ts":"_pauseTS"]=Math.abs(e)*(t?-1:1),this.totalTime(this._tTime,!0)),this):e<0},e.invalidate=function(){return this._initted=0,this},e.isActive=function(t){var e,n=this.parent||this._dp,i=this._start;return!n||this._ts&&(this._initted||!t)&&n.isActive(t)&&(e=n.rawTime(!0))>=i&&e<this.endTime(!0)-j},e.eventCallback=function(t,e,n){var i=this.vars;return arguments.length>1?(e?(i[t]=e,n&&(i[t+"Params"]=n),"onUpdate"===t&&(this._onUpdate=e)):delete i[t],this):i[t]},e.then=function(t){var e=this;return new Promise(function(n){var i=t||St,r=function(){var t=e.then;e.then=null,(i=i(e))&&(i.then||i===e)&&(e._prom=i,e.then=t),n(i),e.then=t};e._initted&&1===e.totalProgress()&&e._ts>=0||!e._tTime&&e._ts<0?r():e._prom=r})},e.kill=function(){ae(this)},t}();Et(Oe.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:0,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-j,_prom:0});var Ae=function(t){function e(e,n){var i;return void 0===e&&(e={}),(i=t.call(this,e,n)||this).labels={},i.smoothChildTiming=W(e.smoothChildTiming),i.autoRemoveChildren=!!e.autoRemoveChildren,i._sort=W(e.sortChildren),i}o(e,t);var n=e.prototype;return n.to=function(t,e,n){return new De(t,wt(arguments,0,this),Ht(this,F(e)?arguments[3]:n)),this},n.from=function(t,e,n){return new De(t,wt(arguments,1,this),Ht(this,F(e)?arguments[3]:n)),this},n.fromTo=function(t,e,n,i){return new De(t,wt(arguments,2,this),Ht(this,F(e)?arguments[4]:i)),this},n.set=function(t,e,n){return e.duration=0,e.parent=this,e.repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new De(t,e,Ht(this,n)),this},n.call=function(t,e,n){return Rt(this,De.delayedCall(0,t,e),Ht(this,n))},n.staggerTo=function(t,e,n,i,r,o,a){return n.duration=e,n.stagger=n.stagger||i,n.onComplete=o,n.onCompleteParams=a,n.parent=this,new De(t,n,Ht(this,r)),this},n.staggerFrom=function(t,e,n,i,r,o,a){return n.runBackwards=1,n.immediateRender=W(n.immediateRender),this.staggerTo(t,e,n,i,r,o,a)},n.staggerFromTo=function(t,e,n,i,r,o,a,s){return i.startAt=n,i.immediateRender=W(i.immediateRender),this.staggerTo(t,e,i,r,o,a,s)},n.render=function(t,e,n){var i,r,o,s,u,l,c,d,h,f,p,m=this._time,v=this._dirty?this.totalDuration():this._tDur,y=this._dur,g=t>v-j&&t>=0&&this!==a?v:t<j?0:t,b=this._zTime<0!=t<0&&(this._initted||!y);if(g!==this._tTime||n||b){if(b&&(y||(m=this._zTime),!t&&e||(this._zTime=t)),i=g,h=this._start,l=0===(d=this._ts),m!==this._time&&y&&(i+=this._time-m),this._repeat&&(p=this._yoyo,u=y+this._rDelay,((i=bt(g%u))>y||v===g)&&(i=y),(s=~~(g/u))&&s===g/u&&(i=y,s--),(f=~~(this._tTime/u))&&f===this._tTime/u&&f--,p&&1&s&&(i=y-i,1),s!==f&&!this._lock)){var _=p&&1&f,w=_===(p&&1&s);if(s<f&&(_=!_),m=_?0:y,this._lock=1,this.render(m,e,!y)._lock=0,!e&&this.parent&&oe(this,"onRepeat"),m!==this._time||l!==!this._ts)return this;if(w&&(this._lock=2,m=_?y+1e-4:-1e-4,this.render(m,!0)),this._lock=0,!this._ts&&!l)return this}if(this._hasPause&&!this._forcing&&this._lock<2&&(c=function(t,e,n){var i;if(n>e)for(i=t._first;i&&i._start<=n;){if(!i._dur&&"isPause"===i.data&&i._start>e)return i;i=i._next}else for(i=t._last;i&&i._start>=n;){if(!i._dur&&"isPause"===i.data&&i._start<e)return i;i=i._prev}}(this,bt(m),bt(i)))&&(g-=i-(i=c._start)),this._tTime=g,this._time=i,this._act=!d,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1),m||!i||e||oe(this,"onStart"),i>=m&&t>=0)for(r=this._first;r;){if(o=r._next,(r._act||i>=r._start)&&r._ts&&c!==r){if(r.parent!==this)return this.render(t,e,n);if(r.render(r._ts>0?(i-r._start)*r._ts:(r._dirty?r.totalDuration():r._tDur)+(i-r._start)*r._ts,e,n),i!==this._time||!this._ts&&!l){c=0;break}}r=o}else{r=this._last;for(var x=t<0?t:i;r;){if(o=r._prev,(r._act||x<=r._end)&&r._ts&&c!==r){if(r.parent!==this)return this.render(t,e,n);if(r.render(r._ts>0?(x-r._start)*r._ts:(r._dirty?r.totalDuration():r._tDur)+(x-r._start)*r._ts,e,n),i!==this._time||!this._ts&&!l){c=0;break}}r=o}}if(c&&!e&&(this.pause(),c.render(i>=m?0:-j)._zTime=i>=m?1:-1,this._ts))return this._start=h,this.render(t,e,n);this._onUpdate&&!e&&oe(this,"onUpdate",!0),(g===v||!g&&this._ts<0)&&(h!==this._start&&Math.abs(d)===Math.abs(this._ts)||(!i||v>=this.totalDuration())&&((t||!y)&&Pt(this,1),e||t<0&&!m||(oe(this,g===v?"onComplete":"onReverseComplete",!0),this._prom&&this._prom())))}return this},n.add=function(t,e){var n=this;if(F(e)||(e=Ht(this,e)),!(t instanceof Oe)){if(Q(t))return t.forEach(function(t){return n.add(t,e)}),It(this);if(R(t))return this.addLabel(t,e);if(!U(t))return this;t=De.delayedCall(0,t)}return this!==t?Rt(this,t,e):this},n.getChildren=function(t,e,n,i){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===n&&(n=!0),void 0===i&&(i=-1e8);for(var r=[],o=this._first;o;)o._start>=i&&(o instanceof De?e&&r.push(o):(n&&r.push(o),t&&r.push.apply(r,o.getChildren(!0,e,n)))),o=o._next;return r},n.getById=function(t){for(var e=this.getChildren(1,1,1),n=e.length;n--;)if(e[n].vars.id===t)return e[n]},n.remove=function(t){return R(t)?this.removeLabel(t):U(t)?this.killTweensOf(t):(jt(this,t),t===this._recent&&(this._recent=this._last),It(this))},n.totalTime=function(e,n){return arguments.length?(this._forcing=1,this.parent||this._dp||!this._ts||(this._start=me.time-(this._ts>0?e/this._ts:(this.totalDuration()-e)/-this._ts)),t.prototype.totalTime.call(this,e,n),this._forcing=0,this):this._tTime},n.addLabel=function(t,e){return this.labels[t]=Ht(this,e),this},n.removeLabel=function(t){return delete this.labels[t],this},n.addPause=function(t,e,n){var i=De.delayedCall(0,e||at,n);return i.data="isPause",this._hasPause=1,Rt(this,i,Ht(this,t))},n.removePause=function(t){var e=this._first;for(t=Ht(this,t);e;)e._start===t&&"isPause"===e.data&&Pt(e),e=e._next},n.killTweensOf=function(t,e,n){for(var i=this.getTweensOf(t,n),r=i.length;r--;)Le!==i[r]&&i[r].kill(t,e);return this},n.getTweensOf=function(t,e){for(var n,i=[],r=Jt(t),o=this._first;o;)o instanceof De?!_t(o._targets,r)||e&&!o.isActive("started"===e)||i.push(o):(n=o.getTweensOf(r,e)).length&&i.push.apply(i,n),o=o._next;return i},n.tweenTo=function(t,e){var n=this,i=Ht(n,t),r=e&&e.startAt,o=De.to(n,Et({ease:"none",lazy:!1,time:i,duration:Math.abs(i-(r&&"time"in r?r.time:n._time))/n.timeScale()||j,onStart:function(){n.pause();var t=Math.abs(i-n._time)/n.timeScale();o._dur!==t&&(o._dur=t,o.render(o._time,!0,!0)),e&&e.onStart&&e.onStart.apply(o,e.onStartParams||[])}},e));return o},n.tweenFromTo=function(t,e,n){return this.tweenTo(e,Et({startAt:{time:Ht(this,t)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(t){return void 0===t&&(t=this._time),re(this,Ht(this,t))},n.previousLabel=function(t){return void 0===t&&(t=this._time),re(this,Ht(this,t),1)},n.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+j)},n.shiftChildren=function(t,e,n){void 0===n&&(n=0);for(var i,r=this._first,o=this.labels;r;)r._start>=n&&(r._start+=t),r=r._next;if(e)for(i in o)o[i]>=n&&(o[i]+=t);return It(this)},n.invalidate=function(){var e=this._first;for(this._lock=0;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},n.clear=function(t){void 0===t&&(t=!0);for(var e,n=this._first;n;)e=n._next,this.remove(n),n=e;return this._time=this._tTime=0,t&&(this.labels={}),It(this)},n.totalDuration=function(t){var e,n,i=0,r=this,o=r._last,s=1e8,u=r._repeat,l=u*r._rDelay||0,c=u<0;if(!arguments.length){if(r._dirty){for(;o;)e=o._prev,o._dirty&&o.totalDuration(),o._start>s&&r._sort&&o._ts&&!r._lock?(r._lock=1,Rt(r,o,o._start-o._delay),r._lock=0):s=o._start,o._start<0&&o._ts&&(i-=o._start,(!r.parent&&!r._dp||r.parent&&r.parent.smoothChildTiming)&&(r._start+=o._start/r._ts,r._time-=o._start,r._tTime-=o._start),r.shiftChildren(-o._start,!1,-1e8),s=0),(n=o._end=o._start+o._tDur/Math.abs(o._ts||o._pauseTS))>i&&o._ts&&(i=bt(n)),o=e;r._dur=r===a&&r._time>i?r._time:Math.min(1e8,i),r._tDur=c&&(r._dur||l)?1e20:Math.min(1e8,i*(u+1)+l),r._end=r._start+(r._tDur/Math.abs(r._ts||r._pauseTS)||0),r._dirty=0}return r._tDur}return c?r:r.timeScale(r.totalDuration()/t)},e.updateRoot=function(t){if(a._ts&&kt(a,Bt(t,a)),me.frame>=ht){ht+=L.autoSleep||120;var e=a._first;if((!e||!e._ts)&&L.autoSleep&&me._listeners.length<2){for(;e&&!e._ts;)e=e._next;e||me.sleep()}}},e}(Oe);Et(Ae.prototype,{_lock:0,_hasPause:0,_forcing:0});var Le,Me=function(t,e,n,i,r,o,a,s,u){U(i)&&(i=i(r||0,t,o));var l,c=t[e],d="get"!==n?n:U(c)?u?t[e.indexOf("set")||!U(t["get"+e.substr(3)])?e:"get"+e.substr(3)](u):t[e]():c,h=U(c)?u?Ue:Re:Be;if(R(i)&&(~i.indexOf("random(")&&(i=ne(i)),"="===i.charAt(1)&&(i=parseFloat(d)+parseFloat(i.substr(2))*("-"===i.charAt(0)?-1:1)+(Vt(d)||0))),d!==i)return isNaN(d+i)?(!c&&!(e in t)&&it(e,i),function(t,e,n,i,r,o,a){var s,u,l,c,d,h,f,p,m=new Ke(this._pt,t,e,0,1,$e,null,r),v=0,y=0;for(m.b=n,m.e=i,n+="",(f=~(i+="").indexOf("random("))&&(i=ne(i)),o&&(o(p=[n,i],t,e),n=p[0],i=p[1]),u=n.match(J)||[];s=J.exec(i);)c=s[0],d=i.substring(v,s.index),l?l=(l+1)%5:"rgba("===d.substr(-5)&&(l=1),c!==u[y++]&&(h=parseFloat(u[y-1]),m._pt={_next:m._pt,p:d||1===y?d:",",s:h,c:"="===c.charAt(1)?parseFloat(c.substr(2))*("-"===c.charAt(0)?-1:1):parseFloat(c)-h,m:l&&l<4?Math.round:0},v=J.lastIndex);return m.c=v<i.length?i.substring(v,i.length):"",m.fp=a,(Y.test(i)||f)&&(m.e=0),this._pt=m,m}.call(this,t,e,d,i,h,s||L.stringFilter,u)):(l=new Ke(this._pt,t,e,+d||0,i-(d||0),"boolean"==typeof c?We:He,0,h),u&&(l.fp=u),a&&l.modifier(a,this,t),this._pt=l)},je=function(t,e,n,i,r,o){var a,s,u,l;if(ct[t]&&!1!==(a=new ct[t]).init(r,a.rawVars?e[t]:function(t,e,n,i,r){if(U(t)&&(t=Ie(t,r,e,n,i)),!H(t)||t.style&&t.nodeType||Q(t))return R(t)?Ie(t,r,e,n,i):t;var o,a={};for(o in t)a[o]=Ie(t[o],r,e,n,i);return a}(e[t],i,r,o,n),n,i,o)&&(n._pt=s=new Ke(n._pt,r,t,0,1,a.render,a,0,a.priority),n!==d))for(u=n._ptLookup[n._targets.indexOf(r)],l=a._props.length;l--;)u[a._props[l]]=s;return a},Pe=function t(e,n){var i,r,o,s,u,l,c,d,h,f,p,m,v=e.vars,y=v.ease,g=v.startAt,b=v.immediateRender,_=v.lazy,w=v.onUpdate,x=v.onUpdateParams,k=v.callbackScope,T=v.runBackwards,S=v.yoyoEase,E=v.keyframes,C=v.autoRevert,O=e._dur,A=e._startAt,L=e._targets,P=e.parent,I=P&&"nested"===P.data?P.parent._targets:L,N="auto"===e._overwrite,q=e.timeline;if(!q||E&&y||(y="none"),e._ease=xe(y,M.ease),e._yEase=S?we(xe(!0===S?y:S,M.ease)):0,S&&e._yoyo&&!e._repeat&&(S=e._yEase,e._yEase=e._ease,e._ease=S),!q){if(A&&A.render(-1,!0).kill(),g){if(Pt(e._startAt=De.set(L,Et({data:"isStart",overwrite:!1,parent:P,immediateRender:!0,lazy:W(_),startAt:null,delay:0,onUpdate:w,onUpdateParams:x,callbackScope:k,stagger:0},g))),b)if(n>0)!C&&(e._startAt=0);else if(O)return}else if(T&&O)if(A)!C&&(e._startAt=0);else if(n&&(b=!1),Pt(e._startAt=De.set(L,Ot(Lt(v,st),{overwrite:!1,data:"isFromStart",lazy:b&&W(_),immediateRender:b,stagger:0,parent:P}))),b){if(!n)return}else t(e._startAt,j);for(i=Lt(v,st),e._pt=0,m=(d=L[0]?vt(L[0]).harness:0)&&v[d.prop],_=O&&W(_)||_&&!O,r=0;r<L.length;r++){if(c=(u=L[r])._gsap||mt(L)[r]._gsap,e._ptLookup[r]=f={},lt[c.id]&&xt(),p=I===L?r:I.indexOf(u),d&&!1!==(h=new d).init(u,m||i,e,p,I)&&(e._pt=s=new Ke(e._pt,u,h.name,0,1,h.render,h,0,h.priority),h._props.forEach(function(t){f[t]=s}),h.priority&&(l=1)),!d||m)for(o in i)ct[o]&&(h=je(o,i,e,p,u,I))?h.priority&&(l=1):f[o]=s=Me.call(e,u,o,"get",i[o],p,I,0,v.stringFilter);e._op&&e._op[r]&&e.kill(u,e._op[r]),N&&(Le=e,a.killTweensOf(u,f,"started"),Le=0),e._pt&&_&&(lt[c.id]=1)}l&&Je(e),e._onInit&&e._onInit(e)}e._from=!q&&!!v.runBackwards,e._onUpdate=w,e._initted=1},Ie=function(t,e,n,i,r){return U(t)?t.call(e,n,i,r):R(t)&&~t.indexOf("random(")?ne(t):t},Ne=pt+",repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",qe=(Ne+",id,stagger,delay,duration,paused").split(","),De=function(t){function e(e,n,i){var o;"number"==typeof n&&(i.duration=n,n=i,i=null);var s,u,l,c,d,h,f,p,m=(o=t.call(this,Mt(n),i)||this).vars,v=m.duration,y=m.delay,g=m.immediateRender,b=m.stagger,_=m.overwrite,w=m.keyframes,x=m.defaults,k=Q(e)&&F(e[0])?[e]:Jt(e);if(o._targets=k.length?mt(k):rt("GSAP target "+e+" not found. https://greensock.com",!L.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=_,w||b||V(v)||V(y)){if(n=o.vars,(s=o.timeline=new Ae({data:"nested",defaults:x||{}})).kill(),s.parent=r(o),w)Et(s.vars.defaults,{ease:"none"}),w.forEach(function(t){return s.to(k,t,">")});else{if(c=k.length,f=b?Kt(b):at,H(b))for(d in b)~Ne.indexOf(d)&&(p||(p={}),p[d]=b[d]);for(u=0;u<c;u++){for(d in l={},n)qe.indexOf(d)<0&&(l[d]=n[d]);l.stagger=0,p&&Ot(l,p),n.yoyoEase&&!n.repeat&&(l.yoyoEase=n.yoyoEase),h=k[u],l.duration=+Ie(v,r(o),u,h,k),l.delay=(+Ie(y,r(o),u,h,k)||0)-o._delay,!b&&1===c&&l.delay&&(o._delay=y=l.delay,o._start+=y,l.delay=0),s.to(h,l,f(u,h,k))}v=y=0}v||o.duration(v=s.duration())}else o.timeline=0;return!0===_&&(Le=r(o),a.killTweensOf(k),Le=0),(g||!v&&!w&&o._start===o.parent._time&&W(g)&&qt(r(o))&&"nested"!==o.parent.data)&&(o._tTime=-j,o.render(Math.max(0,-y))),o}o(e,t);var n=e.prototype;return n.render=function(t,e,n){var i,r,o,a,s,u,l,c,d,h=this._time,f=this._tDur,p=this._dur,m=t>f-j&&t>=0?f:t<j?0:t;if(p){if(m!==this._tTime||!t||n||this._startAt&&this._zTime<0!=t<0){if(i=m,c=this.timeline,this._repeat){if(a=p+this._rDelay,(i=bt(m%a))>p&&(i=p),(o=~~(m/a))&&o===m/a&&(i=p,o--),(u=this._yoyo&&1&o)&&(d=this._yEase,i=p-i),(s=~~(this._tTime/a))&&s===this._tTime/a&&s--,i===h&&!n&&this._initted)return this;o!==s&&this.vars.repeatRefresh&&!this._lock&&(this._lock=n=1,this.render(a*o,!0).invalidate()._lock=0)}if(!this._initted&&Ut(this,i,n,e))return this;for(this._tTime=m,this._time=i,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=l=(d||this._ease)(i/p),this._from&&(this.ratio=l=1-l),h||!i||e||oe(this,"onStart"),r=this._pt;r;)r.r(l,r.d),r=r._next;c&&c.render(t<0?t:!i&&u?-j:c._dur*l,e,n)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(t<0&&this._startAt&&this._startAt.render(t,!0,n),oe(this,"onUpdate")),this._repeat&&o!==s&&this.vars.onRepeat&&!e&&this.parent&&oe(this,"onRepeat"),m!==f&&m||this._tTime!==m||(t<0&&this._startAt&&!this._onUpdate&&this._startAt.render(t,!0,n),(t||!p)&&(m||this._ts<0)&&Pt(this,1),e||t<0&&!h||(oe(this,m===f?"onComplete":"onReverseComplete",!0),this._prom&&this._prom()))}}else!function(t,e,n,i){var r,o,a,s=t._zTime<0?0:1,u=e<0?0:1,l=t._rDelay,c=0;if(l&&t._repeat&&((o=~~((c=$t(0,t._tDur,e))/l))&&o===c/l&&o--,(a=~~(t._tTime/l))&&a===t._tTime/l&&a--,o!==a&&(s=1-u,t.vars.repeatRefresh&&t._initted&&t.invalidate())),(t._initted||!Ut(t,e,i,n))&&(u!==s||i||t._zTime===j||!e&&t._zTime)){for(t._zTime=e||(n?j:0),t.ratio=u,t._from&&(u=1-u),t._time=0,t._tTime=c,n||oe(t,"onStart"),r=t._pt;r;)r.r(u,r.d),r=r._next;!u&&t._startAt&&!t._onUpdate&&t._start&&t._startAt.render(e,!0,i),t._onUpdate&&!n&&oe(t,"onUpdate"),c&&t._repeat&&!n&&t.parent&&oe(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===u&&(t.ratio&&Pt(t,1),n||(oe(t,t.ratio?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}}(this,t,e,n);return this},n.targets=function(){return this._targets},n.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._act=this._lazy=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),t.prototype.invalidate.call(this)},n.kill=function(t,e){if(void 0===e&&(e="all"),!(t||e&&"all"!==e)&&(this._lazy=0,this.parent))return ae(this);if(this.timeline)return this.timeline.killTweensOf(t,e,!!Le),this;var n,i,r,o,a,s,u,l=this._targets,c=t?Jt(t):l,d=this._ptLookup,h=this._pt;if((!e||"all"===e)&&function(t,e){for(var n=t.length,i=n===e.length;i&&n--&&t[n]===e[n];);return n<0}(l,c))return ae(this);for(n=this._op=this._op||[],"all"!==e&&(R(e)&&(a={},gt(e,function(t){return a[t]=1}),e=a),e=function(t,e){var n,i,r,o,a=t[0]?vt(t[0]).harness:0,s=a&&a.aliases;if(!s)return e;for(i in n=Ot({},e),s)if(i in n)for(r=(o=s[i].split(",")).length;r--;)n[o[r]]=n[i];return n}(l,e)),u=l.length;u--;)if(~c.indexOf(l[u]))for(a in i=d[u],"all"===e?(n[u]=e,o=i,r={}):(r=n[u]=n[u]||{},o=e),o)(s=i&&i[a])&&("kill"in s.d&&!0!==s.d.kill(a)||(jt(this,s,"_pt"),delete i[a])),"all"!==r&&(r[a]=1);return this._initted&&!this._pt&&h&&ae(this),this},e.to=function(t,n){return new e(t,n,arguments[2])},e.from=function(t,n){return new e(t,wt(arguments,1))},e.delayedCall=function(t,n,i,r){return new e(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:n,onReverseComplete:n,onCompleteParams:i,onReverseCompleteParams:i,callbackScope:r})},e.fromTo=function(t,n,i){return new e(t,wt(arguments,2))},e.set=function(t,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new e(t,n)},e.killTweensOf=function(t,e,n){return a.killTweensOf(t,e,n)},e}(Oe);Et(De.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),gt("staggerTo,staggerFrom,staggerFromTo",function(t){De[t]=function(){var e=new Ae,n=Jt(arguments);return n.splice("staggerFromTo"===t?5:4,0,0),e[t].apply(e,n)}});var Be=function(t,e,n){return t[e]=n},Re=function(t,e,n){return t[e](n)},Ue=function(t,e,n,i){return t[e](i.fp,n)},Fe=function(t,e,n){return t.setAttribute(e,n)},ze=function(t,e){return U(t[e])?Re:z(t[e])&&t.setAttribute?Fe:Be},He=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4,e)},We=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},$e=function(t,e){var n=e._pt,i="";if(!t&&e.b)i=e.b;else if(1===t&&e.e)i=e.e;else{for(;n;)i=n.p+(n.m?n.m(n.s+n.c*t):Math.round(1e4*(n.s+n.c*t))/1e4)+i,n=n._next;i+=e.c}e.set(e.t,e.p,i,e)},Ve=function(t,e){for(var n=e._pt;n;)n.r(t,n.d),n=n._next},Qe=function(t,e,n,i){for(var r,o=this._pt;o;)r=o._next,o.p===i&&o.modifier(t,e,n),o=r},Ge=function(t){for(var e,n,i=this._pt;i;)n=i._next,i.p===t&&!i.op||i.op===t?jt(this,i,"_pt"):i.dep||(e=1),i=n;return!e},Xe=function(t,e,n,i){i.mSet(t,e,i.m.call(i.tween,n,i.mt),i)},Je=function(t){for(var e,n,i,r,o=t._pt;o;){for(e=o._next,n=i;n&&n.pr>o.pr;)n=n._next;(o._prev=n?n._prev:r)?o._prev._next=o:i=o,(o._next=n)?n._prev=o:r=o,o=e}t._pt=i},Ke=function(){function t(t,e,n,i,r,o,a,s,u){this.t=e,this.s=i,this.c=r,this.p=n,this.r=o||He,this.d=a||this,this.set=s||Be,this.pr=u||0,this._next=t,t&&(t._prev=this)}return t.prototype.modifier=function(t,e,n){this.mSet=this.mSet||this.set,this.set=Xe,this.m=t,this.mt=n,this.tween=e},t}();gt(pt+",parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert",function(t){st[t]=1,"on"===t.substr(0,2)&&(st[t+"Params"]=1)}),tt.TweenMax=tt.TweenLite=De,tt.TimelineLite=tt.TimelineMax=Ae,a=new Ae({sortChildren:!1,defaults:M,autoRemoveChildren:!0,id:"root"}),L.stringFilter=pe;var Ye={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach(function(t){return se(t)})},timeline:function(t){return new Ae(t)},getTweensOf:function(t,e){return a.getTweensOf(t,e)},getProperty:function(t,e,n,i){R(t)&&(t=Jt(t)[0]);var r=vt(t||{}).get,o=n?St:Tt;return"native"===n&&(n=""),t?e?o((ct[e]&&ct[e].get||r)(t,e,n,i)):function(e,n,i){return o((ct[e]&&ct[e].get||r)(t,e,n,i))}:t},quickSetter:function(t,e,n){if((t=Jt(t)).length>1){var i=t.map(function(t){return en.quickSetter(t,e,n)}),r=i.length;return function(t){for(var e=r;e--;)i[e](t)}}t=t[0]||{};var o=ct[e],a=vt(t),s=o?function(e){var i=new o;d._pt=0,i.init(t,n?e+n:e,d,0,[t]),i.render(1,i),d._pt&&Ve(1,d)}:a.set(t,e);return o?s:function(i){return s(t,e,n?i+n:i,a,1)}},isTweening:function(t){return a.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=xe(t.ease,M.ease)),At(M,t||{})},config:function(t){return At(L,t||{})},registerEffect:function(t){var e=t.name,n=t.effect,i=t.plugins,r=t.defaults,o=t.extendTimeline;(i||"").split(",").forEach(function(t){return t&&!ct[t]&&!tt[t]&&rt(e+" effect requires "+t+" plugin.")}),dt[e]=function(t,e){return n(Jt(t),Et(e||{},r))},o&&(Ae.prototype[e]=function(t,n,i){return this.add(dt[e](t,H(n)?n:(i=n)&&{}),i)})},registerEase:function(t,e){ye[t]=xe(e)},parseEase:function(t,e){return arguments.length?xe(t,e):ye},getById:function(t){return a.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var n,i,r=new Ae(t);for(r.smoothChildTiming=W(t.smoothChildTiming),a.remove(r),r._dp=0,r._time=r._tTime=a._time,n=a._first;n;)i=n._next,!e&&!n._dur&&n instanceof De&&n.vars.onComplete===n._targets[0]||Rt(r,n,n._start-n._delay),n=i;return Rt(a,r,0),r},utils:{wrap:function t(e,n,i){var r=n-e;return Q(e)?ee(e,t(0,e.length),n):Wt(i,function(t){return(r+(t-e)%r)%r+e})},wrapYoyo:function t(e,n,i){var r=n-e,o=2*r;return Q(e)?ee(e,t(0,e.length-1),n):Wt(i,function(t){return e+((t=(o+(t-e)%o)%o)>r?o-t:t)})},distribute:Kt,random:te,snap:Zt,normalize:function(t,e,n){return ie(t,e,0,1,n)},getUnit:Vt,clamp:function(t,e,n){return Wt(n,function(n){return $t(t,e,n)})},splitColor:ce,toArray:Jt,mapRange:ie,pipe:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return e.reduce(function(t,e){return e(t)},t)}},unitize:function(t,e){return function(n){return t(parseFloat(n))+(e||Vt(n))}},interpolate:function t(e,n,i,r){var o=isNaN(e+n)?0:function(t){return(1-t)*e+t*n};if(!o){var a,s,u,l,c,d=R(e),h={};if(!0===i&&(r=1)&&(i=null),d)e={p:e},n={p:n};else if(Q(e)&&!Q(n)){for(u=[],l=e.length,c=l-2,s=1;s<l;s++)u.push(t(e[s-1],e[s]));l--,o=function(t){t*=l;var e=Math.min(c,~~t);return u[e](t-e)},i=n}else r||(e=Ot(Q(e)?[]:{},e));if(!u){for(a in n)Me.call(h,e,a,"get",n[a]);o=function(t){return Ve(t,h)||(d?e.p:e)}}}return Wt(i,o)}},install:nt,effects:dt,ticker:me,updateRoot:Ae.updateRoot,plugins:ct,globalTimeline:a,core:{PropTween:Ke,globals:ot,Tween:De,Timeline:Ae,Animation:Oe,getCache:vt}};gt("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return Ye[t]=De[t]}),me.add(Ae.updateRoot),d=Ye.to({},{duration:0});var Ze=function(t,e){for(var n=t._pt;n&&n.p!==e&&n.op!==e&&n.fp!==e;)n=n._next;return n},tn=function(t,e){return{name:t,rawVars:1,init:function(t,n,i){i._onInit=function(t){var i,r;if(R(n)&&(i={},gt(n,function(t){return i[t]=1}),n=i),e){for(r in i={},n)i[r]=e(n[r]);n=i}!function(t,e){var n,i,r,o=t._targets;for(n in e)for(i=o.length;i--;)(r=t._ptLookup[i][n])&&(r=r.d)&&(r._pt&&(r=Ze(r,n)),r&&r.modifier&&r.modifier(e[n],t,o[i],n))}(t,n)}}}},en=Ye.registerPlugin({name:"attr",init:function(t,e,n,i,r){for(var o in e)this.add(t,"setAttribute",(t.getAttribute(o)||0)+"",e[o],i,r,0,0,o),this._props.push(o)}},{name:"endArray",init:function(t,e){for(var n=e.length;n--;)this.add(t,n,t[n]||0,e[n])}},tn("roundProps",Yt),tn("modifiers"),tn("snap",Zt))||Ye;De.version=Ae.version=en.version="3.0.2",c=1,$()&&ve();var nn=ye.Power0,rn=ye.Power1,on=ye.Power2,an=ye.Power3,sn=ye.Power4,un=ye.Linear,ln=ye.Quad,cn=ye.Cubic,dn=ye.Quart,hn=ye.Quint,fn=ye.Strong,pn=ye.Elastic,mn=ye.Back,vn=ye.SteppedEase,yn=ye.Bounce,gn=ye.Sine,bn=ye.Expo,_n=ye.Circ;function wn(t){return(wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
/*!
 * CSSPlugin 3.0.2
 * https://greensock.com
 *
 * Copyright 2008-2019, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var xn,kn,Tn,Sn,En,Cn,On,An,Ln,Mn,jn={},Pn=180/Math.PI,In=Math.PI/180,Nn=Math.atan2,qn=/([A-Z])/g,Dn=/[-+=\.]*\d+[\.e-]*\d*[a-z%]*/g,Bn=/(?:left|right|width|margin|padding|x)/i,Rn=/[\s,\(]\S/,Un={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Fn=function(t,e){return e.set(e.t,e.p,~~(1e3*(e.s+e.c*t))/1e3+e.u,e)},zn=function(t,e){return e.set(e.t,e.p,1===t?e.e:~~(1e3*(e.s+e.c*t))/1e3+e.u,e)},Hn=function(t,e){return e.set(e.t,e.p,t?~~(1e3*(e.s+e.c*t))/1e3+e.u:e.b,e)},Wn=function(t,e){var n=e.s+e.c*t;e.set(e.t,e.p,~~(n+(n<0?-.5:.5))+e.u,e)},$n=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},Vn=function(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)},Qn=function(t,e,n){return t.style[e]=n},Gn=function(t,e,n){return t.style.setProperty(e,n)},Xn=function(t,e,n){return t._gsap[e]=n},Jn=function(t,e,n){return t._gsap.scaleX=t._gsap.scaleY=n},Kn=function(t,e,n,i,r){var o=t._gsap;o.scaleX=o.scaleY=n,o.renderTransform(r,o)},Yn=function(t,e,n,i,r){var o=t._gsap;o[e]=n,o.renderTransform(r,o)},Zn="transform",ti=Zn+"Origin",ei=function(t,e){var n=kn.createElementNS?kn.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):kn.createElement(t);return n.style?n:kn.createElement(t)},ni=function t(e,n,i){var r=getComputedStyle(e);return r[n]||r.getPropertyValue(n.replace(qn,"-$1").toLowerCase())||r.getPropertyValue(n)||!i&&t(e,ri(n)||n,1)||""},ii="O,Moz,ms,Ms,Webkit".split(","),ri=function(t,e){var n=(e||En).style,i=5;if(t in n)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);i--&&!(ii[i]+t in n););return i<0?null:(3===i?"ms":i>=0?ii[i]:"")+t},oi=function(){"undefined"!=typeof window&&(xn=window,kn=xn.document,Tn=kn.documentElement,En=ei("div")||{style:{}},Cn=ei("div"),Zn=ri(Zn),ti=ri(ti),En.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",An=!!ri("perspective"),Sn=1)},ai=function(t,e){for(var n=e.length;n--;)if(t.hasAttribute(e[n]))return t.getAttribute(e[n])},si=function(t){var e;try{e=t.getBBox()}catch(n){e=function t(e){var n,i=ei("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,o=this.nextSibling,a=this.style.cssText;if(Tn.appendChild(i),i.appendChild(this),this.style.display="block",e)try{n=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch(t){}else this._gsapBBox&&(n=this._gsapBBox());return o?r.insertBefore(this,o):r.appendChild(this),Tn.removeChild(i),this.style.cssText=a,n}.call(t,!0)}return!e||e.width||e.x||e.y?e:{x:+ai(t,["x","cx","x1"])||0,y:+ai(t,["y","cy","y1"])||0,width:0,height:0}},ui=function(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!si(t))},li=function(t,e){if(e){var n=t.style;e in jn&&(e=Zn),n.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),n.removeProperty(e.replace(qn,"-$1").toLowerCase())):n.removeAttribute(e)}},ci=function(t,e,n,i,r,o){var a=new Ke(t._pt,e,n,0,1,o?Vn:$n);return t._pt=a,a.b=i,a.e=r,t._props.push(n),a},di={deg:1,rad:1,turn:1},hi=function(t,e,n,i){var r,o,a,s,u=parseFloat(n),l=(n+"").substr((u+"").length)||"px",c=En.style,d=Bn.test(e),h="svg"===t.tagName.toLowerCase(),f=(h?"client":"offset")+(d?"Width":"Height"),p="px"===i;return i===l||di[i]||di[l]?u:(s=t.getCTM&&ui(t),"%"===i&&jn[e]?bt(u/(s?t.getBBox()[d?"width":"height"]:t[f])*100):(c[d?"width":"height"]=100+(p?l:i),o="em"===i&&t.appendChild&&!h?t:t.parentNode,s&&(o=(t.ownerSVGElement||{}).parentNode),o&&o!==kn&&o.appendChild||(o=kn.body),(a=o._gsap)&&"%"===i&&a.width&&d&&a.time===me.time?r=a.width*u/100:(o.appendChild(En),r=En[f],o.removeChild(En),d&&"%"===i&&((a=vt(o)).time=me.time,a.width=r/u*100)),bt(p?r*u/100:100/r*u)))},fi=function(t,e,n,i){var r;return Sn||oi(),e in Un&&~(e=Un[e]).indexOf(",")&&(e=e.split(",")[0]),jn[e]?(r=Ti(t,i),r="transformOrigin"!==e?r[e]:Si(ni(t,ti))+r.zOrigin+"px"):(!(r=t.style[e])||"auto"===r||i||~r.indexOf("calc("))&&(r=ni(t,e)||yt(t,e)),n?hi(t,e,r,n)+n:r},pi=function(t,e,n,i){var r,o,a,s,u,l,c,d,h,f,p,m,v=new Ke(this._pt,t.style,e,0,1,$e),y=0,g=0;if(v.b=n,v.e=i,n+="","auto"===(i+="")&&(t.style[e]=i,i=ni(t,e)||i,t.style[e]=n),pe(r=[n,i]),i=r[1],a=(n=r[0]).match(Dn)||[],(i.match(Dn)||[]).length){for(;o=Dn.exec(i);)c=o[0],h=i.substring(y,o.index),u?u=(u+1)%5:"rgba("===h.substr(-5)&&(u=1),c!==(l=a[g++]||"")&&(s=parseFloat(l)||0,p=l.substr((s+"").length),(m="="===c.charAt(1)?+(c.charAt(0)+"1"):0)&&(c=c.substr(2)),d=parseFloat(c),f=c.substr((d+"").length),y=Dn.lastIndex-f.length,f||(f=f||L.units[e]||p,y===i.length&&(i+=f,v.e+=f)),p!==f&&(s=hi(t,e,l,f)||0),v._pt={_next:v._pt,p:h||1===g?h:",",s:s,c:m?m*d:d-s,m:u&&u<4?Math.round:0});v.c=y<i.length?i.substring(y,i.length):""}else v.r="display"===e&&"none"===i?Vn:$n;return Y.test(i)&&(v.e=0),this._pt=v,v},mi={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},vi=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var n,i,r,o=e.t,a=o.style,s=e.u;if("all"===s||!0===s)a.cssText="",i=1;else for(r=(s=s.split(",")).length;--r>-1;)n=s[r],jn[n]&&(i=1,n="transformOrigin"===n?ti:Zn),li(o,n);i&&(li(o,Zn),(i=o._gsap)&&(i.svg&&o.removeAttribute("transform"),i.uncache=1))}},yi={clearProps:function(t,e,n,i,r){if("isFromStart"!==r.data){var o=t._pt=new Ke(t._pt,e,n,0,0,vi);return o.u=i,o.pr=-10,o.tween=r,t._props.push(n),1}}},gi=[1,0,0,1,0,0],bi={},_i=function(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t},wi=function(t){var e=ni(t,Zn);return _i(e)?gi:e.substr(7).match(X).map(bt)},xi=function(t,e){var n,i,r,o,a=t._gsap,s=t.style,u=wi(t);return a.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(u=[(r=t.transform.baseVal.consolidate().matrix).a,r.b,r.c,r.d,r.e,r.f]).join(",")?gi:u:(u!==gi||t.offsetParent||t===Tn||a.svg||(r=s.display,s.display="block",(n=t.parentNode)&&t.offsetParent||(o=1,i=t.nextSibling,Tn.appendChild(t)),u=wi(t),r?s.display=r:li(t,"display"),o&&(i?n.insertBefore(t,i):n?n.appendChild(t):Tn.removeChild(t))),e&&u.length>6?[u[0],u[1],u[4],u[5],u[12],u[13]]:u)},ki=function(t,e,n,i,r,o){var a,s,u,l=t._gsap,c=r||xi(t,!0),d=l.xOrigin||0,h=l.yOrigin||0,f=l.xOffset||0,p=l.yOffset||0,m=c[0],v=c[1],y=c[2],g=c[3],b=c[4],_=c[5],w=e.split(" "),x=parseFloat(w[0])||0,k=parseFloat(w[1])||0;n?c!==gi&&(s=m*g-v*y)&&(u=x*(-v/s)+k*(m/s)-(m*_-v*b)/s,x=x*(g/s)+k*(-y/s)+(y*_-g*b)/s,k=u):(x=(a=si(t)).x+(~w[0].indexOf("%")?x/100*a.width:x),k=a.y+(~(w[1]||w[0]).indexOf("%")?k/100*a.height:k)),i||!1!==i&&l.smooth?(b=x-d,_=k-h,l.xOffset=f+(b*m+_*y)-b,l.yOffset=p+(b*v+_*g)-_):l.xOffset=l.yOffset=0,l.xOrigin=x,l.yOrigin=k,l.smooth=!!i,l.origin=e,l.originIsAbsolute=!!n,t.style[ti]="0px 0px",o&&(ci(o,l,"xOrigin",d,x),ci(o,l,"yOrigin",h,k),ci(o,l,"xOffset",f,l.xOffset),ci(o,l,"yOffset",p,l.yOffset))},Ti=function(t,e){var n=t._gsap||new Ce(t);if("x"in n&&!e&&!n.uncache)return n;var i,r,o,a,s,u,l,c,d,h,f,p,m,v,y,g,b,_,w,x,k,T,S,E,C,O,A,M,j,P,I=t.style,N=n.scaleX<0,q=n.xOrigin||0,D=n.yOrigin||0,B=ni(t,ti)||"0";return i=r=o=u=l=c=d=h=f=0,a=s=1,n.svg=!(!t.getCTM||!ui(t)),p=xi(t,n.svg),n.svg&&ki(t,B,n.originIsAbsolute,!1!==n.smooth,p),p!==gi&&(g=p[0],b=p[1],_=p[2],w=p[3],i=x=p[4],r=k=p[5],6===p.length?(a=Math.sqrt(g*g+b*b),s=Math.sqrt(w*w+_*_),u=g||b?Nn(b,g)*Pn:n.rotation||0,d=_||w?Nn(_,w)*Pn+u:n.skewX||0,n.svg&&(i-=q-(q*g+D*_),r-=D-(q*b+D*w))):(P=p[6],M=p[7],C=p[8],O=p[9],A=p[10],j=p[11],i=p[12],r=p[13],o=p[14],l=(m=Nn(P,A))*Pn,m&&(T=x*(v=Math.cos(-m))+C*(y=Math.sin(-m)),S=k*v+O*y,E=P*v+A*y,C=x*-y+C*v,O=k*-y+O*v,A=P*-y+A*v,j=M*-y+j*v,x=T,k=S,P=E),c=(m=Nn(-_,A))*Pn,m&&(v=Math.cos(-m),j=w*(y=Math.sin(-m))+j*v,g=T=g*v-C*y,b=S=b*v-O*y,_=E=_*v-A*y),u=(m=Nn(b,g))*Pn,m&&(T=g*(v=Math.cos(m))+b*(y=Math.sin(m)),S=x*v+k*y,b=b*v-g*y,k=k*v-x*y,g=T,x=S),l&&Math.abs(l)+Math.abs(u)>359.9&&(l=u=0,c=180-c),a=bt(Math.sqrt(g*g+b*b+_*_)),s=bt(Math.sqrt(k*k+P*P)),m=Nn(x,k),d=Math.abs(m)>2e-4?m*Pn:0,f=j?1/(j<0?-j:j):0),n.svg&&(p=t.getAttribute("transform"),n.forceCSS=t.setAttribute("transform","")||!_i(ni(t,Zn)),p&&t.setAttribute("transform",p))),Math.abs(d)>90&&Math.abs(d)<270&&(N?(a*=-1,d+=u<=0?180:-180,u+=u<=0?180:-180):(s*=-1,d+=d<=0?180:-180)),n.x=((n.xPercent=i&&Math.round(t.offsetWidth/2)===Math.round(-i)?-50:0)?0:i)+"px",n.y=((n.yPercent=r&&Math.round(t.offsetHeight/2)===Math.round(-r)?-50:0)?0:r)+"px",n.z=o+"px",n.scaleX=bt(a),n.scaleY=bt(s),n.rotation=bt(u)+"deg",n.rotationX=bt(l)+"deg",n.rotationY=bt(c)+"deg",n.skewX=d+"deg",n.skewY=h+"deg",n.transformPerspective=f+"px",(n.zOrigin=parseFloat(B.split(" ")[2])||0)&&(I[ti]=Si(B)),n.xOffset=n.yOffset=0,n.force3D=L.force3D,n.renderTransform=n.svg?Ai:An?Oi:Ci,n.uncache=0,n},Si=function(t){return(t=t.split(" "))[0]+" "+t[1]},Ei=function(t,e,n){var i=Vt(e);return bt(parseFloat(e)+parseFloat(hi(t,"x",n+"px",i)))+i},Ci=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,Oi(t,e)},Oi=function(t,e){var n=e||this,i=n.xPercent,r=n.yPercent,o=n.x,a=n.y,s=n.z,u=n.rotation,l=n.rotationY,c=n.rotationX,d=n.skewX,h=n.skewY,f=n.scaleX,p=n.scaleY,m=n.transformPerspective,v=n.force3D,y=n.target,g=n.zOrigin,b="",_="auto"===v&&t&&1!==t||!0===v;if(g&&("0deg"!==c||"0deg"!==l)){var w,x=parseFloat(l)*In,k=Math.sin(x),T=Math.cos(x);x=parseFloat(c)*In,w=Math.cos(x),o=Ei(y,o,k*w*-g),a=Ei(y,a,-Math.sin(x)*-g),s=Ei(y,s,T*w*-g+g)}(i||r)&&(b="translate("+i+"%, "+r+"%) "),(_||"0px"!==o||"0px"!==a||"0px"!==s)&&(b+="0px"!==s||_?"translate3d("+o+", "+a+", "+s+") ":"translate("+o+", "+a+") "),"0px"!==m&&(b+="perspective("+m+") "),"0deg"!==u&&(b+="rotate("+u+") "),"0deg"!==l&&(b+="rotateY("+l+") "),"0deg"!==c&&(b+="rotateX("+c+") "),"0deg"===d&&"0deg"===h||(b+="skew("+d+", "+h+") "),1===f&&1===p||(b+="scale("+f+", "+p+") "),y.style[Zn]=b||"translate(0, 0)"},Ai=function(t,e){var n,i,r,o,a,s=e||this,u=s.xPercent,l=s.yPercent,c=s.x,d=s.y,h=s.rotation,f=s.skewX,p=s.skewY,m=s.scaleX,v=s.scaleY,y=s.target,g=s.xOrigin,b=s.yOrigin,_=s.xOffset,w=s.yOffset,x=s.forceCSS,k=parseFloat(c),T=parseFloat(d);h=parseFloat(h),f=parseFloat(f),(p=parseFloat(p))&&(f+=p=parseFloat(p),h+=p),h||f?(h*=In,f*=In,n=Math.cos(h)*m,i=Math.sin(h)*m,r=Math.sin(h-f)*-v,o=Math.cos(h-f)*v,f&&(p*=In,a=Math.tan(f-p),r*=a=Math.sqrt(1+a*a),o*=a,p&&(a=Math.tan(p),n*=a=Math.sqrt(1+a*a),i*=a)),n=bt(n),i=bt(i),r=bt(r),o=bt(o)):(n=m,o=v,i=r=0),(k&&!~(c+"").indexOf("px")||T&&!~(d+"").indexOf("px"))&&(k=hi(y,"x",c,"px"),T=hi(y,"y",d,"px")),(g||b||_||w)&&(k=bt(k+g-(g*n+b*r)+_),T=bt(T+b-(g*i+b*o)+w)),(u||l)&&(a=y.getBBox(),k=bt(k+u/100*a.width),T=bt(T+l/100*a.height)),a="matrix("+n+","+i+","+r+","+o+","+k+","+T+")",y.setAttribute("transform",a),x&&(y.style[Zn]=a)},Li=function(t,e,n,i,r,o){var a,s,u=R(r),l=parseFloat(r)*(u&&~r.indexOf("rad")?Pn:1),c=o?l*o:l-i,d=i+c+"deg";return u&&("short"===(a=r.split("_")[1])&&(c%=360)!==c%180&&(c+=c<0?360:-360),"cw"===a&&c<0?c=(c+36e9)%360-360*~~(c/360):"ccw"===a&&c>0&&(c=(c-36e9)%360-360*~~(c/360))),t._pt=s=new Ke(t._pt,e,n,i,c,zn),s.e=d,s.u="deg",t._props.push(n),s},Mi=function(t,e,n){var i,r,o,a,s,u,l,c=Cn.style,d=n._gsap;for(r in c.cssText=getComputedStyle(n).cssText+";position:absolute;display:block;",c[Zn]=e,kn.body.appendChild(Cn),i=Ti(Cn,1),jn)(o=d[r])!==(a=i[r])&&"perspective"!==r&&(s=Vt(o)!==(l=Vt(a))?hi(n,r,o,l):parseFloat(o),u=parseFloat(a),t._pt=new Ke(t._pt,d,r,s,u-s,Fn),t._pt.u=l,t._props.push(r));kn.body.removeChild(Cn)},ji={name:"css",register:oi,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,n,i,r){var o,a,s,u,l,c,d,h,f,p,m,v,y,g,b,_,w,x,k,T=this._props,S=t.style;for(d in Sn||oi(),e)if("autoRound"!==d&&(a=e[d],!ct[d]||!je(d,e,n,i,t,r)))if(l=wn(a),c=yi[d],"function"===l&&(l=wn(a=a.call(n,i,t,r))),"string"===l&&~a.indexOf("random(")&&(a=ne(a)),c)c(this,t,d,a,n)&&(b=1);else if("--"===d.substr(0,2))this.add(S,"setProperty",getComputedStyle(t).getPropertyValue(d)+"",a+"",i,r,0,0,d);else{if(o=fi(t,d),u=parseFloat(o),(p="string"===l&&"="===a.charAt(1)?+(a.charAt(0)+"1"):0)&&(a=a.substr(2)),s=parseFloat(a),d in Un&&("autoAlpha"===d&&(1===u&&"hidden"===fi(t,"visibility")&&s&&(u=0),ci(this,S,"visibility",u?"inherit":"hidden",s?"inherit":"hidden",!s)),"scale"!==d&&~(d=Un[d]).indexOf(",")&&(d=d.split(",")[0])),m=d in jn)if(v||(y=t._gsap,g=!1!==e.smoothOrigin&&y.smooth,(v=this._pt=new Ke(this._pt,S,Zn,0,1,y.renderTransform,y,0,-1)).dep=1),"scale"===d)this._pt=new Ke(this._pt,y,"scaleY",y.scaleY,p?p*s:s-y.scaleY),T.push("scaleY",d),d+="X";else{if("transformOrigin"===d){w=void 0,x=void 0,k=void 0,w=(_=a).split(" "),x=w[0],k=w[1]||"50%","top"!==x&&"bottom"!==x&&"left"!==k&&"right"!==k||(_=x,x=k,k=_),w[0]=mi[x]||x,w[1]=mi[k]||k,a=w.join(" "),y.svg?ki(t,a,0,g,0,this):((f=parseFloat(a.split(" ")[2]))!==y.zOrigin&&ci(this,y,"zOrigin",y.zOrigin,f),ci(this,S,d,Si(o),Si(a)));continue}if("svgOrigin"===d){ki(t,a,1,g,0,this);continue}if(d in bi){Li(this,y,d,u,a,p);continue}if("smoothOrigin"===d){ci(this,y,"smooth",y.smooth,a);continue}if("force3D"===d){y[d]=a;continue}if("transform"===d){Mi(this,a,t);continue}}else d in S||(d=ri(d)||d);if(m||(s||0===s)&&(u||0===u)&&!Rn.test(a)&&d in S)(h=(o+"").substr((u+"").length))!==(f=(a+"").substr((s+"").length)||(d in L.units?L.units[d]:h))&&(u=hi(t,d,o,f)),this._pt=new Ke(this._pt,m?y:S,d,u,p?p*s:s-u,"px"!==f||!1===e.autoRound||m?Fn:Wn),this._pt.u=f||0,h!==f&&(this._pt.b=o,this._pt.r=Hn);else if(d in S)pi.call(this,t,d,o,a);else{if(!(d in t)){it(d,a);continue}this.add(t,d,t[d],a,i,r)}T.push(d)}b&&Je(this)},get:fi,aliases:Un,getSetter:function(t,e,n){return e in jn&&e!==ti&&(t._gsap.x||fi(t,"x"))?n&&On===n?"scale"===e?Jn:Xn:(On=n||{})&&("scale"===e?Kn:Yn):t.style&&!z(t.style[e])?Qn:~e.indexOf("-")?Gn:ze(t,e)}};en.utils.checkPrefix=ri,Mn=gt("x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+(Ln="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(t){jn[t]=1}),gt(Ln,function(t){L.units[t]="deg",bi[t]=1}),Un[Mn[13]]="x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+Ln,gt("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,9:rotateX,10:rotateY",function(t){var e=t.split(":");Un[e[1]]=Mn[e[0]]}),gt("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){L.units[t]="px"}),en.registerPlugin(ji),n.d(e,"gsap",function(){return Pi}),n.d(e,"default",function(){return Pi}),n.d(e,"CSSPlugin",function(){return ji}),n.d(e,"TweenMax",function(){return De}),n.d(e,"TweenLite",function(){return De}),n.d(e,"TimelineMax",function(){return Ae}),n.d(e,"TimelineLite",function(){return Ae}),n.d(e,"Power0",function(){return nn}),n.d(e,"Power1",function(){return rn}),n.d(e,"Power2",function(){return on}),n.d(e,"Power3",function(){return an}),n.d(e,"Power4",function(){return sn}),n.d(e,"Linear",function(){return un}),n.d(e,"Quad",function(){return ln}),n.d(e,"Cubic",function(){return cn}),n.d(e,"Quart",function(){return dn}),n.d(e,"Quint",function(){return hn}),n.d(e,"Strong",function(){return fn}),n.d(e,"Elastic",function(){return pn}),n.d(e,"Back",function(){return mn}),n.d(e,"SteppedEase",function(){return vn}),n.d(e,"Bounce",function(){return yn}),n.d(e,"Sine",function(){return gn}),n.d(e,"Expo",function(){return bn}),n.d(e,"Circ",function(){return _n});var Pi=en.registerPlugin(ji)||en}]);
//# sourceMappingURL=sagiri.min.js.map