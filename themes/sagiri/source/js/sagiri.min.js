/*! For license information please see sagiri.min.js.LICENSE.txt */
(()=>{var __webpack_modules__={4974:(e,t,r)=>{var n,i,a,o;function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e=r.nmd(e),window,o=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r(r.s=41)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=/mobile/i.test(window.navigator.userAgent),i={secondToTime:function(e){var t=Math.floor(e/3600),r=Math.floor((e-3600*t)/60),n=Math.floor(e-3600*t-60*r);return(t>0?[t,r,n]:[r,n]).map((function(e){return e<10?"0"+e:""+e})).join(":")},getElementViewLeft:function(e){var t=e.offsetLeft,r=e.offsetParent,n=document.body.scrollLeft+document.documentElement.scrollLeft;if(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement)for(;null!==r&&r!==e;)t+=r.offsetLeft,r=r.offsetParent;else for(;null!==r;)t+=r.offsetLeft,r=r.offsetParent;return t-n},getElementViewTop:function(e,t){for(var r,n=e.offsetTop,i=e.offsetParent;null!==i;)n+=i.offsetTop,i=i.offsetParent;return r=document.body.scrollTop+document.documentElement.scrollTop,t?n:n-r},isMobile:n,storage:{set:function(e,t){localStorage.setItem(e,t)},get:function(e){return localStorage.getItem(e)}},nameMap:{dragStart:n?"touchstart":"mousedown",dragMove:n?"touchmove":"mousemove",dragEnd:n?"touchend":"mouseup"},randomOrder:function(e){return function(e){for(var t=e.length-1;t>=0;t--){var r=Math.floor(Math.random()*(t+1)),n=e[r];e[r]=e[t],e[t]=n}return e}([].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(Array(e))).map((function(e,t){return t})))}};t.default=i},function(e,t,r){var n=r(2);e.exports=function(e){"use strict";e=e||{};var t="",r=n.$each,i=e.audio,a=(e.$value,e.$index,n.$escape),o=e.theme,s=e.index;return r(i,(function(e,r){t+='\n<li>\n    <span class="aplayer-list-cur" style="background-color: ',t+=a(e.theme||o),t+=';"></span>\n    <span class="aplayer-list-index">',t+=a(r+s),t+='</span>\n    <span class="aplayer-list-title">',t+=a(e.name),t+='</span>\n    <span class="aplayer-list-author">',t+=a(e.artist),t+="</span>\n</li>\n"})),t}},function(e,t,r){"use strict";e.exports=r(15)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=g(r(33)),i=g(r(32)),a=g(r(31)),o=g(r(30)),s=g(r(29)),u=g(r(28)),c=g(r(27)),l=g(r(26)),f=g(r(25)),p=g(r(24)),d=g(r(23)),h=g(r(22)),m=g(r(21)),y=g(r(20)),v=g(r(19));function g(e){return e&&e.__esModule?e:{default:e}}var b={play:n.default,pause:i.default,volumeUp:a.default,volumeDown:o.default,volumeOff:s.default,orderRandom:u.default,orderList:c.default,menu:l.default,loopAll:f.default,loopOne:p.default,loopNone:d.default,loading:h.default,right:m.default,skip:y.default,lrc:v.default};t.default=b},function(e,t,r){"use strict";var n,i="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(e){return s(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":s(e)};n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":i(window))&&(n=window)}e.exports=n},function(e,t,r){"use strict";var n,i,a="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(e){return s(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":s(e)};void 0===(i="function"==typeof(n=function(){if("object"===("undefined"==typeof window?"undefined":a(window))&&void 0!==document.querySelectorAll&&void 0!==window.pageYOffset&&void 0!==history.pushState){var e=function(e,t,r,n){return r>n?t:e+(t-e)*((i=r/n)<.5?4*i*i*i:(i-1)*(2*i-2)*(2*i-2)+1);var i},t=function(t,r,n,i){r=r||500;var a=(i=i||window).scrollTop||window.pageYOffset;if("number"==typeof t)var o=parseInt(t);else o=function(e,t){return"HTML"===e.nodeName?-t:e.getBoundingClientRect().top+t}(t,a);var s=Date.now(),u=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){window.setTimeout(e,15)};!function c(){var l=Date.now()-s;i!==window?i.scrollTop=e(a,o,l,r):window.scroll(0,e(a,o,l,r)),l>r?"function"==typeof n&&n(t):u(c)}()},r=function(e){if(!e.defaultPrevented){e.preventDefault(),location.hash!==this.hash&&window.history.pushState(null,null,this.hash);var r=document.getElementById(this.hash.substring(1));if(!r)return;t(r,500,(function(e){location.replace("#"+e.id)}))}};return document.addEventListener("DOMContentLoaded",(function(){for(var e,t=document.querySelectorAll('a[href^="#"]:not([href="#"])'),n=t.length;e=t[--n];)e.addEventListener("click",r,!1)})),t}})?n.call(t,r,t,e):n)||(e.exports=i)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=s(r(1)),a=s(r(0)),o=s(r(5));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.player=t,this.index=0,this.audios=this.player.options.audio,this.bindEvents()}return n(e,[{key:"bindEvents",value:function(){var e=this;this.player.template.list.addEventListener("click",(function(t){var r=void 0;r="LI"===t.target.tagName.toUpperCase()?t.target:t.target.parentElement;var n=parseInt(r.getElementsByClassName("aplayer-list-index")[0].innerHTML)-1;n!==e.index?(e.switch(n),e.player.play()):e.player.toggle()}))}},{key:"show",value:function(){this.player.events.trigger("listshow"),this.player.template.list.classList.remove("aplayer-list-hide"),this.player.template.listOl.scrollTop=33*this.index}},{key:"hide",value:function(){this.player.events.trigger("listhide"),this.player.template.list.classList.add("aplayer-list-hide")}},{key:"toggle",value:function(){this.player.template.list.classList.contains("aplayer-list-hide")?this.show():this.hide()}},{key:"add",value:function(e){this.player.events.trigger("listadd",{audios:e}),"[object Array]"!==Object.prototype.toString.call(e)&&(e=[e]),e.map((function(e){return e.name=e.name||e.title||"Audio name",e.artist=e.artist||e.author||"Audio artist",e.cover=e.cover||e.pic,e.type=e.type||"normal",e}));var t=!(this.audios.length>1),r=0===this.audios.length;this.player.template.listOl.innerHTML+=(0,i.default)({theme:this.player.options.theme,audio:e,index:this.audios.length+1}),this.audios=this.audios.concat(e),t&&this.audios.length>1&&this.player.container.classList.add("aplayer-withlist"),this.player.randomOrder=a.default.randomOrder(this.audios.length),this.player.template.listCurs=this.player.container.querySelectorAll(".aplayer-list-cur"),this.player.template.listCurs[this.audios.length-1].style.backgroundColor=e.theme||this.player.options.theme,r&&("random"===this.player.options.order?this.switch(this.player.randomOrder[0]):this.switch(0))}},{key:"remove",value:function(e){if(this.player.events.trigger("listremove",{index:e}),this.audios[e])if(this.audios.length>1){var t=this.player.container.querySelectorAll(".aplayer-list li");t[e].remove(),this.audios.splice(e,1),this.player.lrc&&this.player.lrc.remove(e),e===this.index&&(this.audios[e]?this.switch(e):this.switch(e-1)),this.index>e&&this.index--;for(var r=e;r<t.length;r++)t[r].getElementsByClassName("aplayer-list-index")[0].textContent=r;1===this.audios.length&&this.player.container.classList.remove("aplayer-withlist"),this.player.template.listCurs=this.player.container.querySelectorAll(".aplayer-list-cur")}else this.clear()}},{key:"switch",value:function(e){if(this.player.events.trigger("listswitch",{index:e}),void 0!==e&&this.audios[e]){this.index=e;var t=this.audios[this.index];this.player.template.pic.style.backgroundImage=t.cover?"url('"+t.cover+"')":"",this.player.theme(this.audios[this.index].theme||this.player.options.theme,this.index,!1),this.player.template.title.innerHTML=t.name,this.player.template.author.innerHTML=t.artist?" - "+t.artist:"";var r=this.player.container.getElementsByClassName("aplayer-list-light")[0];r&&r.classList.remove("aplayer-list-light"),this.player.container.querySelectorAll(".aplayer-list li")[this.index].classList.add("aplayer-list-light"),(0,o.default)(33*this.index,500,null,this.player.template.listOl),this.player.setAudio(t),this.player.lrc&&this.player.lrc.switch(this.index),this.player.lrc&&this.player.lrc.update(0),1!==this.player.duration&&(this.player.template.dtime.innerHTML=a.default.secondToTime(this.player.duration))}}},{key:"clear",value:function(){this.player.events.trigger("listclear"),this.index=0,this.player.container.classList.remove("aplayer-withlist"),this.player.pause(),this.audios=[],this.player.lrc&&this.player.lrc.clear(),this.player.audio.src="",this.player.template.listOl.innerHTML="",this.player.template.pic.style.backgroundImage="",this.player.theme(this.player.options.theme,this.index,!1),this.player.template.title.innerHTML="No audio",this.player.template.author.innerHTML="",this.player.bar.set("loaded",0,"width"),this.player.template.dtime.innerHTML=a.default.secondToTime(0)}}]),e}();t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.events={},this.audioEvents=["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","mozaudioavailable","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],this.playerEvents=["destroy","listshow","listhide","listadd","listremove","listswitch","listclear","noticeshow","noticehide","lrcshow","lrchide"]}return n(e,[{key:"on",value:function(e,t){this.type(e)&&"function"==typeof t&&(this.events[e]||(this.events[e]=[]),this.events[e].push(t))}},{key:"trigger",value:function(e,t){if(this.events[e]&&this.events[e].length)for(var r=0;r<this.events[e].length;r++)this.events[e][r](t)}},{key:"type",value:function(e){return-1!==this.playerEvents.indexOf(e)?"player":-1!==this.audioEvents.indexOf(e)?"audio":(console.error("Unknown event name: "+e),null)}}]),e}();t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.player=t,window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},this.types=["loading"],this.init()}return n(e,[{key:"init",value:function(){var e=this;this.types.forEach((function(t){e["init"+t+"Checker"]()}))}},{key:"initloadingChecker",value:function(){var e=this,t=0,r=0,n=!1;this.loadingChecker=setInterval((function(){e.enableloadingChecker&&(r=e.player.audio.currentTime,n||r!==t||e.player.audio.paused||(e.player.container.classList.add("aplayer-loading"),n=!0),n&&r>t&&!e.player.audio.paused&&(e.player.container.classList.remove("aplayer-loading"),n=!1),t=r)}),100)}},{key:"enable",value:function(e){this["enable"+e+"Checker"]=!0,"fps"===e&&this.initfpsChecker()}},{key:"disable",value:function(e){this["enable"+e+"Checker"]=!1}},{key:"destroy",value:function(){var e=this;this.types.forEach((function(t){e["enable"+t+"Checker"]=!1,e[t+"Checker"]&&clearInterval(e[t+"Checker"])}))}}]),e}();t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=o(r(0)),a=o(r(3));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.player=t,this.initPlayButton(),this.initPlayBar(),this.initOrderButton(),this.initLoopButton(),this.initMenuButton(),i.default.isMobile||this.initVolumeButton(),this.initMiniSwitcher(),this.initSkipButton(),this.initLrcButton()}return n(e,[{key:"initPlayButton",value:function(){var e=this;this.player.template.pic.addEventListener("click",(function(){e.player.toggle()}))}},{key:"initPlayBar",value:function(){var e=this,t=function(t){var r=((t.clientX||t.changedTouches[0].clientX)-i.default.getElementViewLeft(e.player.template.barWrap))/e.player.template.barWrap.clientWidth;r=Math.max(r,0),r=Math.min(r,1),e.player.bar.set("played",r,"width"),e.player.lrc&&e.player.lrc.update(r*e.player.duration),e.player.template.ptime.innerHTML=i.default.secondToTime(r*e.player.duration)},r=function r(n){document.removeEventListener(i.default.nameMap.dragEnd,r),document.removeEventListener(i.default.nameMap.dragMove,t);var a=((n.clientX||n.changedTouches[0].clientX)-i.default.getElementViewLeft(e.player.template.barWrap))/e.player.template.barWrap.clientWidth;a=Math.max(a,0),a=Math.min(a,1),e.player.bar.set("played",a,"width"),e.player.seek(e.player.bar.get("played","width")*e.player.duration),e.player.disableTimeupdate=!1};this.player.template.barWrap.addEventListener(i.default.nameMap.dragStart,(function(){e.player.disableTimeupdate=!0,document.addEventListener(i.default.nameMap.dragMove,t),document.addEventListener(i.default.nameMap.dragEnd,r)}))}},{key:"initVolumeButton",value:function(){var e=this;this.player.template.volumeButton.addEventListener("click",(function(){e.player.audio.muted?(e.player.audio.muted=!1,e.player.switchVolumeIcon(),e.player.bar.set("volume",e.player.volume(),"height")):(e.player.audio.muted=!0,e.player.switchVolumeIcon(),e.player.bar.set("volume",0,"height"))}));var t=function(t){var r=1-((t.clientY||t.changedTouches[0].clientY)-i.default.getElementViewTop(e.player.template.volumeBar,e.player.options.fixed))/e.player.template.volumeBar.clientHeight;r=Math.max(r,0),r=Math.min(r,1),e.player.volume(r)},r=function r(n){e.player.template.volumeBarWrap.classList.remove("aplayer-volume-bar-wrap-active"),document.removeEventListener(i.default.nameMap.dragEnd,r),document.removeEventListener(i.default.nameMap.dragMove,t);var a=1-((n.clientY||n.changedTouches[0].clientY)-i.default.getElementViewTop(e.player.template.volumeBar,e.player.options.fixed))/e.player.template.volumeBar.clientHeight;a=Math.max(a,0),a=Math.min(a,1),e.player.volume(a)};this.player.template.volumeBarWrap.addEventListener(i.default.nameMap.dragStart,(function(){e.player.template.volumeBarWrap.classList.add("aplayer-volume-bar-wrap-active"),document.addEventListener(i.default.nameMap.dragMove,t),document.addEventListener(i.default.nameMap.dragEnd,r)}))}},{key:"initOrderButton",value:function(){var e=this;this.player.template.order.addEventListener("click",(function(){"list"===e.player.options.order?(e.player.options.order="random",e.player.template.order.innerHTML=a.default.orderRandom):"random"===e.player.options.order&&(e.player.options.order="list",e.player.template.order.innerHTML=a.default.orderList)}))}},{key:"initLoopButton",value:function(){var e=this;this.player.template.loop.addEventListener("click",(function(){e.player.list.audios.length>1?"one"===e.player.options.loop?(e.player.options.loop="none",e.player.template.loop.innerHTML=a.default.loopNone):"none"===e.player.options.loop?(e.player.options.loop="all",e.player.template.loop.innerHTML=a.default.loopAll):"all"===e.player.options.loop&&(e.player.options.loop="one",e.player.template.loop.innerHTML=a.default.loopOne):"one"===e.player.options.loop||"all"===e.player.options.loop?(e.player.options.loop="none",e.player.template.loop.innerHTML=a.default.loopNone):"none"===e.player.options.loop&&(e.player.options.loop="all",e.player.template.loop.innerHTML=a.default.loopAll)}))}},{key:"initMenuButton",value:function(){var e=this;this.player.template.menu.addEventListener("click",(function(){e.player.list.toggle()}))}},{key:"initMiniSwitcher",value:function(){var e=this;this.player.template.miniSwitcher.addEventListener("click",(function(){e.player.setMode("mini"===e.player.mode?"normal":"mini")}))}},{key:"initSkipButton",value:function(){var e=this;this.player.template.skipBackButton.addEventListener("click",(function(){e.player.skipBack()})),this.player.template.skipForwardButton.addEventListener("click",(function(){e.player.skipForward()})),this.player.template.skipPlayButton.addEventListener("click",(function(){e.player.toggle()}))}},{key:"initLrcButton",value:function(){var e=this;this.player.template.lrcButton.addEventListener("click",(function(){e.player.template.lrcButton.classList.contains("aplayer-icon-lrc-inactivity")?(e.player.template.lrcButton.classList.remove("aplayer-icon-lrc-inactivity"),e.player.lrc&&e.player.lrc.show()):(e.player.template.lrcButton.classList.add("aplayer-icon-lrc-inactivity"),e.player.lrc&&e.player.lrc.hide())}))}}]),e}();t.default=s},function(e,t,r){var n=r(2);e.exports=function(e){"use strict";e=e||{};var t="",r=n.$each,i=e.lyrics,a=(e.$value,e.$index,n.$escape);return r(i,(function(e,r){t+="\n    <p",0===r&&(t+=' class="aplayer-lrc-current"'),t+=">",t+=a(e[1]),t+="</p>\n"})),t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=(n=r(10))&&n.__esModule?n:{default:n},o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t.container,this.async=t.async,this.player=t.player,this.parsed=[],this.index=0,this.current=[]}return i(e,[{key:"show",value:function(){this.player.events.trigger("lrcshow"),this.player.template.lrcWrap.classList.remove("aplayer-lrc-hide")}},{key:"hide",value:function(){this.player.events.trigger("lrchide"),this.player.template.lrcWrap.classList.add("aplayer-lrc-hide")}},{key:"toggle",value:function(){this.player.template.lrcWrap.classList.contains("aplayer-lrc-hide")?this.show():this.hide()}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.player.audio.currentTime;if(this.index>this.current.length-1||e<this.current[this.index][0]||!this.current[this.index+1]||e>=this.current[this.index+1][0])for(var t=0;t<this.current.length;t++)e>=this.current[t][0]&&(!this.current[t+1]||e<this.current[t+1][0])&&(this.index=t,this.container.style.transform="translateY("+16*-this.index+"px)",this.container.style.webkitTransform="translateY("+16*-this.index+"px)",this.container.getElementsByClassName("aplayer-lrc-current")[0].classList.remove("aplayer-lrc-current"),this.container.getElementsByTagName("p")[t].classList.add("aplayer-lrc-current"))}},{key:"switch",value:function(e){var t=this;if(!this.parsed[e])if(this.async){this.parsed[e]=[["00:00","Loading"]];var r=new XMLHttpRequest;r.onreadystatechange=function(){e===t.player.list.index&&4===r.readyState&&(r.status>=200&&r.status<300||304===r.status?t.parsed[e]=t.parse(r.responseText):(t.player.notice("LRC file request fails: status "+r.status),t.parsed[e]=[["00:00","Not available"]]),t.container.innerHTML=(0,a.default)({lyrics:t.parsed[e]}),t.update(0),t.current=t.parsed[e])};var n=this.player.list.audios[e].lrc;r.open("get",n,!0),r.send(null)}else this.player.list.audios[e].lrc?this.parsed[e]=this.parse(this.player.list.audios[e].lrc):this.parsed[e]=[["00:00","Not available"]];this.container.innerHTML=(0,a.default)({lyrics:this.parsed[e]}),this.update(0),this.current=this.parsed[e]}},{key:"parse",value:function(e){if(e){for(var t=(e=e.replace(/([^\]^\n])\[/g,(function(e,t){return t+"\n["}))).split("\n"),r=[],n=t.length,i=0;i<n;i++){var a=t[i].match(/\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/g),o=t[i].replace(/.*\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/g,"").replace(/<(\d{2}):(\d{2})(\.(\d{2,3}))?>/g,"").replace(/^\s+|\s+$/g,"");if(a)for(var s=a.length,u=0;u<s;u++){var c=/\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/.exec(a[u]),l=60*c[1]+parseInt(c[2])+(c[4]?parseInt(c[4])/(2===(c[4]+"").length?100:1e3):0);r.push([l,o])}}return(r=r.filter((function(e){return e[1]}))).sort((function(e,t){return e[0]-t[0]})),r}return[]}},{key:"remove",value:function(e){this.parsed.splice(e,1)}},{key:"clear",value:function(){this.parsed=[],this.container.innerHTML=""}}]),e}();t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=(n=r(0))&&n.__esModule?n:{default:n},o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.storageName=t.options.storageName,this.data=JSON.parse(a.default.storage.get(this.storageName)),this.data||(this.data={}),this.data.volume=this.data.volume||t.options.volume}return i(e,[{key:"get",value:function(e){return this.data[e]}},{key:"set",value:function(e,t){this.data[e]=t,a.default.storage.set(this.storageName,JSON.stringify(this.data))}}]),e}();t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.elements={},this.elements.volume=t.volume,this.elements.played=t.played,this.elements.loaded=t.loaded}return n(e,[{key:"set",value:function(e,t,r){t=Math.max(t,0),t=Math.min(t,1),this.elements[e].style[r]=100*t+"%"}},{key:"get",value:function(e,t){return parseFloat(this.elements[e].style[t])/100}}]),e}();t.default=i},function(e,t,r){"use strict";(function(t){e.exports=!1;try{e.exports="[object process]"===Object.prototype.toString.call(t.process)}catch(e){}}).call(this,r(4))},function(e,t,r){"use strict";(function(t){var n=r(14),i=Object.create(n?t:window),a=/["&'<>]/;i.$escape=function(e){return function(e){var t=""+e,r=a.exec(t);if(!r)return e;var n="",i=void 0,o=void 0,s=void 0;for(i=r.index,o=0;i<t.length;i++){switch(t.charCodeAt(i)){case 34:s="&#34;";break;case 38:s="&#38;";break;case 39:s="&#39;";break;case 60:s="&#60;";break;case 62:s="&#62;";break;default:continue}o!==i&&(n+=t.substring(o,i)),o=i+1,n+=s}return o!==i?n+t.substring(o,i):n}(function e(t){return"string"!=typeof t&&(t=null==t?"":"function"==typeof t?e(t.call(t)):JSON.stringify(t)),t}(e))},i.$each=function(e,t){if(Array.isArray(e))for(var r=0,n=e.length;r<n;r++)t(e[r],r);else for(var i in e)t(e[i],i)},e.exports=i}).call(this,r(4))},function(e,t,r){var n=r(2);e.exports=function(e){"use strict";var t="",i=(e=e||{}).options,a=e.cover,o=n.$escape,s=e.icons,u=function(e){return t+=e},c=e.getObject;return e.theme,e.audio,e.index,i.fixed?(t+='\n<div class="aplayer-list',i.listFolded&&(t+=" aplayer-list-hide"),t+='"',i.listMaxHeight&&(t+=' style="max-height: ',t+=o(i.listMaxHeight),t+='"'),t+=">\n    <ol",i.listMaxHeight&&(t+=' style="max-height: ',t+=o(i.listMaxHeight),t+='"'),t+=">\n        ",u(r(1)(c({theme:i.theme,audio:i.audio,index:1}))),t+='\n    </ol>\n</div>\n<div class="aplayer-body">\n    <div class="aplayer-pic" style="',a&&(t+="background-image: url(&quot;",t+=o(a),t+="&quot;);"),t+="background-color: ",t+=o(i.theme),t+=';">\n        <div class="aplayer-button aplayer-play">',t+=s.play,t+='</div>\n    </div>\n    <div class="aplayer-info" style="display: none;">\n        <div class="aplayer-music">\n            <span class="aplayer-title">No audio</span>\n            <span class="aplayer-author"></span>\n        </div>\n        <div class="aplayer-controller">\n            <div class="aplayer-bar-wrap">\n                <div class="aplayer-bar">\n                    <div class="aplayer-loaded" style="width: 0"></div>\n                    <div class="aplayer-played" style="width: 0; background: ',t+=o(i.theme),t+=';">\n                        <span class="aplayer-thumb" style="background: ',t+=o(i.theme),t+=';">\n                            <span class="aplayer-loading-icon">',t+=s.loading,t+='</span>\n                        </span>\n                    </div>\n                </div>\n            </div>\n            <div class="aplayer-time">\n                <span class="aplayer-time-inner">\n                    <span class="aplayer-ptime">00:00</span> / <span class="aplayer-dtime">00:00</span>\n                </span>\n                <span class="aplayer-icon aplayer-icon-back">\n                    ',t+=s.skip,t+='\n                </span>\n                <span class="aplayer-icon aplayer-icon-play">\n                    ',t+=s.play,t+='\n                </span>\n                <span class="aplayer-icon aplayer-icon-forward">\n                    ',t+=s.skip,t+='\n                </span>\n                <div class="aplayer-volume-wrap">\n                    <button type="button" class="aplayer-icon aplayer-icon-volume-down">\n                        ',t+=s.volumeDown,t+='\n                    </button>\n                    <div class="aplayer-volume-bar-wrap">\n                        <div class="aplayer-volume-bar">\n                            <div class="aplayer-volume" style="height: 80%; background: ',t+=o(i.theme),t+=';"></div>\n                        </div>\n                    </div>\n                </div>\n                <button type="button" class="aplayer-icon aplayer-icon-order">\n                    ',"list"===i.order?t+=s.orderList:"random"===i.order&&(t+=s.orderRandom),t+='\n                </button>\n                <button type="button" class="aplayer-icon aplayer-icon-loop">\n                    ',"one"===i.loop?t+=s.loopOne:"all"===i.loop?t+=s.loopAll:"none"===i.loop&&(t+=s.loopNone),t+='\n                </button>\n                <button type="button" class="aplayer-icon aplayer-icon-menu">\n                    ',t+=s.menu,t+='\n                </button>\n                <button type="button" class="aplayer-icon aplayer-icon-lrc">\n                    ',t+=s.lrc,t+='\n                </button>\n            </div>\n        </div>\n    </div>\n    <div class="aplayer-notice"></div>\n    <div class="aplayer-miniswitcher"><button class="aplayer-icon">',t+=s.right,t+='</button></div>\n</div>\n<div class="aplayer-lrc">\n    <div class="aplayer-lrc-contents" style="transform: translateY(0); -webkit-transform: translateY(0);"></div>\n</div>\n'):(t+='\n<div class="aplayer-body">\n    <div class="aplayer-pic" style="',a&&(t+="background-image: url(&quot;",t+=o(a),t+="&quot;);"),t+="background-color: ",t+=o(i.theme),t+=';">\n        <div class="aplayer-button aplayer-play">',t+=s.play,t+='</div>\n    </div>\n    <div class="aplayer-info">\n        <div class="aplayer-music">\n            <span class="aplayer-title">No audio</span>\n            <span class="aplayer-author"></span>\n        </div>\n        <div class="aplayer-lrc">\n            <div class="aplayer-lrc-contents" style="transform: translateY(0); -webkit-transform: translateY(0);"></div>\n        </div>\n        <div class="aplayer-controller">\n            <div class="aplayer-bar-wrap">\n                <div class="aplayer-bar">\n                    <div class="aplayer-loaded" style="width: 0"></div>\n                    <div class="aplayer-played" style="width: 0; background: ',t+=o(i.theme),t+=';">\n                        <span class="aplayer-thumb" style="background: ',t+=o(i.theme),t+=';">\n                            <span class="aplayer-loading-icon">',t+=s.loading,t+='</span>\n                        </span>\n                    </div>\n                </div>\n            </div>\n            <div class="aplayer-time">\n                <span class="aplayer-time-inner">\n                    <span class="aplayer-ptime">00:00</span> / <span class="aplayer-dtime">00:00</span>\n                </span>\n                <span class="aplayer-icon aplayer-icon-back">\n                    ',t+=s.skip,t+='\n                </span>\n                <span class="aplayer-icon aplayer-icon-play">\n                    ',t+=s.play,t+='\n                </span>\n                <span class="aplayer-icon aplayer-icon-forward">\n                    ',t+=s.skip,t+='\n                </span>\n                <div class="aplayer-volume-wrap">\n                    <button type="button" class="aplayer-icon aplayer-icon-volume-down">\n                        ',t+=s.volumeDown,t+='\n                    </button>\n                    <div class="aplayer-volume-bar-wrap">\n                        <div class="aplayer-volume-bar">\n                            <div class="aplayer-volume" style="height: 80%; background: ',t+=o(i.theme),t+=';"></div>\n                        </div>\n                    </div>\n                </div>\n                <button type="button" class="aplayer-icon aplayer-icon-order">\n                    ',"list"===i.order?t+=s.orderList:"random"===i.order&&(t+=s.orderRandom),t+='\n                </button>\n                <button type="button" class="aplayer-icon aplayer-icon-loop">\n                    ',"one"===i.loop?t+=s.loopOne:"all"===i.loop?t+=s.loopAll:"none"===i.loop&&(t+=s.loopNone),t+='\n                </button>\n                <button type="button" class="aplayer-icon aplayer-icon-menu">\n                    ',t+=s.menu,t+='\n                </button>\n                <button type="button" class="aplayer-icon aplayer-icon-lrc">\n                    ',t+=s.lrc,t+='\n                </button>\n            </div>\n        </div>\n    </div>\n    <div class="aplayer-notice"></div>\n    <div class="aplayer-miniswitcher"><button class="aplayer-icon">',t+=s.right,t+='</button></div>\n</div>\n<div class="aplayer-list',i.listFolded&&(t+=" aplayer-list-hide"),t+='"',i.listMaxHeight&&(t+=' style="max-height: ',t+=o(i.listMaxHeight),t+='"'),t+=">\n    <ol",i.listMaxHeight&&(t+=' style="max-height: ',t+=o(i.listMaxHeight),t+='"'),t+=">\n        ",u(r(1)(c({theme:i.theme,audio:i.audio,index:1}))),t+="\n    </ol>\n</div>\n"),t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=o(r(3)),a=o(r(16));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t.container,this.options=t.options,this.randomOrder=t.randomOrder,this.init()}return n(e,[{key:"init",value:function(){var e="";this.options.audio.length&&(e="random"===this.options.order?this.options.audio[this.randomOrder[0]].cover:this.options.audio[0].cover),this.container.innerHTML=(0,a.default)({options:this.options,icons:i.default,cover:e,getObject:function(e){return e}}),this.lrc=this.container.querySelector(".aplayer-lrc-contents"),this.lrcWrap=this.container.querySelector(".aplayer-lrc"),this.ptime=this.container.querySelector(".aplayer-ptime"),this.info=this.container.querySelector(".aplayer-info"),this.time=this.container.querySelector(".aplayer-time"),this.barWrap=this.container.querySelector(".aplayer-bar-wrap"),this.button=this.container.querySelector(".aplayer-button"),this.body=this.container.querySelector(".aplayer-body"),this.list=this.container.querySelector(".aplayer-list"),this.listOl=this.container.querySelector(".aplayer-list ol"),this.listCurs=this.container.querySelectorAll(".aplayer-list-cur"),this.played=this.container.querySelector(".aplayer-played"),this.loaded=this.container.querySelector(".aplayer-loaded"),this.thumb=this.container.querySelector(".aplayer-thumb"),this.volume=this.container.querySelector(".aplayer-volume"),this.volumeBar=this.container.querySelector(".aplayer-volume-bar"),this.volumeButton=this.container.querySelector(".aplayer-time button"),this.volumeBarWrap=this.container.querySelector(".aplayer-volume-bar-wrap"),this.loop=this.container.querySelector(".aplayer-icon-loop"),this.order=this.container.querySelector(".aplayer-icon-order"),this.menu=this.container.querySelector(".aplayer-icon-menu"),this.pic=this.container.querySelector(".aplayer-pic"),this.title=this.container.querySelector(".aplayer-title"),this.author=this.container.querySelector(".aplayer-author"),this.dtime=this.container.querySelector(".aplayer-dtime"),this.notice=this.container.querySelector(".aplayer-notice"),this.miniSwitcher=this.container.querySelector(".aplayer-miniswitcher"),this.skipBackButton=this.container.querySelector(".aplayer-icon-back"),this.skipForwardButton=this.container.querySelector(".aplayer-icon-forward"),this.skipPlayButton=this.container.querySelector(".aplayer-icon-play"),this.lrcButton=this.container.querySelector(".aplayer-icon-lrc")}}]),e}();t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={container:e.element||document.getElementsByClassName("aplayer")[0],mini:e.narrow||e.fixed||!1,fixed:!1,autoplay:!1,mutex:!0,lrcType:e.showlrc||e.lrc||0,preload:"auto",theme:"#b7daff",loop:"all",order:"list",volume:.7,listFolded:e.fixed,listMaxHeight:e.listmaxheight||"250px",audio:e.music||[],storageName:"aplayer-setting"};for(var r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r]);return"[object Array]"!==Object.prototype.toString.call(e.audio)&&(e.audio=[e.audio]),e.audio.map((function(e){return e.name=e.name||e.title||"Audio name",e.artist=e.artist||e.author||"Audio artist",e.cover=e.cover||e.pic,e.type=e.type||"normal",e})),e.audio.length<=1&&"one"===e.loop&&(e.loop="all"),e}},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M26.667 5.333h-21.333c-0 0-0.001 0-0.001 0-1.472 0-2.666 1.194-2.666 2.666 0 0 0 0.001 0 0.001v-0 16c0 0 0 0.001 0 0.001 0 1.472 1.194 2.666 2.666 2.666 0 0 0.001 0 0.001 0h21.333c0 0 0.001 0 0.001 0 1.472 0 2.666-1.194 2.666-2.666 0-0 0-0.001 0-0.001v0-16c0-0 0-0.001 0-0.001 0-1.472-1.194-2.666-2.666-2.666-0 0-0.001 0-0.001 0h0zM5.333 16h5.333v2.667h-5.333v-2.667zM18.667 24h-13.333v-2.667h13.333v2.667zM26.667 24h-5.333v-2.667h5.333v2.667zM26.667 18.667h-13.333v-2.667h13.333v2.667z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M25.468 6.947c-0.326-0.172-0.724-0.151-1.030 0.057l-6.438 4.38v-3.553c0-0.371-0.205-0.71-0.532-0.884-0.326-0.172-0.724-0.151-1.030 0.057l-12 8.164c-0.274 0.186-0.438 0.496-0.438 0.827s0.164 0.641 0.438 0.827l12 8.168c0.169 0.115 0.365 0.174 0.562 0.174 0.16 0 0.321-0.038 0.468-0.116 0.327-0.173 0.532-0.514 0.532-0.884v-3.556l6.438 4.382c0.169 0.115 0.365 0.174 0.562 0.174 0.16 0 0.321-0.038 0.468-0.116 0.327-0.173 0.532-0.514 0.532-0.884v-16.333c0-0.371-0.205-0.71-0.532-0.884z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M22 16l-10.105-10.6-1.895 1.987 8.211 8.613-8.211 8.612 1.895 1.988 8.211-8.613z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M4 16c0-6.6 5.4-12 12-12s12 5.4 12 12c0 1.2-0.8 2-2 2s-2-0.8-2-2c0-4.4-3.6-8-8-8s-8 3.6-8 8 3.6 8 8 8c1.2 0 2 0.8 2 2s-0.8 2-2 2c-6.6 0-12-5.4-12-12z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 29 32"><path d="M2.667 7.027l1.707-1.693 22.293 22.293-1.693 1.707-4-4h-11.64v4l-5.333-5.333 5.333-5.333v4h8.973l-8.973-8.973v0.973h-2.667v-3.64l-4-4zM22.667 17.333h2.667v5.573l-2.667-2.667v-2.907zM22.667 6.667v-4l5.333 5.333-5.333 5.333v-4h-10.907l-2.667-2.667h13.573z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 33 32"><path d="M9.333 9.333h13.333v4l5.333-5.333-5.333-5.333v4h-16v8h2.667v-5.333zM22.667 22.667h-13.333v-4l-5.333 5.333 5.333 5.333v-4h16v-8h-2.667v5.333zM17.333 20v-8h-1.333l-2.667 1.333v1.333h2v5.333h2z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 29 32"><path d="M9.333 9.333h13.333v4l5.333-5.333-5.333-5.333v4h-16v8h2.667v-5.333zM22.667 22.667h-13.333v-4l-5.333 5.333 5.333 5.333v-4h16v-8h-2.667v5.333z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 22 32"><path d="M20.8 14.4q0.704 0 1.152 0.48t0.448 1.12-0.48 1.12-1.12 0.48h-19.2q-0.64 0-1.12-0.48t-0.48-1.12 0.448-1.12 1.152-0.48h19.2zM1.6 11.2q-0.64 0-1.12-0.48t-0.48-1.12 0.448-1.12 1.152-0.48h19.2q0.704 0 1.152 0.48t0.448 1.12-0.48 1.12-1.12 0.48h-19.2zM20.8 20.8q0.704 0 1.152 0.48t0.448 1.12-0.48 1.12-1.12 0.48h-19.2q-0.64 0-1.12-0.48t-0.48-1.12 0.448-1.12 1.152-0.48h19.2z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M0.622 18.334h19.54v7.55l11.052-9.412-11.052-9.413v7.549h-19.54v3.725z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M22.667 4l7 6-7 6 7 6-7 6v-4h-3.653l-3.76-3.76 2.827-2.827 2.587 2.587h2v-8h-2l-12 12h-6v-4h4.347l12-12h3.653v-4zM2.667 8h6l3.76 3.76-2.827 2.827-2.587-2.587h-4.347v-4z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 28 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 28 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 28 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528zM25.152 16q0 2.72-1.536 5.056t-4 3.36q-0.256 0.096-0.448 0.096-0.48 0-0.832-0.352t-0.32-0.8q0-0.704 0.672-1.056 1.024-0.512 1.376-0.8 1.312-0.96 2.048-2.4t0.736-3.104-0.736-3.104-2.048-2.4q-0.352-0.288-1.376-0.8-0.672-0.352-0.672-1.056 0-0.448 0.32-0.8t0.8-0.352q0.224 0 0.48 0.096 2.496 1.056 4 3.36t1.536 5.056zM29.728 16q0 4.096-2.272 7.552t-6.048 5.056q-0.224 0.096-0.448 0.096-0.48 0-0.832-0.352t-0.32-0.8q0-0.64 0.704-1.056 0.128-0.064 0.384-0.192t0.416-0.192q0.8-0.448 1.44-0.896 2.208-1.632 3.456-4.064t1.216-5.152-1.216-5.152-3.456-4.064q-0.64-0.448-1.44-0.896-0.128-0.096-0.416-0.192t-0.384-0.192q-0.704-0.416-0.704-1.056 0-0.448 0.32-0.8t0.832-0.352q0.224 0 0.448 0.096 3.776 1.632 6.048 5.056t2.272 7.552z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 17 32"><path d="M14.080 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048zM2.88 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 16 31"><path d="M15.552 15.168q0.448 0.32 0.448 0.832 0 0.448-0.448 0.768l-13.696 8.512q-0.768 0.512-1.312 0.192t-0.544-1.28v-16.448q0-0.96 0.544-1.28t1.312 0.192z"></path></svg>'},function(e,t,r){"use strict";var n,i,a=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var c,l=[],f=!1,p=-1;function d(){f&&c&&(f=!1,c.length?l=c.concat(l):p=-1,l.length&&h())}function h(){if(!f){var e=u(d);f=!0;for(var t=l.length;t;){for(c=l,l=[];++p<t;)c&&c[p].run();p=-1,t=l.length}c=null,f=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function y(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new m(e,t)),1!==l.length||f||u(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=y,a.addListener=y,a.once=y,a.off=y,a.removeListener=y,a.removeAllListeners=y,a.emit=y,a.prependListener=y,a.prependOnceListener=y,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t,r){"use strict";(function(e,t){!function(e,r){if(!e.setImmediate){var n,i,a,o,s,u=1,c={},l=!1,f=e.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick((function(){h(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?(o="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&h(+t.data.slice(o.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),n=function(t){e.postMessage(o+t,"*")}):e.MessageChannel?((a=new MessageChannel).port1.onmessage=function(e){h(e.data)},n=function(e){a.port2.postMessage(e)}):f&&"onreadystatechange"in f.createElement("script")?(i=f.documentElement,n=function(e){var t=f.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):n=function(e){setTimeout(h,0,e)},p.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var i={callback:e,args:t};return c[u]=i,n(u),u++},p.clearImmediate=d}function d(e){delete c[e]}function h(e){if(l)setTimeout(h,0,e);else{var t=c[e];if(t){l=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(void 0,r)}}(t)}finally{d(e),l=!1}}}}}("undefined"==typeof self?void 0===e?void 0:e:self)}).call(this,r(4),r(34))},function(e,t,r){"use strict";var n=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(n.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new i(n.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},r(35),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e,t,r){"use strict";(function(t){var r="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(e){return s(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":s(e)},n=setTimeout;function i(){}function a(e){if(!(this instanceof a))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function o(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,a._immediateFn((function(){var r=1===e._state?t.onFulfilled:t.onRejected;if(null!==r){var n;try{n=r(e._value)}catch(e){return void c(t.promise,e)}u(t.promise,n)}else(1===e._state?u:c)(t.promise,e._value)}))):e._deferreds.push(t)}function u(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===(void 0===t?"undefined":r(t))||"function"==typeof t)){var n=t.then;if(t instanceof a)return e._state=3,e._value=t,void l(e);if("function"==typeof n)return void f((i=n,o=t,function(){i.apply(o,arguments)}),e)}e._state=1,e._value=t,l(e)}catch(t){c(e,t)}var i,o}function c(e,t){e._state=2,e._value=t,l(e)}function l(e){2===e._state&&0===e._deferreds.length&&a._immediateFn((function(){e._handled||a._unhandledRejectionFn(e._value)}));for(var t=0,r=e._deferreds.length;t<r;t++)o(e,e._deferreds[t]);e._deferreds=null}function f(e,t){var r=!1;try{e((function(e){r||(r=!0,u(t,e))}),(function(e){r||(r=!0,c(t,e))}))}catch(e){if(r)return;r=!0,c(t,e)}}a.prototype.catch=function(e){return this.then(null,e)},a.prototype.then=function(e,t){var r=new this.constructor(i);return o(this,new function(e,t,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=r}(e,t,r)),r},a.prototype.finally=function(e){var t=this.constructor;return this.then((function(r){return t.resolve(e()).then((function(){return r}))}),(function(r){return t.resolve(e()).then((function(){return t.reject(r)}))}))},a.all=function(e){return new a((function(t,n){if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);var a=i.length;function o(e,s){try{if(s&&("object"===(void 0===s?"undefined":r(s))||"function"==typeof s)){var u=s.then;if("function"==typeof u)return void u.call(s,(function(t){o(e,t)}),n)}i[e]=s,0==--a&&t(i)}catch(e){n(e)}}for(var s=0;s<i.length;s++)o(s,i[s])}))},a.resolve=function(e){return e&&"object"===(void 0===e?"undefined":r(e))&&e.constructor===a?e:new a((function(t){t(e)}))},a.reject=function(e){return new a((function(t,r){r(e)}))},a.race=function(e){return new a((function(t,r){for(var n=0,i=e.length;n<i;n++)e[n].then(t,r)}))},a._immediateFn="function"==typeof t&&function(e){t(e)}||function(e){n(e,0)},a._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},e.exports=a}).call(this,r(36).setImmediate)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=y(r(37)),a=y(r(0)),o=y(r(3)),s=y(r(18)),u=y(r(17)),c=y(r(13)),l=y(r(12)),f=y(r(11)),p=y(r(9)),d=y(r(8)),h=y(r(7)),m=y(r(6));function y(e){return e&&e.__esModule?e:{default:e}}var v=[],g=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=(0,s.default)(t),this.container=this.options.container,this.paused=!0,this.playedPromise=i.default.resolve(),this.mode="normal",this.randomOrder=a.default.randomOrder(this.options.audio.length),this.container.classList.add("aplayer"),this.options.lrcType&&!this.options.fixed&&this.container.classList.add("aplayer-withlrc"),this.options.audio.length>1&&this.container.classList.add("aplayer-withlist"),a.default.isMobile&&this.container.classList.add("aplayer-mobile"),this.arrow=this.container.offsetWidth<=300,this.arrow&&this.container.classList.add("aplayer-arrow"),this.container=this.options.container,2===this.options.lrcType||!0===this.options.lrcType)for(var r=this.container.getElementsByClassName("aplayer-lrc-content"),n=0;n<r.length;n++)this.options.audio[n]&&(this.options.audio[n].lrc=r[n].innerHTML);this.template=new u.default({container:this.container,options:this.options,randomOrder:this.randomOrder}),this.options.fixed&&(this.container.classList.add("aplayer-fixed"),this.template.body.style.width=this.template.body.offsetWidth-18+"px"),this.options.mini&&(this.setMode("mini"),this.template.info.style.display="block"),this.template.info.offsetWidth<200&&this.template.time.classList.add("aplayer-time-narrow"),this.options.lrcType&&(this.lrc=new f.default({container:this.template.lrc,async:3===this.options.lrcType,player:this})),this.events=new h.default,this.storage=new l.default(this),this.bar=new c.default(this.template),this.controller=new p.default(this),this.timer=new d.default(this),this.list=new m.default(this),this.initAudio(),this.bindEvents(),"random"===this.options.order?this.list.switch(this.randomOrder[0]):this.list.switch(0),this.options.autoplay&&this.play(),v.push(this)}return n(e,[{key:"initAudio",value:function(){var e=this;this.audio=document.createElement("audio"),this.audio.preload=this.options.preload;for(var t=function(t){e.audio.addEventListener(e.events.audioEvents[t],(function(r){e.events.trigger(e.events.audioEvents[t],r)}))},r=0;r<this.events.audioEvents.length;r++)t(r);this.volume(this.storage.get("volume"),!0)}},{key:"bindEvents",value:function(){var e=this;this.on("play",(function(){e.paused&&e.setUIPlaying()})),this.on("pause",(function(){e.paused||e.setUIPaused()})),this.on("timeupdate",(function(){if(!e.disableTimeupdate){e.bar.set("played",e.audio.currentTime/e.duration,"width"),e.lrc&&e.lrc.update();var t=a.default.secondToTime(e.audio.currentTime);e.template.ptime.innerHTML!==t&&(e.template.ptime.innerHTML=t)}})),this.on("durationchange",(function(){1!==e.duration&&(e.template.dtime.innerHTML=a.default.secondToTime(e.duration))})),this.on("progress",(function(){var t=e.audio.buffered.length?e.audio.buffered.end(e.audio.buffered.length-1)/e.duration:0;e.bar.set("loaded",t,"width")}));var t=void 0;this.on("error",(function(){e.list.audios.length>1?(e.notice("An audio error has occurred, player will skip forward in 2 seconds."),t=setTimeout((function(){e.skipForward(),e.paused||e.play()}),2e3)):1===e.list.audios.length&&e.notice("An audio error has occurred.")})),this.events.on("listswitch",(function(){t&&clearTimeout(t)})),this.on("ended",(function(){"none"===e.options.loop?"list"===e.options.order?e.list.index<e.list.audios.length-1?(e.list.switch((e.list.index+1)%e.list.audios.length),e.play()):(e.list.switch((e.list.index+1)%e.list.audios.length),e.pause()):"random"===e.options.order&&(e.randomOrder.indexOf(e.list.index)<e.randomOrder.length-1?(e.list.switch(e.nextIndex()),e.play()):(e.list.switch(e.nextIndex()),e.pause())):"one"===e.options.loop?(e.list.switch(e.list.index),e.play()):"all"===e.options.loop&&(e.skipForward(),e.play())}))}},{key:"setAudio",value:function(e){this.hls&&(this.hls.destroy(),this.hls=null);var t=e.type;this.options.customAudioType&&this.options.customAudioType[t]?"[object Function]"===Object.prototype.toString.call(this.options.customAudioType[t])?this.options.customAudioType[t](this.audio,e,this):console.error("Illegal customType: "+t):(t&&"auto"!==t||(t=/m3u8(#|\?|$)/i.exec(e.url)?"hls":"normal"),"hls"===t?Hls.isSupported()?(this.hls=new Hls,this.hls.loadSource(e.url),this.hls.attachMedia(this.audio)):this.audio.canPlayType("application/x-mpegURL")||this.audio.canPlayType("application/vnd.apple.mpegURL")?this.audio.src=e.url:this.notice("Error: HLS is not supported."):"normal"===t&&(this.audio.src=e.url)),this.seek(0),this.paused||this.audio.play()}},{key:"theme",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.list.audios[this.list.index].theme||this.options.theme,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.list.index;(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&this.list.audios[t]&&(this.list.audios[t].theme=e),this.template.listCurs[t]&&(this.template.listCurs[t].style.backgroundColor=e),t===this.list.index&&(this.template.pic.style.backgroundColor=e,this.template.played.style.background=e,this.template.thumb.style.background=e,this.template.volume.style.background=e)}},{key:"seek",value:function(e){e=Math.max(e,0),e=Math.min(e,this.duration),this.audio.currentTime=e,this.bar.set("played",e/this.duration,"width"),this.template.ptime.innerHTML=a.default.secondToTime(e)}},{key:"setUIPlaying",value:function(){var e=this;if(this.paused&&(this.paused=!1,this.template.button.classList.remove("aplayer-play"),this.template.button.classList.add("aplayer-pause"),this.template.button.innerHTML="",setTimeout((function(){e.template.button.innerHTML=o.default.pause}),100),this.template.skipPlayButton.innerHTML=o.default.pause),this.timer.enable("loading"),this.options.mutex)for(var t=0;t<v.length;t++)this!==v[t]&&v[t].pause()}},{key:"play",value:function(){var e=this;this.setUIPlaying();var t=this.audio.play();t&&t.catch((function(t){console.warn(t),"NotAllowedError"===t.name&&e.setUIPaused()}))}},{key:"setUIPaused",value:function(){var e=this;this.paused||(this.paused=!0,this.template.button.classList.remove("aplayer-pause"),this.template.button.classList.add("aplayer-play"),this.template.button.innerHTML="",setTimeout((function(){e.template.button.innerHTML=o.default.play}),100),this.template.skipPlayButton.innerHTML=o.default.play),this.container.classList.remove("aplayer-loading"),this.timer.disable("loading")}},{key:"pause",value:function(){this.setUIPaused(),this.audio.pause()}},{key:"switchVolumeIcon",value:function(){this.volume()>=.95?this.template.volumeButton.innerHTML=o.default.volumeUp:this.volume()>0?this.template.volumeButton.innerHTML=o.default.volumeDown:this.template.volumeButton.innerHTML=o.default.volumeOff}},{key:"volume",value:function(e,t){return e=parseFloat(e),isNaN(e)||(e=Math.max(e,0),e=Math.min(e,1),this.bar.set("volume",e,"height"),t||this.storage.set("volume",e),this.audio.volume=e,this.audio.muted&&(this.audio.muted=!1),this.switchVolumeIcon()),this.audio.muted?0:this.audio.volume}},{key:"on",value:function(e,t){this.events.on(e,t)}},{key:"toggle",value:function(){this.template.button.classList.contains("aplayer-play")?this.play():this.template.button.classList.contains("aplayer-pause")&&this.pause()}},{key:"switchAudio",value:function(e){this.list.switch(e)}},{key:"addAudio",value:function(e){this.list.add(e)}},{key:"removeAudio",value:function(e){this.list.remove(e)}},{key:"destroy",value:function(){v.splice(v.indexOf(this),1),this.pause(),this.container.innerHTML="",this.audio.src="",this.timer.destroy(),this.events.trigger("destroy")}},{key:"setMode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"normal";this.mode=e,"mini"===e?this.container.classList.add("aplayer-narrow"):"normal"===e&&this.container.classList.remove("aplayer-narrow")}},{key:"notice",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.8;this.template.notice.innerHTML=e,this.template.notice.style.opacity=n,this.noticeTime&&clearTimeout(this.noticeTime),this.events.trigger("noticeshow",{text:e}),r&&(this.noticeTime=setTimeout((function(){t.template.notice.style.opacity=0,t.events.trigger("noticehide")}),r))}},{key:"prevIndex",value:function(){if(!(this.list.audios.length>1))return 0;if("list"===this.options.order)return this.list.index-1<0?this.list.audios.length-1:this.list.index-1;if("random"===this.options.order){var e=this.randomOrder.indexOf(this.list.index);return 0===e?this.randomOrder[this.randomOrder.length-1]:this.randomOrder[e-1]}}},{key:"nextIndex",value:function(){if(!(this.list.audios.length>1))return 0;if("list"===this.options.order)return(this.list.index+1)%this.list.audios.length;if("random"===this.options.order){var e=this.randomOrder.indexOf(this.list.index);return e===this.randomOrder.length-1?this.randomOrder[0]:this.randomOrder[e+1]}}},{key:"skipBack",value:function(){this.list.switch(this.prevIndex())}},{key:"skipForward",value:function(){this.list.switch(this.nextIndex())}},{key:"duration",get:function(){return isNaN(this.audio.duration)?0:this.audio.duration}}],[{key:"version",get:function(){return"1.10.1"}}]),e}();t.default=g},,function(e,t,r){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(40);var n,i=(n=r(38))&&n.__esModule?n:{default:n};console.log("\n %c APlayer v1.10.1 af84efb %c http://aplayer.js.org \n","color: #fadfa3; background: #030307; padding:5px 0;","background: #fadfa3; padding:5px 0;"),t.default=i.default}]).default},"object"==s(t)&&"object"==s(e)?e.exports=o():(i=[],void 0===(a="function"==typeof(n=o)?n.apply(t,i):n)||(e.exports=a))},2867:(e,t,r)=>{e.exports=r(4322)},803:(e,t,r)=>{"use strict";var n=r(9814),i=r(6145),a=r(9537),o=r(6415),s=r(9210),u=r(8870),c=r(1511);e.exports=function(e){return new Promise((function(t,l){var f=e.data,p=e.headers;n.isFormData(f)&&delete p["Content-Type"];var d=new XMLHttpRequest;if(e.auth){var h=e.auth.username||"",m=e.auth.password||"";p.Authorization="Basic "+btoa(h+":"+m)}var y=o(e.baseURL,e.url);if(d.open(e.method.toUpperCase(),a(y,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in d?s(d.getAllResponseHeaders()):null,n={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:r,config:e,request:d};i(t,l,n),d=null}},d.onabort=function(){d&&(l(c("Request aborted",e,"ECONNABORTED",d)),d=null)},d.onerror=function(){l(c("Network Error",e,null,d)),d=null},d.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),l(c(t,e,"ECONNABORTED",d)),d=null},n.isStandardBrowserEnv()){var v=r(7970),g=(e.withCredentials||u(y))&&e.xsrfCookieName?v.read(e.xsrfCookieName):void 0;g&&(p[e.xsrfHeaderName]=g)}if("setRequestHeader"in d&&n.forEach(p,(function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete p[t]:d.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),e.responseType)try{d.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){d&&(d.abort(),l(e),d=null)})),void 0===f&&(f=null),d.send(f)}))}},4322:(e,t,r)=>{"use strict";var n=r(9814),i=r(1984),a=r(4874),o=r(1713);function s(e){var t=new a(e),r=i(a.prototype.request,t);return n.extend(r,a.prototype,t),n.extend(r,t),r}var u=s(r(1050));u.Axios=a,u.create=function(e){return s(o(u.defaults,e))},u.Cancel=r(455),u.CancelToken=r(462),u.isCancel=r(4652),u.all=function(e){return Promise.all(e)},u.spread=r(8396),e.exports=u,e.exports.default=u},455:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},462:(e,t,r)=>{"use strict";var n=r(455);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},4652:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},4874:(e,t,r)=>{"use strict";var n=r(9814),i=r(9537),a=r(962),o=r(7281),s=r(1713);function u(e){this.defaults=e,this.interceptors={request:new a,response:new a}}u.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[o,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)r=r.then(t.shift(),t.shift());return r},u.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,r){return this.request(n.merge(r||{},{method:e,url:t}))}})),n.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,r,i){return this.request(n.merge(i||{},{method:e,url:t,data:r}))}})),e.exports=u},962:(e,t,r)=>{"use strict";var n=r(9814);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},6415:(e,t,r)=>{"use strict";var n=r(6788),i=r(6188);e.exports=function(e,t){return e&&!n(t)?i(e,t):t}},1511:(e,t,r)=>{"use strict";var n=r(5474);e.exports=function(e,t,r,i,a){var o=new Error(e);return n(o,t,r,i,a)}},7281:(e,t,r)=>{"use strict";var n=r(9814),i=r(6072),a=r(4652),o=r(1050);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return s(e),t.data=i(t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(s(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},5474:e=>{"use strict";e.exports=function(e,t,r,n,i){return e.config=t,r&&(e.code=r),e.request=n,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},1713:(e,t,r)=>{"use strict";var n=r(9814);e.exports=function(e,t){t=t||{};var r={},i=["url","method","params","data"],a=["headers","auth","proxy"],o=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];n.forEach(i,(function(e){void 0!==t[e]&&(r[e]=t[e])})),n.forEach(a,(function(i){n.isObject(t[i])?r[i]=n.deepMerge(e[i],t[i]):void 0!==t[i]?r[i]=t[i]:n.isObject(e[i])?r[i]=n.deepMerge(e[i]):void 0!==e[i]&&(r[i]=e[i])})),n.forEach(o,(function(n){void 0!==t[n]?r[n]=t[n]:void 0!==e[n]&&(r[n]=e[n])}));var s=i.concat(a).concat(o),u=Object.keys(t).filter((function(e){return-1===s.indexOf(e)}));return n.forEach(u,(function(n){void 0!==t[n]?r[n]=t[n]:void 0!==e[n]&&(r[n]=e[n])})),r}},6145:(e,t,r)=>{"use strict";var n=r(1511);e.exports=function(e,t,r){var i=r.config.validateStatus;!i||i(r.status)?e(r):t(n("Request failed with status code "+r.status,r.config,null,r.request,r))}},6072:(e,t,r)=>{"use strict";var n=r(9814);e.exports=function(e,t,r){return n.forEach(r,(function(r){e=r(e,t)})),e}},1050:(e,t,r)=>{"use strict";var n=r(9814),i=r(517),a={"Content-Type":"application/x-www-form-urlencoded"};function o(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s,u={adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(s=r(803)),s),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(o(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(o(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){u.headers[e]=n.merge(a)})),e.exports=u},1984:e=>{"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},9537:(e,t,r)=>{"use strict";var n=r(9814);function i(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var a;if(r)a=r(t);else if(n.isURLSearchParams(t))a=t.toString();else{var o=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))})))})),a=o.join("&")}if(a){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},6188:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},7970:(e,t,r)=>{"use strict";var n=r(9814);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,i,a,o){var s=[];s.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(i)&&s.push("path="+i),n.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},6788:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},8870:(e,t,r)=>{"use strict";var n=r(9814);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=i(window.location.href),function(t){var r=n.isString(t)?i(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},517:(e,t,r)=>{"use strict";var n=r(9814);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},9210:(e,t,r)=>{"use strict";var n=r(9814),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,a,o={};return e?(n.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=n.trim(e.substr(0,a)).toLowerCase(),r=n.trim(e.substr(a+1)),t){if(o[t]&&i.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([r]):o[t]?o[t]+", "+r:r}})),o):o}},8396:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},9814:(e,t,r)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=r(1984),a=Object.prototype.toString;function o(e){return"[object Array]"===a.call(e)}function s(e){return void 0===e}function u(e){return null!==e&&"object"===n(e)}function c(e){return"[object Function]"===a.call(e)}function l(e,t){if(null!=e)if("object"!==n(e)&&(e=[e]),o(e))for(var r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===a.call(e)},isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:u,isUndefined:s,isDate:function(e){return"[object Date]"===a.call(e)},isFile:function(e){return"[object File]"===a.call(e)},isBlob:function(e){return"[object Blob]"===a.call(e)},isFunction:c,isStream:function(e){return u(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:l,merge:function e(){var t={};function r(r,i){"object"===n(t[i])&&"object"===n(r)?t[i]=e(t[i],r):t[i]=r}for(var i=0,a=arguments.length;i<a;i++)l(arguments[i],r);return t},deepMerge:function e(){var t={};function r(r,i){"object"===n(t[i])&&"object"===n(r)?t[i]=e(t[i],r):"object"===n(r)?t[i]=e({},r):t[i]=r}for(var i=0,a=arguments.length;i<a;i++)l(arguments[i],r);return t},extend:function(e,t,r){return l(t,(function(t,n){e[n]=r&&"function"==typeof t?i(t,r):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},1285:(e,t)=>{"use strict";t.byteLength=function(e){var t=u(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,a=u(e),o=a[0],s=a[1],c=new i(function(e,t,r){return 3*(t+r)/4-r}(0,o,s)),l=0,f=s>0?o-4:o;for(r=0;r<f;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;return 2===s&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,c[l++]=255&t),1===s&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t),c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,a=[],o=16383,s=0,u=n-i;s<u;s+=o)a.push(c(e,s,s+o>u?u:s+o));return 1===i?(t=e[n-1],a.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],a.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),a.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,s=a.length;o<s;++o)r[o]=a[o],n[a.charCodeAt(o)]=o;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function c(e,t,n){for(var i,a,o=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(r[(a=i)>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a]);return o.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},3423:(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?s(e):t}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=r(1285),f=r(8617),p="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.lW=m,t.h2=50;var d=2147483647;function h(e){if(e>d)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,m.prototype),t}function m(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return g(e)}return y(e,t,r)}function y(e,t,r){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!m.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|k(e,t),n=h(r),i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(re(e,Uint8Array)){var t=new Uint8Array(e);return _(t.buffer,t.byteOffset,t.byteLength)}return b(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+c(e));if(re(e,ArrayBuffer)||e&&re(e.buffer,ArrayBuffer))return _(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(re(e,SharedArrayBuffer)||e&&re(e.buffer,SharedArrayBuffer)))return _(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return m.from(n,t,r);var i=function(e){if(m.isBuffer(e)){var t=0|w(e.length),r=h(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||ne(e.length)?h(0):b(e):"Buffer"===e.type&&Array.isArray(e.data)?b(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return m.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+c(e))}function v(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function g(e){return v(e),h(e<0?0:0|w(e))}function b(e){for(var t=e.length<0?0:0|w(e.length),r=h(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function _(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,m.prototype),n}function w(e){if(e>=d)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+d.toString(16)+" bytes");return 0|e}function k(e,t){if(m.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||re(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+c(e));var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return Z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return ee(e).length;default:if(i)return n?-1:Z(e).length;t=(""+t).toLowerCase(),i=!0}}function x(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return L(this,t,r);case"utf8":case"utf-8":return N(this,t,r);case"ascii":return B(this,t,r);case"latin1":case"binary":return M(this,t,r);case"base64":return I(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function T(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function E(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),ne(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=m.from(t,n)),m.isBuffer(t))return 0===t.length?-1:A(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):A(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function A(e,t,r,n,i){var a,o=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,s/=2,u/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var l=-1;for(a=r;a<s;a++)if(c(e,a)===c(t,-1===l?0:a-l)){if(-1===l&&(l=a),a-l+1===u)return l*o}else-1!==l&&(a-=a-l),l=-1}else for(r+u>s&&(r=s-u),a=r;a>=0;a--){for(var f=!0,p=0;p<u;p++)if(c(e,a+p)!==c(t,p)){f=!1;break}if(f)return a}return-1}function S(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var a,o=t.length;for(n>o/2&&(n=o/2),a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(ne(s))return a;e[r+a]=s}return a}function C(e,t,r,n){return te(Z(t,e.length-r),e,r,n)}function O(e,t,r,n){return te(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function R(e,t,r,n){return te(ee(t),e,r,n)}function P(e,t,r,n){return te(function(e,t){for(var r,n,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i=r%256,a.push(i),a.push(n);return a}(t,e.length-r),e,r,n)}function I(e,t,r){return 0===t&&r===e.length?l.fromByteArray(e):l.fromByteArray(e.slice(t,r))}function N(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var a=e[i],o=null,s=a>239?4:a>223?3:a>191?2:1;if(i+s<=r){var u=void 0,c=void 0,l=void 0,f=void 0;switch(s){case 1:a<128&&(o=a);break;case 2:128==(192&(u=e[i+1]))&&(f=(31&a)<<6|63&u)>127&&(o=f);break;case 3:u=e[i+1],c=e[i+2],128==(192&u)&&128==(192&c)&&(f=(15&a)<<12|(63&u)<<6|63&c)>2047&&(f<55296||f>57343)&&(o=f);break;case 4:u=e[i+1],c=e[i+2],l=e[i+3],128==(192&u)&&128==(192&c)&&128==(192&l)&&(f=(15&a)<<18|(63&u)<<12|(63&c)<<6|63&l)>65535&&f<1114112&&(o=f)}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return function(e){var t=e.length;if(t<=$)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=$));return r}(n)}m.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),m.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(m.prototype,"parent",{enumerable:!0,get:function(){if(m.isBuffer(this))return this.buffer}}),Object.defineProperty(m.prototype,"offset",{enumerable:!0,get:function(){if(m.isBuffer(this))return this.byteOffset}}),m.poolSize=8192,m.from=function(e,t,r){return y(e,t,r)},Object.setPrototypeOf(m.prototype,Uint8Array.prototype),Object.setPrototypeOf(m,Uint8Array),m.alloc=function(e,t,r){return function(e,t,r){return v(e),e<=0?h(e):void 0!==t?"string"==typeof r?h(e).fill(t,r):h(e).fill(t):h(e)}(e,t,r)},m.allocUnsafe=function(e){return g(e)},m.allocUnsafeSlow=function(e){return g(e)},m.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==m.prototype},m.compare=function(e,t){if(re(e,Uint8Array)&&(e=m.from(e,e.offset,e.byteLength)),re(t,Uint8Array)&&(t=m.from(t,t.offset,t.byteLength)),!m.isBuffer(e)||!m.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},m.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},m.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return m.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=m.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(re(a,Uint8Array))i+a.length>n.length?(m.isBuffer(a)||(a=m.from(a)),a.copy(n,i)):Uint8Array.prototype.set.call(n,a,i);else{if(!m.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i)}i+=a.length}return n},m.byteLength=k,m.prototype._isBuffer=!0,m.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)T(this,t,t+1);return this},m.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)T(this,t,t+3),T(this,t+1,t+2);return this},m.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)T(this,t,t+7),T(this,t+1,t+6),T(this,t+2,t+5),T(this,t+3,t+4);return this},m.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?N(this,0,e):x.apply(this,arguments)},m.prototype.toLocaleString=m.prototype.toString,m.prototype.equals=function(e){if(!m.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===m.compare(this,e)},m.prototype.inspect=function(){var e="",r=t.h2;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},p&&(m.prototype[p]=m.prototype.inspect),m.prototype.compare=function(e,t,r,n,i){if(re(e,Uint8Array)&&(e=m.from(e,e.offset,e.byteLength)),!m.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+c(e));if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0),s=Math.min(a,o),u=this.slice(n,i),l=e.slice(t,r),f=0;f<s;++f)if(u[f]!==l[f]){a=u[f],o=l[f];break}return a<o?-1:o<a?1:0},m.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},m.prototype.indexOf=function(e,t,r){return E(this,e,t,r,!0)},m.prototype.lastIndexOf=function(e,t,r){return E(this,e,t,r,!1)},m.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return S(this,e,t,r);case"utf8":case"utf-8":return C(this,e,t,r);case"ascii":case"latin1":case"binary":return O(this,e,t,r);case"base64":return R(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},m.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var $=4096;function B(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function M(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function L(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=t;a<r;++a)i+=ie[e[a]];return i}function j(e,t,r){for(var n=e.slice(t,r),i="",a=0;a<n.length-1;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function D(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function F(e,t,r,n,i,a){if(!m.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function U(e,t,r,n,i){J(t,n,i,e,r,7);var a=Number(t&BigInt(4294967295));e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a;var o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,r}function z(e,t,r,n,i){J(t,n,i,e,r,7);var a=Number(t&BigInt(4294967295));e[r+7]=a,a>>=8,e[r+6]=a,a>>=8,e[r+5]=a,a>>=8,e[r+4]=a;var o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=o,o>>=8,e[r+2]=o,o>>=8,e[r+1]=o,o>>=8,e[r]=o,r+8}function q(e,t,r,n,i,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function G(e,t,r,n,i){return t=+t,r>>>=0,i||q(e,0,r,4),f.write(e,t,r,n,23,4),r+4}function H(e,t,r,n,i){return t=+t,r>>>=0,i||q(e,0,r,8),f.write(e,t,r,n,52,8),r+8}m.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,m.prototype),n},m.prototype.readUintLE=m.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||D(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n},m.prototype.readUintBE=m.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||D(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},m.prototype.readUint8=m.prototype.readUInt8=function(e,t){return e>>>=0,t||D(e,1,this.length),this[e]},m.prototype.readUint16LE=m.prototype.readUInt16LE=function(e,t){return e>>>=0,t||D(e,2,this.length),this[e]|this[e+1]<<8},m.prototype.readUint16BE=m.prototype.readUInt16BE=function(e,t){return e>>>=0,t||D(e,2,this.length),this[e]<<8|this[e+1]},m.prototype.readUint32LE=m.prototype.readUInt32LE=function(e,t){return e>>>=0,t||D(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},m.prototype.readUint32BE=m.prototype.readUInt32BE=function(e,t){return e>>>=0,t||D(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},m.prototype.readBigUInt64LE=ae((function(e){Y(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||X(e,this.length-8);var n=t+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,24),i=this[++e]+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+r*Math.pow(2,24);return BigInt(n)+(BigInt(i)<<BigInt(32))})),m.prototype.readBigUInt64BE=ae((function(e){Y(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||X(e,this.length-8);var n=t*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+this[++e],i=this[++e]*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),m.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||D(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},m.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||D(e,t,this.length);for(var n=t,i=1,a=this[e+--n];n>0&&(i*=256);)a+=this[e+--n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},m.prototype.readInt8=function(e,t){return e>>>=0,t||D(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},m.prototype.readInt16LE=function(e,t){e>>>=0,t||D(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},m.prototype.readInt16BE=function(e,t){e>>>=0,t||D(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},m.prototype.readInt32LE=function(e,t){return e>>>=0,t||D(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},m.prototype.readInt32BE=function(e,t){return e>>>=0,t||D(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},m.prototype.readBigInt64LE=ae((function(e){Y(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||X(e,this.length-8);var n=this[e+4]+this[e+5]*Math.pow(2,8)+this[e+6]*Math.pow(2,16)+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,24))})),m.prototype.readBigInt64BE=ae((function(e){Y(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||X(e,this.length-8);var n=(t<<24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+r)})),m.prototype.readFloatLE=function(e,t){return e>>>=0,t||D(e,4,this.length),f.read(this,e,!0,23,4)},m.prototype.readFloatBE=function(e,t){return e>>>=0,t||D(e,4,this.length),f.read(this,e,!1,23,4)},m.prototype.readDoubleLE=function(e,t){return e>>>=0,t||D(e,8,this.length),f.read(this,e,!0,52,8)},m.prototype.readDoubleBE=function(e,t){return e>>>=0,t||D(e,8,this.length),f.read(this,e,!1,52,8)},m.prototype.writeUintLE=m.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||F(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},m.prototype.writeUintBE=m.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||F(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},m.prototype.writeUint8=m.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,1,255,0),this[t]=255&e,t+1},m.prototype.writeUint16LE=m.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},m.prototype.writeUint16BE=m.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},m.prototype.writeUint32LE=m.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},m.prototype.writeUint32BE=m.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},m.prototype.writeBigUInt64LE=ae((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return U(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),m.prototype.writeBigUInt64BE=ae((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return z(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),m.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);F(this,e,t,r,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<r&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},m.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);F(this,e,t,r,i-1,-i)}var a=r-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},m.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},m.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},m.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},m.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},m.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},m.prototype.writeBigInt64LE=ae((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return U(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),m.prototype.writeBigInt64BE=ae((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return z(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),m.prototype.writeFloatLE=function(e,t,r){return G(this,e,t,!0,r)},m.prototype.writeFloatBE=function(e,t,r){return G(this,e,t,!1,r)},m.prototype.writeDoubleLE=function(e,t,r){return H(this,e,t,!0,r)},m.prototype.writeDoubleBE=function(e,t,r){return H(this,e,t,!1,r)},m.prototype.copy=function(e,t,r,n){if(!m.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},m.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!m.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var i=e.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var a;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(a=t;a<r;++a)this[a]=e;else{var o=m.isBuffer(e)?e:m.from(e,n),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<r-t;++a)this[a+t]=o[a%s]}return this};var W={};function K(e,t,r){W[e]=function(r){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(h,r);var c,l,f,p,d=(f=h,p=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=u(f);if(p){var r=u(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return o(this,e)});function h(){var r;return n(this,h),r=d.call(this),Object.defineProperty(s(r),"message",{value:t.apply(s(r),arguments),writable:!0,configurable:!0}),r.name="".concat(r.name," [").concat(e,"]"),r.stack,delete r.name,r}return c=h,(l=[{key:"code",get:function(){return e},set:function(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(e,"]: ").concat(this.message)}}])&&i(c.prototype,l),h}(r)}function V(e){for(var t="",r=e.length,n="-"===e[0]?1:0;r>=n+4;r-=3)t="_".concat(e.slice(r-3,r)).concat(t);return"".concat(e.slice(0,r)).concat(t)}function J(e,t,r,n,i,a){if(e>r||e<t){var o,s="bigint"==typeof t?"n":"";throw o=a>3?0===t||t===BigInt(0)?">= 0".concat(s," and < 2").concat(s," ** ").concat(8*(a+1)).concat(s):">= -(2".concat(s," ** ").concat(8*(a+1)-1).concat(s,") and < 2 ** ")+"".concat(8*(a+1)-1).concat(s):">= ".concat(t).concat(s," and <= ").concat(r).concat(s),new W.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,r){Y(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||X(t,e.length-(r+1))}(n,i,a)}function Y(e,t){if("number"!=typeof e)throw new W.ERR_INVALID_ARG_TYPE(t,"number",e)}function X(e,t,r){if(Math.floor(e)!==e)throw Y(e,r),new W.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new W.ERR_BUFFER_OUT_OF_BOUNDS;throw new W.ERR_OUT_OF_RANGE(r||"offset",">= ".concat(r?1:0," and <= ").concat(t),e)}K("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?"".concat(e," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"}),RangeError),K("ERR_INVALID_ARG_TYPE",(function(e,t){return'The "'.concat(e,'" argument must be of type number. Received type ').concat(c(t))}),TypeError),K("ERR_OUT_OF_RANGE",(function(e,t,r){var n='The value of "'.concat(e,'" is out of range.'),i=r;return Number.isInteger(r)&&Math.abs(r)>Math.pow(2,32)?i=V(String(r)):"bigint"==typeof r&&(i=String(r),(r>Math.pow(BigInt(2),BigInt(32))||r<-Math.pow(BigInt(2),BigInt(32)))&&(i=V(i)),i+="n"),n+" It must be ".concat(t,". Received ").concat(i)}),RangeError);var Q=/[^+/0-9A-Za-z-_]/g;function Z(e,t){var r;t=t||1/0;for(var n=e.length,i=null,a=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function ee(e){return l.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(Q,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function te(e,t,r,n){var i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function re(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function ne(e){return e!=e}var ie=function(){for(var e="0123456789abcdef",t=new Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}();function ae(e){return"undefined"==typeof BigInt?oe:e}function oe(){throw new Error("BigInt not supported")}},1672:e=>{e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}return r.m=e,r.c=t,r.p="",r(0)}([function(e,t,r){e.exports=r(2)},function(e,t){"use strict";e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t];r[2]?e.push("@media "+r[2]+"{"+r[1]+"}"):e.push(r[1])}return e.join("")},e.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},i=0;i<this.length;i++){var a=this[i][0];"number"==typeof a&&(n[a]=!0)}for(i=0;i<t.length;i++){var o=t[i];"number"==typeof o[0]&&n[o[0]]||(r&&!o[2]?o[2]=r:r&&(o[2]="("+o[2]+") and ("+r+")"),e.push(o))}},e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=(s(r(5)),s(r(6))),a=s(r(8)),o=s(r(9));function s(e){return e&&e.__esModule?e:{default:e}}var u={info:s(r(7)).default,success:a.default,warning:o.default,error:i.default},c=document.querySelector.bind(document);document.querySelectorAll.bind(document);var l=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.text=t,this.opts=r,this.events={},this.notify()}return n(e,[{key:"init",value:function(){var e=c(".noties-"+this.opts.position);e?this.noties=e:(this.noties=document.createElement("div"),this.noties.className="noties noties-"+this.opts.position,c("body").appendChild(this.noties))}},{key:"notify",value:function(){var e=this;this.init(),this.notie=document.createElement("div"),this.notie.style.width=this.opts.width+"px",this.notie.className="notie notie-"+this.opts.type+(this.opts.autoHide?"":" notie-auto-hide-disabled"),this.notie.innerHTML='\n    <div class="notie-body">\n      <span class="notie-svg">'+u[this.opts.type]+'</span>\n      <span class="notie-text">'+this.text+"</span>\n    </div>\n    ";var t=this.noties.firstChild;this.noties.insertBefore(this.notie,t),setTimeout((function(){e.notie.classList.add("notie-shown")}),100),this.opts.autoHide&&this.startTimeout(),this.registerEvents()}},{key:"registerEvents",value:function(){var e,t,r=this;this.opts.autoHide?(this.events.mouseover=function(){clearTimeout(r.timeout),r.timeout=null},this.events.mouseleave=function(){return r.startTimeout()},this.notie.addEventListener("mouseover",this.events.mouseover,!1),this.notie.addEventListener("mouseleave",this.events.mouseleave,!1)):(this.notie.addEventListener("click",(function(){return r.removeNotie()})),e=this.notie.querySelectorAll("[notie-prevent]"),t=function(e){e.addEventListener("click",(function(e){return e.stopPropagation()}),!1)},Array.prototype.forEach.call(e,t))}},{key:"startTimeout",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.opts.timeout;this.timeout=setTimeout((function(){e.removeNotie()}),t)}},{key:"removeNotie",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.notie;t.classList.remove("notie-shown"),setTimeout((function(){e.noties.removeChild(t),t=null}),200)}}]),e}();t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.position,n=void 0===r?"top-right":r,i=t.type,a=void 0===i?"info":i,o=t.autoHide,s=void 0===o||o,u=t.timeout,c=void 0===u?3e3:u,f=t.width,p=void 0===f?240:f;return new l(e,{type:a,position:n,autoHide:s,timeout:c,width:p})},e.exports=t.default},function(e,t,r){(e.exports=r(1)()).push([e.id,".noties {\n  position: fixed;\n  max-width: 80%;\n  z-index: 9999\n}\n\n.noties:empty {\n  display: none\n}\n\n.noties-top-right {\n  right: 0;\n  top: 20px\n}\n\n.noties-top-right .notie {\n  -ms-transform: translateX(100%);\n      transform: translateX(100%)\n}\n\n.noties-top-right .notie.notie-shown {\n  -ms-transform: translateX(-20px);\n      transform: translateX(-20px)\n}\n\n.noties-top-left {\n  left: 0;\n  top: 20px\n}\n\n.noties-top-left .notie {\n  -ms-transform: translateX(-100%);\n      transform: translateX(-100%)\n}\n\n.noties-top-left .notie.notie-shown {\n  -ms-transform: translateX(20px);\n      transform: translateX(20px)\n}\n\n.noties-bottom-right {\n  right: 0;\n  bottom: 20px\n}\n\n.noties-bottom-right .notie {\n  -ms-transform: translateX(100%);\n      transform: translateX(100%)\n}\n\n.noties-bottom-right .notie.notie-shown {\n  -ms-transform: translateX(-20px);\n      transform: translateX(-20px)\n}\n\n.noties-bottom-left {\n  left: 0;\n  bottom: 20px\n}\n\n.noties-bottom-left .notie {\n  -ms-transform: translateX(-100%);\n      transform: translateX(-100%)\n}\n\n.noties-bottom-left .notie.notie-shown {\n  -ms-transform: translateX(20px);\n      transform: translateX(20px)\n}\n\n.noties-top-center {\n  left: 50%;\n  -ms-transform: translateX(-50%);\n      transform: translateX(-50%);\n  top: 0\n}\n\n.noties-top-center .notie {\n  -ms-transform: translateY(-100%);\n      transform: translateY(-100%)\n}\n\n.noties-top-center .notie.notie-shown {\n  -ms-transform: translateY(20px);\n      transform: translateY(20px)\n}\n\n.noties-bottom-center {\n  left: 50%;\n  -ms-transform: translateX(-50%);\n      transform: translateX(-50%);\n  bottom: 0\n}\n\n.noties-bottom-center .notie {\n  -ms-transform: translateY(100%);\n      transform: translateY(100%)\n}\n\n.noties-bottom-center .notie.notie-shown {\n  -ms-transform: translateY(-20px);\n      transform: translateY(-20px)\n}\n\n.notie {\n  background-color: #ddd;\n  opacity: 0;\n  transition: transform .3s, opacity .3s;\n  border: 1px solid #ddd;\n  font: 14px/1.4 Helvetica, serif;\n  word-wrap: break-word\n}\n\n.notie:not(:last-child) {\n  margin-bottom: 10px\n}\n\n.notie.notie-auto-hide-disabled {\n  cursor: pointer\n}\n\n.notie.notie-shown {\n  opacity: 1\n}\n\n.notie .notie-body {\n  padding: 10px 12px\n}\n\n.notie .notie-svg {\n  height: 23px;\n  display: block;\n  float: left\n}\n\n.notie .notie-text {\n  display: block;\n  padding-left: 30px;\n  padding-top: 2px\n}\n\n.notie svg {\n  height: 23px;\n  width: 23px\n}\n\n.notie.notie-info {\n  background-color: #C6E4F4;\n  border-color: #A9D3EB;\n  color: #477DAC;\n\n  a {\n    color: #477DAC\n  }\n}\n\n.notie.notie-error {\n  background-color: #EAC1BD;\n  border-color: #D7A9A6;\n  color: #AB2925;\n\n  a {\n    color: #AB2925\n  }\n}\n\n.notie.notie-success {\n  background-color: #D9F1CF;\n  border-color: #C8E1BF;\n  color: #748C6C;\n\n  a {\n    color: #748C6C\n  }\n}\n\n.notie.notie-warning {\n  background-color: #F7F2CF;\n  border-color: #E8E2B2;\n  color: #9C7D45;\n\n  a {\n    color: #9C7D45\n  }\n}\n",""])},function(e,t,r){var n={},i=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}},a=i((function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())})),o=i((function(){return document.head||document.getElementsByTagName("head")[0]})),s=null,u=0,c=[];function l(e,t){for(var r=0;r<e.length;r++){var i=e[r],a=n[i.id];if(a){a.refs++;for(var o=0;o<a.parts.length;o++)a.parts[o](i.parts[o]);for(;o<i.parts.length;o++)a.parts.push(m(i.parts[o],t))}else{var s=[];for(o=0;o<i.parts.length;o++)s.push(m(i.parts[o],t));n[i.id]={id:i.id,refs:1,parts:s}}}}function f(e){for(var t=[],r={},n=0;n<e.length;n++){var i=e[n],a=i[0],o={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(o):t.push(r[a]={id:a,parts:[o]})}return t}function p(e,t){var r=o(),n=c[c.length-1];if("top"===e.insertAt)n?n.nextSibling?r.insertBefore(t,n.nextSibling):r.appendChild(t):r.insertBefore(t,r.firstChild),c.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");r.appendChild(t)}}function d(e){e.parentNode.removeChild(e);var t=c.indexOf(e);t>=0&&c.splice(t,1)}function h(e){var t=document.createElement("style");return t.type="text/css",p(e,t),t}function m(e,t){var r,n,i;if(t.singleton){var a=u++;r=s||(s=h(t)),n=g.bind(null,r,a,!1),i=g.bind(null,r,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=function(e){var t=document.createElement("link");return t.rel="stylesheet",p(e,t),t}(t),n=_.bind(null,r),i=function(){d(r),r.href&&URL.revokeObjectURL(r.href)}):(r=h(t),n=b.bind(null,r),i=function(){d(r)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else i()}}e.exports=function(e,t){void 0===(t=t||{}).singleton&&(t.singleton=a()),void 0===t.insertAt&&(t.insertAt="bottom");var r=f(e);return l(r,t),function(e){for(var i=[],a=0;a<r.length;a++){var o=r[a];(s=n[o.id]).refs--,i.push(s)}for(e&&l(f(e),t),a=0;a<i.length;a++){var s;if(0===(s=i[a]).refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete n[s.id]}}}};var y,v=(y=[],function(e,t){return y[e]=t,y.filter(Boolean).join("\n")});function g(e,t,r,n){var i=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=v(t,i);else{var a=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function b(e,t){var r=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}function _(e,t){var r=t.css,n=t.sourceMap;n&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var i=new Blob([r],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(i),a&&URL.revokeObjectURL(a)}},function(e,t,r){var n=r(3);"string"==typeof n&&(n=[[e.id,n,""]]),r(4)(n,{}),n.locals&&(e.exports=n.locals)},function(e,t){e.exports='<svg fill="#AB2925" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"></path></svg>'},function(e,t){e.exports='<svg fill="#477DAC" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M11 17h2v-6h-2v6zm1-15C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM11 9h2V7h-2v2z"></path></svg>'},function(e,t){e.exports='<svg fill="#748C6C" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"></path></svg>'},function(e,t){e.exports='<svg fill="#9C7D45" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"></path></svg>'}])},4212:(e,t,r)=>{var n,i,a,o;function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e=r.nmd(e),window,o=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==s(e)&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r(r.s=58)}([function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(e){return s(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":s(e)})(e)}var i=r(6),a=Object.prototype.toString;function o(e){return"[object Array]"===a.call(e)}function u(e){return void 0===e}function c(e){return null!==e&&"object"===n(e)}function l(e){return"[object Function]"===a.call(e)}function f(e,t){if(null!=e)if("object"!==n(e)&&(e=[e]),o(e))for(var r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===a.call(e)},isBuffer:function(e){return null!==e&&!u(e)&&null!==e.constructor&&!u(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:c,isUndefined:u,isDate:function(e){return"[object Date]"===a.call(e)},isFile:function(e){return"[object File]"===a.call(e)},isBlob:function(e){return"[object Blob]"===a.call(e)},isFunction:l,isStream:function(e){return c(e)&&l(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:f,merge:function e(){var t={};function r(r,i){"object"===n(t[i])&&"object"===n(r)?t[i]=e(t[i],r):t[i]=r}for(var i=0,a=arguments.length;i<a;i++)f(arguments[i],r);return t},deepMerge:function e(){var t={};function r(r,i){"object"===n(t[i])&&"object"===n(r)?t[i]=e(t[i],r):"object"===n(r)?t[i]=e({},r):t[i]=r}for(var i=0,a=arguments.length;i<a;i++)f(arguments[i],r);return t},extend:function(e,t,r){return f(t,(function(t,n){e[n]=r&&"function"==typeof t?i(t,r):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,r){var n=r(14);e.exports=function(e){"use strict";var t="",r=(e=e||{}).enableSubtitle,i=e.subtitle,a=e.current,o=e.airplay,s=e.pic,u=n.$escape,c=e.screenshot,l=e.preload,f=e.url;return r=i&&"webvtt"===i.type,t+='\n<video\n    class="dplayer-video ',a&&(t+="dplayer-video-current"),t+='"\n    webkit-playsinline\n    ',o&&(t+=' x-webkit-airplay="allow" '),t+="\n    playsinline\n    ",s&&(t+='poster="',t+=u(s),t+='"'),t+="\n    ",(c||r)&&(t+='crossorigin="anonymous"'),t+="\n    ",l&&(t+='preload="',t+=u(l),t+='"'),t+="\n    ",f&&(t+='src="',t+=u(f),t+='"'),t+="\n    >\n    ",r&&(t+='\n    <track kind="metadata" default src="',t+=u(i.url),t+='"></track>\n    '),t+"\n</video>"}},function(e,t,r){e.exports=r(41)},function(e,t,r){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=function(e,t){var r,n,i,a=e[1]||"",o=e[3];if(!o)return a;if(t&&"function"==typeof btoa){var s=(r=o,n=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),"/*# ".concat(i," */")),u=o.sources.map((function(e){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(e," */")}));return[a].concat(u).concat([s]).join("\n")}return[a].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(r,"}"):r})).join("")},t.i=function(e,r,n){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(n)for(var a=0;a<this.length;a++){var o=this[a][0];null!=o&&(i[o]=!0)}for(var s=0;s<e.length;s++){var u=[].concat(e[s]);n&&i[u[0]]||(r&&(u[2]?u[2]="".concat(r," and ").concat(u[2]):u[2]=r),t.push(u))}},t}},function(e,t){function r(e){return(r="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(e){return s(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":s(e)})(e)}var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"===("undefined"==typeof window?"undefined":r(window))&&(n=window)}e.exports=n},function(e,t){var r,n,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var u,c=[],l=!1,f=-1;function p(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&d())}function d(){if(!l){var e=s(p);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new h(e,t)),1!==c.length||l||s(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},function(e,t,r){"use strict";var n=r(0);function i(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var a;if(r)a=r(t);else if(n.isURLSearchParams(t))a=t.toString();else{var o=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))})))})),a=o.join("&")}if(a){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},function(e,t,r){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,r){"use strict";(function(t){var n=r(0),i=r(46),a={"Content-Type":"application/x-www-form-urlencoded"};function o(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s,u={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==t&&"[object process]"===Object.prototype.toString.call(t))&&(s=r(10)),s),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(o(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(o(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){u.headers[e]=n.merge(a)})),e.exports=u}).call(this,r(5))},function(e,t,r){"use strict";var n=r(0),i=r(47),a=r(7),o=r(49),s=r(52),u=r(53),c=r(11);e.exports=function(e){return new Promise((function(t,l){var f=e.data,p=e.headers;n.isFormData(f)&&delete p["Content-Type"];var d=new XMLHttpRequest;if(e.auth){var h=e.auth.username||"",m=e.auth.password||"";p.Authorization="Basic "+btoa(h+":"+m)}var y=o(e.baseURL,e.url);if(d.open(e.method.toUpperCase(),a(y,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in d?s(d.getAllResponseHeaders()):null,n={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:r,config:e,request:d};i(t,l,n),d=null}},d.onabort=function(){d&&(l(c("Request aborted",e,"ECONNABORTED",d)),d=null)},d.onerror=function(){l(c("Network Error",e,null,d)),d=null},d.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),l(c(t,e,"ECONNABORTED",d)),d=null},n.isStandardBrowserEnv()){var v=r(54),g=(e.withCredentials||u(y))&&e.xsrfCookieName?v.read(e.xsrfCookieName):void 0;g&&(p[e.xsrfHeaderName]=g)}if("setRequestHeader"in d&&n.forEach(p,(function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete p[t]:d.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),e.responseType)try{d.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){d&&(d.abort(),l(e),d=null)})),void 0===f&&(f=null),d.send(f)}))}},function(e,t,r){"use strict";var n=r(48);e.exports=function(e,t,r,i,a){var o=new Error(e);return n(o,t,r,i,a)}},function(e,t,r){"use strict";var n=r(0);e.exports=function(e,t){t=t||{};var r={},i=["url","method","params","data"],a=["headers","auth","proxy"],o=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];n.forEach(i,(function(e){void 0!==t[e]&&(r[e]=t[e])})),n.forEach(a,(function(i){n.isObject(t[i])?r[i]=n.deepMerge(e[i],t[i]):void 0!==t[i]?r[i]=t[i]:n.isObject(e[i])?r[i]=n.deepMerge(e[i]):void 0!==e[i]&&(r[i]=e[i])})),n.forEach(o,(function(n){void 0!==t[n]?r[n]=t[n]:void 0!==e[n]&&(r[n]=e[n])}));var s=i.concat(a).concat(o),u=Object.keys(t).filter((function(e){return-1===s.indexOf(e)}));return n.forEach(u,(function(n){void 0!==t[n]?r[n]=t[n]:void 0!==e[n]&&(r[n]=e[n])})),r}},function(e,t,r){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},function(e,t,r){"use strict";e.exports=r(57)},function(e,t,r){"use strict";(function(e){var n=r(16);function i(e){return(i="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(e){return s(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":s(e)})(e)}var a=setTimeout;function o(e){return Boolean(e&&void 0!==e.length)}function u(){}function c(e){if(!(this instanceof c))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],m(e,this)}function l(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,c._immediateFn((function(){var r=1===e._state?t.onFulfilled:t.onRejected;if(null!==r){var n;try{n=r(e._value)}catch(e){return void p(t.promise,e)}f(t.promise,n)}else(1===e._state?f:p)(t.promise,e._value)}))):e._deferreds.push(t)}function f(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===i(t)||"function"==typeof t)){var r=t.then;if(t instanceof c)return e._state=3,e._value=t,void d(e);if("function"==typeof r)return void m((n=r,a=t,function(){n.apply(a,arguments)}),e)}e._state=1,e._value=t,d(e)}catch(t){p(e,t)}var n,a}function p(e,t){e._state=2,e._value=t,d(e)}function d(e){2===e._state&&0===e._deferreds.length&&c._immediateFn((function(){e._handled||c._unhandledRejectionFn(e._value)}));for(var t=0,r=e._deferreds.length;t<r;t++)l(e,e._deferreds[t]);e._deferreds=null}function h(e,t,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=r}function m(e,t){var r=!1;try{e((function(e){r||(r=!0,f(t,e))}),(function(e){r||(r=!0,p(t,e))}))}catch(e){if(r)return;r=!0,p(t,e)}}c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){var r=new this.constructor(u);return l(this,new h(e,t,r)),r},c.prototype.finally=n.a,c.all=function(e){return new c((function(t,r){if(!o(e))return r(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(e);if(0===n.length)return t([]);var a=n.length;function s(e,o){try{if(o&&("object"===i(o)||"function"==typeof o)){var u=o.then;if("function"==typeof u)return void u.call(o,(function(t){s(e,t)}),r)}n[e]=o,0==--a&&t(n)}catch(e){r(e)}}for(var u=0;u<n.length;u++)s(u,n[u])}))},c.resolve=function(e){return e&&"object"===i(e)&&e.constructor===c?e:new c((function(t){t(e)}))},c.reject=function(e){return new c((function(t,r){r(e)}))},c.race=function(e){return new c((function(t,r){if(!o(e))return r(new TypeError("Promise.race accepts an array"));for(var n=0,i=e.length;n<i;n++)c.resolve(e[n]).then(t,r)}))},c._immediateFn="function"==typeof e&&function(t){e(t)}||function(e){a(e,0)},c._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},t.a=c}).call(this,r(39).setImmediate)},function(e,t,r){"use strict";t.a=function(e){var t=this.constructor;return this.then((function(r){return t.resolve(e()).then((function(){return r}))}),(function(r){return t.resolve(e()).then((function(){return t.reject(r)}))}))}},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 16 32"><path d="M15.552 15.168q0.448 0.32 0.448 0.832 0 0.448-0.448 0.768l-13.696 8.512q-0.768 0.512-1.312 0.192t-0.544-1.28v-16.448q0-0.96 0.544-1.28t1.312 0.192z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 17 32"><path d="M14.080 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048zM2.88 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 21 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528zM25.152 16q0 2.72-1.536 5.056t-4 3.36q-0.256 0.096-0.448 0.096-0.48 0-0.832-0.352t-0.32-0.8q0-0.704 0.672-1.056 1.024-0.512 1.376-0.8 1.312-0.96 2.048-2.4t0.736-3.104-0.736-3.104-2.048-2.4q-0.352-0.288-1.376-0.8-0.672-0.352-0.672-1.056 0-0.448 0.32-0.8t0.8-0.352q0.224 0 0.48 0.096 2.496 1.056 4 3.36t1.536 5.056z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 21 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 21 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 33"><path d="M6.667 28h-5.333c-0.8 0-1.333-0.533-1.333-1.333v-5.333c0-0.8 0.533-1.333 1.333-1.333s1.333 0.533 1.333 1.333v4h4c0.8 0 1.333 0.533 1.333 1.333s-0.533 1.333-1.333 1.333zM30.667 28h-5.333c-0.8 0-1.333-0.533-1.333-1.333s0.533-1.333 1.333-1.333h4v-4c0-0.8 0.533-1.333 1.333-1.333s1.333 0.533 1.333 1.333v5.333c0 0.8-0.533 1.333-1.333 1.333zM30.667 12c-0.8 0-1.333-0.533-1.333-1.333v-4h-4c-0.8 0-1.333-0.533-1.333-1.333s0.533-1.333 1.333-1.333h5.333c0.8 0 1.333 0.533 1.333 1.333v5.333c0 0.8-0.533 1.333-1.333 1.333zM1.333 12c-0.8 0-1.333-0.533-1.333-1.333v-5.333c0-0.8 0.533-1.333 1.333-1.333h5.333c0.8 0 1.333 0.533 1.333 1.333s-0.533 1.333-1.333 1.333h-4v4c0 0.8-0.533 1.333-1.333 1.333z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 33"><path d="M24.965 24.38h-18.132c-1.366 0-2.478-1.113-2.478-2.478v-11.806c0-1.364 1.111-2.478 2.478-2.478h18.132c1.366 0 2.478 1.113 2.478 2.478v11.806c0 1.364-1.11 2.478-2.478 2.478zM6.833 10.097v11.806h18.134l-0.002-11.806h-18.132zM2.478 28.928h5.952c0.684 0 1.238-0.554 1.238-1.239 0-0.684-0.554-1.238-1.238-1.238h-5.952v-5.802c0-0.684-0.554-1.239-1.238-1.239s-1.239 0.556-1.239 1.239v5.802c0 1.365 1.111 2.478 2.478 2.478zM30.761 19.412c-0.684 0-1.238 0.554-1.238 1.238v5.801h-5.951c-0.686 0-1.239 0.554-1.239 1.238 0 0.686 0.554 1.239 1.239 1.239h5.951c1.366 0 2.478-1.111 2.478-2.478v-5.801c0-0.683-0.554-1.238-1.239-1.238zM0 5.55v5.802c0 0.683 0.554 1.238 1.238 1.238s1.238-0.555 1.238-1.238v-5.802h5.952c0.684 0 1.238-0.554 1.238-1.238s-0.554-1.238-1.238-1.238h-5.951c-1.366-0.001-2.478 1.111-2.478 2.476zM32 11.35v-5.801c0-1.365-1.11-2.478-2.478-2.478h-5.951c-0.686 0-1.239 0.554-1.239 1.238s0.554 1.238 1.239 1.238h5.951v5.801c0 0.683 0.554 1.237 1.238 1.237 0.686 0.002 1.239-0.553 1.239-1.236z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 28"><path d="M28.633 17.104c0.035 0.21 0.026 0.463-0.026 0.76s-0.14 0.598-0.262 0.904c-0.122 0.306-0.271 0.581-0.445 0.825s-0.367 0.419-0.576 0.524c-0.209 0.105-0.393 0.157-0.55 0.157s-0.332-0.035-0.524-0.105c-0.175-0.052-0.393-0.1-0.655-0.144s-0.528-0.052-0.799-0.026c-0.271 0.026-0.541 0.083-0.812 0.17s-0.502 0.236-0.694 0.445c-0.419 0.437-0.664 0.934-0.734 1.493s0.009 1.092 0.236 1.598c0.175 0.349 0.148 0.699-0.079 1.048-0.105 0.14-0.271 0.284-0.498 0.432s-0.476 0.284-0.747 0.406-0.555 0.218-0.851 0.288c-0.297 0.070-0.559 0.105-0.786 0.105-0.157 0-0.306-0.061-0.445-0.183s-0.236-0.253-0.288-0.393h-0.026c-0.192-0.541-0.52-1.009-0.982-1.402s-1-0.589-1.611-0.589c-0.594 0-1.131 0.197-1.611 0.589s-0.816 0.851-1.009 1.375c-0.087 0.21-0.218 0.362-0.393 0.458s-0.367 0.144-0.576 0.144c-0.244 0-0.52-0.044-0.825-0.131s-0.611-0.197-0.917-0.327c-0.306-0.131-0.581-0.284-0.825-0.458s-0.428-0.349-0.55-0.524c-0.087-0.122-0.135-0.266-0.144-0.432s0.057-0.397 0.197-0.694c0.192-0.402 0.266-0.86 0.223-1.375s-0.266-0.991-0.668-1.428c-0.244-0.262-0.541-0.432-0.891-0.511s-0.681-0.109-0.995-0.092c-0.367 0.017-0.742 0.087-1.127 0.21-0.244 0.070-0.489 0.052-0.734-0.052-0.192-0.070-0.371-0.231-0.537-0.485s-0.314-0.533-0.445-0.838c-0.131-0.306-0.231-0.62-0.301-0.943s-0.087-0.59-0.052-0.799c0.052-0.384 0.227-0.629 0.524-0.734 0.524-0.21 0.995-0.555 1.415-1.035s0.629-1.017 0.629-1.611c0-0.611-0.21-1.144-0.629-1.598s-0.891-0.786-1.415-0.996c-0.157-0.052-0.288-0.179-0.393-0.38s-0.157-0.406-0.157-0.616c0-0.227 0.035-0.48 0.105-0.76s0.162-0.55 0.275-0.812 0.244-0.502 0.393-0.72c0.148-0.218 0.31-0.38 0.485-0.485 0.14-0.087 0.275-0.122 0.406-0.105s0.275 0.052 0.432 0.105c0.524 0.21 1.070 0.275 1.637 0.197s1.070-0.327 1.506-0.747c0.21-0.209 0.362-0.467 0.458-0.773s0.157-0.607 0.183-0.904c0.026-0.297 0.026-0.568 0-0.812s-0.048-0.419-0.065-0.524c-0.035-0.105-0.066-0.227-0.092-0.367s-0.013-0.262 0.039-0.367c0.105-0.244 0.293-0.458 0.563-0.642s0.563-0.336 0.878-0.458c0.314-0.122 0.62-0.214 0.917-0.275s0.533-0.092 0.707-0.092c0.227 0 0.406 0.074 0.537 0.223s0.223 0.301 0.275 0.458c0.192 0.471 0.507 0.886 0.943 1.244s0.952 0.537 1.546 0.537c0.611 0 1.153-0.17 1.624-0.511s0.803-0.773 0.996-1.297c0.070-0.14 0.179-0.284 0.327-0.432s0.301-0.223 0.458-0.223c0.244 0 0.511 0.035 0.799 0.105s0.572 0.166 0.851 0.288c0.279 0.122 0.537 0.279 0.773 0.472s0.423 0.402 0.563 0.629c0.087 0.14 0.113 0.293 0.079 0.458s-0.070 0.284-0.105 0.354c-0.227 0.506-0.297 1.039-0.21 1.598s0.341 1.048 0.76 1.467c0.419 0.419 0.934 0.651 1.546 0.694s1.179-0.057 1.703-0.301c0.14-0.087 0.31-0.122 0.511-0.105s0.371 0.096 0.511 0.236c0.262 0.244 0.493 0.616 0.694 1.113s0.336 1 0.406 1.506c0.035 0.297-0.013 0.528-0.144 0.694s-0.266 0.275-0.406 0.327c-0.542 0.192-1.004 0.528-1.388 1.009s-0.576 1.026-0.576 1.637c0 0.594 0.162 1.113 0.485 1.559s0.747 0.764 1.27 0.956c0.122 0.070 0.227 0.14 0.314 0.21 0.192 0.157 0.323 0.358 0.393 0.602v0zM16.451 19.462c0.786 0 1.528-0.149 2.227-0.445s1.305-0.707 1.821-1.231c0.515-0.524 0.921-1.131 1.218-1.821s0.445-1.428 0.445-2.214c0-0.786-0.148-1.524-0.445-2.214s-0.703-1.292-1.218-1.808c-0.515-0.515-1.122-0.921-1.821-1.218s-1.441-0.445-2.227-0.445c-0.786 0-1.524 0.148-2.214 0.445s-1.292 0.703-1.808 1.218c-0.515 0.515-0.921 1.118-1.218 1.808s-0.445 1.428-0.445 2.214c0 0.786 0.149 1.524 0.445 2.214s0.703 1.297 1.218 1.821c0.515 0.524 1.118 0.934 1.808 1.231s1.428 0.445 2.214 0.445v0z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M22 16l-10.105-10.6-1.895 1.987 8.211 8.613-8.211 8.612 1.895 1.988 8.211-8.613z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M27.128 0.38h-22.553c-2.336 0-4.229 1.825-4.229 4.076v16.273c0 2.251 1.893 4.076 4.229 4.076h4.229v-2.685h8.403l-8.784 8.072 1.566 1.44 7.429-6.827h9.71c2.335 0 4.229-1.825 4.229-4.076v-16.273c0-2.252-1.894-4.076-4.229-4.076zM28.538 19.403c0 1.5-1.262 2.717-2.819 2.717h-8.36l-0.076-0.070-0.076 0.070h-11.223c-1.557 0-2.819-1.217-2.819-2.717v-13.589c0-1.501 1.262-2.718 2.819-2.718h19.734c1.557 0 2.819-0.141 2.819 1.359v14.947zM9.206 10.557c-1.222 0-2.215 0.911-2.215 2.036s0.992 2.035 2.215 2.035c1.224 0 2.216-0.911 2.216-2.035s-0.992-2.036-2.216-2.036zM22.496 10.557c-1.224 0-2.215 0.911-2.215 2.036s0.991 2.035 2.215 2.035c1.224 0 2.215-0.911 2.215-2.035s-0.991-2.036-2.215-2.036zM15.852 10.557c-1.224 0-2.215 0.911-2.215 2.036s0.991 2.035 2.215 2.035c1.222 0 2.215-0.911 2.215-2.035s-0.992-2.036-2.215-2.036z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M27.090 0.131h-22.731c-2.354 0-4.262 1.839-4.262 4.109v16.401c0 2.269 1.908 4.109 4.262 4.109h4.262v-2.706h8.469l-8.853 8.135 1.579 1.451 7.487-6.88h9.787c2.353 0 4.262-1.84 4.262-4.109v-16.401c0-2.27-1.909-4.109-4.262-4.109v0zM28.511 19.304c0 1.512-1.272 2.738-2.841 2.738h-8.425l-0.076-0.070-0.076 0.070h-11.311c-1.569 0-2.841-1.226-2.841-2.738v-13.696c0-1.513 1.272-2.739 2.841-2.739h19.889c1.569 0 2.841-0.142 2.841 1.37v15.064z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M13.725 30l3.9-5.325-3.9-1.125v6.45zM0 17.5l11.050 3.35 13.6-11.55-10.55 12.425 11.8 3.65 6.1-23.375-32 15.5z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M19.357 2.88c1.749 0 3.366 0.316 4.851 0.946 1.485 0.632 2.768 1.474 3.845 2.533s1.922 2.279 2.532 3.661c0.611 1.383 0.915 2.829 0.915 4.334 0 1.425-0.304 2.847-0.915 4.271-0.611 1.425-1.587 2.767-2.928 4.028-0.855 0.813-1.811 1.607-2.869 2.38s-2.136 1.465-3.233 2.075c-1.099 0.61-2.198 1.098-3.296 1.465-1.098 0.366-2.115 0.549-3.051 0.549-1.343 0-2.441-0.438-3.296-1.311-0.854-0.876-1.281-2.41-1.281-4.608 0-0.366 0.020-0.773 0.060-1.221s0.062-0.895 0.062-1.343c0-0.773-0.183-1.353-0.55-1.738-0.366-0.387-0.793-0.58-1.281-0.58-0.652 0-1.21 0.295-1.678 0.886s-0.926 1.23-1.373 1.921c-0.447 0.693-0.905 1.334-1.372 1.923s-1.028 0.886-1.679 0.886c-0.529 0-1.048-0.427-1.556-1.282s-0.763-2.259-0.763-4.212c0-2.197 0.529-4.241 1.587-6.133s2.462-3.529 4.21-4.912c1.75-1.383 3.762-2.471 6.041-3.264 2.277-0.796 4.617-1.212 7.018-1.253zM7.334 15.817c0.569 0 1.047-0.204 1.434-0.611s0.579-0.875 0.579-1.404c0-0.569-0.193-1.047-0.579-1.434s-0.864-0.579-1.434-0.579c-0.529 0-0.987 0.193-1.373 0.579s-0.58 0.864-0.58 1.434c0 0.53 0.194 0.998 0.58 1.404 0.388 0.407 0.845 0.611 1.373 0.611zM12.216 11.79c0.691 0 1.292-0.254 1.8-0.763s0.762-1.107 0.762-1.8c0-0.732-0.255-1.343-0.762-1.831-0.509-0.489-1.109-0.732-1.8-0.732-0.732 0-1.342 0.244-1.831 0.732-0.488 0.488-0.732 1.098-0.732 1.831 0 0.693 0.244 1.292 0.732 1.8s1.099 0.763 1.831 0.763zM16.366 25.947c0.692 0 1.282-0.214 1.77-0.64s0.732-0.987 0.732-1.678-0.244-1.261-0.732-1.709c-0.489-0.448-1.078-0.671-1.77-0.671-0.65 0-1.21 0.223-1.678 0.671s-0.702 1.018-0.702 1.709c0 0.692 0.234 1.25 0.702 1.678s1.027 0.64 1.678 0.64zM19.113 9.592c0.651 0 1.129-0.203 1.433-0.611 0.305-0.406 0.459-0.874 0.459-1.404 0-0.488-0.154-0.947-0.459-1.373-0.304-0.427-0.782-0.641-1.433-0.641-0.529 0-1.008 0.193-1.434 0.58s-0.64 0.865-0.64 1.434c0 0.571 0.213 1.049 0.64 1.434 0.427 0.389 0.905 0.581 1.434 0.581zM24.848 12.826c0.57 0 1.067-0.213 1.495-0.64 0.427-0.427 0.64-0.947 0.64-1.556 0-0.57-0.214-1.068-0.64-1.495-0.428-0.427-0.927-0.64-1.495-0.64-0.611 0-1.129 0.213-1.555 0.64-0.428 0.427-0.642 0.926-0.642 1.495 0 0.611 0.213 1.129 0.642 1.556s0.947 0.64 1.555 0.64z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M16 23c-3.309 0-6-2.691-6-6s2.691-6 6-6 6 2.691 6 6-2.691 6-6 6zM16 13c-2.206 0-4 1.794-4 4s1.794 4 4 4c2.206 0 4-1.794 4-4s-1.794-4-4-4zM27 28h-22c-1.654 0-3-1.346-3-3v-16c0-1.654 1.346-3 3-3h3c0.552 0 1 0.448 1 1s-0.448 1-1 1h-3c-0.551 0-1 0.449-1 1v16c0 0.552 0.449 1 1 1h22c0.552 0 1-0.448 1-1v-16c0-0.551-0.448-1-1-1h-11c-0.552 0-1-0.448-1-1s0.448-1 1-1h11c1.654 0 3 1.346 3 3v16c0 1.654-1.346 3-3 3zM24 10.5c0 0.828 0.672 1.5 1.5 1.5s1.5-0.672 1.5-1.5c0-0.828-0.672-1.5-1.5-1.5s-1.5 0.672-1.5 1.5zM15 4c0 0.552-0.448 1-1 1h-4c-0.552 0-1-0.448-1-1v0c0-0.552 0.448-1 1-1h4c0.552 0 1 0.448 1 1v0z"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 288 288" xmlns="http://www.w3.org/2000/svg"><path d="M288 90v96c0 20-16 36-36 36h-10c-16 0-16-24 0-24h10c7 0 12-5 12-12V90c0-7-5-12-12-12H36c-7 0-12 5-12 12v96c0 7 5 12 12 12h10c16 0 16 24 0 24H36c-20 0-36-16-36-36V90c0-20 16-36 36-36h216c20 0 36 16 36 36zm-120 62l48 68c14 20 1 38-20 38H92c-21 0-34-18-20-38l48-68c13-18 35-18 48 0z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M26.667 5.333h-21.333c-0 0-0.001 0-0.001 0-1.472 0-2.666 1.194-2.666 2.666 0 0 0 0.001 0 0.001v-0 16c0 0 0 0.001 0 0.001 0 1.472 1.194 2.666 2.666 2.666 0 0 0.001 0 0.001 0h21.333c0 0 0.001 0 0.001 0 1.472 0 2.666-1.194 2.666-2.666 0-0 0-0.001 0-0.001v0-16c0-0 0-0.001 0-0.001 0-1.472-1.194-2.666-2.666-2.666-0 0-0.001 0-0.001 0h0zM5.333 16h5.333v2.667h-5.333v-2.667zM18.667 24h-13.333v-2.667h13.333v2.667zM26.667 24h-5.333v-2.667h5.333v2.667zM26.667 18.667h-13.333v-2.667h13.333v2.667z"></path></svg>'},function(e,t){e.exports='<svg version="1.1" viewBox="0 0 22 22"><svg x="7" y="1"><circle class="diplayer-loading-dot diplayer-loading-dot-0" cx="4" cy="4" r="2"></circle></svg><svg x="11" y="3"><circle class="diplayer-loading-dot diplayer-loading-dot-1" cx="4" cy="4" r="2"></circle></svg><svg x="13" y="7"><circle class="diplayer-loading-dot diplayer-loading-dot-2" cx="4" cy="4" r="2"></circle></svg><svg x="11" y="11"><circle class="diplayer-loading-dot diplayer-loading-dot-3" cx="4" cy="4" r="2"></circle></svg><svg x="7" y="13"><circle class="diplayer-loading-dot diplayer-loading-dot-4" cx="4" cy="4" r="2"></circle></svg><svg x="3" y="11"><circle class="diplayer-loading-dot diplayer-loading-dot-5" cx="4" cy="4" r="2"></circle></svg><svg x="1" y="7"><circle class="diplayer-loading-dot diplayer-loading-dot-6" cx="4" cy="4" r="2"></circle></svg><svg x="3" y="3"><circle class="diplayer-loading-dot diplayer-loading-dot-7" cx="4" cy="4" r="2"></circle></svg></svg>'},function(e,t,r){var n=r(14);e.exports=function(e){"use strict";var t="",i=(e=e||{}).video,a=e.options,o=n.$escape,s=e.tran,u=e.icons,c=e.index,l=n.$each;return e.$value,e.$index,t+='<div class="dplayer-mask"></div>\n<div class="dplayer-video-wrap">\n    ',function(e){t+=e}(r(1)(i)),t+="\n    ",a.logo&&(t+='\n    <div class="dplayer-logo">\n        <img src="',t+=o(a.logo),t+='">\n    </div>\n    '),t+='\n    <div class="dplayer-danmaku"',a.danmaku&&a.danmaku.bottm&&(t+=' style="margin-bottom:',t+=o(a.danmaku.bottm),t+='"'),t+='>\n        <div class="dplayer-danmaku-item dplayer-danmaku-item--demo"></div>\n    </div>\n    <div class="dplayer-subtitle"></div>\n    <div class="dplayer-bezel">\n        <span class="dplayer-bezel-icon"></span>\n        ',a.danmaku&&(t+='\n        <span class="dplayer-danloading">',t+=o(s("Danmaku is loading")),t+="</span>\n        "),t+='\n        <span class="diplayer-loading-icon">',t+=u.loading,t+='</span>\n    </div>\n</div>\n<div class="dplayer-controller-mask"></div>\n<div class="dplayer-controller">\n    <div class="dplayer-icons dplayer-comment-box">\n        <button class="dplayer-icon dplayer-comment-setting-icon" data-balloon="',t+=o(s("Setting")),t+='" data-balloon-pos="up">\n            <span class="dplayer-icon-content">',t+=u.pallette,t+='</span>\n        </button>\n        <div class="dplayer-comment-setting-box">\n            <div class="dplayer-comment-setting-color">\n                <div class="dplayer-comment-setting-title">',t+=o(s("Set danmaku color")),t+='</div>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-',t+=o(c),t+='" value="#fff" checked>\n                    <span style="background: #fff;"></span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-',t+=o(c),t+='" value="#e54256">\n                    <span style="background: #e54256"></span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-',t+=o(c),t+='" value="#ffe133">\n                    <span style="background: #ffe133"></span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-',t+=o(c),t+='" value="#64DD17">\n                    <span style="background: #64DD17"></span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-',t+=o(c),t+='" value="#39ccff">\n                    <span style="background: #39ccff"></span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-',t+=o(c),t+='" value="#D500F9">\n                    <span style="background: #D500F9"></span>\n                </label>\n            </div>\n            <div class="dplayer-comment-setting-type">\n                <div class="dplayer-comment-setting-title">',t+=o(s("Set danmaku type")),t+='</div>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-type-',t+=o(c),t+='" value="1">\n                    <span>',t+=o(s("Top")),t+='</span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-type-',t+=o(c),t+='" value="0" checked>\n                    <span>',t+=o(s("Rolling")),t+='</span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-type-',t+=o(c),t+='" value="2">\n                    <span>',t+=o(s("Bottom")),t+='</span>\n                </label>\n            </div>\n        </div>\n        <input class="dplayer-comment-input" type="text" placeholder="',t+=o(s("Input danmaku, hit Enter")),t+='" maxlength="30">\n        <button class="dplayer-icon dplayer-send-icon" data-balloon="',t+=o(s("Send")),t+='" data-balloon-pos="up">\n            <span class="dplayer-icon-content">',t+=u.send,t+='</span>\n        </button>\n    </div>\n    <div class="dplayer-icons dplayer-icons-left">\n        <button class="dplayer-icon dplayer-play-icon">\n            <span class="dplayer-icon-content">',t+=u.play,t+='</span>\n        </button>\n        <div class="dplayer-volume">\n            <button class="dplayer-icon dplayer-volume-icon">\n                <span class="dplayer-icon-content">',t+=u.volumeDown,t+='</span>\n            </button>\n            <div class="dplayer-volume-bar-wrap" data-balloon-pos="up">\n                <div class="dplayer-volume-bar">\n                    <div class="dplayer-volume-bar-inner" style="background: ',t+=o(a.theme),t+=';">\n                        <span class="dplayer-thumb" style="background: ',t+=o(a.theme),t+='"></span>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <span class="dplayer-time">\n            <span class="dplayer-ptime">0:00</span> /\n            <span class="dplayer-dtime">0:00</span>\n        </span>\n        ',a.live&&(t+='\n        <span class="dplayer-live-badge"><span class="dplayer-live-dot" style="background: ',t+=o(a.theme),t+=';"></span>',t+=o(s("Live")),t+="</span>\n        "),t+='\n    </div>\n    <div class="dplayer-icons dplayer-icons-right">\n        ',a.video.quality&&(t+='\n        <div class="dplayer-quality">\n            <button class="dplayer-icon dplayer-quality-icon">',t+=o(a.video.quality[a.video.defaultQuality].name),t+='</button>\n            <div class="dplayer-quality-mask">\n                <div class="dplayer-quality-list">\n                ',l(a.video.quality,(function(e,r){t+='\n                    <div class="dplayer-quality-item" data-index="',t+=o(r),t+='">',t+=o(e.name),t+="</div>\n                "})),t+="\n                </div>\n            </div>\n        </div>\n        "),t+="\n        ",a.screenshot&&(t+='\n        <div class="dplayer-icon dplayer-camera-icon" data-balloon="',t+=o(s("Screenshot")),t+='" data-balloon-pos="up">\n            <span class="dplayer-icon-content">',t+=u.camera,t+="</span>\n        </div>\n        "),t+="\n        ",a.airplay&&(t+='\n        <div class="dplayer-icon dplayer-airplay-icon" data-balloon="',t+=o(s("AirPlay")),t+='" data-balloon-pos="up">\n            <span class="dplayer-icon-content">',t+=u.airplay,t+="</span>\n        </div>\n        "),t+='\n        <div class="dplayer-comment">\n            <button class="dplayer-icon dplayer-comment-icon" data-balloon="',t+=o(s("Send danmaku")),t+='" data-balloon-pos="up">\n                <span class="dplayer-icon-content">',t+=u.comment,t+="</span>\n            </button>\n        </div>\n        ",a.subtitle&&(t+='\n        <div class="dplayer-subtitle-btn">\n            <button class="dplayer-icon dplayer-subtitle-icon" data-balloon="',t+=o(s("Hide subtitle")),t+='" data-balloon-pos="up">\n                <span class="dplayer-icon-content">',t+=u.subtitle,t+="</span>\n            </button>\n        </div>\n        "),t+='\n        <div class="dplayer-setting">\n            <button class="dplayer-icon dplayer-setting-icon" data-balloon="',t+=o(s("Setting")),t+='" data-balloon-pos="up">\n                <span class="dplayer-icon-content">',t+=u.setting,t+='</span>\n            </button>\n            <div class="dplayer-setting-box">\n                <div class="dplayer-setting-origin-panel">\n                    <div class="dplayer-setting-item dplayer-setting-speed">\n                        <span class="dplayer-label">',t+=o(s("Speed")),t+='</span>\n                        <div class="dplayer-toggle">',t+=u.right,t+='</div>\n                    </div>\n                    <div class="dplayer-setting-item dplayer-setting-loop">\n                        <span class="dplayer-label">',t+=o(s("Loop")),t+='</span>\n                        <div class="dplayer-toggle">\n                            <input class="dplayer-toggle-setting-input" type="checkbox" name="dplayer-toggle">\n                            <label for="dplayer-toggle"></label>\n                        </div>\n                    </div>\n                    <div class="dplayer-setting-item dplayer-setting-showdan">\n                        <span class="dplayer-label">',t+=o(s("Show danmaku")),t+='</span>\n                        <div class="dplayer-toggle">\n                            <input class="dplayer-showdan-setting-input" type="checkbox" name="dplayer-toggle-dan">\n                            <label for="dplayer-toggle-dan"></label>\n                        </div>\n                    </div>\n                    <div class="dplayer-setting-item dplayer-setting-danunlimit">\n                        <span class="dplayer-label">',t+=o(s("Unlimited danmaku")),t+='</span>\n                        <div class="dplayer-toggle">\n                            <input class="dplayer-danunlimit-setting-input" type="checkbox" name="dplayer-toggle-danunlimit">\n                            <label for="dplayer-toggle-danunlimit"></label>\n                        </div>\n                    </div>\n                    <div class="dplayer-setting-item dplayer-setting-danmaku">\n                        <span class="dplayer-label">',t+=o(s("Opacity for danmaku")),t+='</span>\n                        <div class="dplayer-danmaku-bar-wrap">\n                            <div class="dplayer-danmaku-bar">\n                                <div class="dplayer-danmaku-bar-inner">\n                                    <span class="dplayer-thumb"></span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="dplayer-setting-speed-panel">\n                    ',l(a.playbackSpeed,(function(e,r){t+='\n                        <div class="dplayer-setting-speed-item" data-speed="',t+=o(e),t+='">\n                            <span class="dplayer-label">',t+=o(1===e?s("Normal"):e),t+="</span>\n                        </div>\n                    "})),t+='\n                </div>\n            </div>\n        </div>\n        <div class="dplayer-full">\n            <button class="dplayer-icon dplayer-full-in-icon" data-balloon="',t+=o(s("Web full screen")),t+='" data-balloon-pos="up">\n                <span class="dplayer-icon-content">',t+=u.fullWeb,t+='</span>\n            </button>\n            <button class="dplayer-icon dplayer-full-icon" data-balloon="',t+=o(s("Full screen")),t+='" data-balloon-pos="up">\n                <span class="dplayer-icon-content">',t+=u.full,t+='</span>\n            </button>\n        </div>\n    </div>\n    <div class="dplayer-bar-wrap">\n        <div class="dplayer-bar-time hidden">00:00</div>\n        <div class="dplayer-bar-preview"></div>\n        <div class="dplayer-bar">\n            <div class="dplayer-loaded" style="width: 0;"></div>\n            <div class="dplayer-played" style="width: 0; background: ',t+=o(a.theme),t+='">\n                <span class="dplayer-thumb" style="background: ',t+=o(a.theme),t+='"></span>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="dplayer-info-panel dplayer-info-panel-hide">\n    <div class="dplayer-info-panel-close">[x]</div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-version">\n        <span class="dplayer-info-panel-item-title">Player version</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-fps">\n        <span class="dplayer-info-panel-item-title">Player FPS</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-type">\n        <span class="dplayer-info-panel-item-title">Video type</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-url">\n        <span class="dplayer-info-panel-item-title">Video url</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-resolution">\n        <span class="dplayer-info-panel-item-title">Video resolution</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-duration">\n        <span class="dplayer-info-panel-item-title">Video duration</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    ',a.danmaku&&(t+='\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-danmaku-id">\n        <span class="dplayer-info-panel-item-title">Danmaku id</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-danmaku-api">\n        <span class="dplayer-info-panel-item-title">Danmaku api</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-danmaku-amount">\n        <span class="dplayer-info-panel-item-title">Danmaku amount</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    '),t+='\n</div>\n<div class="dplayer-menu">\n    ',l(a.contextmenu,(function(e,r){t+='\n        <div class="dplayer-menu-item">\n            <a',e.link&&(t+=' target="_blank"'),t+=' href="',t+=o(e.link||"javascript:void(0);"),t+='">',t+=o(s(e.text)),t+="</a>\n        </div>\n    "})),t+='\n</div>\n<div class="dplayer-notice"></div>\n<button class="dplayer-mobile-play">\n    ',t+=u.play,t+="\n</button>"}},function(e,t,r){var n=r(36),i=r(37);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]),n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,r){"use strict";var n,i=function(){var e={};return function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}e[t]=r}return e[t]}}(),a=[];function o(e){for(var t=-1,r=0;r<a.length;r++)if(a[r].identifier===e){t=r;break}return t}function s(e,t){for(var r={},n=[],i=0;i<e.length;i++){var s=e[i],u=t.base?s[0]+t.base:s[0],c=r[u]||0,l="".concat(u," ").concat(c);r[u]=c+1;var f=o(l),p={css:s[1],media:s[2],sourceMap:s[3]};-1!==f?(a[f].references++,a[f].updater(p)):a.push({identifier:l,updater:m(p,t),references:1}),n.push(l)}return n}function u(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var a=r.nc;a&&(n.nonce=a)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var o=i(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var c,l=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function f(e,t,r,n){var i=r?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=l(t,i);else{var a=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function p(e,t,r){var n=r.css,i=r.media,a=r.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),a&&btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var d=null,h=0;function m(e,t){var r,n,i;if(t.singleton){var a=h++;r=d||(d=u(t)),n=f.bind(null,r,a,!1),i=f.bind(null,r,a,!0)}else r=u(t),n=p.bind(null,r,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n));var r=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<r.length;n++){var i=o(r[n]);a[i].references--}for(var u=s(e,t),c=0;c<r.length;c++){var l=o(r[c]);0===a[l].references&&(a[l].updater(),a.splice(l,1))}r=u}}}},function(e,t,r){var n=r(3),i=r(38);(t=n(!1)).i(i),t.push([e.i,'@-webkit-keyframes my-face{2%{transform:translateY(1.5px) rotate(1.5deg)}4%{transform:translateY(-1.5px) rotate(-.5deg)}6%{transform:translateY(1.5px) rotate(-1.5deg)}8%{transform:translateY(-1.5px) rotate(-1.5deg)}10%{transform:translateY(2.5px) rotate(1.5deg)}12%{transform:translateY(-.5px) rotate(1.5deg)}14%{transform:translateY(-1.5px) rotate(1.5deg)}16%{transform:translateY(-.5px) rotate(-1.5deg)}18%{transform:translateY(.5px) rotate(-1.5deg)}20%{transform:translateY(-1.5px) rotate(2.5deg)}22%{transform:translateY(.5px) rotate(-1.5deg)}24%{transform:translateY(1.5px) rotate(1.5deg)}26%{transform:translateY(.5px) rotate(.5deg)}28%{transform:translateY(.5px) rotate(1.5deg)}30%{transform:translateY(-.5px) rotate(2.5deg)}32%{transform:translateY(1.5px) rotate(-.5deg)}34%{transform:translateY(1.5px) rotate(-.5deg)}36%{transform:translateY(-1.5px) rotate(2.5deg)}38%{transform:translateY(1.5px) rotate(-1.5deg)}40%{transform:translateY(-.5px) rotate(2.5deg)}42%{transform:translateY(2.5px) rotate(-1.5deg)}44%{transform:translateY(1.5px) rotate(.5deg)}46%{transform:translateY(-1.5px) rotate(2.5deg)}48%{transform:translateY(-.5px) rotate(.5deg)}50%{transform:translateY(.5px) rotate(.5deg)}52%{transform:translateY(2.5px) rotate(2.5deg)}54%{transform:translateY(-1.5px) rotate(1.5deg)}56%{transform:translateY(2.5px) rotate(2.5deg)}58%{transform:translateY(.5px) rotate(2.5deg)}60%{transform:translateY(2.5px) rotate(2.5deg)}62%{transform:translateY(-.5px) rotate(2.5deg)}64%{transform:translateY(-.5px) rotate(1.5deg)}66%{transform:translateY(1.5px) rotate(-.5deg)}68%{transform:translateY(-1.5px) rotate(-.5deg)}70%{transform:translateY(1.5px) rotate(.5deg)}72%{transform:translateY(2.5px) rotate(1.5deg)}74%{transform:translateY(-.5px) rotate(.5deg)}76%{transform:translateY(-.5px) rotate(2.5deg)}78%{transform:translateY(-.5px) rotate(1.5deg)}80%{transform:translateY(1.5px) rotate(1.5deg)}82%{transform:translateY(-.5px) rotate(.5deg)}84%{transform:translateY(1.5px) rotate(2.5deg)}86%{transform:translateY(-1.5px) rotate(-1.5deg)}88%{transform:translateY(-.5px) rotate(2.5deg)}90%{transform:translateY(2.5px) rotate(-.5deg)}92%{transform:translateY(.5px) rotate(-.5deg)}94%{transform:translateY(2.5px) rotate(.5deg)}96%{transform:translateY(-.5px) rotate(1.5deg)}98%{transform:translateY(-1.5px) rotate(-.5deg)}0%,to{transform:translate(0) rotate(0deg)}}@keyframes my-face{2%{transform:translateY(1.5px) rotate(1.5deg)}4%{transform:translateY(-1.5px) rotate(-.5deg)}6%{transform:translateY(1.5px) rotate(-1.5deg)}8%{transform:translateY(-1.5px) rotate(-1.5deg)}10%{transform:translateY(2.5px) rotate(1.5deg)}12%{transform:translateY(-.5px) rotate(1.5deg)}14%{transform:translateY(-1.5px) rotate(1.5deg)}16%{transform:translateY(-.5px) rotate(-1.5deg)}18%{transform:translateY(.5px) rotate(-1.5deg)}20%{transform:translateY(-1.5px) rotate(2.5deg)}22%{transform:translateY(.5px) rotate(-1.5deg)}24%{transform:translateY(1.5px) rotate(1.5deg)}26%{transform:translateY(.5px) rotate(.5deg)}28%{transform:translateY(.5px) rotate(1.5deg)}30%{transform:translateY(-.5px) rotate(2.5deg)}32%{transform:translateY(1.5px) rotate(-.5deg)}34%{transform:translateY(1.5px) rotate(-.5deg)}36%{transform:translateY(-1.5px) rotate(2.5deg)}38%{transform:translateY(1.5px) rotate(-1.5deg)}40%{transform:translateY(-.5px) rotate(2.5deg)}42%{transform:translateY(2.5px) rotate(-1.5deg)}44%{transform:translateY(1.5px) rotate(.5deg)}46%{transform:translateY(-1.5px) rotate(2.5deg)}48%{transform:translateY(-.5px) rotate(.5deg)}50%{transform:translateY(.5px) rotate(.5deg)}52%{transform:translateY(2.5px) rotate(2.5deg)}54%{transform:translateY(-1.5px) rotate(1.5deg)}56%{transform:translateY(2.5px) rotate(2.5deg)}58%{transform:translateY(.5px) rotate(2.5deg)}60%{transform:translateY(2.5px) rotate(2.5deg)}62%{transform:translateY(-.5px) rotate(2.5deg)}64%{transform:translateY(-.5px) rotate(1.5deg)}66%{transform:translateY(1.5px) rotate(-.5deg)}68%{transform:translateY(-1.5px) rotate(-.5deg)}70%{transform:translateY(1.5px) rotate(.5deg)}72%{transform:translateY(2.5px) rotate(1.5deg)}74%{transform:translateY(-.5px) rotate(.5deg)}76%{transform:translateY(-.5px) rotate(2.5deg)}78%{transform:translateY(-.5px) rotate(1.5deg)}80%{transform:translateY(1.5px) rotate(1.5deg)}82%{transform:translateY(-.5px) rotate(.5deg)}84%{transform:translateY(1.5px) rotate(2.5deg)}86%{transform:translateY(-1.5px) rotate(-1.5deg)}88%{transform:translateY(-.5px) rotate(2.5deg)}90%{transform:translateY(2.5px) rotate(-.5deg)}92%{transform:translateY(.5px) rotate(-.5deg)}94%{transform:translateY(2.5px) rotate(.5deg)}96%{transform:translateY(-.5px) rotate(1.5deg)}98%{transform:translateY(-1.5px) rotate(-.5deg)}0%,to{transform:translate(0) rotate(0deg)}}.dplayer{position:relative;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;line-height:1}.dplayer *{box-sizing:content-box}.dplayer svg{width:100%;height:100%}.dplayer svg circle,.dplayer svg path{fill:#fff}.dplayer:-webkit-full-screen{width:100%;height:100%;background:#000;position:fixed;z-index:100000;left:0;top:0;margin:0;padding:0;transform:translate(0)}.dplayer:-webkit-full-screen .dplayer-danmaku .dplayer-danmaku-bottom.dplayer-danmaku-move,.dplayer:-webkit-full-screen .dplayer-danmaku .dplayer-danmaku-top.dplayer-danmaku-move{-webkit-animation:danmaku-center 6s linear;animation:danmaku-center 6s linear;-webkit-animation-play-state:inherit;animation-play-state:inherit}.dplayer:-webkit-full-screen .dplayer-danmaku .dplayer-danmaku-right.dplayer-danmaku-move{-webkit-animation:danmaku 8s linear;animation:danmaku 8s linear;-webkit-animation-play-state:inherit;animation-play-state:inherit}.dplayer.dplayer-live .dplayer-bar-wrap,.dplayer.dplayer-live.dplayer-no-danmaku .dplayer-setting,.dplayer.dplayer-live .dplayer-setting-loop,.dplayer.dplayer-live .dplayer-setting-speed,.dplayer.dplayer-live .dplayer-time,.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-comment,.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box .dplayer-setting-danmaku,.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box .dplayer-setting-danunlimit,.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box .dplayer-setting-showdan,.dplayer.dplayer-no-danmaku .dplayer-danmaku{display:none}.dplayer.dplayer-arrow .dplayer-danmaku{font-size:18px}.dplayer.dplayer-arrow .dplayer-icon{margin:0 -3px}.dplayer.dplayer-playing .dplayer-danmaku .dplayer-danmaku-move{-webkit-animation-play-state:running;animation-play-state:running}@media (min-width:900px){.dplayer.dplayer-playing .dplayer-controller,.dplayer.dplayer-playing .dplayer-controller-mask{opacity:0}.dplayer.dplayer-playing:hover .dplayer-controller,.dplayer.dplayer-playing:hover .dplayer-controller-mask{opacity:1}}.dplayer.dplayer-loading .dplayer-bezel .diplayer-loading-icon{display:block}.dplayer.dplayer-loading .dplayer-danmaku,.dplayer.dplayer-loading .dplayer-danmaku-move,.dplayer.dplayer-paused .dplayer-danmaku,.dplayer.dplayer-paused .dplayer-danmaku-move{-webkit-animation-play-state:paused;animation-play-state:paused}.dplayer.dplayer-hide-controller{cursor:none}.dplayer.dplayer-hide-controller .dplayer-controller,.dplayer.dplayer-hide-controller .dplayer-controller-mask{opacity:0;transform:translateY(100%)}.dplayer.dplayer-show-controller .dplayer-controller,.dplayer.dplayer-show-controller .dplayer-controller-mask{opacity:1}.dplayer.dplayer-fulled{position:fixed;z-index:100000;left:0;top:0;width:100%!important;height:100%!important}.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-airplay-icon,.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-camera-icon,.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-play-icon,.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-volume{display:none}.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-full .dplayer-full-in-icon{position:static;display:inline-block}.dplayer.dplayer-mobile .dplayer-bar-time,.dplayer.dplayer-mobile.dplayer-hide-controller .dplayer-mobile-play{display:none}.dplayer.dplayer-mobile .dplayer-mobile-play{display:block}.dplayer-web-fullscreen-fix{position:fixed;top:0;left:0;margin:0;padding:0}[data-balloon]:before{display:none}[data-balloon]:after{padding:.3em .7em;background:rgba(17,17,17,.7)}[data-balloon][data-balloon-pos=up]:after{margin-bottom:0}.dplayer-bezel{position:absolute;left:0;right:0;top:0;bottom:0;font-size:22px;color:#fff;pointer-events:none}.dplayer-bezel .dplayer-bezel-icon{position:absolute;top:50%;left:50%;margin:-26px 0 0 -26px;height:52px;width:52px;padding:12px;box-sizing:border-box;background:rgba(0,0,0,.5);border-radius:50%;opacity:0;pointer-events:none}.dplayer-bezel .dplayer-bezel-icon.dplayer-bezel-transition{-webkit-animation:bezel-hide .5s linear;animation:bezel-hide .5s linear}@-webkit-keyframes bezel-hide{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(2)}}@keyframes bezel-hide{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(2)}}.dplayer-bezel .dplayer-danloading{position:absolute;top:50%;margin-top:-7px;width:100%;text-align:center;font-size:14px;line-height:14px;-webkit-animation:my-face 5s ease-in-out infinite;animation:my-face 5s ease-in-out infinite}.dplayer-bezel .diplayer-loading-icon{display:none;position:absolute;top:50%;left:50%;margin:-18px 0 0 -18px;height:36px;width:36px;pointer-events:none}.dplayer-bezel .diplayer-loading-icon .diplayer-loading-hide{display:none}.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot{-webkit-animation:diplayer-loading-dot-fade .8s ease infinite;animation:diplayer-loading-dot-fade .8s ease infinite;opacity:0;transform-origin:4px 4px}.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-7{-webkit-animation-delay:.7s;animation-delay:.7s}.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-6{-webkit-animation-delay:.6s;animation-delay:.6s}.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-5{-webkit-animation-delay:.5s;animation-delay:.5s}.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-4{-webkit-animation-delay:.4s;animation-delay:.4s}.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-3{-webkit-animation-delay:.3s;animation-delay:.3s}.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-2{-webkit-animation-delay:.2s;animation-delay:.2s}.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-1{-webkit-animation-delay:.1s;animation-delay:.1s}@-webkit-keyframes diplayer-loading-dot-fade{0%{opacity:.7;transform:scale(1.2)}50%{opacity:.25;transform:scale(.9)}to{opacity:.25;transform:scale(.85)}}@keyframes diplayer-loading-dot-fade{0%{opacity:.7;transform:scale(1.2)}50%{opacity:.25;transform:scale(.9)}to{opacity:.25;transform:scale(.85)}}.dplayer-controller-mask{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg==) repeat-x bottom;height:98px;width:100%}.dplayer-controller,.dplayer-controller-mask{position:absolute;bottom:0;transition:all .3s ease}.dplayer-controller{left:0;right:0;height:41px;padding:0 20px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.dplayer-controller.dplayer-controller-comment .dplayer-icons{display:none}.dplayer-controller.dplayer-controller-comment .dplayer-icons.dplayer-comment-box{display:block}.dplayer-controller .dplayer-bar-wrap{padding:5px 0;cursor:pointer;position:absolute;bottom:33px;width:calc(100% - 40px);height:3px}.dplayer-controller .dplayer-bar-wrap:hover .dplayer-bar .dplayer-played .dplayer-thumb{transform:scale(1)}.dplayer-controller .dplayer-bar-wrap:hover .dplayer-highlight{display:block;width:8px;transform:translateX(-4px);top:4px;height:40%}.dplayer-controller .dplayer-bar-wrap .dplayer-highlight{z-index:12;position:absolute;top:5px;width:6px;height:20%;border-radius:6px;background-color:#fff;text-align:center;transform:translateX(-3px);transition:all .2s ease-in-out}.dplayer-controller .dplayer-bar-wrap .dplayer-highlight:hover .dplayer-highlight-text{display:block}.dplayer-controller .dplayer-bar-wrap .dplayer-highlight:hover~.dplayer-bar-preview,.dplayer-controller .dplayer-bar-wrap .dplayer-highlight:hover~.dplayer-bar-time{opacity:0}.dplayer-controller .dplayer-bar-wrap .dplayer-highlight .dplayer-highlight-text{display:none;position:absolute;left:50%;top:-24px;padding:5px 8px;background-color:rgba(0,0,0,.62);color:#fff;border-radius:4px;font-size:12px;white-space:nowrap;transform:translateX(-50%)}.dplayer-controller .dplayer-bar-wrap .dplayer-bar-preview{position:absolute;background:#fff;pointer-events:none;display:none;background-size:16000px 100%}.dplayer-controller .dplayer-bar-wrap .dplayer-bar-preview-canvas{position:absolute;width:100%;height:100%;z-index:1;pointer-events:none}.dplayer-controller .dplayer-bar-wrap .dplayer-bar-time{position:absolute;left:0;top:-20px;border-radius:4px;padding:5px 7px;background-color:rgba(0,0,0,.62);color:#fff;font-size:12px;text-align:center;opacity:1;transition:opacity .1s ease-in-out;word-wrap:normal;word-break:normal;z-index:2;pointer-events:none}.dplayer-controller .dplayer-bar-wrap .dplayer-bar-time.hidden{opacity:0}.dplayer-controller .dplayer-bar-wrap .dplayer-bar{position:relative;height:3px;width:100%;background:hsla(0,0%,100%,.2);cursor:pointer}.dplayer-controller .dplayer-bar-wrap .dplayer-bar .dplayer-loaded{background:hsla(0,0%,100%,.4);transition:all .5s ease}.dplayer-controller .dplayer-bar-wrap .dplayer-bar .dplayer-loaded,.dplayer-controller .dplayer-bar-wrap .dplayer-bar .dplayer-played{position:absolute;left:0;top:0;bottom:0;height:3px;will-change:width}.dplayer-controller .dplayer-bar-wrap .dplayer-bar .dplayer-played .dplayer-thumb{position:absolute;top:0;right:5px;margin-top:-4px;margin-right:-10px;height:11px;width:11px;border-radius:50%;cursor:pointer;transition:all .3s ease-in-out;transform:scale(0)}.dplayer-controller .dplayer-icons{height:38px;position:absolute;bottom:0}.dplayer-controller .dplayer-icons.dplayer-comment-box{display:none;position:absolute;transition:all .3s ease-in-out;z-index:2;height:38px;bottom:0;left:20px;right:20px;color:#fff}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-icon{padding:7px}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-icon{position:absolute;left:0;top:0}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-send-icon{position:absolute;right:0;top:0}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box{position:absolute;background:rgba(28,28,28,.9);bottom:41px;left:0;box-shadow:0 0 25px rgba(0,0,0,.3);border-radius:4px;padding:10px 10px 16px;font-size:14px;width:204px;transition:all .3s ease-in-out;transform:scale(0)}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box.dplayer-comment-setting-open{transform:scale(1)}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box input[type=radio]{display:none}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box label{cursor:pointer}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-title{font-size:13px;color:#fff;line-height:30px}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type{font-size:0}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type .dplayer-comment-setting-title{margin-bottom:6px}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type label:nth-child(2) span{border-radius:4px 0 0 4px}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type label:nth-child(4) span{border-radius:0 4px 4px 0}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type span{width:33%;padding:4px 6px;line-height:16px;display:inline-block;font-size:12px;color:#fff;border:1px solid #fff;margin-right:-1px;box-sizing:border-box;text-align:center;cursor:pointer}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type input:checked+span{background:#e4e4e6;color:#1c1c1c}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color{font-size:0}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color label{font-size:0;padding:6px;display:inline-block}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color span{width:22px;height:22px;display:inline-block;border-radius:50%;box-sizing:border-box;cursor:pointer}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color span:hover{-webkit-animation:my-face 5s ease-in-out infinite;animation:my-face 5s ease-in-out infinite}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input{outline:none;border:none;padding:8px 31px;font-size:14px;line-height:18px;text-align:center;border-radius:4px;background:none;margin:0;height:100%;box-sizing:border-box;width:100%;color:#fff}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input::-webkit-input-placeholder{color:#fff;opacity:.8}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input::-moz-placeholder{color:#fff;opacity:.8}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input:-ms-input-placeholder{color:#fff;opacity:.8}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input::-ms-input-placeholder{color:#fff;opacity:.8}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input::placeholder{color:#fff;opacity:.8}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input::-ms-clear{display:none}.dplayer-controller .dplayer-icons.dplayer-icons-left .dplayer-icon{padding:7px}.dplayer-controller .dplayer-icons.dplayer-icons-right{right:20px}.dplayer-controller .dplayer-icons.dplayer-icons-right .dplayer-icon{padding:8px}.dplayer-controller .dplayer-icons .dplayer-live-badge,.dplayer-controller .dplayer-icons .dplayer-time{line-height:38px;color:#eee;text-shadow:0 0 2px rgba(0,0,0,.5);vertical-align:middle;font-size:13px;cursor:default}.dplayer-controller .dplayer-icons .dplayer-live-dot{display:inline-block;width:6px;height:6px;vertical-align:4%;margin-right:5px;content:"";border-radius:6px}.dplayer-controller .dplayer-icons .dplayer-icon{width:40px;height:100%;border:none;background-color:transparent;outline:none;cursor:pointer;vertical-align:middle;box-sizing:border-box;display:inline-block}.dplayer-controller .dplayer-icons .dplayer-icon .dplayer-icon-content{transition:all .2s ease-in-out;opacity:.8}.dplayer-controller .dplayer-icons .dplayer-icon:hover .dplayer-icon-content{opacity:1}.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-quality-icon{color:#fff;width:auto;line-height:22px;font-size:14px}.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-comment-icon{padding:10px 9px 9px}.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-setting-icon{padding-top:8.5px}.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-volume-icon{width:43px}.dplayer-controller .dplayer-icons .dplayer-volume{position:relative;display:inline-block;cursor:pointer;height:100%}.dplayer-controller .dplayer-icons .dplayer-volume:hover .dplayer-volume-bar-wrap .dplayer-volume-bar{width:45px}.dplayer-controller .dplayer-icons .dplayer-volume:hover .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner .dplayer-thumb{transform:scale(1)}.dplayer-controller .dplayer-icons .dplayer-volume.dplayer-volume-active .dplayer-volume-bar-wrap .dplayer-volume-bar{width:45px}.dplayer-controller .dplayer-icons .dplayer-volume.dplayer-volume-active .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner .dplayer-thumb{transform:scale(1)}.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap{display:inline-block;margin:0 10px 0 -5px;vertical-align:middle;height:100%}.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap .dplayer-volume-bar{position:relative;top:17px;width:0;height:3px;background:#aaa;transition:all .3s ease-in-out}.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner{position:absolute;bottom:0;left:0;height:100%;transition:all .1s ease;will-change:width}.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner .dplayer-thumb{position:absolute;top:0;right:5px;margin-top:-4px;margin-right:-10px;height:11px;width:11px;border-radius:50%;cursor:pointer;transition:all .3s ease-in-out;transform:scale(0)}.dplayer-controller .dplayer-icons .dplayer-setting,.dplayer-controller .dplayer-icons .dplayer-subtitle-btn{display:inline-block;height:100%}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box{position:absolute;right:0;bottom:50px;transform:scale(0);width:150px;border-radius:2px;background:rgba(28,28,28,.9);padding:7px 0;transition:all .3s ease-in-out;overflow:hidden;z-index:2}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box>div{display:none}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box>div.dplayer-setting-origin-panel{display:block}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-open{transform:scale(1)}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-narrow{width:70px;text-align:center}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-speed .dplayer-setting-origin-panel{display:none}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-speed .dplayer-setting-speed-panel{display:block}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-item,.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-speed-item{height:30px;padding:5px 10px;box-sizing:border-box;cursor:pointer;position:relative}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-item:hover,.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-speed-item:hover{background-color:hsla(0,0%,100%,.1)}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku{padding:5px 0}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-label{padding:0 10px;display:inline}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku:hover .dplayer-label{display:none}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku:hover .dplayer-danmaku-bar-wrap{display:inline-block}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku.dplayer-setting-danmaku-active .dplayer-label{display:none}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku.dplayer-setting-danmaku-active .dplayer-danmaku-bar-wrap{display:inline-block}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap{padding:0 10px;box-sizing:border-box;display:none;vertical-align:middle;height:100%;width:100%}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap .dplayer-danmaku-bar{position:relative;top:8.5px;width:100%;height:3px;background:#fff;transition:all .3s ease-in-out}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap .dplayer-danmaku-bar .dplayer-danmaku-bar-inner{position:absolute;bottom:0;left:0;height:100%;transition:all .1s ease;background:#aaa;will-change:width}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap .dplayer-danmaku-bar .dplayer-danmaku-bar-inner .dplayer-thumb{position:absolute;top:0;right:5px;margin-top:-4px;margin-right:-10px;height:11px;width:11px;border-radius:50%;cursor:pointer;transition:all .3s ease-in-out;background:#aaa}.dplayer-controller .dplayer-icons .dplayer-full{display:inline-block;height:100%;position:relative}.dplayer-controller .dplayer-icons .dplayer-full:hover .dplayer-full-in-icon{display:block}.dplayer-controller .dplayer-icons .dplayer-full .dplayer-full-in-icon{position:absolute;top:-30px;z-index:1;display:none}.dplayer-controller .dplayer-icons .dplayer-quality{position:relative;display:inline-block;height:100%;z-index:2}.dplayer-controller .dplayer-icons .dplayer-quality:hover .dplayer-quality-list,.dplayer-controller .dplayer-icons .dplayer-quality:hover .dplayer-quality-mask{display:block}.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-mask{display:none;position:absolute;bottom:38px;left:-18px;width:80px;padding-bottom:12px}.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-list{display:none;font-size:12px;width:80px;border-radius:2px;background:rgba(28,28,28,.9);padding:5px 0;transition:all .3s ease-in-out;overflow:hidden;color:#fff;text-align:center}.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-item{height:25px;box-sizing:border-box;cursor:pointer;line-height:25px}.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-item:hover{background-color:hsla(0,0%,100%,.1)}.dplayer-controller .dplayer-icons .dplayer-comment{display:inline-block;height:100%}.dplayer-controller .dplayer-icons .dplayer-label{color:#eee;font-size:13px;display:inline-block;vertical-align:middle;white-space:nowrap}.dplayer-controller .dplayer-icons .dplayer-toggle{width:32px;height:20px;text-align:center;font-size:0;vertical-align:middle;position:absolute;top:5px;right:10px}.dplayer-controller .dplayer-icons .dplayer-toggle input{max-height:0;max-width:0;display:none}.dplayer-controller .dplayer-icons .dplayer-toggle input+label{display:inline-block;position:relative;box-shadow:inset 0 0 0 0 #dfdfdf;border:1px solid #dfdfdf;height:20px;width:32px;border-radius:10px;box-sizing:border-box;cursor:pointer;transition:.2s ease-in-out}.dplayer-controller .dplayer-icons .dplayer-toggle input+label:after,.dplayer-controller .dplayer-icons .dplayer-toggle input+label:before{content:"";position:absolute;display:block;height:18px;width:18px;top:0;left:0;border-radius:15px;transition:.2s ease-in-out}.dplayer-controller .dplayer-icons .dplayer-toggle input+label:after{background:#fff;box-shadow:0 1px 3px rgba(0,0,0,.4)}.dplayer-controller .dplayer-icons .dplayer-toggle input:checked+label{border-color:hsla(0,0%,100%,.5)}.dplayer-controller .dplayer-icons .dplayer-toggle input:checked+label:before{width:30px;background:hsla(0,0%,100%,.5)}.dplayer-controller .dplayer-icons .dplayer-toggle input:checked+label:after{left:12px}.dplayer-mobile-play{display:none;width:50px;height:50px;border:none;background-color:transparent;outline:none;cursor:pointer;box-sizing:border-box;bottom:0;opacity:.8;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.dplayer-danmaku{position:absolute;left:0;right:0;top:0;bottom:0;font-size:22px;color:#fff}.dplayer-danmaku .dplayer-danmaku-item{display:inline-block;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default;white-space:nowrap;text-shadow:.5px .5px .5px rgba(0,0,0,.5)}.dplayer-danmaku .dplayer-danmaku-item--demo{position:absolute;visibility:hidden}.dplayer-danmaku .dplayer-danmaku-right{position:absolute;right:0;transform:translateX(100%)}.dplayer-danmaku .dplayer-danmaku-right.dplayer-danmaku-move{will-change:transform;-webkit-animation:danmaku 5s linear;animation:danmaku 5s linear;-webkit-animation-play-state:paused;animation-play-state:paused}@-webkit-keyframes danmaku{0%{transform:translateX(100%)}}@keyframes danmaku{0%{transform:translateX(100%)}}.dplayer-danmaku .dplayer-danmaku-bottom,.dplayer-danmaku .dplayer-danmaku-top{position:absolute;width:100%;text-align:center;visibility:hidden}.dplayer-danmaku .dplayer-danmaku-bottom.dplayer-danmaku-move,.dplayer-danmaku .dplayer-danmaku-top.dplayer-danmaku-move{will-change:visibility;-webkit-animation:danmaku-center 4s linear;animation:danmaku-center 4s linear;-webkit-animation-play-state:paused;animation-play-state:paused}@-webkit-keyframes danmaku-center{0%{visibility:visible}to{visibility:visible}}@keyframes danmaku-center{0%{visibility:visible}to{visibility:visible}}.dplayer-logo{pointer-events:none;position:absolute;left:20px;top:20px;max-width:50px;max-height:50px}.dplayer-logo img{max-width:100%;max-height:100%;background:none}.dplayer-menu{position:absolute;width:170px;border-radius:2px;background:rgba(28,28,28,.85);padding:5px 0;overflow:hidden;z-index:3;display:none}.dplayer-menu.dplayer-menu-show{display:block}.dplayer-menu .dplayer-menu-item{height:30px;box-sizing:border-box;cursor:pointer}.dplayer-menu .dplayer-menu-item:hover{background-color:hsla(0,0%,100%,.1)}.dplayer-menu .dplayer-menu-item a{padding:0 10px;line-height:30px;color:#eee;font-size:13px;display:inline-block;vertical-align:middle;width:100%;box-sizing:border-box;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.dplayer-menu .dplayer-menu-item a:hover{text-decoration:none}.dplayer-notice{opacity:0;position:absolute;bottom:60px;left:20px;font-size:14px;border-radius:2px;background:rgba(28,28,28,.9);padding:7px 20px;transition:all .3s ease-in-out;overflow:hidden;color:#fff;pointer-events:none}.dplayer-subtitle{position:absolute;bottom:40px;width:90%;left:5%;text-align:center;color:#fff;text-shadow:.5px .5px .5px rgba(0,0,0,.5);font-size:20px}.dplayer-subtitle.dplayer-subtitle-hide{display:none}.dplayer-mask{position:absolute;top:0;bottom:0;left:0;right:0;z-index:1;display:none}.dplayer-mask.dplayer-mask-show{display:block}.dplayer-video-wrap{position:relative;background:#000;font-size:0;width:100%;height:100%}.dplayer-video-wrap .dplayer-video{width:100%;height:100%;display:none}.dplayer-video-wrap .dplayer-video-current{display:block}.dplayer-video-wrap .dplayer-video-prepare{display:none}.dplayer-info-panel{position:absolute;top:10px;left:10px;width:400px;background:rgba(28,28,28,.8);padding:10px;color:#fff;font-size:12px;border-radius:2px}.dplayer-info-panel-hide{display:none}.dplayer-info-panel .dplayer-info-panel-close{cursor:pointer;position:absolute;right:10px;top:10px}.dplayer-info-panel .dplayer-info-panel-item>span{display:inline-block;vertical-align:middle;line-height:15px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.dplayer-info-panel .dplayer-info-panel-item-title{width:100px;text-align:right;margin-right:10px}.dplayer-info-panel .dplayer-info-panel-item-data{width:260px}',""]),e.exports=t},function(e,t,r){(t=r(3)(!1)).push([e.i,':root{--balloon-border-radius:2px;--balloon-color:rgba(16,16,16,0.95);--balloon-text-color:#fff;--balloon-font-size:12px;--balloon-move:4px}button[aria-label][data-balloon-pos]{overflow:visible}[aria-label][data-balloon-pos]{position:relative;cursor:pointer}[aria-label][data-balloon-pos]:after{text-indent:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;font-weight:400;font-style:normal;text-shadow:none;font-size:var(--balloon-font-size);background:var(--balloon-color);border-radius:2px;color:var(--balloon-text-color);border-radius:var(--balloon-border-radius);content:attr(aria-label);padding:.5em 1em;white-space:nowrap}[aria-label][data-balloon-pos]:after,[aria-label][data-balloon-pos]:before{opacity:0;pointer-events:none;transition:all .18s ease-out .18s;position:absolute;z-index:10}[aria-label][data-balloon-pos]:before{width:0;height:0;border:5px solid transparent;border-top:5px solid var(--balloon-color);content:""}[aria-label][data-balloon-pos]:hover:after,[aria-label][data-balloon-pos]:hover:before,[aria-label][data-balloon-pos]:not([data-balloon-nofocus]):focus:after,[aria-label][data-balloon-pos]:not([data-balloon-nofocus]):focus:before,[aria-label][data-balloon-pos][data-balloon-visible]:after,[aria-label][data-balloon-pos][data-balloon-visible]:before{opacity:1;pointer-events:none}[aria-label][data-balloon-pos].font-awesome:after{font-family:FontAwesome,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif}[aria-label][data-balloon-pos][data-balloon-break]:after{white-space:pre}[aria-label][data-balloon-pos][data-balloon-break][data-balloon-length]:after{white-space:pre-line;word-break:break-word}[aria-label][data-balloon-pos][data-balloon-blunt]:after,[aria-label][data-balloon-pos][data-balloon-blunt]:before{transition:none}[aria-label][data-balloon-pos][data-balloon-pos=up]:after{margin-bottom:10px}[aria-label][data-balloon-pos][data-balloon-pos=up]:after,[aria-label][data-balloon-pos][data-balloon-pos=up]:before{bottom:100%;left:50%;transform:translate(-50%,var(--balloon-move));transform-origin:top}[aria-label][data-balloon-pos][data-balloon-pos=up]:hover:after,[aria-label][data-balloon-pos][data-balloon-pos=up]:hover:before,[aria-label][data-balloon-pos][data-balloon-pos=up][data-balloon-visible]:after,[aria-label][data-balloon-pos][data-balloon-pos=up][data-balloon-visible]:before{transform:translate(-50%)}[aria-label][data-balloon-pos][data-balloon-pos=up-left]:after{bottom:100%;left:0;margin-bottom:10px;transform:translateY(var(--balloon-move));transform-origin:top}[aria-label][data-balloon-pos][data-balloon-pos=up-left]:before{bottom:100%;left:5px;transform:translateY(var(--balloon-move));transform-origin:top}[aria-label][data-balloon-pos][data-balloon-pos=up-left]:hover:after,[aria-label][data-balloon-pos][data-balloon-pos=up-left]:hover:before,[aria-label][data-balloon-pos][data-balloon-pos=up-left][data-balloon-visible]:after,[aria-label][data-balloon-pos][data-balloon-pos=up-left][data-balloon-visible]:before{transform:translate(0)}[aria-label][data-balloon-pos][data-balloon-pos=up-right]:after{bottom:100%;right:0;margin-bottom:10px;transform:translateY(var(--balloon-move));transform-origin:top}[aria-label][data-balloon-pos][data-balloon-pos=up-right]:before{bottom:100%;right:5px;transform:translateY(var(--balloon-move));transform-origin:top}[aria-label][data-balloon-pos][data-balloon-pos=up-right]:hover:after,[aria-label][data-balloon-pos][data-balloon-pos=up-right]:hover:before,[aria-label][data-balloon-pos][data-balloon-pos=up-right][data-balloon-visible]:after,[aria-label][data-balloon-pos][data-balloon-pos=up-right][data-balloon-visible]:before{transform:translate(0)}[aria-label][data-balloon-pos][data-balloon-pos=down]:after{left:50%;margin-top:10px;top:100%;transform:translate(-50%,calc(var(--balloon-move)*-1))}[aria-label][data-balloon-pos][data-balloon-pos=down]:before{width:0;height:0;border:5px solid transparent;border-bottom:5px solid var(--balloon-color);left:50%;top:100%;transform:translate(-50%,calc(var(--balloon-move)*-1))}[aria-label][data-balloon-pos][data-balloon-pos=down]:hover:after,[aria-label][data-balloon-pos][data-balloon-pos=down]:hover:before,[aria-label][data-balloon-pos][data-balloon-pos=down][data-balloon-visible]:after,[aria-label][data-balloon-pos][data-balloon-pos=down][data-balloon-visible]:before{transform:translate(-50%)}[aria-label][data-balloon-pos][data-balloon-pos=down-left]:after{left:0;margin-top:10px;top:100%;transform:translateY(calc(var(--balloon-move)*-1))}[aria-label][data-balloon-pos][data-balloon-pos=down-left]:before{width:0;height:0;border:5px solid transparent;border-bottom:5px solid var(--balloon-color);left:5px;top:100%;transform:translateY(calc(var(--balloon-move)*-1))}[aria-label][data-balloon-pos][data-balloon-pos=down-left]:hover:after,[aria-label][data-balloon-pos][data-balloon-pos=down-left]:hover:before,[aria-label][data-balloon-pos][data-balloon-pos=down-left][data-balloon-visible]:after,[aria-label][data-balloon-pos][data-balloon-pos=down-left][data-balloon-visible]:before{transform:translate(0)}[aria-label][data-balloon-pos][data-balloon-pos=down-right]:after{right:0;margin-top:10px;top:100%;transform:translateY(calc(var(--balloon-move)*-1))}[aria-label][data-balloon-pos][data-balloon-pos=down-right]:before{width:0;height:0;border:5px solid transparent;border-bottom:5px solid var(--balloon-color);right:5px;top:100%;transform:translateY(calc(var(--balloon-move)*-1))}[aria-label][data-balloon-pos][data-balloon-pos=down-right]:hover:after,[aria-label][data-balloon-pos][data-balloon-pos=down-right]:hover:before,[aria-label][data-balloon-pos][data-balloon-pos=down-right][data-balloon-visible]:after,[aria-label][data-balloon-pos][data-balloon-pos=down-right][data-balloon-visible]:before{transform:translate(0)}[aria-label][data-balloon-pos][data-balloon-pos=left]:after{margin-right:10px;right:100%;top:50%;transform:translate(var(--balloon-move),-50%)}[aria-label][data-balloon-pos][data-balloon-pos=left]:before{width:0;height:0;border:5px solid transparent;border-left:5px solid var(--balloon-color);right:100%;top:50%;transform:translate(var(--balloon-move),-50%)}[aria-label][data-balloon-pos][data-balloon-pos=left]:hover:after,[aria-label][data-balloon-pos][data-balloon-pos=left]:hover:before,[aria-label][data-balloon-pos][data-balloon-pos=left][data-balloon-visible]:after,[aria-label][data-balloon-pos][data-balloon-pos=left][data-balloon-visible]:before{transform:translateY(-50%)}[aria-label][data-balloon-pos][data-balloon-pos=right]:after{left:100%;margin-left:10px;top:50%;transform:translate(calc(var(--balloon-move)*-1),-50%)}[aria-label][data-balloon-pos][data-balloon-pos=right]:before{width:0;height:0;border:5px solid transparent;border-right:5px solid var(--balloon-color);left:100%;top:50%;transform:translate(calc(var(--balloon-move)*-1),-50%)}[aria-label][data-balloon-pos][data-balloon-pos=right]:hover:after,[aria-label][data-balloon-pos][data-balloon-pos=right]:hover:before,[aria-label][data-balloon-pos][data-balloon-pos=right][data-balloon-visible]:after,[aria-label][data-balloon-pos][data-balloon-pos=right][data-balloon-visible]:before{transform:translateY(-50%)}[aria-label][data-balloon-pos][data-balloon-length=small]:after{white-space:normal;width:80px}[aria-label][data-balloon-pos][data-balloon-length=medium]:after{white-space:normal;width:150px}[aria-label][data-balloon-pos][data-balloon-length=large]:after{white-space:normal;width:260px}[aria-label][data-balloon-pos][data-balloon-length=xlarge]:after{white-space:normal;width:380px}@media screen and (max-width:768px){[aria-label][data-balloon-pos][data-balloon-length=xlarge]:after{white-space:normal;width:90vw}}[aria-label][data-balloon-pos][data-balloon-length=fit]:after{white-space:normal;width:100%}',""]),e.exports=t},function(e,t,r){var n=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(n.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new i(n.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},r(40),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e,t,r){(function(e,t){!function(e,r){"use strict";if(!e.setImmediate){var n,i,a,o,s,u=1,c={},l=!1,f=e.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick((function(){h(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?(o="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&h(+t.data.slice(o.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),n=function(t){e.postMessage(o+t,"*")}):e.MessageChannel?((a=new MessageChannel).port1.onmessage=function(e){h(e.data)},n=function(e){a.port2.postMessage(e)}):f&&"onreadystatechange"in f.createElement("script")?(i=f.documentElement,n=function(e){var t=f.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):n=function(e){setTimeout(h,0,e)},p.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var i={callback:e,args:t};return c[u]=i,n(u),u++},p.clearImmediate=d}function d(e){delete c[e]}function h(e){if(l)setTimeout(h,0,e);else{var t=c[e];if(t){l=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(void 0,r)}}(t)}finally{d(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,r(4),r(5))},function(e,t,r){"use strict";var n=r(0),i=r(6),a=r(42),o=r(12);function s(e){var t=new a(e),r=i(a.prototype.request,t);return n.extend(r,a.prototype,t),n.extend(r,t),r}var u=s(r(9));u.Axios=a,u.create=function(e){return s(o(u.defaults,e))},u.Cancel=r(13),u.CancelToken=r(55),u.isCancel=r(8),u.all=function(e){return Promise.all(e)},u.spread=r(56),e.exports=u,e.exports.default=u},function(e,t,r){"use strict";var n=r(0),i=r(7),a=r(43),o=r(44),s=r(12);function u(e){this.defaults=e,this.interceptors={request:new a,response:new a}}u.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[o,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)r=r.then(t.shift(),t.shift());return r},u.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,r){return this.request(n.merge(r||{},{method:e,url:t}))}})),n.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,r,i){return this.request(n.merge(i||{},{method:e,url:t,data:r}))}})),e.exports=u},function(e,t,r){"use strict";var n=r(0);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},function(e,t,r){"use strict";var n=r(0),i=r(45),a=r(8),o=r(9);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return s(e),t.data=i(t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(s(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,r){"use strict";var n=r(0);e.exports=function(e,t,r){return n.forEach(r,(function(r){e=r(e,t)})),e}},function(e,t,r){"use strict";var n=r(0);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},function(e,t,r){"use strict";var n=r(11);e.exports=function(e,t,r){var i=r.config.validateStatus;!i||i(r.status)?e(r):t(n("Request failed with status code "+r.status,r.config,null,r.request,r))}},function(e,t,r){"use strict";e.exports=function(e,t,r,n,i){return e.config=t,r&&(e.code=r),e.request=n,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,r){"use strict";var n=r(50),i=r(51);e.exports=function(e,t){return e&&!n(t)?i(e,t):t}},function(e,t,r){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,r){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,r){"use strict";var n=r(0),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,a,o={};return e?(n.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=n.trim(e.substr(0,a)).toLowerCase(),r=n.trim(e.substr(a+1)),t){if(o[t]&&i.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([r]):o[t]?o[t]+", "+r:r}})),o):o}},function(e,t,r){"use strict";var n=r(0);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=i(window.location.href),function(t){var r=n.isString(t)?i(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},function(e,t,r){"use strict";var n=r(0);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,i,a,o){var s=[];s.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(i)&&s.push("path="+i),n.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,r){"use strict";var n=r(13);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},function(e,t,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,r){"use strict";(function(t){var r="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},n=Object.create(r),i=/["&'<>]/;n.$escape=function(e){return function(e){var t=""+e,r=i.exec(t);if(!r)return e;var n="",a=void 0,o=void 0,s=void 0;for(a=r.index,o=0;a<t.length;a++){switch(t.charCodeAt(a)){case 34:s="&#34;";break;case 38:s="&#38;";break;case 39:s="&#39;";break;case 60:s="&#60;";break;case 62:s="&#62;";break;default:continue}o!==a&&(n+=t.substring(o,a)),o=a+1,n+=s}return o!==a?n+t.substring(o,a):n}(function e(t){return"string"!=typeof t&&(t=null==t?"":"function"==typeof t?e(t.call(t)):JSON.stringify(t)),t}(e))},n.$each=function(e,t){if(Array.isArray(e))for(var r=0,n=e.length;r<n;r++)t(e[r],r);else for(var i in e)t(e[i],i)},e.exports=n}).call(this,r(4))},function(e,t,r){"use strict";r.r(t),r(35);var n=r(15),i=/mobile/i.test(window.navigator.userAgent),a={secondToTime:function(e){if(0===(e=e||0)||e===1/0||"NaN"===e.toString())return"00:00";var t=Math.floor(e/3600),r=Math.floor((e-3600*t)/60),n=Math.floor(e-3600*t-60*r);return(t>0?[t,r,n]:[r,n]).map((function(e){return e<10?"0"+e:""+e})).join(":")},getElementViewLeft:function(e){var t=e.offsetLeft,r=e.offsetParent,n=document.body.scrollLeft+document.documentElement.scrollLeft;if(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement)for(;null!==r&&r!==e;)t+=r.offsetLeft,r=r.offsetParent;else for(;null!==r;)t+=r.offsetLeft,r=r.offsetParent;return t-n},getBoundingClientRectViewLeft:function(e){var t=window.scrollY||window.pageYOffset||document.body.scrollTop+(document.documentElement&&document.documentElement.scrollTop||0);if(e.getBoundingClientRect){if("number"!=typeof this.getBoundingClientRectViewLeft.offset){var r=document.createElement("div");r.style.cssText="position:absolute;top:0;left:0;",document.body.appendChild(r),this.getBoundingClientRectViewLeft.offset=-r.getBoundingClientRect().top-t,document.body.removeChild(r),r=null}var n=e.getBoundingClientRect(),i=this.getBoundingClientRectViewLeft.offset;return n.left+i}return this.getElementViewLeft(e)},getScrollPosition:function(){return{left:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0,top:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}},setScrollPosition:function(e){var t=e.left,r=void 0===t?0:t,n=e.top,i=void 0===n?0:n;this.isFirefox?(document.documentElement.scrollLeft=r,document.documentElement.scrollTop=i):window.scrollTo(r,i)},isMobile:i,isSafari:/Safari/i.test(window.navigator.userAgent),isFirefox:/firefox/i.test(window.navigator.userAgent),isChrome:/chrome/i.test(window.navigator.userAgent),storage:{set:function(e,t){localStorage.setItem(e,t)},get:function(e){return localStorage.getItem(e)}},nameMap:{dragStart:i?"touchstart":"mousedown",dragMove:i?"touchmove":"mousemove",dragEnd:i?"touchend":"mouseup"},color2Number:function(e){return"#"===e[0]&&(e=e.substr(1)),3===e.length&&(e="".concat(e[0]).concat(e[0]).concat(e[1]).concat(e[1]).concat(e[2]).concat(e[2])),parseInt(e,16)+0&16777215},number2Color:function(e){return"#"+("00000"+e.toString(16)).slice(-6)},number2Type:function(e){switch(e){case 0:return"right";case 1:return"top";case 2:return"bottom";default:return"right"}}},o=r(2),u=r.n(o),c={send:function(e){u.a.post(e.url,e.data).then((function(t){var r=t.data;r&&0===r.code?e.success&&e.success(r):e.error&&e.error(r&&r.msg)})).catch((function(t){console.error(t),e.error&&e.error()}))},read:function(e){u.a.get(e.url).then((function(t){var r=t.data;r&&0===r.code?e.success&&e.success(r.data.map((function(e){return{time:e[0],type:e[1],color:e[2],author:e[3],text:e[4]}}))):e.error&&e.error(r&&r.msg)})).catch((function(t){console.error(t),e.error&&e.error()}))}};function l(e){return(l="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(e){return s(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":s(e)})(e)}var f={"zh-cn":{"Danmaku is loading":"弹幕加载中",Top:"顶部",Bottom:"底部",Rolling:"滚动","Input danmaku, hit Enter":"输入弹幕，回车发送","About author":"关于作者","DPlayer feedback":"播放器意见反馈","About DPlayer":"关于 DPlayer 播放器",Loop:"洗脑循环",Speed:"速度","Opacity for danmaku":"弹幕透明度",Normal:"正常","Please input danmaku content!":"要输入弹幕内容啊喂！","Set danmaku color":"设置弹幕颜色","Set danmaku type":"设置弹幕类型","Show danmaku":"显示弹幕","Video load failed":"视频加载失败","Danmaku load failed":"弹幕加载失败","Danmaku send failed":"弹幕发送失败","Switching to":"正在切换至","Switched to":"已经切换至",quality:"画质",FF:"快进",REW:"快退","Unlimited danmaku":"海量弹幕","Send danmaku":"发送弹幕",Setting:"设置","Full screen":"全屏","Web full screen":"页面全屏",Send:"发送",Screenshot:"截图",AirPlay:"无线投屏",s:"秒","Show subtitle":"显示字幕","Hide subtitle":"隐藏字幕",Volume:"音量",Live:"直播","Video info":"视频统计信息"},"zh-tw":{"Danmaku is loading":"彈幕載入中",Top:"頂部",Bottom:"底部",Rolling:"滾動","Input danmaku, hit Enter":"輸入彈幕，Enter 發送","About author":"關於作者","DPlayer feedback":"播放器意見回饋","About DPlayer":"關於 DPlayer 播放器",Loop:"循環播放",Speed:"速度","Opacity for danmaku":"彈幕透明度",Normal:"正常","Please input danmaku content!":"請輸入彈幕內容啊！","Set danmaku color":"設定彈幕顏色","Set danmaku type":"設定彈幕類型","Show danmaku":"顯示彈幕","Video load failed":"影片載入失敗","Danmaku load failed":"彈幕載入失敗","Danmaku send failed":"彈幕發送失敗","Switching to":"正在切換至","Switched to":"已經切換至",quality:"畫質",FF:"快進",REW:"快退","Unlimited danmaku":"巨量彈幕","Send danmaku":"發送彈幕",Setting:"設定","Full screen":"全螢幕","Web full screen":"頁面全螢幕",Send:"發送",Screenshot:"截圖",AirPlay:"無線投屏",s:"秒","Show subtitle":"顯示字幕","Hide subtitle":"隱藏字幕",Volume:"音量",Live:"直播","Video info":"影片統計訊息"}},p=function(e){var t=this;this.lang=e,this.tran=function(e){return f[t.lang]&&f[t.lang][e]?f[t.lang][e]:e}},d=r(17),h=r.n(d),m=r(18),y=r.n(m),v=r(19),g=r.n(v),b=r(20),_=r.n(b),w=r(21),k=r.n(w),x=r(22),T=r.n(x),E=r(23),A=r.n(E),S=r(24),C=r.n(S),O=r(25),R=r.n(O),P=r(26),I=r.n(P),N=r(27),$=r.n(N),B=r(28),M=r.n(B),L=r(29),j=r.n(L),D=r(30),F=r.n(D),U=r(31),z=r.n(U),q=r(32),G=r.n(q),H=r(33),W=r.n(H),K={play:h.a,pause:y.a,volumeUp:g.a,volumeDown:_.a,volumeOff:k.a,full:T.a,fullWeb:A.a,setting:C.a,right:R.a,comment:I.a,commentOff:$.a,send:M.a,pallette:j.a,camera:F.a,subtitle:G.a,loading:W.a,airplay:z.a},V=r(34),J=r.n(V);var Y=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t.container,this.options=t.options,this.index=t.index,this.tran=t.tran,this.init()}var t;return(t=[{key:"init",value:function(){this.container.innerHTML=J()({options:this.options,index:this.index,tran:this.tran,icons:K,mobile:a.isMobile,video:{current:!0,pic:this.options.video.pic,screenshot:this.options.screenshot,airplay:this.options.airplay,preload:this.options.preload,url:this.options.video.url,subtitle:this.options.subtitle}}),this.volumeBar=this.container.querySelector(".dplayer-volume-bar-inner"),this.volumeBarWrap=this.container.querySelector(".dplayer-volume-bar"),this.volumeBarWrapWrap=this.container.querySelector(".dplayer-volume-bar-wrap"),this.volumeButton=this.container.querySelector(".dplayer-volume"),this.volumeButtonIcon=this.container.querySelector(".dplayer-volume-icon"),this.volumeIcon=this.container.querySelector(".dplayer-volume-icon .dplayer-icon-content"),this.playedBar=this.container.querySelector(".dplayer-played"),this.loadedBar=this.container.querySelector(".dplayer-loaded"),this.playedBarWrap=this.container.querySelector(".dplayer-bar-wrap"),this.playedBarTime=this.container.querySelector(".dplayer-bar-time"),this.danmaku=this.container.querySelector(".dplayer-danmaku"),this.danmakuLoading=this.container.querySelector(".dplayer-danloading"),this.video=this.container.querySelector(".dplayer-video-current"),this.bezel=this.container.querySelector(".dplayer-bezel-icon"),this.playButton=this.container.querySelector(".dplayer-play-icon"),this.mobilePlayButton=this.container.querySelector(".dplayer-mobile-play"),this.videoWrap=this.container.querySelector(".dplayer-video-wrap"),this.controllerMask=this.container.querySelector(".dplayer-controller-mask"),this.ptime=this.container.querySelector(".dplayer-ptime"),this.settingButton=this.container.querySelector(".dplayer-setting-icon"),this.settingBox=this.container.querySelector(".dplayer-setting-box"),this.mask=this.container.querySelector(".dplayer-mask"),this.loop=this.container.querySelector(".dplayer-setting-loop"),this.loopToggle=this.container.querySelector(".dplayer-setting-loop .dplayer-toggle-setting-input"),this.showDanmaku=this.container.querySelector(".dplayer-setting-showdan"),this.showDanmakuToggle=this.container.querySelector(".dplayer-showdan-setting-input"),this.unlimitDanmaku=this.container.querySelector(".dplayer-setting-danunlimit"),this.unlimitDanmakuToggle=this.container.querySelector(".dplayer-danunlimit-setting-input"),this.speed=this.container.querySelector(".dplayer-setting-speed"),this.speedItem=this.container.querySelectorAll(".dplayer-setting-speed-item"),this.danmakuOpacityBar=this.container.querySelector(".dplayer-danmaku-bar-inner"),this.danmakuOpacityBarWrap=this.container.querySelector(".dplayer-danmaku-bar"),this.danmakuOpacityBarWrapWrap=this.container.querySelector(".dplayer-danmaku-bar-wrap"),this.danmakuOpacityBox=this.container.querySelector(".dplayer-setting-danmaku"),this.dtime=this.container.querySelector(".dplayer-dtime"),this.controller=this.container.querySelector(".dplayer-controller"),this.commentInput=this.container.querySelector(".dplayer-comment-input"),this.commentButton=this.container.querySelector(".dplayer-comment-icon"),this.commentSettingBox=this.container.querySelector(".dplayer-comment-setting-box"),this.commentSettingButton=this.container.querySelector(".dplayer-comment-setting-icon"),this.commentSettingFill=this.container.querySelector(".dplayer-comment-setting-icon path"),this.commentSendButton=this.container.querySelector(".dplayer-send-icon"),this.commentSendFill=this.container.querySelector(".dplayer-send-icon path"),this.commentColorSettingBox=this.container.querySelector(".dplayer-comment-setting-color"),this.browserFullButton=this.container.querySelector(".dplayer-full-icon"),this.webFullButton=this.container.querySelector(".dplayer-full-in-icon"),this.menu=this.container.querySelector(".dplayer-menu"),this.menuItem=this.container.querySelectorAll(".dplayer-menu-item"),this.qualityList=this.container.querySelector(".dplayer-quality-list"),this.camareButton=this.container.querySelector(".dplayer-camera-icon"),this.airplayButton=this.container.querySelector(".dplayer-airplay-icon"),this.subtitleButton=this.container.querySelector(".dplayer-subtitle-icon"),this.subtitleButtonInner=this.container.querySelector(".dplayer-subtitle-icon .dplayer-icon-content"),this.subtitle=this.container.querySelector(".dplayer-subtitle"),this.qualityButton=this.container.querySelector(".dplayer-quality-icon"),this.barPreview=this.container.querySelector(".dplayer-bar-preview"),this.barWrap=this.container.querySelector(".dplayer-bar-wrap"),this.notice=this.container.querySelector(".dplayer-notice"),this.infoPanel=this.container.querySelector(".dplayer-info-panel"),this.infoPanelClose=this.container.querySelector(".dplayer-info-panel-close"),this.infoVersion=this.container.querySelector(".dplayer-info-panel-item-version .dplayer-info-panel-item-data"),this.infoFPS=this.container.querySelector(".dplayer-info-panel-item-fps .dplayer-info-panel-item-data"),this.infoType=this.container.querySelector(".dplayer-info-panel-item-type .dplayer-info-panel-item-data"),this.infoUrl=this.container.querySelector(".dplayer-info-panel-item-url .dplayer-info-panel-item-data"),this.infoResolution=this.container.querySelector(".dplayer-info-panel-item-resolution .dplayer-info-panel-item-data"),this.infoDuration=this.container.querySelector(".dplayer-info-panel-item-duration .dplayer-info-panel-item-data"),this.infoDanmakuId=this.container.querySelector(".dplayer-info-panel-item-danmaku-id .dplayer-info-panel-item-data"),this.infoDanmakuApi=this.container.querySelector(".dplayer-info-panel-item-danmaku-api .dplayer-info-panel-item-data"),this.infoDanmakuAmount=this.container.querySelector(".dplayer-info-panel-item-danmaku-amount .dplayer-info-panel-item-data")}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}();function X(e){return(X="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(e){return s(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":s(e)})(e)}var Q=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t,this.container=this.options.container,this.danTunnel={right:{},top:{},bottom:{}},this.danIndex=0,this.dan=[],this.showing=!0,this._opacity=this.options.opacity,this.events=this.options.events,this.unlimited=this.options.unlimited,this._measure(""),this.load()}var t;return(t=[{key:"load",value:function(){var e,t=this;e=this.options.api.maximum?"".concat(this.options.api.address,"v3/?id=").concat(this.options.api.id,"&max=").concat(this.options.api.maximum):"".concat(this.options.api.address,"v3/?id=").concat(this.options.api.id);var r=(this.options.api.addition||[]).slice(0);r.push(e),this.events&&this.events.trigger("danmaku_load_start",r),this._readAllEndpoints(r,(function(e){t.dan=[].concat.apply([],e).sort((function(e,t){return e.time-t.time})),window.requestAnimationFrame((function(){t.frame()})),t.options.callback(),t.events&&t.events.trigger("danmaku_load_end")}))}},{key:"reload",value:function(e){this.options.api=e,this.dan=[],this.clear(),this.load()}},{key:"_readAllEndpoints",value:function(e,t){for(var r=this,n=[],i=0,a=function(a){r.options.apiBackend.read({url:e[a],success:function(r){n[a]=r,++i===e.length&&t(n)},error:function(o){r.options.error(o||r.options.tran("Danmaku load failed")),n[a]=[],++i===e.length&&t(n)}})},o=0;o<e.length;++o)a(o)}},{key:"send",value:function(e,t){var r=this,n={token:this.options.api.token,id:this.options.api.id,author:this.options.api.user,time:this.options.time(),text:e.text,color:e.color,type:e.type};this.options.apiBackend.send({url:this.options.api.address+"v3/",data:n,success:t,error:function(e){r.options.error(e||r.options.tran("Danmaku send failed"))}}),this.dan.splice(this.danIndex,0,n),this.danIndex++;var i={text:this.htmlEncode(n.text),color:n.color,type:n.type,border:"2px solid ".concat(this.options.borderColor)};this.draw(i),this.events&&this.events.trigger("danmaku_send",n)}},{key:"frame",value:function(){var e=this;if(this.dan.length&&!this.paused&&this.showing){for(var t=this.dan[this.danIndex],r=[];t&&this.options.time()>parseFloat(t.time);)r.push(t),t=this.dan[++this.danIndex];this.draw(r)}window.requestAnimationFrame((function(){e.frame()}))}},{key:"opacity",value:function(e){if(void 0!==e){for(var t=this.container.getElementsByClassName("dplayer-danmaku-item"),r=0;r<t.length;r++)t[r].style.opacity=e;this._opacity=e,this.events&&this.events.trigger("danmaku_opacity",this._opacity)}return this._opacity}},{key:"draw",value:function(e){var t=this;if(this.showing){var r=this.options.height,n=this.container.offsetWidth,i=this.container.offsetHeight,o=parseInt(i/r),s=function(e){var r=e.offsetWidth||parseInt(e.style.width),n=e.getBoundingClientRect().right||t.container.getBoundingClientRect().right+r;return t.container.getBoundingClientRect().right-n},u=function(e){return(n+e)/5},c=function(e,r,i){for(var a=n/u(i),c=function(i){var c=t.danTunnel[r][i+""];if(!c||!c.length)return t.danTunnel[r][i+""]=[e],e.addEventListener("animationend",(function(){t.danTunnel[r][i+""].splice(0,1)})),{v:i%o};if("right"!==r)return"continue";for(var l=0;l<c.length;l++){var f=s(c[l])-10;if(f<=n-a*u(parseInt(c[l].style.width))||f<=0)break;if(l===c.length-1)return t.danTunnel[r][i+""].push(e),e.addEventListener("animationend",(function(){t.danTunnel[r][i+""].splice(0,1)})),{v:i%o}}},l=0;t.unlimited||l<o;l++){var f=c(l);switch(f){case"continue":continue;default:if("object"===X(f))return f.v}}return-1};"[object Array]"!==Object.prototype.toString.call(e)&&(e=[e]);for(var l=document.createDocumentFragment(),f=function(i){e[i].type=a.number2Type(e[i].type),e[i].color||(e[i].color=16777215);var o=document.createElement("div");o.classList.add("dplayer-danmaku-item"),o.classList.add("dplayer-danmaku-".concat(e[i].type)),e[i].border?o.innerHTML='<span style="border:'.concat(e[i].border,'">').concat(e[i].text,"</span>"):o.innerHTML=e[i].text,o.style.opacity=t._opacity,o.style.color=a.number2Color(e[i].color),o.addEventListener("animationend",(function(){t.container.removeChild(o)}));var s=t._measure(e[i].text),u=void 0;switch(e[i].type){case"right":(u=c(o,e[i].type,s))>=0&&(o.style.width=s+1+"px",o.style.top=r*u+"px",o.style.transform="translateX(-".concat(n,"px)"));break;case"top":(u=c(o,e[i].type))>=0&&(o.style.top=r*u+"px");break;case"bottom":(u=c(o,e[i].type))>=0&&(o.style.bottom=r*u+"px");break;default:console.error("Can't handled danmaku type: ".concat(e[i].type))}u>=0&&(o.classList.add("dplayer-danmaku-move"),l.appendChild(o))},p=0;p<e.length;p++)f(p);return this.container.appendChild(l),l}}},{key:"play",value:function(){this.paused=!1}},{key:"pause",value:function(){this.paused=!0}},{key:"_measure",value:function(e){if(!this.context){var t=getComputedStyle(this.container.getElementsByClassName("dplayer-danmaku-item")[0],null);this.context=document.createElement("canvas").getContext("2d"),this.context.font=t.getPropertyValue("font")}return this.context.measureText(e).width}},{key:"seek",value:function(){this.clear();for(var e=0;e<this.dan.length;e++){if(this.dan[e].time>=this.options.time()){this.danIndex=e;break}this.danIndex=this.dan.length}}},{key:"clear",value:function(){this.danTunnel={right:{},top:{},bottom:{}},this.danIndex=0,this.options.container.innerHTML="",this.events&&this.events.trigger("danmaku_clear")}},{key:"htmlEncode",value:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2f;")}},{key:"resize",value:function(){for(var e=this.container.offsetWidth,t=this.container.getElementsByClassName("dplayer-danmaku-item"),r=0;r<t.length;r++)t[r].style.transform="translateX(-".concat(e,"px)")}},{key:"hide",value:function(){this.showing=!1,this.pause(),this.clear(),this.events&&this.events.trigger("danmaku_hide")}},{key:"show",value:function(){this.seek(),this.showing=!0,this.play(),this.events&&this.events.trigger("danmaku_show")}},{key:"unlimit",value:function(e){this.unlimited=e}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}();var Z=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.events={},this.videoEvents=["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","mozaudioavailable","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],this.playerEvents=["screenshot","thumbnails_show","thumbnails_hide","danmaku_show","danmaku_hide","danmaku_clear","danmaku_loaded","danmaku_send","danmaku_opacity","contextmenu_show","contextmenu_hide","notice_show","notice_hide","quality_start","quality_end","destroy","resize","fullscreen","fullscreen_cancel","webfullscreen","webfullscreen_cancel","subtitle_show","subtitle_hide","subtitle_change"]}var t;return(t=[{key:"on",value:function(e,t){this.type(e)&&"function"==typeof t&&(this.events[e]||(this.events[e]=[]),this.events[e].push(t))}},{key:"trigger",value:function(e,t){if(this.events[e]&&this.events[e].length)for(var r=0;r<this.events[e].length;r++)this.events[e][r](t)}},{key:"type",value:function(e){return-1!==this.playerEvents.indexOf(e)?"player":-1!==this.videoEvents.indexOf(e)?"video":(console.error("Unknown event name: ".concat(e)),null)}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}();var ee=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.player=t,this.lastScrollPosition={left:0,top:0},this.player.events.on("webfullscreen",(function(){r.player.resize()})),this.player.events.on("webfullscreen_cancel",(function(){r.player.resize(),a.setScrollPosition(r.lastScrollPosition)}));var n=function(){r.player.resize(),r.isFullScreen("browser")?r.player.events.trigger("fullscreen"):(a.setScrollPosition(r.lastScrollPosition),r.player.events.trigger("fullscreen_cancel"))},i=function(){var e=document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;e&&e!==r.player.container||(r.player.resize(),e?r.player.events.trigger("fullscreen"):(a.setScrollPosition(r.lastScrollPosition),r.player.events.trigger("fullscreen_cancel")))};/Firefox/.test(navigator.userAgent)?(document.addEventListener("mozfullscreenchange",i),document.addEventListener("fullscreenchange",i)):(this.player.container.addEventListener("fullscreenchange",n),this.player.container.addEventListener("webkitfullscreenchange",n),document.addEventListener("msfullscreenchange",i),document.addEventListener("MSFullscreenChange",i))}var t;return(t=[{key:"isFullScreen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"browser";switch(e){case"browser":return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;case"web":return this.player.container.classList.contains("dplayer-fulled")}}},{key:"request",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"browser",t="browser"===e?"web":"browser",r=this.isFullScreen(t);switch(r||(this.lastScrollPosition=a.getScrollPosition()),e){case"browser":this.player.container.requestFullscreen?this.player.container.requestFullscreen():this.player.container.mozRequestFullScreen?this.player.container.mozRequestFullScreen():this.player.container.webkitRequestFullscreen?this.player.container.webkitRequestFullscreen():this.player.video.webkitEnterFullscreen?this.player.video.webkitEnterFullscreen():this.player.video.webkitEnterFullScreen?this.player.video.webkitEnterFullScreen():this.player.container.msRequestFullscreen&&this.player.container.msRequestFullscreen();break;case"web":this.player.container.classList.add("dplayer-fulled"),document.body.classList.add("dplayer-web-fullscreen-fix"),this.player.events.trigger("webfullscreen")}r&&this.cancel(t)}},{key:"cancel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"browser";switch(e){case"browser":document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.webkitCancelFullscreen?document.webkitCancelFullscreen():document.msCancelFullScreen?document.msCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen();break;case"web":this.player.container.classList.remove("dplayer-fulled"),document.body.classList.remove("dplayer-web-fullscreen-fix"),this.player.events.trigger("webfullscreen_cancel")}}},{key:"toggle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"browser";this.isFullScreen(e)?this.cancel(e):this.request(e)}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}();var te=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.storageName={opacity:"dplayer-danmaku-opacity",volume:"dplayer-volume",unlimited:"dplayer-danmaku-unlimited",danmaku:"dplayer-danmaku-show",subtitle:"dplayer-subtitle-show"},this.default={opacity:.7,volume:t.options.hasOwnProperty("volume")?t.options.volume:.7,unlimited:(t.options.danmaku&&t.options.danmaku.unlimited?1:0)||0,danmaku:1,subtitle:1},this.data={},this.init()}var t;return(t=[{key:"init",value:function(){for(var e in this.storageName){var t=this.storageName[e];this.data[e]=parseFloat(a.storage.get(t)||this.default[e])}}},{key:"get",value:function(e){return this.data[e]}},{key:"set",value:function(e,t){this.data[e]=t,a.storage.set(this.storageName[e],t)}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}();var re=function(){function e(t,r,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.video=r,this.options=n,this.events=i,this.init()}var t;return(t=[{key:"init",value:function(){var e=this;if(this.container.style.fontSize=this.options.fontSize,this.container.style.bottom=this.options.bottom,this.container.style.color=this.options.color,this.video.textTracks&&this.video.textTracks[0]){var t=this.video.textTracks[0];t.oncuechange=function(){var r=t.activeCues[0];if(e.container.innerHTML="",r){var n=document.createElement("div");n.appendChild(r.getCueAsHTML());var i=n.innerHTML.split(/\r?\n/).map((function(e){return"<p>".concat(e,"</p>")})).join("");e.container.innerHTML=i}e.events.trigger("subtitle_change")}}}},{key:"show",value:function(){this.container.classList.remove("dplayer-subtitle-hide"),this.events.trigger("subtitle_show")}},{key:"hide",value:function(){this.container.classList.add("dplayer-subtitle-hide"),this.events.trigger("subtitle_hide")}},{key:"toggle",value:function(){this.container.classList.contains("dplayer-subtitle-hide")?this.show():this.hide()}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}();var ne=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.elements={},this.elements.volume=t.volumeBar,this.elements.played=t.playedBar,this.elements.loaded=t.loadedBar,this.elements.danmaku=t.danmakuOpacityBar}var t;return(t=[{key:"set",value:function(e,t,r){t=Math.max(t,0),t=Math.min(t,1),this.elements[e].style[r]=100*t+"%"}},{key:"get",value:function(e){return parseFloat(this.elements[e].style.width)/100}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}();var ie=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.player=t,window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},this.types=["loading","info","fps"],this.init()}var t;return(t=[{key:"init",value:function(){var e=this;this.types.map((function(t){return"fps"!==t&&e["init".concat(t,"Checker")](),t}))}},{key:"initloadingChecker",value:function(){var e=this,t=0,r=0,n=!1;this.loadingChecker=setInterval((function(){e.enableloadingChecker&&(r=e.player.video.currentTime,n||r!==t||e.player.video.paused||(e.player.container.classList.add("dplayer-loading"),n=!0),n&&r>t&&!e.player.video.paused&&(e.player.container.classList.remove("dplayer-loading"),n=!1),t=r)}),100)}},{key:"initfpsChecker",value:function(){var e=this;window.requestAnimationFrame((function(){if(e.enablefpsChecker)if(e.initfpsChecker(),e.fpsStart){e.fpsIndex++;var t=new Date;t-e.fpsStart>1e3&&(e.player.infoPanel.fps(e.fpsIndex/(t-e.fpsStart)*1e3),e.fpsStart=new Date,e.fpsIndex=0)}else e.fpsStart=new Date,e.fpsIndex=0;else e.fpsStart=0,e.fpsIndex=0}))}},{key:"initinfoChecker",value:function(){var e=this;this.infoChecker=setInterval((function(){e.enableinfoChecker&&e.player.infoPanel.update()}),1e3)}},{key:"enable",value:function(e){this["enable".concat(e,"Checker")]=!0,"fps"===e&&this.initfpsChecker()}},{key:"disable",value:function(e){this["enable".concat(e,"Checker")]=!1}},{key:"destroy",value:function(){var e=this;this.types.map((function(t){return e["enable".concat(t,"Checker")]=!1,e["".concat(t,"Checker")]&&clearInterval(e["".concat(t,"Checker")]),t}))}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}();var ae=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.container.addEventListener("animationend",(function(){r.container.classList.remove("dplayer-bezel-transition")}))}var t;return(t=[{key:"switch",value:function(e){this.container.innerHTML=e,this.container.classList.add("dplayer-bezel-transition")}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}();var oe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t.container,this.barWidth=t.barWidth,this.container.style.backgroundImage="url('".concat(t.url,"')"),this.events=t.events}var t;return(t=[{key:"resize",value:function(e,t,r){this.container.style.width="".concat(e,"px"),this.container.style.height="".concat(t,"px"),this.container.style.top="".concat(2-t,"px"),this.barWidth=r}},{key:"show",value:function(){this.container.style.display="block",this.events&&this.events.trigger("thumbnails_show")}},{key:"move",value:function(e){this.container.style.backgroundPosition="-".concat(160*(Math.ceil(e/this.barWidth*100)-1),"px 0"),this.container.style.left="".concat(Math.min(Math.max(e-this.container.offsetWidth/2,-10),this.barWidth-150),"px")}},{key:"hide",value:function(){this.container.style.display="none",this.events&&this.events.trigger("thumbnails_hide")}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}();var se=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.player=t,this.autoHideTimer=0,a.isMobile||(this.player.container.addEventListener("mousemove",(function(){r.setAutoHide()})),this.player.container.addEventListener("click",(function(){r.setAutoHide()})),this.player.on("play",(function(){r.setAutoHide()})),this.player.on("pause",(function(){r.setAutoHide()}))),this.initPlayButton(),this.initThumbnails(),this.initPlayedBar(),this.initFullButton(),this.initQualityButton(),this.initScreenshotButton(),this.initSubtitleButton(),this.initHighlights(),a.isSafari&&this.initAirplayButton(),a.isMobile||this.initVolumeButton()}var t;return(t=[{key:"initPlayButton",value:function(){var e=this;this.player.template.playButton.addEventListener("click",(function(){e.player.toggle()})),this.player.template.mobilePlayButton.addEventListener("click",(function(){e.player.toggle()})),a.isMobile?(this.player.template.videoWrap.addEventListener("click",(function(){e.toggle()})),this.player.template.controllerMask.addEventListener("click",(function(){e.toggle()}))):(this.player.template.videoWrap.addEventListener("click",(function(){e.player.toggle()})),this.player.template.controllerMask.addEventListener("click",(function(){e.player.toggle()})))}},{key:"initHighlights",value:function(){var e=this;this.player.on("durationchange",(function(){if(1!==e.player.video.duration&&e.player.video.duration!==1/0&&e.player.options.highlight){var t=document.querySelectorAll(".dplayer-highlight");[].slice.call(t,0).forEach((function(t){e.player.template.playedBarWrap.removeChild(t)}));for(var r=0;r<e.player.options.highlight.length;r++)if(e.player.options.highlight[r].text&&e.player.options.highlight[r].time){var n=document.createElement("div");n.classList.add("dplayer-highlight"),n.style.left=e.player.options.highlight[r].time/e.player.video.duration*100+"%",n.innerHTML='<span class="dplayer-highlight-text">'+e.player.options.highlight[r].text+"</span>",e.player.template.playedBarWrap.insertBefore(n,e.player.template.playedBarTime)}}}))}},{key:"initThumbnails",value:function(){var e=this;this.player.options.video.thumbnails&&(this.thumbnails=new oe({container:this.player.template.barPreview,barWidth:this.player.template.barWrap.offsetWidth,url:this.player.options.video.thumbnails,events:this.player.events}),this.player.on("loadedmetadata",(function(){e.thumbnails.resize(160,e.player.video.videoHeight/e.player.video.videoWidth*160,e.player.template.barWrap.offsetWidth)})))}},{key:"initPlayedBar",value:function(){var e=this,t=function(t){var r=((t.clientX||t.changedTouches[0].clientX)-a.getBoundingClientRectViewLeft(e.player.template.playedBarWrap))/e.player.template.playedBarWrap.clientWidth;r=Math.max(r,0),r=Math.min(r,1),e.player.bar.set("played",r,"width"),e.player.template.ptime.innerHTML=a.secondToTime(r*e.player.video.duration)},r=function r(n){document.removeEventListener(a.nameMap.dragEnd,r),document.removeEventListener(a.nameMap.dragMove,t);var i=((n.clientX||n.changedTouches[0].clientX)-a.getBoundingClientRectViewLeft(e.player.template.playedBarWrap))/e.player.template.playedBarWrap.clientWidth;i=Math.max(i,0),i=Math.min(i,1),e.player.bar.set("played",i,"width"),e.player.seek(e.player.bar.get("played")*e.player.video.duration),e.player.timer.enable("progress")};this.player.template.playedBarWrap.addEventListener(a.nameMap.dragStart,(function(){e.player.timer.disable("progress"),document.addEventListener(a.nameMap.dragMove,t),document.addEventListener(a.nameMap.dragEnd,r)})),this.player.template.playedBarWrap.addEventListener(a.nameMap.dragMove,(function(t){if(e.player.video.duration){var r=e.player.template.playedBarWrap.getBoundingClientRect().left,n=(t.clientX||t.changedTouches[0].clientX)-r;if(n<0||n>e.player.template.playedBarWrap.offsetWidth)return;var i=e.player.video.duration*(n/e.player.template.playedBarWrap.offsetWidth);a.isMobile&&e.thumbnails&&e.thumbnails.show(),e.thumbnails&&e.thumbnails.move(n),e.player.template.playedBarTime.style.left="".concat(n-(i>=3600?25:20),"px"),e.player.template.playedBarTime.innerText=a.secondToTime(i),e.player.template.playedBarTime.classList.remove("hidden")}})),this.player.template.playedBarWrap.addEventListener(a.nameMap.dragEnd,(function(){a.isMobile&&e.thumbnails&&e.thumbnails.hide()})),a.isMobile||(this.player.template.playedBarWrap.addEventListener("mouseenter",(function(){e.player.video.duration&&(e.thumbnails&&e.thumbnails.show(),e.player.template.playedBarTime.classList.remove("hidden"))})),this.player.template.playedBarWrap.addEventListener("mouseleave",(function(){e.player.video.duration&&(e.thumbnails&&e.thumbnails.hide(),e.player.template.playedBarTime.classList.add("hidden"))})))}},{key:"initFullButton",value:function(){var e=this;this.player.template.browserFullButton.addEventListener("click",(function(){e.player.fullScreen.toggle("browser")})),this.player.template.webFullButton.addEventListener("click",(function(){e.player.fullScreen.toggle("web")}))}},{key:"initVolumeButton",value:function(){var e=this,t=function(t){var r=t||window.event,n=((r.clientX||r.changedTouches[0].clientX)-a.getBoundingClientRectViewLeft(e.player.template.volumeBarWrap)-5.5)/35;e.player.volume(n)},r=function r(){document.removeEventListener(a.nameMap.dragEnd,r),document.removeEventListener(a.nameMap.dragMove,t),e.player.template.volumeButton.classList.remove("dplayer-volume-active")};this.player.template.volumeBarWrapWrap.addEventListener("click",(function(t){var r=t||window.event,n=((r.clientX||r.changedTouches[0].clientX)-a.getBoundingClientRectViewLeft(e.player.template.volumeBarWrap)-5.5)/35;e.player.volume(n)})),this.player.template.volumeBarWrapWrap.addEventListener(a.nameMap.dragStart,(function(){document.addEventListener(a.nameMap.dragMove,t),document.addEventListener(a.nameMap.dragEnd,r),e.player.template.volumeButton.classList.add("dplayer-volume-active")})),this.player.template.volumeButtonIcon.addEventListener("click",(function(){e.player.video.muted?(e.player.video.muted=!1,e.player.switchVolumeIcon(),e.player.bar.set("volume",e.player.volume(),"width")):(e.player.video.muted=!0,e.player.template.volumeIcon.innerHTML=K.volumeOff,e.player.bar.set("volume",0,"width"))}))}},{key:"initQualityButton",value:function(){var e=this;this.player.options.video.quality&&this.player.template.qualityList.addEventListener("click",(function(t){t.target.classList.contains("dplayer-quality-item")&&e.player.switchQuality(t.target.dataset.index)}))}},{key:"initScreenshotButton",value:function(){var e=this;this.player.options.screenshot&&this.player.template.camareButton.addEventListener("click",(function(){var t,r=document.createElement("canvas");r.width=e.player.video.videoWidth,r.height=e.player.video.videoHeight,r.getContext("2d").drawImage(e.player.video,0,0,r.width,r.height),r.toBlob((function(e){t=URL.createObjectURL(e);var r=document.createElement("a");r.href=t,r.download="DPlayer.png",r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(t)})),e.player.events.trigger("screenshot",t)}))}},{key:"initAirplayButton",value:function(){this.player.options.airplay&&(window.WebKitPlaybackTargetAvailabilityEvent?this.player.video.addEventListener("webkitplaybacktargetavailabilitychanged",function(e){switch(e.availability){case"available":this.template.airplayButton.disable=!1;break;default:this.template.airplayButton.disable=!0}this.template.airplayButton.addEventListener("click",function(){this.video.webkitShowPlaybackTargetPicker()}.bind(this))}.bind(this.player)):this.player.template.airplayButton.style.display="none")}},{key:"initSubtitleButton",value:function(){var e=this;this.player.options.subtitle&&(this.player.events.on("subtitle_show",(function(){e.player.template.subtitleButton.dataset.balloon=e.player.tran("Hide subtitle"),e.player.template.subtitleButtonInner.style.opacity="",e.player.user.set("subtitle",1)})),this.player.events.on("subtitle_hide",(function(){e.player.template.subtitleButton.dataset.balloon=e.player.tran("Show subtitle"),e.player.template.subtitleButtonInner.style.opacity="0.4",e.player.user.set("subtitle",0)})),this.player.template.subtitleButton.addEventListener("click",(function(){e.player.subtitle.toggle()})))}},{key:"setAutoHide",value:function(){var e=this;this.show(),clearTimeout(this.autoHideTimer),this.autoHideTimer=setTimeout((function(){!e.player.video.played.length||e.player.paused||e.disableAutoHide||e.hide()}),3e3)}},{key:"show",value:function(){this.player.container.classList.remove("dplayer-hide-controller")}},{key:"hide",value:function(){this.player.container.classList.add("dplayer-hide-controller"),this.player.setting.hide(),this.player.comment&&this.player.comment.hide()}},{key:"isShow",value:function(){return!this.player.container.classList.contains("dplayer-hide-controller")}},{key:"toggle",value:function(){this.isShow()?this.hide():this.show()}},{key:"destroy",value:function(){clearTimeout(this.autoHideTimer)}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}();var ue=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.player=t,this.player.template.mask.addEventListener("click",(function(){r.hide()})),this.player.template.settingButton.addEventListener("click",(function(){r.show()})),this.loop=this.player.options.loop,this.player.template.loopToggle.checked=this.loop,this.player.template.loop.addEventListener("click",(function(){r.player.template.loopToggle.checked=!r.player.template.loopToggle.checked,r.player.template.loopToggle.checked?r.loop=!0:r.loop=!1,r.hide()})),this.showDanmaku=this.player.user.get("danmaku"),this.showDanmaku||this.player.danmaku&&this.player.danmaku.hide(),this.player.template.showDanmakuToggle.checked=this.showDanmaku,this.player.template.showDanmaku.addEventListener("click",(function(){r.player.template.showDanmakuToggle.checked=!r.player.template.showDanmakuToggle.checked,r.player.template.showDanmakuToggle.checked?(r.showDanmaku=!0,r.player.danmaku.show()):(r.showDanmaku=!1,r.player.danmaku.hide()),r.player.user.set("danmaku",r.showDanmaku?1:0),r.hide()})),this.unlimitDanmaku=this.player.user.get("unlimited"),this.player.template.unlimitDanmakuToggle.checked=this.unlimitDanmaku,this.player.template.unlimitDanmaku.addEventListener("click",(function(){r.player.template.unlimitDanmakuToggle.checked=!r.player.template.unlimitDanmakuToggle.checked,r.player.template.unlimitDanmakuToggle.checked?(r.unlimitDanmaku=!0,r.player.danmaku.unlimit(!0)):(r.unlimitDanmaku=!1,r.player.danmaku.unlimit(!1)),r.player.user.set("unlimited",r.unlimitDanmaku?1:0),r.hide()})),this.player.template.speed.addEventListener("click",(function(){r.player.template.settingBox.classList.add("dplayer-setting-box-narrow"),r.player.template.settingBox.classList.add("dplayer-setting-box-speed")}));for(var n=function(e){r.player.template.speedItem[e].addEventListener("click",(function(){r.player.speed(r.player.template.speedItem[e].dataset.speed),r.hide()}))},i=0;i<this.player.template.speedItem.length;i++)n(i);if(this.player.danmaku){this.player.on("danmaku_opacity",(function(e){r.player.bar.set("danmaku",e,"width"),r.player.user.set("opacity",e)})),this.player.danmaku.opacity(this.player.user.get("opacity"));var o=function(e){var t=e||window.event,n=((t.clientX||t.changedTouches[0].clientX)-a.getBoundingClientRectViewLeft(r.player.template.danmakuOpacityBarWrap))/130;n=Math.max(n,0),n=Math.min(n,1),r.player.danmaku.opacity(n)},s=function e(){document.removeEventListener(a.nameMap.dragEnd,e),document.removeEventListener(a.nameMap.dragMove,o),r.player.template.danmakuOpacityBox.classList.remove("dplayer-setting-danmaku-active")};this.player.template.danmakuOpacityBarWrapWrap.addEventListener("click",(function(e){var t=e||window.event,n=((t.clientX||t.changedTouches[0].clientX)-a.getBoundingClientRectViewLeft(r.player.template.danmakuOpacityBarWrap))/130;n=Math.max(n,0),n=Math.min(n,1),r.player.danmaku.opacity(n)})),this.player.template.danmakuOpacityBarWrapWrap.addEventListener(a.nameMap.dragStart,(function(){document.addEventListener(a.nameMap.dragMove,o),document.addEventListener(a.nameMap.dragEnd,s),r.player.template.danmakuOpacityBox.classList.add("dplayer-setting-danmaku-active")}))}}var t;return(t=[{key:"hide",value:function(){var e=this;this.player.template.settingBox.classList.remove("dplayer-setting-box-open"),this.player.template.mask.classList.remove("dplayer-mask-show"),setTimeout((function(){e.player.template.settingBox.classList.remove("dplayer-setting-box-narrow"),e.player.template.settingBox.classList.remove("dplayer-setting-box-speed")}),300),this.player.controller.disableAutoHide=!1}},{key:"show",value:function(){this.player.template.settingBox.classList.add("dplayer-setting-box-open"),this.player.template.mask.classList.add("dplayer-mask-show"),this.player.controller.disableAutoHide=!0}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}();var ce=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.player=t,this.player.template.mask.addEventListener("click",(function(){r.hide()})),this.player.template.commentButton.addEventListener("click",(function(){r.show()})),this.player.template.commentSettingButton.addEventListener("click",(function(){r.toggleSetting()})),this.player.template.commentColorSettingBox.addEventListener("click",(function(){if(r.player.template.commentColorSettingBox.querySelector("input:checked+span")){var e=r.player.template.commentColorSettingBox.querySelector("input:checked").value;r.player.template.commentSettingFill.style.fill=e,r.player.template.commentInput.style.color=e,r.player.template.commentSendFill.style.fill=e}})),this.player.template.commentInput.addEventListener("click",(function(){r.hideSetting()})),this.player.template.commentInput.addEventListener("keydown",(function(e){13===(e||window.event).keyCode&&r.send()})),this.player.template.commentSendButton.addEventListener("click",(function(){r.send()}))}var t;return(t=[{key:"show",value:function(){this.player.controller.disableAutoHide=!0,this.player.template.controller.classList.add("dplayer-controller-comment"),this.player.template.mask.classList.add("dplayer-mask-show"),this.player.container.classList.add("dplayer-show-controller"),this.player.template.commentInput.focus()}},{key:"hide",value:function(){this.player.template.controller.classList.remove("dplayer-controller-comment"),this.player.template.mask.classList.remove("dplayer-mask-show"),this.player.container.classList.remove("dplayer-show-controller"),this.player.controller.disableAutoHide=!1,this.hideSetting()}},{key:"showSetting",value:function(){this.player.template.commentSettingBox.classList.add("dplayer-comment-setting-open")}},{key:"hideSetting",value:function(){this.player.template.commentSettingBox.classList.remove("dplayer-comment-setting-open")}},{key:"toggleSetting",value:function(){this.player.template.commentSettingBox.classList.contains("dplayer-comment-setting-open")?this.hideSetting():this.showSetting()}},{key:"send",value:function(){var e=this;this.player.template.commentInput.blur(),this.player.template.commentInput.value.replace(/^\s+|\s+$/g,"")?this.player.danmaku.send({text:this.player.template.commentInput.value,color:a.color2Number(this.player.container.querySelector(".dplayer-comment-setting-color input:checked").value),type:parseInt(this.player.container.querySelector(".dplayer-comment-setting-type input:checked").value)},(function(){e.player.template.commentInput.value="",e.hide()})):this.player.notice(this.player.tran("Please input danmaku content!"))}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}(),le=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.options.hotkey&&document.addEventListener("keydown",(function(e){if(t.focus){var r=document.activeElement.tagName.toUpperCase(),n=document.activeElement.getAttribute("contenteditable");if("INPUT"!==r&&"TEXTAREA"!==r&&""!==n&&"true"!==n){var i,a=e||window.event;switch(a.keyCode){case 32:a.preventDefault(),t.toggle();break;case 37:if(a.preventDefault(),t.options.live)break;t.seek(t.video.currentTime-5),t.controller.setAutoHide();break;case 39:if(a.preventDefault(),t.options.live)break;t.seek(t.video.currentTime+5),t.controller.setAutoHide();break;case 38:a.preventDefault(),i=t.volume()+.1,t.volume(i);break;case 40:a.preventDefault(),i=t.volume()-.1,t.volume(i)}}}})),document.addEventListener("keydown",(function(e){switch((e||window.event).keyCode){case 27:t.fullScreen.isFullScreen("web")&&t.fullScreen.cancel("web")}}))};var fe=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.player=t,this.shown=!1,Array.prototype.slice.call(this.player.template.menuItem).forEach((function(e,t){r.player.options.contextmenu[t].click&&e.addEventListener("click",(function(){r.player.options.contextmenu[t].click(r.player),r.hide()}))})),this.player.container.addEventListener("contextmenu",(function(e){if(r.shown)r.hide();else{var t=e||window.event;t.preventDefault();var n=r.player.container.getBoundingClientRect();r.show(t.clientX-n.left,t.clientY-n.top),r.player.template.mask.addEventListener("click",(function(){r.hide()}))}}))}var t;return(t=[{key:"show",value:function(e,t){this.player.template.menu.classList.add("dplayer-menu-show");var r=this.player.container.getBoundingClientRect();e+this.player.template.menu.offsetWidth>=r.width?(this.player.template.menu.style.right=r.width-e+"px",this.player.template.menu.style.left="initial"):(this.player.template.menu.style.left=e+"px",this.player.template.menu.style.right="initial"),t+this.player.template.menu.offsetHeight>=r.height?(this.player.template.menu.style.bottom=r.height-t+"px",this.player.template.menu.style.top="initial"):(this.player.template.menu.style.top=t+"px",this.player.template.menu.style.bottom="initial"),this.player.template.mask.classList.add("dplayer-mask-show"),this.shown=!0,this.player.events.trigger("contextmenu_show")}},{key:"hide",value:function(){this.player.template.mask.classList.remove("dplayer-mask-show"),this.player.template.menu.classList.remove("dplayer-menu-show"),this.shown=!1,this.player.events.trigger("contextmenu_hide")}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}();var pe=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t.template.infoPanel,this.template=t.template,this.video=t.video,this.player=t,this.template.infoPanelClose.addEventListener("click",(function(){r.hide()}))}var t;return(t=[{key:"show",value:function(){this.beginTime=Date.now(),this.update(),this.player.timer.enable("info"),this.player.timer.enable("fps"),this.container.classList.remove("dplayer-info-panel-hide")}},{key:"hide",value:function(){this.player.timer.disable("info"),this.player.timer.disable("fps"),this.container.classList.add("dplayer-info-panel-hide")}},{key:"triggle",value:function(){this.container.classList.contains("dplayer-info-panel-hide")?this.show():this.hide()}},{key:"update",value:function(){this.template.infoVersion.innerHTML="v".concat("1.26.0"," ").concat("63275c8"),this.template.infoType.innerHTML=this.player.type,this.template.infoUrl.innerHTML=this.player.options.video.url,this.template.infoResolution.innerHTML="".concat(this.player.video.videoWidth," x ").concat(this.player.video.videoHeight),this.template.infoDuration.innerHTML=this.player.video.duration,this.player.options.danmaku&&(this.template.infoDanmakuId.innerHTML=this.player.options.danmaku.id,this.template.infoDanmakuApi.innerHTML=this.player.options.danmaku.api,this.template.infoDanmakuAmount.innerHTML=this.player.danmaku.dan.length)}},{key:"fps",value:function(e){this.template.infoFPS.innerHTML="".concat(e.toFixed(1))}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}(),de=r(1),he=r.n(de);function me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ye(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ve(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ge=0,be=[],_e=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=function(e){var t={container:e.element||document.getElementsByClassName("dplayer")[0],live:!1,autoplay:!1,theme:"#b7daff",loop:!1,lang:(navigator.language||navigator.browserLanguage).toLowerCase(),screenshot:!1,airplay:!0,hotkey:!0,preload:"metadata",volume:.7,playbackSpeed:[.5,.75,1,1.25,1.5,2],apiBackend:c,video:{},contextmenu:[],mutex:!0,pluginOptions:{hls:{},flv:{},dash:{},webtorrent:{}}};for(var r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r]);return e.video&&!e.video.type&&(e.video.type="auto"),"object"===l(e.danmaku)&&e.danmaku&&!e.danmaku.user&&(e.danmaku.user="DIYgod"),e.subtitle&&(!e.subtitle.type&&(e.subtitle.type="webvtt"),!e.subtitle.fontSize&&(e.subtitle.fontSize="20px"),!e.subtitle.bottom&&(e.subtitle.bottom="40px"),!e.subtitle.color&&(e.subtitle.color="#fff")),e.video.quality&&(e.video.url=e.video.quality[e.video.defaultQuality].url),e.lang&&(e.lang=e.lang.toLowerCase()),e.contextmenu=e.contextmenu.concat([{text:"Video info",click:function(e){e.infoPanel.triggle()}},{text:"About author",link:"https://diygod.me"},{text:"DPlayer v".concat("1.26.0"),link:"https://github.com/MoePlayer/DPlayer"}]),e}(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?me(Object(r),!0).forEach((function(t){ye(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):me(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({preload:"webtorrent"===t.video.type?"none":"metadata"},t)),this.options.video.quality&&(this.qualityIndex=this.options.video.defaultQuality,this.quality=this.options.video.quality[this.options.video.defaultQuality]),this.tran=new p(this.options.lang).tran,this.events=new Z,this.user=new te(this),this.container=this.options.container,this.container.classList.add("dplayer"),this.options.danmaku||this.container.classList.add("dplayer-no-danmaku"),this.options.live&&this.container.classList.add("dplayer-live"),a.isMobile&&this.container.classList.add("dplayer-mobile"),this.arrow=this.container.offsetWidth<=500,this.arrow&&this.container.classList.add("dplayer-arrow"),this.template=new Y({container:this.container,options:this.options,index:ge,tran:this.tran}),this.video=this.template.video,this.bar=new ne(this.template),this.bezel=new ae(this.template.bezel),this.fullScreen=new ee(this),this.controller=new se(this),this.options.danmaku&&(this.danmaku=new Q({container:this.template.danmaku,opacity:this.user.get("opacity"),callback:function(){setTimeout((function(){r.template.danmakuLoading.style.display="none",r.options.autoplay&&r.play()}),0)},error:function(e){r.notice(e)},apiBackend:this.options.apiBackend,borderColor:this.options.theme,height:this.arrow?24:30,time:function(){return r.video.currentTime},unlimited:this.user.get("unlimited"),api:{id:this.options.danmaku.id,address:this.options.danmaku.api,token:this.options.danmaku.token,maximum:this.options.danmaku.maximum,addition:this.options.danmaku.addition,user:this.options.danmaku.user},events:this.events,tran:function(e){return r.tran(e)}}),this.comment=new ce(this)),this.setting=new ue(this),this.plugins={},document.addEventListener("click",(function(){r.focus=!1}),!0),this.container.addEventListener("click",(function(){r.focus=!0}),!0),this.paused=!0,this.timer=new ie(this),this.hotkey=new le(this),this.contextmenu=new fe(this),this.initVideo(this.video,this.quality&&this.quality.type||this.options.video.type),this.infoPanel=new pe(this),!this.danmaku&&this.options.autoplay&&this.play(),ge++,be.push(this)}var t,r,i;return t=e,i=[{key:"version",get:function(){return"1.26.0"}}],(r=[{key:"seek",value:function(e){e=Math.max(e,0),this.video.duration&&(e=Math.min(e,this.video.duration)),this.video.currentTime<e?this.notice("".concat(this.tran("FF")," ").concat((e-this.video.currentTime).toFixed(0)," ").concat(this.tran("s"))):this.video.currentTime>e&&this.notice("".concat(this.tran("REW")," ").concat((this.video.currentTime-e).toFixed(0)," ").concat(this.tran("s"))),this.video.currentTime=e,this.danmaku&&this.danmaku.seek(),this.bar.set("played",e/this.video.duration,"width"),this.template.ptime.innerHTML=a.secondToTime(e)}},{key:"play",value:function(e){var t=this;if(this.paused=!1,this.video.paused&&!a.isMobile&&this.bezel.switch(K.play),this.template.playButton.innerHTML=K.pause,this.template.mobilePlayButton.innerHTML=K.pause,e||n.a.resolve(this.video.play()).catch((function(){t.pause()})).then((function(){})),this.timer.enable("loading"),this.container.classList.remove("dplayer-paused"),this.container.classList.add("dplayer-playing"),this.danmaku&&this.danmaku.play(),this.options.mutex)for(var r=0;r<be.length;r++)this!==be[r]&&be[r].pause()}},{key:"pause",value:function(e){this.paused=!0,this.container.classList.remove("dplayer-loading"),this.video.paused||a.isMobile||this.bezel.switch(K.pause),this.template.playButton.innerHTML=K.play,this.template.mobilePlayButton.innerHTML=K.play,e||this.video.pause(),this.timer.disable("loading"),this.container.classList.remove("dplayer-playing"),this.container.classList.add("dplayer-paused"),this.danmaku&&this.danmaku.pause()}},{key:"switchVolumeIcon",value:function(){this.volume()>=.95?this.template.volumeIcon.innerHTML=K.volumeUp:this.volume()>0?this.template.volumeIcon.innerHTML=K.volumeDown:this.template.volumeIcon.innerHTML=K.volumeOff}},{key:"volume",value:function(e,t,r){if(e=parseFloat(e),!isNaN(e)){e=Math.max(e,0),e=Math.min(e,1),this.bar.set("volume",e,"width");var n="".concat((100*e).toFixed(0),"%");this.template.volumeBarWrapWrap.dataset.balloon=n,t||this.user.set("volume",e),r||this.notice("".concat(this.tran("Volume")," ").concat((100*e).toFixed(0),"%")),this.video.volume=e,this.video.muted&&(this.video.muted=!1),this.switchVolumeIcon()}return this.video.volume}},{key:"toggle",value:function(){this.video.paused?this.play():this.pause()}},{key:"on",value:function(e,t){this.events.on(e,t)}},{key:"switchVideo",value:function(e,t){this.pause(),this.video.poster=e.pic?e.pic:"",this.video.src=e.url,this.initMSE(this.video,e.type||"auto"),t&&(this.template.danmakuLoading.style.display="block",this.bar.set("played",0,"width"),this.bar.set("loaded",0,"width"),this.template.ptime.innerHTML="00:00",this.template.danmaku.innerHTML="",this.danmaku&&this.danmaku.reload({id:t.id,address:t.api,token:t.token,maximum:t.maximum,addition:t.addition,user:t.user}))}},{key:"initMSE",value:function(e,t){var r=this;if(this.type=t,this.options.video.customType&&this.options.video.customType[t])"[object Function]"===Object.prototype.toString.call(this.options.video.customType[t])?this.options.video.customType[t](this.video,this):console.error("Illegal customType: ".concat(t));else switch("auto"===this.type&&(/m3u8(#|\?|$)/i.exec(e.src)?this.type="hls":/.flv(#|\?|$)/i.exec(e.src)?this.type="flv":/.mpd(#|\?|$)/i.exec(e.src)?this.type="dash":this.type="normal"),"hls"===this.type&&(e.canPlayType("application/x-mpegURL")||e.canPlayType("application/vnd.apple.mpegURL"))&&(this.type="normal"),this.type){case"hls":if(window.Hls)if(window.Hls.isSupported()){var n=this.options.pluginOptions.hls,i=new window.Hls(n);this.plugins.hls=i,i.loadSource(e.src),i.attachMedia(e),this.events.on("destroy",(function(){i.destroy(),delete r.plugins.hls}))}else this.notice("Error: Hls is not supported.");else this.notice("Error: Can't find Hls.");break;case"flv":if(window.flvjs)if(window.flvjs.isSupported()){var a=window.flvjs.createPlayer(Object.assign(this.options.pluginOptions.flv.mediaDataSource||{},{type:"flv",url:e.src}),this.options.pluginOptions.flv.config);this.plugins.flvjs=a,a.attachMediaElement(e),a.load(),this.events.on("destroy",(function(){a.unload(),a.detachMediaElement(),a.destroy(),delete r.plugins.flvjs}))}else this.notice("Error: flvjs is not supported.");else this.notice("Error: Can't find flvjs.");break;case"dash":if(window.dashjs){var o=window.dashjs.MediaPlayer().create().initialize(e,e.src,!1),s=this.options.pluginOptions.dash;o.updateSettings(s),this.plugins.dash=o,this.events.on("destroy",(function(){window.dashjs.MediaPlayer().reset(),delete r.plugins.dash}))}else this.notice("Error: Can't find dashjs.");break;case"webtorrent":if(window.WebTorrent)if(window.WebTorrent.WEBRTC_SUPPORT){this.container.classList.add("dplayer-loading");var u=this.options.pluginOptions.webtorrent,c=new window.WebTorrent(u);this.plugins.webtorrent=c;var l=e.src;e.src="",e.preload="metadata",e.addEventListener("durationchange",(function(){return r.container.classList.remove("dplayer-loading")}),{once:!0}),c.add(l,(function(e){e.files.find((function(e){return e.name.endsWith(".mp4")})).renderTo(r.video,{autoplay:r.options.autoplay,controls:!1})})),this.events.on("destroy",(function(){c.remove(l),c.destroy(),delete r.plugins.webtorrent}))}else this.notice("Error: Webtorrent is not supported.");else this.notice("Error: Can't find Webtorrent.")}}},{key:"initVideo",value:function(e,t){var r=this;this.initMSE(e,t),this.on("durationchange",(function(){1!==e.duration&&e.duration!==1/0&&(r.template.dtime.innerHTML=a.secondToTime(e.duration))})),this.on("progress",(function(){var t=e.buffered.length?e.buffered.end(e.buffered.length-1)/e.duration:0;r.bar.set("loaded",t,"width")})),this.on("error",(function(){r.video.error&&r.tran&&r.notice&&"webtorrent"!==r.type&&r.notice(r.tran("Video load failed"),-1)})),this.on("ended",(function(){r.bar.set("played",1,"width"),r.setting.loop?(r.seek(0),r.play()):r.pause(),r.danmaku&&(r.danmaku.danIndex=0)})),this.on("play",(function(){r.paused&&r.play(!0)})),this.on("pause",(function(){r.paused||r.pause(!0)})),this.on("timeupdate",(function(){r.bar.set("played",r.video.currentTime/r.video.duration,"width");var e=a.secondToTime(r.video.currentTime);r.template.ptime.innerHTML!==e&&(r.template.ptime.innerHTML=e)}));for(var n=function(t){e.addEventListener(r.events.videoEvents[t],(function(){r.events.trigger(r.events.videoEvents[t])}))},i=0;i<this.events.videoEvents.length;i++)n(i);this.volume(this.user.get("volume"),!0,!0),this.options.subtitle&&(this.subtitle=new re(this.template.subtitle,this.video,this.options.subtitle,this.events),this.user.get("subtitle")||this.subtitle.hide())}},{key:"switchQuality",value:function(e){var t=this;if(e="string"==typeof e?parseInt(e):e,this.qualityIndex!==e&&!this.switchingQuality){this.qualityIndex=e,this.switchingQuality=!0,this.quality=this.options.video.quality[e],this.template.qualityButton.innerHTML=this.quality.name;var r=this.video.paused;this.video.pause();var n=he()({current:!1,pic:null,screenshot:this.options.screenshot,preload:"auto",url:this.quality.url,subtitle:this.options.subtitle}),i=(new DOMParser).parseFromString(n,"text/html").body.firstChild;this.template.videoWrap.insertBefore(i,this.template.videoWrap.getElementsByTagName("div")[0]),this.prevVideo=this.video,this.video=i,this.initVideo(this.video,this.quality.type||this.options.video.type),this.seek(this.prevVideo.currentTime),this.notice("".concat(this.tran("Switching to")," ").concat(this.quality.name," ").concat(this.tran("quality")),-1),this.events.trigger("quality_start",this.quality),this.on("canplay",(function(){if(t.prevVideo){if(t.video.currentTime!==t.prevVideo.currentTime)return void t.seek(t.prevVideo.currentTime);t.template.videoWrap.removeChild(t.prevVideo),t.video.classList.add("dplayer-video-current"),r||t.video.play(),t.prevVideo=null,t.notice("".concat(t.tran("Switched to")," ").concat(t.quality.name," ").concat(t.tran("quality"))),t.switchingQuality=!1,t.events.trigger("quality_end")}}))}}},{key:"notice",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.8;this.template.notice.innerHTML=e,this.template.notice.style.opacity=n,this.noticeTime&&clearTimeout(this.noticeTime),this.events.trigger("notice_show",e),r>0&&(this.noticeTime=setTimeout((function(){t.template.notice.style.opacity=0,t.events.trigger("notice_hide")}),r))}},{key:"resize",value:function(){this.danmaku&&this.danmaku.resize(),this.controller.thumbnails&&this.controller.thumbnails.resize(160,this.video.videoHeight/this.video.videoWidth*160,this.template.barWrap.offsetWidth),this.events.trigger("resize")}},{key:"speed",value:function(e){this.video.playbackRate=e}},{key:"destroy",value:function(){be.splice(be.indexOf(this),1),this.pause(),this.controller.destroy(),this.timer.destroy(),this.video.src="",this.container.innerHTML="",this.events.trigger("destroy")}}])&&ve(t.prototype,r),i&&ve(t,i),e}();console.log("\n".concat(" %c DPlayer v","1.26.0"," ").concat("63275c8"," %c http://dplayer.js.org ","\n","\n"),"color: #fadfa3; background: #030307; padding:5px 0;","background: #fadfa3; padding:5px 0;"),t.default=_e}]).default},"object"==s(t)&&"object"==s(e)?e.exports=o():(i=[],void 0===(a="function"==typeof(n=o)?n.apply(t,i):n)||(e.exports=a))},9374:(e,t,r)=>{var n;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){"use strict";function a(e,t){var r;if(t=t||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=t.touchBoundary||10,this.layer=e,this.tapDelay=t.tapDelay||200,this.tapTimeout=t.tapTimeout||700,!a.notNeeded(e)){for(var n=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],i=this,o=0,u=n.length;o<u;o++)i[n[o]]=c(i[n[o]],i);s&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,r,n){var i=Node.prototype.removeEventListener;"click"===t?i.call(e,t,r.hijacked||r,n):i.call(e,t,r,n)},e.addEventListener=function(t,r,n){var i=Node.prototype.addEventListener;"click"===t?i.call(e,t,r.hijacked||(r.hijacked=function(e){e.propagationStopped||r(e)}),n):i.call(e,t,r,n)}),"function"==typeof e.onclick&&(r=e.onclick,e.addEventListener("click",(function(e){r(e)}),!1),e.onclick=null)}function c(e,t){return function(){return e.apply(t,arguments)}}}var o=navigator.userAgent.indexOf("Windows Phone")>=0,s=navigator.userAgent.indexOf("Android")>0&&!o,u=/iP(ad|hone|od)/.test(navigator.userAgent)&&!o,c=u&&/OS 4_\d(_\d)?/.test(navigator.userAgent),l=u&&/OS [6-7]_\d/.test(navigator.userAgent),f=navigator.userAgent.indexOf("BB10")>0;a.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(u&&"file"===e.type||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(e.className)},a.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!s;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},a.prototype.sendClick=function(e,t){var r,n;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),n=t.changedTouches[0],(r=document.createEvent("MouseEvents")).initMouseEvent(this.determineEventType(e),!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),r.forwardedTouchEvent=!0,e.dispatchEvent(r)},a.prototype.determineEventType=function(e){return s&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},a.prototype.focus=function(e){var t;u&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type&&"month"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},a.prototype.updateScrollParent=function(e){var t,r;if(!(t=e.fastClickScrollParent)||!t.contains(e)){r=e;do{if(r.scrollHeight>r.offsetHeight){t=r,e.fastClickScrollParent=r;break}r=r.parentElement}while(r)}t&&(t.fastClickLastScrollTop=t.scrollTop)},a.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},a.prototype.onTouchStart=function(e){var t,r,n;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),r=e.targetTouches[0],u){if((n=window.getSelection()).rangeCount&&!n.isCollapsed)return!0;if(!c){if(r.identifier&&r.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=r.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=r.pageX,this.touchStartY=r.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},a.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],r=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>r||Math.abs(t.pageY-this.touchStartY)>r},a.prototype.onTouchMove=function(e){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0)},a.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},a.prototype.onTouchEnd=function(e){var t,r,n,i,a,o=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,r=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,l&&(a=e.changedTouches[0],(o=document.elementFromPoint(a.pageX-window.pageXOffset,a.pageY-window.pageYOffset)||o).fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(n=o.tagName.toLowerCase())){if(t=this.findControl(o)){if(this.focus(o),s)return!1;o=t}}else if(this.needsFocus(o))return e.timeStamp-r>100||u&&window.top!==window&&"input"===n?(this.targetElement=null,!1):(this.focus(o),this.sendClick(o,e),u&&"select"===n||(this.targetElement=null,e.preventDefault()),!1);return!(!u||c||!(i=o.fastClickScrollParent)||i.fastClickLastScrollTop===i.scrollTop)||(this.needsClick(o)||(e.preventDefault(),this.sendClick(o,e)),!1)},a.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},a.prototype.onMouse=function(e){return!(this.targetElement&&!e.forwardedTouchEvent&&e.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)&&(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),1))},a.prototype.onClick=function(e){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail||((t=this.onMouse(e))||(this.targetElement=null),t)},a.prototype.destroy=function(){var e=this.layer;s&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},a.notNeeded=function(e){var t,r,n;if(void 0===window.ontouchstart)return!0;if(r=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!s)return!0;if(t=document.querySelector("meta[name=viewport]")){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(r>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(f&&(n=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/))[1]>=10&&n[2]>=3&&(t=document.querySelector("meta[name=viewport]"))){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction||"manipulation"===e.style.touchAction||!!(+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]>=27&&(t=document.querySelector("meta[name=viewport]"))&&(-1!==t.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))||"none"===e.style.touchAction||"manipulation"===e.style.touchAction},a.attach=function(e,t){return new a(e,t)},"object"===i(r.amdO)&&r.amdO?void 0===(n=function(){return a}.call(t,r,t,e))||(e.exports=n):e.exports?(e.exports=a.attach,e.exports.FastClick=a):window.FastClick=a}()},971:(e,t,r)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}r.r(t),r.d(t,{Back:()=>Nr,Bounce:()=>Br,CSSPlugin:()=>ei,Circ:()=>jr,Cubic:()=>Cr,Elastic:()=>Ir,Expo:()=>Lr,Linear:()=>Ar,Power0:()=>wr,Power1:()=>kr,Power2:()=>xr,Power3:()=>Tr,Power4:()=>Er,Quad:()=>Sr,Quart:()=>Or,Quint:()=>Rr,Sine:()=>Mr,SteppedEase:()=>$r,Strong:()=>Pr,TimelineLite:()=>Kt,TimelineMax:()=>Kt,TweenLite:()=>rr,TweenMax:()=>ri,default:()=>ti,gsap:()=>ti});var o,s,u,c,l,f,p,d,h,m,y,v,g,b,_,w,k,x,T,E,A,S,C,O,R,P,I,N,$={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},B={duration:.5,overwrite:!1,delay:0},M=1e8,L=1e-8,j=2*Math.PI,D=j/4,F=0,U=Math.sqrt,z=Math.cos,q=Math.sin,G=function(e){return"string"==typeof e},H=function(e){return"function"==typeof e},W=function(e){return"number"==typeof e},K=function(e){return void 0===e},V=function(e){return"object"===n(e)},J=function(e){return!1!==e},Y=function(){return"undefined"!=typeof window},X=function(e){return H(e)||G(e)},Q="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},Z=Array.isArray,ee=/(?:-?\.?\d|\.)+/gi,te=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,re=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,ne=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,ie=/[+-]=-?[.\d]+/,ae=/[^,'"\[\]\s]+/gi,oe=/[\d.+\-=]+(?:e[-+]\d*)*/i,se={},ue={},ce=function(e){return(ue=$e(e,se))&&_r},le=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},fe=function(e,t){return!t&&console.warn(e)},pe=function(e,t){return e&&(se[e]=t)&&ue&&(ue[e]=t)||se},de=function(){return 0},he={},me=[],ye={},ve={},ge={},be=30,_e=[],we="",ke=function(e){var t,r,n=e[0];if(V(n)||H(n)||(e=[e]),!(t=(n._gsap||{}).harness)){for(r=_e.length;r--&&!_e[r].targetTest(n););t=_e[r]}for(r=e.length;r--;)e[r]&&(e[r]._gsap||(e[r]._gsap=new Ht(e[r],t)))||e.splice(r,1);return e},xe=function(e){return e._gsap||ke(lt(e))[0]._gsap},Te=function(e,t,r){return(r=e[t])&&H(r)?e[t]():K(r)&&e.getAttribute&&e.getAttribute(t)||r},Ee=function(e,t){return(e=e.split(",")).forEach(t)||e},Ae=function(e){return Math.round(1e5*e)/1e5||0},Se=function(e,t){for(var r=t.length,n=0;e.indexOf(t[n])<0&&++n<r;);return n<r},Ce=function(){var e,t,r=me.length,n=me.slice(0);for(ye={},me.length=0,e=0;e<r;e++)(t=n[e])&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)},Oe=function(e,t,r,n){me.length&&Ce(),e.render(t,r,n),me.length&&Ce()},Re=function(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match(ae).length<2?t:G(e)?e.trim():e},Pe=function(e){return e},Ie=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},Ne=function(e,t){for(var r in t)r in e||"duration"===r||"ease"===r||(e[r]=t[r])},$e=function(e,t){for(var r in t)e[r]=t[r];return e},Be=function e(t,r){for(var n in r)"__proto__"!==n&&"constructor"!==n&&"prototype"!==n&&(t[n]=V(r[n])?e(t[n]||(t[n]={}),r[n]):r[n]);return t},Me=function(e,t){var r,n={};for(r in e)r in t||(n[r]=e[r]);return n},Le=function(e){var t=e.parent||s,r=e.keyframes?Ne:Ie;if(J(e.inherit))for(;t;)r(e,t.vars.defaults),t=t.parent||t._dp;return e},je=function(e,t,r,n){void 0===r&&(r="_first"),void 0===n&&(n="_last");var i=t._prev,a=t._next;i?i._next=a:e[r]===t&&(e[r]=a),a?a._prev=i:e[n]===t&&(e[n]=i),t._next=t._prev=t.parent=null},De=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove(e),e._act=0},Fe=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},Ue=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},ze=function e(t){return!t||t._ts&&e(t.parent)},qe=function(e){return e._repeat?Ge(e._tTime,e=e.duration()+e._rDelay)*e:0},Ge=function(e,t){var r=Math.floor(e/=t);return e&&r===e?r-1:r},He=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},We=function(e){return e._end=Ae(e._start+(e._tDur/Math.abs(e._ts||e._rts||L)||0))},Ke=function(e,t){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=Ae(r._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),We(e),r._dirty||Fe(r,e)),e},Ve=function(e,t){var r;if((t._time||t._initted&&!t._dur)&&(r=He(e.rawTime(),t),(!t._dur||ot(0,t.totalDuration(),r)-t._tTime>L)&&t.render(r,!0)),Fe(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-1e-8}},Je=function(e,t,r,n){return t.parent&&De(t),t._start=Ae((W(r)?r:r||e!==s?nt(e,r,t):e._time)+t._delay),t._end=Ae(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),function(e,t,r,n,i){void 0===r&&(r="_first"),void 0===n&&(n="_last");var a,o=e[n];if(i)for(a=t[i];o&&o[i]>a;)o=o._prev;o?(t._next=o._next,o._next=t):(t._next=e[r],e[r]=t),t._next?t._next._prev=t:e[n]=t,t._prev=o,t.parent=t._dp=e}(e,t,"_first","_last",e._sort?"_start":0),Ze(t)||(e._recent=t),n||Ve(e,t),e},Ye=function(e,t){return(se.ScrollTrigger||le("scrollTrigger",t))&&se.ScrollTrigger.create(t,e)},Xe=function(e,t,r,n){return Qt(e,t),e._initted?!r&&e._pt&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&p!==It.frame?(me.push(e),e._lazy=[t,n],1):void 0:1},Qe=function e(t){var r=t.parent;return r&&r._ts&&r._initted&&!r._lock&&(r.rawTime()<0||e(r))},Ze=function(e){var t=e.data;return"isFromStart"===t||"isStart"===t},et=function(e,t,r,n){var i=e._repeat,a=Ae(t)||0,o=e._tTime/e._tDur;return o&&!n&&(e._time*=a/e._dur),e._dur=a,e._tDur=i?i<0?1e10:Ae(a*(i+1)+e._rDelay*i):a,o&&!n?Ke(e,e._tTime=e._tDur*o):e.parent&&We(e),r||Fe(e.parent,e),e},tt=function(e){return e instanceof Kt?Fe(e):et(e,e._dur)},rt={_start:0,endTime:de,totalDuration:de},nt=function e(t,r,n){var i,a,o,s=t.labels,u=t._recent||rt,c=t.duration()>=M?u.endTime(!1):t._dur;return G(r)&&(isNaN(r)||r in s)?(a=r.charAt(0),o="%"===r.substr(-1),i=r.indexOf("="),"<"===a||">"===a?(i>=0&&(r=r.replace(/=/,"")),("<"===a?u._start:u.endTime(u._repeat>=0))+(parseFloat(r.substr(1))||0)*(o?(i<0?u:n).totalDuration()/100:1)):i<0?(r in s||(s[r]=c),s[r]):(a=parseFloat(r.charAt(i-1)+r.substr(i+1)),o&&n&&(a=a/100*(Z(n)?n[0]:n).totalDuration()),i>1?e(t,r.substr(0,i-1),n)+a:c+a)):null==r?c:+r},it=function(e,t,r){var n,i,a=W(t[1]),o=(a?2:1)+(e<2?0:1),s=t[o];if(a&&(s.duration=t[1]),s.parent=r,e){for(n=s,i=r;i&&!("immediateRender"in n);)n=i.vars.defaults||{},i=J(i.vars.inherit)&&i.parent;s.immediateRender=J(n.immediateRender),e<2?s.runBackwards=1:s.startAt=t[o-1]}return new rr(t[0],s,t[o+1])},at=function(e,t){return e||0===e?t(e):t},ot=function(e,t,r){return r<e?e:r>t?t:r},st=function(e){if("string"!=typeof e)return"";var t=oe.exec(e);return t?e.substr(t.index+t[0].length):""},ut=[].slice,ct=function(e,t){return e&&V(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&V(e[0]))&&!e.nodeType&&e!==u},lt=function(e,t,r){return!G(e)||r||!c&&Nt()?Z(e)?function(e,t,r){return void 0===r&&(r=[]),e.forEach((function(e){var n;return G(e)&&!t||ct(e,1)?(n=r).push.apply(n,lt(e)):r.push(e)}))||r}(e,r):ct(e)?ut.call(e,0):e?[e]:[]:ut.call((t||l).querySelectorAll(e),0)},ft=function(e){return e.sort((function(){return.5-Math.random()}))},pt=function(e){if(H(e))return e;var t=V(e)?e:{each:e},r=Ft(t.ease),n=t.from||0,i=parseFloat(t.base)||0,a={},o=n>0&&n<1,s=isNaN(n)||o,u=t.axis,c=n,l=n;return G(n)?c=l={center:.5,edges:.5,end:1}[n]||0:!o&&s&&(c=n[0],l=n[1]),function(e,o,f){var p,d,h,m,y,v,g,b,_,w=(f||t).length,k=a[w];if(!k){if(!(_="auto"===t.grid?0:(t.grid||[1,M])[1])){for(g=-M;g<(g=f[_++].getBoundingClientRect().left)&&_<w;);_--}for(k=a[w]=[],p=s?Math.min(_,w)*c-.5:n%_,d=s?w*l/_-.5:n/_|0,g=0,b=M,v=0;v<w;v++)h=v%_-p,m=d-(v/_|0),k[v]=y=u?Math.abs("y"===u?m:h):U(h*h+m*m),y>g&&(g=y),y<b&&(b=y);"random"===n&&ft(k),k.max=g-b,k.min=b,k.v=w=(parseFloat(t.amount)||parseFloat(t.each)*(_>w?w-1:u?"y"===u?w/_:_:Math.max(_,w/_))||0)*("edges"===n?-1:1),k.b=w<0?i-w:i,k.u=st(t.amount||t.each)||0,r=r&&w<0?jt(r):r}return w=(k[e]-k.min)/k.max||0,Ae(k.b+(r?r(w):w)*k.v)+k.u}},dt=function(e){var t=e<1?Math.pow(10,(e+"").length-2):1;return function(r){var n=Math.round(parseFloat(r)/e)*e*t;return(n-n%1)/t+(W(r)?0:st(r))}},ht=function(e,t){var r,n,i=Z(e);return!i&&V(e)&&(r=i=e.radius||M,e.values?(e=lt(e.values),(n=!W(e[0]))&&(r*=r)):e=dt(e.increment)),at(t,i?H(e)?function(t){return n=e(t),Math.abs(n-t)<=r?n:t}:function(t){for(var i,a,o=parseFloat(n?t.x:t),s=parseFloat(n?t.y:0),u=M,c=0,l=e.length;l--;)(i=n?(i=e[l].x-o)*i+(a=e[l].y-s)*a:Math.abs(e[l]-o))<u&&(u=i,c=l);return c=!r||u<=r?e[c]:t,n||c===t||W(t)?c:c+st(t)}:dt(e))},mt=function(e,t,r,n){return at(Z(e)?!t:!0===r?!!(r=0):!n,(function(){return Z(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(n=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(t-e+.99*r))/r)*r*n)/n}))},yt=function(e,t,r){return at(r,(function(r){return e[~~t(r)]}))},vt=function(e){for(var t,r,n,i,a=0,o="";~(t=e.indexOf("random(",a));)n=e.indexOf(")",t),i="["===e.charAt(t+7),r=e.substr(t+7,n-t-7).match(i?ae:ee),o+=e.substr(a,t-a)+mt(i?r:+r[0],i?0:+r[1],+r[2]||1e-5),a=n+1;return o+e.substr(a,e.length-a)},gt=function(e,t,r,n,i){var a=t-e,o=n-r;return at(i,(function(t){return r+((t-e)/a*o||0)}))},bt=function(e,t,r){var n,i,a,o=e.labels,s=M;for(n in o)(i=o[n]-t)<0==!!r&&i&&s>(i=Math.abs(i))&&(a=n,s=i);return a},_t=function(e,t,r){var n,i,a=e.vars,o=a[t];if(o)return n=a[t+"Params"],i=a.callbackScope||e,r&&me.length&&Ce(),n?o.apply(i,n):o.call(i)},wt=function(e){return De(e),e.scrollTrigger&&e.scrollTrigger.kill(!1),e.progress()<1&&_t(e,"onInterrupt"),e},kt=function(e){var t=(e=!e.name&&e.default||e).name,r=H(e),n=t&&!r&&e.init?function(){this._props=[]}:e,i={init:de,render:fr,add:Yt,kill:dr,modifier:pr,rawVars:0},a={targetTest:0,get:0,getSetter:sr,aliases:{},register:0};if(Nt(),e!==n){if(ve[t])return;Ie(n,Ie(Me(e,i),a)),$e(n.prototype,$e(i,Me(e,a))),ve[n.prop=t]=n,e.targetTest&&(_e.push(n),he[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}pe(t,n),e.register&&e.register(_r,n,yr)},xt=255,Tt={aqua:[0,xt,xt],lime:[0,xt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,xt],navy:[0,0,128],white:[xt,xt,xt],olive:[128,128,0],yellow:[xt,xt,0],orange:[xt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[xt,0,0],pink:[xt,192,203],cyan:[0,xt,xt],transparent:[xt,xt,xt,0]},Et=function(e,t,r){return(6*(e=e<0?e+1:e>1?e-1:e)<1?t+(r-t)*e*6:e<.5?r:3*e<2?t+(r-t)*(2/3-e)*6:t)*xt+.5|0},At=function(e,t,r){var n,i,a,o,s,u,c,l,f,p,d=e?W(e)?[e>>16,e>>8&xt,e&xt]:0:Tt.black;if(!d){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),Tt[e])d=Tt[e];else if("#"===e.charAt(0)){if(e.length<6&&(n=e.charAt(1),i=e.charAt(2),a=e.charAt(3),e="#"+n+n+i+i+a+a+(5===e.length?e.charAt(4)+e.charAt(4):"")),9===e.length)return[(d=parseInt(e.substr(1,6),16))>>16,d>>8&xt,d&xt,parseInt(e.substr(7),16)/255];d=[(e=parseInt(e.substr(1),16))>>16,e>>8&xt,e&xt]}else if("hsl"===e.substr(0,3))if(d=p=e.match(ee),t){if(~e.indexOf("="))return d=e.match(te),r&&d.length<4&&(d[3]=1),d}else o=+d[0]%360/360,s=+d[1]/100,n=2*(u=+d[2]/100)-(i=u<=.5?u*(s+1):u+s-u*s),d.length>3&&(d[3]*=1),d[0]=Et(o+1/3,n,i),d[1]=Et(o,n,i),d[2]=Et(o-1/3,n,i);else d=e.match(ee)||Tt.transparent;d=d.map(Number)}return t&&!p&&(n=d[0]/xt,i=d[1]/xt,a=d[2]/xt,u=((c=Math.max(n,i,a))+(l=Math.min(n,i,a)))/2,c===l?o=s=0:(f=c-l,s=u>.5?f/(2-c-l):f/(c+l),o=c===n?(i-a)/f+(i<a?6:0):c===i?(a-n)/f+2:(n-i)/f+4,o*=60),d[0]=~~(o+.5),d[1]=~~(100*s+.5),d[2]=~~(100*u+.5)),r&&d.length<4&&(d[3]=1),d},St=function(e){var t=[],r=[],n=-1;return e.split(Ot).forEach((function(e){var i=e.match(re)||[];t.push.apply(t,i),r.push(n+=i.length+1)})),t.c=r,t},Ct=function(e,t,r){var n,i,a,o,s="",u=(e+s).match(Ot),c=t?"hsla(":"rgba(",l=0;if(!u)return e;if(u=u.map((function(e){return(e=At(e,t,1))&&c+(t?e[0]+","+e[1]+"%,"+e[2]+"%,"+e[3]:e.join(","))+")"})),r&&(a=St(e),(n=r.c).join(s)!==a.c.join(s)))for(o=(i=e.replace(Ot,"1").split(re)).length-1;l<o;l++)s+=i[l]+(~n.indexOf(l)?u.shift()||c+"0,0,0,0)":(a.length?a:u.length?u:r).shift());if(!i)for(o=(i=e.split(Ot)).length-1;l<o;l++)s+=i[l]+u[l];return s+i[o]},Ot=function(){var e,t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(e in Tt)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),Rt=/hsl[a]?\(/,Pt=function(e){var t,r=e.join(" ");if(Ot.lastIndex=0,Ot.test(r))return t=Rt.test(r),e[1]=Ct(e[1],t),e[0]=Ct(e[0],t,St(e[1])),!0},It=(w=Date.now,k=500,x=33,T=w(),E=T,S=A=1e3/240,O=function e(t){var r,n,i,a,o=w()-E,s=!0===t;if(o>k&&(T+=o-x),((r=(i=(E+=o)-T)-S)>0||s)&&(a=++g.frame,b=i-1e3*g.time,g.time=i/=1e3,S+=r+(r>=A?4:A-r),n=1),s||(m=y(e)),n)for(_=0;_<C.length;_++)C[_](i,b,a,t)},g={time:0,frame:0,tick:function(){O(!0)},deltaRatio:function(e){return b/(1e3/(e||60))},wake:function(){f&&(!c&&Y()&&(u=c=window,l=u.document||{},se.gsap=_r,(u.gsapVersions||(u.gsapVersions=[])).push(_r.version),ce(ue||u.GreenSockGlobals||!u.gsap&&u||{}),v=u.requestAnimationFrame),m&&g.sleep(),y=v||function(e){return setTimeout(e,S-1e3*g.time+1|0)},h=1,O(2))},sleep:function(){(v?u.cancelAnimationFrame:clearTimeout)(m),h=0,y=de},lagSmoothing:function(e,t){k=e||1e8,x=Math.min(t,k,0)},fps:function(e){A=1e3/(e||240),S=1e3*g.time+A},add:function(e){C.indexOf(e)<0&&C.push(e),Nt()},remove:function(e){var t;~(t=C.indexOf(e))&&C.splice(t,1)&&_>=t&&_--},_listeners:C=[]}),Nt=function(){return!h&&It.wake()},$t={},Bt=/^[\d.\-M][\d.\-,\s]/,Mt=/["']/g,Lt=function(e){for(var t,r,n,i={},a=e.substr(1,e.length-3).split(":"),o=a[0],s=1,u=a.length;s<u;s++)r=a[s],t=s!==u-1?r.lastIndexOf(","):r.length,n=r.substr(0,t),i[o]=isNaN(n)?n.replace(Mt,"").trim():+n,o=r.substr(t+1).trim();return i},jt=function(e){return function(t){return 1-e(1-t)}},Dt=function e(t,r){for(var n,i=t._first;i;)i instanceof Kt?e(i,r):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===r||(i.timeline?e(i.timeline,r):(n=i._ease,i._ease=i._yEase,i._yEase=n,i._yoyo=r)),i=i._next},Ft=function(e,t){return e&&(H(e)?e:$t[e]||function(e){var t,r,n,i,a=(e+"").split("("),o=$t[a[0]];return o&&a.length>1&&o.config?o.config.apply(null,~e.indexOf("{")?[Lt(a[1])]:(t=e,r=t.indexOf("(")+1,n=t.indexOf(")"),i=t.indexOf("(",r),t.substring(r,~i&&i<n?t.indexOf(")",n+1):n)).split(",").map(Re)):$t._CE&&Bt.test(e)?$t._CE("",e):o}(e))||t},Ut=function(e,t,r,n){void 0===r&&(r=function(e){return 1-t(1-e)}),void 0===n&&(n=function(e){return e<.5?t(2*e)/2:1-t(2*(1-e))/2});var i,a={easeIn:t,easeOut:r,easeInOut:n};return Ee(e,(function(e){for(var t in $t[e]=se[e]=a,$t[i=e.toLowerCase()]=r,a)$t[i+("easeIn"===t?".in":"easeOut"===t?".out":".inOut")]=$t[e+"."+t]=a[t]})),a},zt=function(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}},qt=function e(t,r,n){var i=r>=1?r:1,a=(n||(t?.3:.45))/(r<1?r:1),o=a/j*(Math.asin(1/i)||0),s=function(e){return 1===e?1:i*Math.pow(2,-10*e)*q((e-o)*a)+1},u="out"===t?s:"in"===t?function(e){return 1-s(1-e)}:zt(s);return a=j/a,u.config=function(r,n){return e(t,r,n)},u},Gt=function e(t,r){void 0===r&&(r=1.70158);var n=function(e){return e?--e*e*((r+1)*e+r)+1:0},i="out"===t?n:"in"===t?function(e){return 1-n(1-e)}:zt(n);return i.config=function(r){return e(t,r)},i};Ee("Linear,Quad,Cubic,Quart,Quint,Strong",(function(e,t){var r=t<5?t+1:t;Ut(e+",Power"+(r-1),t?function(e){return Math.pow(e,r)}:function(e){return e},(function(e){return 1-Math.pow(1-e,r)}),(function(e){return e<.5?Math.pow(2*e,r)/2:1-Math.pow(2*(1-e),r)/2}))})),$t.Linear.easeNone=$t.none=$t.Linear.easeIn,Ut("Elastic",qt("in"),qt("out"),qt()),R=7.5625,I=1/(P=2.75),Ut("Bounce",(function(e){return 1-N(1-e)}),N=function(e){return e<I?R*e*e:e<.7272727272727273?R*Math.pow(e-1.5/P,2)+.75:e<.9090909090909092?R*(e-=2.25/P)*e+.9375:R*Math.pow(e-2.625/P,2)+.984375}),Ut("Expo",(function(e){return e?Math.pow(2,10*(e-1)):0})),Ut("Circ",(function(e){return-(U(1-e*e)-1)})),Ut("Sine",(function(e){return 1===e?1:1-z(e*D)})),Ut("Back",Gt("in"),Gt("out"),Gt()),$t.SteppedEase=$t.steps=se.SteppedEase={config:function(e,t){void 0===e&&(e=1);var r=1/e,n=e+(t?0:1),i=t?1:0;return function(e){return((n*ot(0,.99999999,e)|0)+i)*r}}},B.ease=$t["quad.out"],Ee("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(e){return we+=e+","+e+"Params,"}));var Ht=function(e,t){this.id=F++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:Te,this.set=t?t.getSetter:sr},Wt=function(){function e(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,et(this,+e.duration,1,1),this.data=e.data,h||It.wake()}var t=e.prototype;return t.delay=function(e){return e||0===e?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+e-this._delay),this._delay=e,this):this._delay},t.duration=function(e){return arguments.length?this.totalDuration(this._repeat>0?e+(e+this._rDelay)*this._repeat:e):this.totalDuration()&&this._dur},t.totalDuration=function(e){return arguments.length?(this._dirty=0,et(this,this._repeat<0?e:(e-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(e,t){if(Nt(),!arguments.length)return this._tTime;var r=this._dp;if(r&&r.smoothChildTiming&&this._ts){for(Ke(this,e),!r._dp||r.parent||Ve(r,this);r.parent;)r.parent._time!==r._start+(r._ts>=0?r._tTime/r._ts:(r.totalDuration()-r._tTime)/-r._ts)&&r.totalTime(r._tTime,!0),r=r.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&e<this._tDur||this._ts<0&&e>0||!this._tDur&&!e)&&Je(this._dp,this,this._start-this._delay)}return(this._tTime!==e||!this._dur&&!t||this._initted&&Math.abs(this._zTime)===L||!e&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=e),Oe(this,e,t)),this},t.time=function(e,t){return arguments.length?this.totalTime(Math.min(this.totalDuration(),e+qe(this))%this._dur||(e?this._dur:0),t):this._time},t.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},t.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?e:1-e)+qe(this),t):this.duration()?Math.min(1,this._time/this._dur):this.ratio},t.iteration=function(e,t){var r=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*r,t):this._repeat?Ge(this._tTime,r)+1:1},t.timeScale=function(e){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===e)return this;var t=this.parent&&this._ts?He(this.parent._time,this):this._tTime;return this._rts=+e||0,this._ts=this._ps||-1e-8===e?0:this._rts,Ue(this.totalTime(ot(-this._delay,this._tDur,t),!0))},t.paused=function(e){return arguments.length?(this._ps!==e&&(this._ps=e,e?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Nt(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&(this._tTime-=L)&&Math.abs(this._zTime)!==L))),this):this._ps},t.startTime=function(e){if(arguments.length){this._start=e;var t=this.parent||this._dp;return t&&(t._sort||!this.parent)&&Je(t,this,e-this._delay),this}return this._start},t.endTime=function(e){return this._start+(J(e)?this.totalDuration():this.duration())/Math.abs(this._ts)},t.rawTime=function(e){var t=this.parent||this._dp;return t?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?He(t.rawTime(e),this):this._tTime:this._tTime},t.globalTime=function(e){for(var t=this,r=arguments.length?e:t.rawTime();t;)r=t._start+r/(t._ts||1),t=t._dp;return r},t.repeat=function(e){return arguments.length?(this._repeat=e===1/0?-2:e,tt(this)):-2===this._repeat?1/0:this._repeat},t.repeatDelay=function(e){return arguments.length?(this._rDelay=e,tt(this)):this._rDelay},t.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},t.seek=function(e,t){return this.totalTime(nt(this,e),J(t))},t.restart=function(e,t){return this.play().totalTime(e?-this._delay:0,J(t))},t.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},t.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},t.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(e){return arguments.length?(!!e!==this.reversed()&&this.timeScale(-this._rts||(e?-1e-8:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},t.isActive=function(){var e,t=this.parent||this._dp,r=this._start;return!(t&&!(this._ts&&this._initted&&t.isActive()&&(e=t.rawTime(!0))>=r&&e<this.endTime(!0)-L))},t.eventCallback=function(e,t,r){var n=this.vars;return arguments.length>1?(t?(n[e]=t,r&&(n[e+"Params"]=r),"onUpdate"===e&&(this._onUpdate=t)):delete n[e],this):n[e]},t.then=function(e){var t=this;return new Promise((function(r){var n=H(e)?e:Pe,i=function(){var e=t.then;t.then=null,H(n)&&(n=n(t))&&(n.then||n===t)&&(t.then=e),r(n),t.then=e};t._initted&&1===t.totalProgress()&&t._ts>=0||!t._tTime&&t._ts<0?i():t._prom=i}))},t.kill=function(){wt(this)},e}();Ie(Wt.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var Kt=function(e){function t(t,r){var n;return void 0===t&&(t={}),(n=e.call(this,t)||this).labels={},n.smoothChildTiming=!!t.smoothChildTiming,n.autoRemoveChildren=!!t.autoRemoveChildren,n._sort=J(t.sortChildren),s&&Je(t.parent||s,i(n),r),t.reversed&&n.reverse(),t.paused&&n.paused(!0),t.scrollTrigger&&Ye(i(n),t.scrollTrigger),n}a(t,e);var r=t.prototype;return r.to=function(e,t,r){return it(0,arguments,this),this},r.from=function(e,t,r){return it(1,arguments,this),this},r.fromTo=function(e,t,r,n){return it(2,arguments,this),this},r.set=function(e,t,r){return t.duration=0,t.parent=this,Le(t).repeatDelay||(t.repeat=0),t.immediateRender=!!t.immediateRender,new rr(e,t,nt(this,r),1),this},r.call=function(e,t,r){return Je(this,rr.delayedCall(0,e,t),r)},r.staggerTo=function(e,t,r,n,i,a,o){return r.duration=t,r.stagger=r.stagger||n,r.onComplete=a,r.onCompleteParams=o,r.parent=this,new rr(e,r,nt(this,i)),this},r.staggerFrom=function(e,t,r,n,i,a,o){return r.runBackwards=1,Le(r).immediateRender=J(r.immediateRender),this.staggerTo(e,t,r,n,i,a,o)},r.staggerFromTo=function(e,t,r,n,i,a,o,s){return n.startAt=r,Le(n).immediateRender=J(n.immediateRender),this.staggerTo(e,t,n,i,a,o,s)},r.render=function(e,t,r){var n,i,a,o,u,c,l,f,p,d,h,m,y=this._time,v=this._dirty?this.totalDuration():this._tDur,g=this._dur,b=this!==s&&e>v-L&&e>=0?v:e<L?0:e,_=this._zTime<0!=e<0&&(this._initted||!g);if(b!==this._tTime||r||_){if(y!==this._time&&g&&(b+=this._time-y,e+=this._time-y),n=b,p=this._start,c=!(f=this._ts),_&&(g||(y=this._zTime),(e||!t)&&(this._zTime=e)),this._repeat){if(h=this._yoyo,u=g+this._rDelay,this._repeat<-1&&e<0)return this.totalTime(100*u+e,t,r);if(n=Ae(b%u),b===v?(o=this._repeat,n=g):((o=~~(b/u))&&o===b/u&&(n=g,o--),n>g&&(n=g)),d=Ge(this._tTime,u),!y&&this._tTime&&d!==o&&(d=o),h&&1&o&&(n=g-n,m=1),o!==d&&!this._lock){var w=h&&1&d,k=w===(h&&1&o);if(o<d&&(w=!w),y=w?0:g,this._lock=1,this.render(y||(m?0:Ae(o*u)),t,!g)._lock=0,this._tTime=b,!t&&this.parent&&_t(this,"onRepeat"),this.vars.repeatRefresh&&!m&&(this.invalidate()._lock=1),y&&y!==this._time||c!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(g=this._dur,v=this._tDur,k&&(this._lock=2,y=w?g:-1e-4,this.render(y,!0),this.vars.repeatRefresh&&!m&&this.invalidate()),this._lock=0,!this._ts&&!c)return this;Dt(this,m)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(l=function(e,t,r){var n;if(r>t)for(n=e._first;n&&n._start<=r;){if(!n._dur&&"isPause"===n.data&&n._start>t)return n;n=n._next}else for(n=e._last;n&&n._start>=r;){if(!n._dur&&"isPause"===n.data&&n._start<t)return n;n=n._prev}}(this,Ae(y),Ae(n)))&&(b-=n-(n=l._start)),this._tTime=b,this._time=n,this._act=!f,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=e,y=0),!y&&n&&!t&&(_t(this,"onStart"),this._tTime!==b))return this;if(n>=y&&e>=0)for(i=this._first;i;){if(a=i._next,(i._act||n>=i._start)&&i._ts&&l!==i){if(i.parent!==this)return this.render(e,t,r);if(i.render(i._ts>0?(n-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(n-i._start)*i._ts,t,r),n!==this._time||!this._ts&&!c){l=0,a&&(b+=this._zTime=-1e-8);break}}i=a}else{i=this._last;for(var x=e<0?e:n;i;){if(a=i._prev,(i._act||x<=i._end)&&i._ts&&l!==i){if(i.parent!==this)return this.render(e,t,r);if(i.render(i._ts>0?(x-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(x-i._start)*i._ts,t,r),n!==this._time||!this._ts&&!c){l=0,a&&(b+=this._zTime=x?-1e-8:L);break}}i=a}}if(l&&!t&&(this.pause(),l.render(n>=y?0:-1e-8)._zTime=n>=y?1:-1,this._ts))return this._start=p,We(this),this.render(e,t,r);this._onUpdate&&!t&&_t(this,"onUpdate",!0),(b===v&&v>=this.totalDuration()||!b&&y)&&(p!==this._start&&Math.abs(f)===Math.abs(this._ts)||this._lock||((e||!g)&&(b===v&&this._ts>0||!b&&this._ts<0)&&De(this,1),t||e<0&&!y||!b&&!y&&v||(_t(this,b===v&&e>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(b<v&&this.timeScale()>0)&&this._prom())))}return this},r.add=function(e,t){var r=this;if(W(t)||(t=nt(this,t,e)),!(e instanceof Wt)){if(Z(e))return e.forEach((function(e){return r.add(e,t)})),this;if(G(e))return this.addLabel(e,t);if(!H(e))return this;e=rr.delayedCall(0,e)}return this!==e?Je(this,e,t):this},r.getChildren=function(e,t,r,n){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===r&&(r=!0),void 0===n&&(n=-M);for(var i=[],a=this._first;a;)a._start>=n&&(a instanceof rr?t&&i.push(a):(r&&i.push(a),e&&i.push.apply(i,a.getChildren(!0,t,r)))),a=a._next;return i},r.getById=function(e){for(var t=this.getChildren(1,1,1),r=t.length;r--;)if(t[r].vars.id===e)return t[r]},r.remove=function(e){return G(e)?this.removeLabel(e):H(e)?this.killTweensOf(e):(je(this,e),e===this._recent&&(this._recent=this._last),Fe(this))},r.totalTime=function(t,r){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Ae(It.time-(this._ts>0?t/this._ts:(this.totalDuration()-t)/-this._ts))),e.prototype.totalTime.call(this,t,r),this._forcing=0,this):this._tTime},r.addLabel=function(e,t){return this.labels[e]=nt(this,t),this},r.removeLabel=function(e){return delete this.labels[e],this},r.addPause=function(e,t,r){var n=rr.delayedCall(0,t||de,r);return n.data="isPause",this._hasPause=1,Je(this,n,nt(this,e))},r.removePause=function(e){var t=this._first;for(e=nt(this,e);t;)t._start===e&&"isPause"===t.data&&De(t),t=t._next},r.killTweensOf=function(e,t,r){for(var n=this.getTweensOf(e,r),i=n.length;i--;)Vt!==n[i]&&n[i].kill(e,t);return this},r.getTweensOf=function(e,t){for(var r,n=[],i=lt(e),a=this._first,o=W(t);a;)a instanceof rr?Se(a._targets,i)&&(o?(!Vt||a._initted&&a._ts)&&a.globalTime(0)<=t&&a.globalTime(a.totalDuration())>t:!t||a.isActive())&&n.push(a):(r=a.getTweensOf(i,t)).length&&n.push.apply(n,r),a=a._next;return n},r.tweenTo=function(e,t){t=t||{};var r,n=this,i=nt(n,e),a=t,o=a.startAt,s=a.onStart,u=a.onStartParams,c=a.immediateRender,l=rr.to(n,Ie({ease:t.ease||"none",lazy:!1,immediateRender:!1,time:i,overwrite:"auto",duration:t.duration||Math.abs((i-(o&&"time"in o?o.time:n._time))/n.timeScale())||L,onStart:function(){if(n.pause(),!r){var e=t.duration||Math.abs((i-(o&&"time"in o?o.time:n._time))/n.timeScale());l._dur!==e&&et(l,e,0,1).render(l._time,!0,!0),r=1}s&&s.apply(l,u||[])}},t));return c?l.render(0):l},r.tweenFromTo=function(e,t,r){return this.tweenTo(t,Ie({startAt:{time:nt(this,e)}},r))},r.recent=function(){return this._recent},r.nextLabel=function(e){return void 0===e&&(e=this._time),bt(this,nt(this,e))},r.previousLabel=function(e){return void 0===e&&(e=this._time),bt(this,nt(this,e),1)},r.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+L)},r.shiftChildren=function(e,t,r){void 0===r&&(r=0);for(var n,i=this._first,a=this.labels;i;)i._start>=r&&(i._start+=e,i._end+=e),i=i._next;if(t)for(n in a)a[n]>=r&&(a[n]+=e);return Fe(this)},r.invalidate=function(){var t=this._first;for(this._lock=0;t;)t.invalidate(),t=t._next;return e.prototype.invalidate.call(this)},r.clear=function(e){void 0===e&&(e=!0);for(var t,r=this._first;r;)t=r._next,this.remove(r),r=t;return this._dp&&(this._time=this._tTime=this._pTime=0),e&&(this.labels={}),Fe(this)},r.totalDuration=function(e){var t,r,n,i=0,a=this,o=a._last,u=M;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-e:e));if(a._dirty){for(n=a.parent;o;)t=o._prev,o._dirty&&o.totalDuration(),(r=o._start)>u&&a._sort&&o._ts&&!a._lock?(a._lock=1,Je(a,o,r-o._delay,1)._lock=0):u=r,r<0&&o._ts&&(i-=r,(!n&&!a._dp||n&&n.smoothChildTiming)&&(a._start+=r/a._ts,a._time-=r,a._tTime-=r),a.shiftChildren(-r,!1,-Infinity),u=0),o._end>i&&o._ts&&(i=o._end),o=t;et(a,a===s&&a._time>i?a._time:i,1,1),a._dirty=0}return a._tDur},t.updateRoot=function(e){if(s._ts&&(Oe(s,He(e,s)),p=It.frame),It.frame>=be){be+=$.autoSleep||120;var t=s._first;if((!t||!t._ts)&&$.autoSleep&&It._listeners.length<2){for(;t&&!t._ts;)t=t._next;t||It.sleep()}}},t}(Wt);Ie(Kt.prototype,{_lock:0,_hasPause:0,_forcing:0});var Vt,Jt=function(e,t,r,n,i,a,o){var s,u,c,l,f,p,d,h,m=new yr(this._pt,e,t,0,1,lr,null,i),y=0,v=0;for(m.b=r,m.e=n,r+="",(d=~(n+="").indexOf("random("))&&(n=vt(n)),a&&(a(h=[r,n],e,t),r=h[0],n=h[1]),u=r.match(ne)||[];s=ne.exec(n);)l=s[0],f=n.substring(y,s.index),c?c=(c+1)%5:"rgba("===f.substr(-5)&&(c=1),l!==u[v++]&&(p=parseFloat(u[v-1])||0,m._pt={_next:m._pt,p:f||1===v?f:",",s:p,c:"="===l.charAt(1)?parseFloat(l.substr(2))*("-"===l.charAt(0)?-1:1):parseFloat(l)-p,m:c&&c<4?Math.round:0},y=ne.lastIndex);return m.c=y<n.length?n.substring(y,n.length):"",m.fp=o,(ie.test(n)||d)&&(m.e=0),this._pt=m,m},Yt=function(e,t,r,n,i,a,o,s,u){H(n)&&(n=n(i||0,e,a));var c,l=e[t],f="get"!==r?r:H(l)?u?e[t.indexOf("set")||!H(e["get"+t.substr(3)])?t:"get"+t.substr(3)](u):e[t]():l,p=H(l)?u?ar:ir:nr;if(G(n)&&(~n.indexOf("random(")&&(n=vt(n)),"="===n.charAt(1)&&((c=parseFloat(f)+parseFloat(n.substr(2))*("-"===n.charAt(0)?-1:1)+(st(f)||0))||0===c)&&(n=c)),f!==n)return isNaN(f*n)||""===n?(!l&&!(t in e)&&le(t,n),Jt.call(this,e,t,f,n,p,s||$.stringFilter,u)):(c=new yr(this._pt,e,t,+f||0,n-(f||0),"boolean"==typeof l?cr:ur,0,p),u&&(c.fp=u),o&&c.modifier(o,this,e),this._pt=c)},Xt=function(e,t,r,n,i,a){var o,s,u,c;if(ve[e]&&!1!==(o=new ve[e]).init(i,o.rawVars?t[e]:function(e,t,r,n,i){if(H(e)&&(e=Zt(e,i,t,r,n)),!V(e)||e.style&&e.nodeType||Z(e)||Q(e))return G(e)?Zt(e,i,t,r,n):e;var a,o={};for(a in e)o[a]=Zt(e[a],i,t,r,n);return o}(t[e],n,i,a,r),r,n,a)&&(r._pt=s=new yr(r._pt,i,e,0,1,o.render,o,0,o.priority),r!==d))for(u=r._ptLookup[r._targets.indexOf(i)],c=o._props.length;c--;)u[o._props[c]]=s;return o},Qt=function e(t,r){var n,i,a,u,c,l,f,p,d,h,m,y,v,g=t.vars,b=g.ease,_=g.startAt,w=g.immediateRender,k=g.lazy,x=g.onUpdate,T=g.onUpdateParams,E=g.callbackScope,A=g.runBackwards,S=g.yoyoEase,C=g.keyframes,O=g.autoRevert,R=t._dur,P=t._startAt,I=t._targets,N=t.parent,$=N&&"nested"===N.data?N.parent._targets:I,M="auto"===t._overwrite&&!o,j=t.timeline;if(j&&(!C||!b)&&(b="none"),t._ease=Ft(b,B.ease),t._yEase=S?jt(Ft(!0===S?b:S,B.ease)):0,S&&t._yoyo&&!t._repeat&&(S=t._yEase,t._yEase=t._ease,t._ease=S),t._from=!j&&!!g.runBackwards,!j){if(y=(p=I[0]?xe(I[0]).harness:0)&&g[p.prop],n=Me(g,he),P&&P.render(-1,!0).kill(),_)if(De(t._startAt=rr.set(I,Ie({data:"isStart",overwrite:!1,parent:N,immediateRender:!0,lazy:J(k),startAt:null,delay:0,onUpdate:x,onUpdateParams:T,callbackScope:E,stagger:0},_))),r<0&&!w&&!O&&t._startAt.render(-1,!0),w){if(r>0&&!O&&(t._startAt=0),R&&r<=0)return void(r&&(t._zTime=r))}else!1===O&&(t._startAt=0);else if(A&&R)if(P)!O&&(t._startAt=0);else if(r&&(w=!1),a=Ie({overwrite:!1,data:"isFromStart",lazy:w&&J(k),immediateRender:w,stagger:0,parent:N},n),y&&(a[p.prop]=y),De(t._startAt=rr.set(I,a)),r<0&&t._startAt.render(-1,!0),w){if(!r)return}else e(t._startAt,L);for(t._pt=0,k=R&&J(k)||k&&!R,i=0;i<I.length;i++){if(f=(c=I[i])._gsap||ke(I)[i]._gsap,t._ptLookup[i]=h={},ye[f.id]&&me.length&&Ce(),m=$===I?i:$.indexOf(c),p&&!1!==(d=new p).init(c,y||n,t,m,$)&&(t._pt=u=new yr(t._pt,c,d.name,0,1,d.render,d,0,d.priority),d._props.forEach((function(e){h[e]=u})),d.priority&&(l=1)),!p||y)for(a in n)ve[a]&&(d=Xt(a,n,t,m,c,$))?d.priority&&(l=1):h[a]=u=Yt.call(t,c,a,"get",n[a],m,$,0,g.stringFilter);t._op&&t._op[i]&&t.kill(c,t._op[i]),M&&t._pt&&(Vt=t,s.killTweensOf(c,h,t.globalTime(0)),v=!t.parent,Vt=0),t._pt&&k&&(ye[f.id]=1)}l&&mr(t),t._onInit&&t._onInit(t)}t._onUpdate=x,t._initted=(!t._op||t._pt)&&!v},Zt=function(e,t,r,n,i){return H(e)?e.call(t,r,n,i):G(e)&&~e.indexOf("random(")?vt(e):e},er=we+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",tr=(er+",id,stagger,delay,duration,paused,scrollTrigger").split(","),rr=function(e){function t(t,r,n,a){var u;"number"==typeof r&&(n.duration=r,r=n,n=null);var c,l,f,p,d,h,m,y,v=(u=e.call(this,a?r:Le(r))||this).vars,g=v.duration,b=v.delay,_=v.immediateRender,w=v.stagger,k=v.overwrite,x=v.keyframes,T=v.defaults,E=v.scrollTrigger,A=v.yoyoEase,S=r.parent||s,C=(Z(t)||Q(t)?W(t[0]):"length"in r)?[t]:lt(t);if(u._targets=C.length?ke(C):fe("GSAP target "+t+" not found. https://greensock.com",!$.nullTargetWarn)||[],u._ptLookup=[],u._overwrite=k,x||w||X(g)||X(b)){if(r=u.vars,(c=u.timeline=new Kt({data:"nested",defaults:T||{}})).kill(),c.parent=c._dp=i(u),c._start=0,x)Ie(c.vars.defaults,{ease:"none"}),w?C.forEach((function(e,t){return x.forEach((function(r,n){return c.to(e,r,n?">":t*w)}))})):x.forEach((function(e){return c.to(C,e,">")}));else{if(p=C.length,m=w?pt(w):de,V(w))for(d in w)~er.indexOf(d)&&(y||(y={}),y[d]=w[d]);for(l=0;l<p;l++){for(d in f={},r)tr.indexOf(d)<0&&(f[d]=r[d]);f.stagger=0,A&&(f.yoyoEase=A),y&&$e(f,y),h=C[l],f.duration=+Zt(g,i(u),l,h,C),f.delay=(+Zt(b,i(u),l,h,C)||0)-u._delay,!w&&1===p&&f.delay&&(u._delay=b=f.delay,u._start+=b,f.delay=0),c.to(h,f,m(l,h,C))}c.duration()?g=b=0:u.timeline=0}g||u.duration(g=c.duration())}else u.timeline=0;return!0!==k||o||(Vt=i(u),s.killTweensOf(C),Vt=0),Je(S,i(u),n),r.reversed&&u.reverse(),r.paused&&u.paused(!0),(_||!g&&!x&&u._start===Ae(S._time)&&J(_)&&ze(i(u))&&"nested"!==S.data)&&(u._tTime=-1e-8,u.render(Math.max(0,-b))),E&&Ye(i(u),E),u}a(t,e);var r=t.prototype;return r.render=function(e,t,r){var n,i,a,o,s,u,c,l,f,p=this._time,d=this._tDur,h=this._dur,m=e>d-L&&e>=0?d:e<L?0:e;if(h){if(m!==this._tTime||!e||r||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=e<0){if(n=m,l=this.timeline,this._repeat){if(o=h+this._rDelay,this._repeat<-1&&e<0)return this.totalTime(100*o+e,t,r);if(n=Ae(m%o),m===d?(a=this._repeat,n=h):((a=~~(m/o))&&a===m/o&&(n=h,a--),n>h&&(n=h)),(u=this._yoyo&&1&a)&&(f=this._yEase,n=h-n),s=Ge(this._tTime,o),n===p&&!r&&this._initted)return this;a!==s&&(l&&this._yEase&&Dt(l,u),!this.vars.repeatRefresh||u||this._lock||(this._lock=r=1,this.render(Ae(o*a),!0).invalidate()._lock=0))}if(!this._initted){if(Xe(this,e<0?e:n,r,t))return this._tTime=0,this;if(h!==this._dur)return this.render(e,t,r)}if(this._tTime=m,this._time=n,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=c=(f||this._ease)(n/h),this._from&&(this.ratio=c=1-c),n&&!p&&!t&&_t(this,"onStart"),n&&!p&&!t&&(_t(this,"onStart"),this._tTime!==m))return this;for(i=this._pt;i;)i.r(c,i.d),i=i._next;l&&l.render(e<0?e:!n&&u?-1e-8:l._dur*c,t,r)||this._startAt&&(this._zTime=e),this._onUpdate&&!t&&(e<0&&this._startAt&&this._startAt.render(e,!0,r),_t(this,"onUpdate")),this._repeat&&a!==s&&this.vars.onRepeat&&!t&&this.parent&&_t(this,"onRepeat"),m!==this._tDur&&m||this._tTime!==m||(e<0&&this._startAt&&!this._onUpdate&&this._startAt.render(e,!0,!0),(e||!h)&&(m===this._tDur&&this._ts>0||!m&&this._ts<0)&&De(this,1),t||e<0&&!p||!m&&!p||(_t(this,m===d?"onComplete":"onReverseComplete",!0),this._prom&&!(m<d&&this.timeScale()>0)&&this._prom()))}}else!function(e,t,r,n){var i,a,o,s=e.ratio,u=t<0||!t&&(!e._start&&Qe(e)&&(e._initted||!Ze(e))||(e._ts<0||e._dp._ts<0)&&!Ze(e))?0:1,c=e._rDelay,l=0;if(c&&e._repeat&&(l=ot(0,e._tDur,t),a=Ge(l,c),o=Ge(e._tTime,c),e._yoyo&&1&a&&(u=1-u),a!==o&&(s=1-u,e.vars.repeatRefresh&&e._initted&&e.invalidate())),u!==s||n||e._zTime===L||!t&&e._zTime){if(!e._initted&&Xe(e,t,n,r))return;for(o=e._zTime,e._zTime=t||(r?L:0),r||(r=t&&!o),e.ratio=u,e._from&&(u=1-u),e._time=0,e._tTime=l,i=e._pt;i;)i.r(u,i.d),i=i._next;e._startAt&&t<0&&e._startAt.render(t,!0,!0),e._onUpdate&&!r&&_t(e,"onUpdate"),l&&e._repeat&&!r&&e.parent&&_t(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===u&&(u&&De(e,1),r||(_t(e,u?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)}(this,e,t,r);return this},r.targets=function(){return this._targets},r.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),e.prototype.invalidate.call(this)},r.kill=function(e,t){if(void 0===t&&(t="all"),!(e||t&&"all"!==t))return this._lazy=this._pt=0,this.parent?wt(this):this;if(this.timeline){var r=this.timeline.totalDuration();return this.timeline.killTweensOf(e,t,Vt&&!0!==Vt.vars.overwrite)._first||wt(this),this.parent&&r!==this.timeline.totalDuration()&&et(this,this._dur*this.timeline._tDur/r,0,1),this}var n,i,a,o,s,u,c,l=this._targets,f=e?lt(e):l,p=this._ptLookup,d=this._pt;if((!t||"all"===t)&&function(e,t){for(var r=e.length,n=r===t.length;n&&r--&&e[r]===t[r];);return r<0}(l,f))return"all"===t&&(this._pt=0),wt(this);for(n=this._op=this._op||[],"all"!==t&&(G(t)&&(s={},Ee(t,(function(e){return s[e]=1})),t=s),t=function(e,t){var r,n,i,a,o=e[0]?xe(e[0]).harness:0,s=o&&o.aliases;if(!s)return t;for(n in r=$e({},t),s)if(n in r)for(i=(a=s[n].split(",")).length;i--;)r[a[i]]=r[n];return r}(l,t)),c=l.length;c--;)if(~f.indexOf(l[c]))for(s in i=p[c],"all"===t?(n[c]=t,o=i,a={}):(a=n[c]=n[c]||{},o=t),o)(u=i&&i[s])&&("kill"in u.d&&!0!==u.d.kill(s)||je(this,u,"_pt"),delete i[s]),"all"!==a&&(a[s]=1);return this._initted&&!this._pt&&d&&wt(this),this},t.to=function(e,r){return new t(e,r,arguments[2])},t.from=function(e,t){return it(1,arguments)},t.delayedCall=function(e,r,n,i){return new t(r,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:r,onReverseComplete:r,onCompleteParams:n,onReverseCompleteParams:n,callbackScope:i})},t.fromTo=function(e,t,r){return it(2,arguments)},t.set=function(e,r){return r.duration=0,r.repeatDelay||(r.repeat=0),new t(e,r)},t.killTweensOf=function(e,t,r){return s.killTweensOf(e,t,r)},t}(Wt);Ie(rr.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),Ee("staggerTo,staggerFrom,staggerFromTo",(function(e){rr[e]=function(){var t=new Kt,r=ut.call(arguments,0);return r.splice("staggerFromTo"===e?5:4,0,0),t[e].apply(t,r)}}));var nr=function(e,t,r){return e[t]=r},ir=function(e,t,r){return e[t](r)},ar=function(e,t,r,n){return e[t](n.fp,r)},or=function(e,t,r){return e.setAttribute(t,r)},sr=function(e,t){return H(e[t])?ir:K(e[t])&&e.setAttribute?or:nr},ur=function(e,t){return t.set(t.t,t.p,Math.round(1e6*(t.s+t.c*e))/1e6,t)},cr=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},lr=function(e,t){var r=t._pt,n="";if(!e&&t.b)n=t.b;else if(1===e&&t.e)n=t.e;else{for(;r;)n=r.p+(r.m?r.m(r.s+r.c*e):Math.round(1e4*(r.s+r.c*e))/1e4)+n,r=r._next;n+=t.c}t.set(t.t,t.p,n,t)},fr=function(e,t){for(var r=t._pt;r;)r.r(e,r.d),r=r._next},pr=function(e,t,r,n){for(var i,a=this._pt;a;)i=a._next,a.p===n&&a.modifier(e,t,r),a=i},dr=function(e){for(var t,r,n=this._pt;n;)r=n._next,n.p===e&&!n.op||n.op===e?je(this,n,"_pt"):n.dep||(t=1),n=r;return!t},hr=function(e,t,r,n){n.mSet(e,t,n.m.call(n.tween,r,n.mt),n)},mr=function(e){for(var t,r,n,i,a=e._pt;a;){for(t=a._next,r=n;r&&r.pr>a.pr;)r=r._next;(a._prev=r?r._prev:i)?a._prev._next=a:n=a,(a._next=r)?r._prev=a:i=a,a=t}e._pt=n},yr=function(){function e(e,t,r,n,i,a,o,s,u){this.t=t,this.s=n,this.c=i,this.p=r,this.r=a||ur,this.d=o||this,this.set=s||nr,this.pr=u||0,this._next=e,e&&(e._prev=this)}return e.prototype.modifier=function(e,t,r){this.mSet=this.mSet||this.set,this.set=hr,this.m=e,this.mt=r,this.tween=t},e}();Ee(we+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(e){return he[e]=1})),se.TweenMax=se.TweenLite=rr,se.TimelineLite=se.TimelineMax=Kt,s=new Kt({sortChildren:!1,defaults:B,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),$.stringFilter=Pt;var vr={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach((function(e){return kt(e)}))},timeline:function(e){return new Kt(e)},getTweensOf:function(e,t){return s.getTweensOf(e,t)},getProperty:function(e,t,r,n){G(e)&&(e=lt(e)[0]);var i=xe(e||{}).get,a=r?Pe:Re;return"native"===r&&(r=""),e?t?a((ve[t]&&ve[t].get||i)(e,t,r,n)):function(t,r,n){return a((ve[t]&&ve[t].get||i)(e,t,r,n))}:e},quickSetter:function(e,t,r){if((e=lt(e)).length>1){var n=e.map((function(e){return _r.quickSetter(e,t,r)})),i=n.length;return function(e){for(var t=i;t--;)n[t](e)}}e=e[0]||{};var a=ve[t],o=xe(e),s=o.harness&&(o.harness.aliases||{})[t]||t,u=a?function(t){var n=new a;d._pt=0,n.init(e,r?t+r:t,d,0,[e]),n.render(1,n),d._pt&&fr(1,d)}:o.set(e,s);return a?u:function(t){return u(e,s,r?t+r:t,o,1)}},isTweening:function(e){return s.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Ft(e.ease,B.ease)),Be(B,e||{})},config:function(e){return Be($,e||{})},registerEffect:function(e){var t=e.name,r=e.effect,n=e.plugins,i=e.defaults,a=e.extendTimeline;(n||"").split(",").forEach((function(e){return e&&!ve[e]&&!se[e]&&fe(t+" effect requires "+e+" plugin.")})),ge[t]=function(e,t,n){return r(lt(e),Ie(t||{},i),n)},a&&(Kt.prototype[t]=function(e,r,n){return this.add(ge[t](e,V(r)?r:(n=r)&&{},this),n)})},registerEase:function(e,t){$t[e]=Ft(t)},parseEase:function(e,t){return arguments.length?Ft(e,t):$t},getById:function(e){return s.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var r,n,i=new Kt(e);for(i.smoothChildTiming=J(e.smoothChildTiming),s.remove(i),i._dp=0,i._time=i._tTime=s._time,r=s._first;r;)n=r._next,!t&&!r._dur&&r instanceof rr&&r.vars.onComplete===r._targets[0]||Je(i,r,r._start-r._delay),r=n;return Je(s,i,0),i},utils:{wrap:function e(t,r,n){var i=r-t;return Z(t)?yt(t,e(0,t.length),r):at(n,(function(e){return(i+(e-t)%i)%i+t}))},wrapYoyo:function e(t,r,n){var i=r-t,a=2*i;return Z(t)?yt(t,e(0,t.length-1),r):at(n,(function(e){return t+((e=(a+(e-t)%a)%a||0)>i?a-e:e)}))},distribute:pt,random:mt,snap:ht,normalize:function(e,t,r){return gt(e,t,0,1,r)},getUnit:st,clamp:function(e,t,r){return at(r,(function(r){return ot(e,t,r)}))},splitColor:At,toArray:lt,selector:function(e){return e=lt(e)[0]||fe("Invalid scope")||{},function(t){var r=e.current||e.nativeElement||e;return lt(t,r.querySelectorAll?r:r===e?fe("Invalid scope")||l.createElement("div"):e)}},mapRange:gt,pipe:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduce((function(e,t){return t(e)}),e)}},unitize:function(e,t){return function(r){return e(parseFloat(r))+(t||st(r))}},interpolate:function e(t,r,n,i){var a=isNaN(t+r)?0:function(e){return(1-e)*t+e*r};if(!a){var o,s,u,c,l,f=G(t),p={};if(!0===n&&(i=1)&&(n=null),f)t={p:t},r={p:r};else if(Z(t)&&!Z(r)){for(u=[],c=t.length,l=c-2,s=1;s<c;s++)u.push(e(t[s-1],t[s]));c--,a=function(e){e*=c;var t=Math.min(l,~~e);return u[t](e-t)},n=r}else i||(t=$e(Z(t)?[]:{},t));if(!u){for(o in r)Yt.call(p,t,o,"get",r[o]);a=function(e){return fr(e,p)||(f?t.p:t)}}}return at(n,a)},shuffle:ft},install:ce,effects:ge,ticker:It,updateRoot:Kt.updateRoot,plugins:ve,globalTimeline:s,core:{PropTween:yr,globals:pe,Tween:rr,Timeline:Kt,Animation:Wt,getCache:xe,_removeLinkedListItem:je,suppressOverwrites:function(e){return o=e}}};Ee("to,from,fromTo,delayedCall,set,killTweensOf",(function(e){return vr[e]=rr[e]})),It.add(Kt.updateRoot),d=vr.to({},{duration:0});var gr=function(e,t){for(var r=e._pt;r&&r.p!==t&&r.op!==t&&r.fp!==t;)r=r._next;return r},br=function(e,t){return{name:e,rawVars:1,init:function(e,r,n){n._onInit=function(e){var n,i;if(G(r)&&(n={},Ee(r,(function(e){return n[e]=1})),r=n),t){for(i in n={},r)n[i]=t(r[i]);r=n}!function(e,t){var r,n,i,a=e._targets;for(r in t)for(n=a.length;n--;)(i=e._ptLookup[n][r])&&(i=i.d)&&(i._pt&&(i=gr(i,r)),i&&i.modifier&&i.modifier(t[r],e,a[n],r))}(e,r)}}}},_r=vr.registerPlugin({name:"attr",init:function(e,t,r,n,i){var a,o;for(a in t)(o=this.add(e,"setAttribute",(e.getAttribute(a)||0)+"",t[a],n,i,0,0,a))&&(o.op=a),this._props.push(a)}},{name:"endArray",init:function(e,t){for(var r=t.length;r--;)this.add(e,r,e[r]||0,t[r])}},br("roundProps",dt),br("modifiers"),br("snap",ht))||vr;rr.version=Kt.version=_r.version="3.7.0",f=1,Y()&&Nt();var wr=$t.Power0,kr=$t.Power1,xr=$t.Power2,Tr=$t.Power3,Er=$t.Power4,Ar=$t.Linear,Sr=$t.Quad,Cr=$t.Cubic,Or=$t.Quart,Rr=$t.Quint,Pr=$t.Strong,Ir=$t.Elastic,Nr=$t.Back,$r=$t.SteppedEase,Br=$t.Bounce,Mr=$t.Sine,Lr=$t.Expo,jr=$t.Circ;function Dr(e){return(Dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Fr,Ur,zr,qr,Gr,Hr,Wr,Kr={},Vr=180/Math.PI,Jr=Math.PI/180,Yr=Math.atan2,Xr=/([A-Z])/g,Qr=/(?:left|right|width|margin|padding|x)/i,Zr=/[\s,\(]\S/,en={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},tn=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},rn=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},nn=function(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},an=function(e,t){var r=t.s+t.c*e;t.set(t.t,t.p,~~(r+(r<0?-.5:.5))+t.u,t)},on=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},sn=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},un=function(e,t,r){return e.style[t]=r},cn=function(e,t,r){return e.style.setProperty(t,r)},ln=function(e,t,r){return e._gsap[t]=r},fn=function(e,t,r){return e._gsap.scaleX=e._gsap.scaleY=r},pn=function(e,t,r,n,i){var a=e._gsap;a.scaleX=a.scaleY=r,a.renderTransform(i,a)},dn=function(e,t,r,n,i){var a=e._gsap;a[t]=r,a.renderTransform(i,a)},hn="transform",mn=hn+"Origin",yn=function(e,t){var r=Ur.createElementNS?Ur.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Ur.createElement(e);return r.style?r:Ur.createElement(e)},vn=function e(t,r,n){var i=getComputedStyle(t);return i[r]||i.getPropertyValue(r.replace(Xr,"-$1").toLowerCase())||i.getPropertyValue(r)||!n&&e(t,bn(r)||r,1)||""},gn="O,Moz,ms,Ms,Webkit".split(","),bn=function(e,t,r){var n=(t||Gr).style,i=5;if(e in n&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);i--&&!(gn[i]+e in n););return i<0?null:(3===i?"ms":i>=0?gn[i]:"")+e},_n=function(){"undefined"!=typeof window&&window.document&&(Fr=window,Ur=Fr.document,zr=Ur.documentElement,Gr=yn("div")||{style:{}},yn("div"),hn=bn(hn),mn=hn+"Origin",Gr.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Wr=!!bn("perspective"),qr=1)},wn=function e(t){var r,n=yn("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,a=this.nextSibling,o=this.style.cssText;if(zr.appendChild(n),n.appendChild(this),this.style.display="block",t)try{r=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=e}catch(e){}else this._gsapBBox&&(r=this._gsapBBox());return i&&(a?i.insertBefore(this,a):i.appendChild(this)),zr.removeChild(n),this.style.cssText=o,r},kn=function(e,t){for(var r=t.length;r--;)if(e.hasAttribute(t[r]))return e.getAttribute(t[r])},xn=function(e){var t;try{t=e.getBBox()}catch(r){t=wn.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===wn||(t=wn.call(e,!0)),!t||t.width||t.x||t.y?t:{x:+kn(e,["x","cx","x1"])||0,y:+kn(e,["y","cy","y1"])||0,width:0,height:0}},Tn=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!xn(e))},En=function(e,t){if(t){var r=e.style;t in Kr&&t!==mn&&(t=hn),r.removeProperty?("ms"!==t.substr(0,2)&&"webkit"!==t.substr(0,6)||(t="-"+t),r.removeProperty(t.replace(Xr,"-$1").toLowerCase())):r.removeAttribute(t)}},An=function(e,t,r,n,i,a){var o=new yr(e._pt,t,r,0,1,a?sn:on);return e._pt=o,o.b=n,o.e=i,e._props.push(r),o},Sn={deg:1,rad:1,turn:1},Cn=function e(t,r,n,i){var a,o,s,u,c=parseFloat(n)||0,l=(n+"").trim().substr((c+"").length)||"px",f=Gr.style,p=Qr.test(r),d="svg"===t.tagName.toLowerCase(),h=(d?"client":"offset")+(p?"Width":"Height"),m=100,y="px"===i,v="%"===i;return i===l||!c||Sn[i]||Sn[l]?c:("px"!==l&&!y&&(c=e(t,r,n,"px")),u=t.getCTM&&Tn(t),!v&&"%"!==l||!Kr[r]&&!~r.indexOf("adius")?(f[p?"width":"height"]=m+(y?l:i),o=~r.indexOf("adius")||"em"===i&&t.appendChild&&!d?t:t.parentNode,u&&(o=(t.ownerSVGElement||{}).parentNode),o&&o!==Ur&&o.appendChild||(o=Ur.body),(s=o._gsap)&&v&&s.width&&p&&s.time===It.time?Ae(c/s.width*m):((v||"%"===l)&&(f.position=vn(t,"position")),o===t&&(f.position="static"),o.appendChild(Gr),a=Gr[h],o.removeChild(Gr),f.position="absolute",p&&v&&((s=xe(o)).time=It.time,s.width=o[h]),Ae(y?a*c/m:a&&c?m/a*c:0))):(a=u?t.getBBox()[p?"width":"height"]:t[h],Ae(v?c/a*m:c/100*a)))},On=function(e,t,r,n){var i;return qr||_n(),t in en&&"transform"!==t&&~(t=en[t]).indexOf(",")&&(t=t.split(",")[0]),Kr[t]&&"transform"!==t?(i=Fn(e,n),i="transformOrigin"!==t?i[t]:i.svg?i.origin:Un(vn(e,mn))+" "+i.zOrigin+"px"):(!(i=e.style[t])||"auto"===i||n||~(i+"").indexOf("calc("))&&(i=Nn[t]&&Nn[t](e,t,r)||vn(e,t)||Te(e,t)||("opacity"===t?1:0)),r&&!~(i+"").trim().indexOf(" ")?Cn(e,t,i,r)+r:i},Rn=function(e,t,r,n){if(!r||"none"===r){var i=bn(t,e,1),a=i&&vn(e,i,1);a&&a!==r?(t=i,r=a):"borderColor"===t&&(r=vn(e,"borderTopColor"))}var o,s,u,c,l,f,p,d,h,m,y,v,g=new yr(this._pt,e.style,t,0,1,lr),b=0,_=0;if(g.b=r,g.e=n,r+="","auto"==(n+="")&&(e.style[t]=n,n=vn(e,t)||n,e.style[t]=r),Pt(o=[r,n]),n=o[1],u=(r=o[0]).match(re)||[],(n.match(re)||[]).length){for(;s=re.exec(n);)p=s[0],h=n.substring(b,s.index),l?l=(l+1)%5:"rgba("!==h.substr(-5)&&"hsla("!==h.substr(-5)||(l=1),p!==(f=u[_++]||"")&&(c=parseFloat(f)||0,y=f.substr((c+"").length),(v="="===p.charAt(1)?+(p.charAt(0)+"1"):0)&&(p=p.substr(2)),d=parseFloat(p),m=p.substr((d+"").length),b=re.lastIndex-m.length,m||(m=m||$.units[t]||y,b===n.length&&(n+=m,g.e+=m)),y!==m&&(c=Cn(e,t,f,m)||0),g._pt={_next:g._pt,p:h||1===_?h:",",s:c,c:v?v*d:d-c,m:l&&l<4||"zIndex"===t?Math.round:0});g.c=b<n.length?n.substring(b,n.length):""}else g.r="display"===t&&"none"===n?sn:on;return ie.test(n)&&(g.e=0),this._pt=g,g},Pn={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},In=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var r,n,i,a=t.t,o=a.style,s=t.u,u=a._gsap;if("all"===s||!0===s)o.cssText="",n=1;else for(i=(s=s.split(",")).length;--i>-1;)r=s[i],Kr[r]&&(n=1,r="transformOrigin"===r?mn:hn),En(a,r);n&&(En(a,hn),u&&(u.svg&&a.removeAttribute("transform"),Fn(a,1),u.uncache=1))}},Nn={clearProps:function(e,t,r,n,i){if("isFromStart"!==i.data){var a=e._pt=new yr(e._pt,t,r,0,0,In);return a.u=n,a.pr=-10,a.tween=i,e._props.push(r),1}}},$n=[1,0,0,1,0,0],Bn={},Mn=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},Ln=function(e){var t=vn(e,hn);return Mn(t)?$n:t.substr(7).match(te).map(Ae)},jn=function(e,t){var r,n,i,a,o=e._gsap||xe(e),s=e.style,u=Ln(e);return o.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(u=[(i=e.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?$n:u:(u!==$n||e.offsetParent||e===zr||o.svg||(i=s.display,s.display="block",(r=e.parentNode)&&e.offsetParent||(a=1,n=e.nextSibling,zr.appendChild(e)),u=Ln(e),i?s.display=i:En(e,"display"),a&&(n?r.insertBefore(e,n):r?r.appendChild(e):zr.removeChild(e))),t&&u.length>6?[u[0],u[1],u[4],u[5],u[12],u[13]]:u)},Dn=function(e,t,r,n,i,a){var o,s,u,c=e._gsap,l=i||jn(e,!0),f=c.xOrigin||0,p=c.yOrigin||0,d=c.xOffset||0,h=c.yOffset||0,m=l[0],y=l[1],v=l[2],g=l[3],b=l[4],_=l[5],w=t.split(" "),k=parseFloat(w[0])||0,x=parseFloat(w[1])||0;r?l!==$n&&(s=m*g-y*v)&&(u=k*(-y/s)+x*(m/s)-(m*_-y*b)/s,k=k*(g/s)+x*(-v/s)+(v*_-g*b)/s,x=u):(k=(o=xn(e)).x+(~w[0].indexOf("%")?k/100*o.width:k),x=o.y+(~(w[1]||w[0]).indexOf("%")?x/100*o.height:x)),n||!1!==n&&c.smooth?(b=k-f,_=x-p,c.xOffset=d+(b*m+_*v)-b,c.yOffset=h+(b*y+_*g)-_):c.xOffset=c.yOffset=0,c.xOrigin=k,c.yOrigin=x,c.smooth=!!n,c.origin=t,c.originIsAbsolute=!!r,e.style[mn]="0px 0px",a&&(An(a,c,"xOrigin",f,k),An(a,c,"yOrigin",p,x),An(a,c,"xOffset",d,c.xOffset),An(a,c,"yOffset",h,c.yOffset)),e.setAttribute("data-svg-origin",k+" "+x)},Fn=function(e,t){var r=e._gsap||new Ht(e);if("x"in r&&!t&&!r.uncache)return r;var n,i,a,o,s,u,c,l,f,p,d,h,m,y,v,g,b,_,w,k,x,T,E,A,S,C,O,R,P,I,N,B,M=e.style,L=r.scaleX<0,j="px",D="deg",F=vn(e,mn)||"0";return n=i=a=u=c=l=f=p=d=0,o=s=1,r.svg=!(!e.getCTM||!Tn(e)),y=jn(e,r.svg),r.svg&&(A=(!r.uncache||"0px 0px"===F)&&!t&&e.getAttribute("data-svg-origin"),Dn(e,A||F,!!A||r.originIsAbsolute,!1!==r.smooth,y)),h=r.xOrigin||0,m=r.yOrigin||0,y!==$n&&(_=y[0],w=y[1],k=y[2],x=y[3],n=T=y[4],i=E=y[5],6===y.length?(o=Math.sqrt(_*_+w*w),s=Math.sqrt(x*x+k*k),u=_||w?Yr(w,_)*Vr:0,(f=k||x?Yr(k,x)*Vr+u:0)&&(s*=Math.abs(Math.cos(f*Jr))),r.svg&&(n-=h-(h*_+m*k),i-=m-(h*w+m*x))):(B=y[6],I=y[7],O=y[8],R=y[9],P=y[10],N=y[11],n=y[12],i=y[13],a=y[14],c=(v=Yr(B,P))*Vr,v&&(A=T*(g=Math.cos(-v))+O*(b=Math.sin(-v)),S=E*g+R*b,C=B*g+P*b,O=T*-b+O*g,R=E*-b+R*g,P=B*-b+P*g,N=I*-b+N*g,T=A,E=S,B=C),l=(v=Yr(-k,P))*Vr,v&&(g=Math.cos(-v),N=x*(b=Math.sin(-v))+N*g,_=A=_*g-O*b,w=S=w*g-R*b,k=C=k*g-P*b),u=(v=Yr(w,_))*Vr,v&&(A=_*(g=Math.cos(v))+w*(b=Math.sin(v)),S=T*g+E*b,w=w*g-_*b,E=E*g-T*b,_=A,T=S),c&&Math.abs(c)+Math.abs(u)>359.9&&(c=u=0,l=180-l),o=Ae(Math.sqrt(_*_+w*w+k*k)),s=Ae(Math.sqrt(E*E+B*B)),v=Yr(T,E),f=Math.abs(v)>2e-4?v*Vr:0,d=N?1/(N<0?-N:N):0),r.svg&&(A=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!Mn(vn(e,hn)),A&&e.setAttribute("transform",A))),Math.abs(f)>90&&Math.abs(f)<270&&(L?(o*=-1,f+=u<=0?180:-180,u+=u<=0?180:-180):(s*=-1,f+=f<=0?180:-180)),r.x=n-((r.xPercent=n&&(r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-n)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+j,r.y=i-((r.yPercent=i&&(r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-i)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+j,r.z=a+j,r.scaleX=Ae(o),r.scaleY=Ae(s),r.rotation=Ae(u)+D,r.rotationX=Ae(c)+D,r.rotationY=Ae(l)+D,r.skewX=f+D,r.skewY=p+D,r.transformPerspective=d+j,(r.zOrigin=parseFloat(F.split(" ")[2])||0)&&(M[mn]=Un(F)),r.xOffset=r.yOffset=0,r.force3D=$.force3D,r.renderTransform=r.svg?Vn:Wr?Kn:qn,r.uncache=0,r},Un=function(e){return(e=e.split(" "))[0]+" "+e[1]},zn=function(e,t,r){var n=st(t);return Ae(parseFloat(t)+parseFloat(Cn(e,"x",r+"px",n)))+n},qn=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,Kn(e,t)},Gn="0deg",Hn="0px",Wn=") ",Kn=function(e,t){var r=t||this,n=r.xPercent,i=r.yPercent,a=r.x,o=r.y,s=r.z,u=r.rotation,c=r.rotationY,l=r.rotationX,f=r.skewX,p=r.skewY,d=r.scaleX,h=r.scaleY,m=r.transformPerspective,y=r.force3D,v=r.target,g=r.zOrigin,b="",_="auto"===y&&e&&1!==e||!0===y;if(g&&(l!==Gn||c!==Gn)){var w,k=parseFloat(c)*Jr,x=Math.sin(k),T=Math.cos(k);k=parseFloat(l)*Jr,w=Math.cos(k),a=zn(v,a,x*w*-g),o=zn(v,o,-Math.sin(k)*-g),s=zn(v,s,T*w*-g+g)}m!==Hn&&(b+="perspective("+m+Wn),(n||i)&&(b+="translate("+n+"%, "+i+"%) "),(_||a!==Hn||o!==Hn||s!==Hn)&&(b+=s!==Hn||_?"translate3d("+a+", "+o+", "+s+") ":"translate("+a+", "+o+Wn),u!==Gn&&(b+="rotate("+u+Wn),c!==Gn&&(b+="rotateY("+c+Wn),l!==Gn&&(b+="rotateX("+l+Wn),f===Gn&&p===Gn||(b+="skew("+f+", "+p+Wn),1===d&&1===h||(b+="scale("+d+", "+h+Wn),v.style[hn]=b||"translate(0, 0)"},Vn=function(e,t){var r,n,i,a,o,s=t||this,u=s.xPercent,c=s.yPercent,l=s.x,f=s.y,p=s.rotation,d=s.skewX,h=s.skewY,m=s.scaleX,y=s.scaleY,v=s.target,g=s.xOrigin,b=s.yOrigin,_=s.xOffset,w=s.yOffset,k=s.forceCSS,x=parseFloat(l),T=parseFloat(f);p=parseFloat(p),d=parseFloat(d),(h=parseFloat(h))&&(d+=h=parseFloat(h),p+=h),p||d?(p*=Jr,d*=Jr,r=Math.cos(p)*m,n=Math.sin(p)*m,i=Math.sin(p-d)*-y,a=Math.cos(p-d)*y,d&&(h*=Jr,o=Math.tan(d-h),i*=o=Math.sqrt(1+o*o),a*=o,h&&(o=Math.tan(h),r*=o=Math.sqrt(1+o*o),n*=o)),r=Ae(r),n=Ae(n),i=Ae(i),a=Ae(a)):(r=m,a=y,n=i=0),(x&&!~(l+"").indexOf("px")||T&&!~(f+"").indexOf("px"))&&(x=Cn(v,"x",l,"px"),T=Cn(v,"y",f,"px")),(g||b||_||w)&&(x=Ae(x+g-(g*r+b*i)+_),T=Ae(T+b-(g*n+b*a)+w)),(u||c)&&(o=v.getBBox(),x=Ae(x+u/100*o.width),T=Ae(T+c/100*o.height)),o="matrix("+r+","+n+","+i+","+a+","+x+","+T+")",v.setAttribute("transform",o),k&&(v.style[hn]=o)},Jn=function(e,t,r,n,i,a){var o,s,u=360,c=G(i),l=parseFloat(i)*(c&&~i.indexOf("rad")?Vr:1),f=a?l*a:l-n,p=n+f+"deg";return c&&("short"===(o=i.split("_")[1])&&(f%=u)!=f%180&&(f+=f<0?u:-360),"cw"===o&&f<0?f=(f+36e9)%u-~~(f/u)*u:"ccw"===o&&f>0&&(f=(f-36e9)%u-~~(f/u)*u)),e._pt=s=new yr(e._pt,t,r,n,f,rn),s.e=p,s.u="deg",e._props.push(r),s},Yn=function(e,t){for(var r in t)e[r]=t[r];return e},Xn=function(e,t,r){var n,i,a,o,s,u,c,l=Yn({},r._gsap),f=r.style;for(i in l.svg?(a=r.getAttribute("transform"),r.setAttribute("transform",""),f[hn]=t,n=Fn(r,1),En(r,hn),r.setAttribute("transform",a)):(a=getComputedStyle(r)[hn],f[hn]=t,n=Fn(r,1),f[hn]=a),Kr)(a=l[i])!==(o=n[i])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(i)<0&&(s=st(a)!==(c=st(o))?Cn(r,i,a,c):parseFloat(a),u=parseFloat(o),e._pt=new yr(e._pt,n,i,s,u-s,tn),e._pt.u=c||0,e._props.push(i));Yn(n,l)};Ee("padding,margin,Width,Radius",(function(e,t){var r="Top",n="Right",i="Bottom",a="Left",o=(t<3?[r,n,i,a]:[r+a,r+n,i+n,i+a]).map((function(r){return t<2?e+r:"border"+r+e}));Nn[t>1?"border"+e:e]=function(e,t,r,n,i){var a,s;if(arguments.length<4)return a=o.map((function(t){return On(e,t,r)})),5===(s=a.join(" ")).split(a[0]).length?a[0]:s;a=(n+"").split(" "),s={},o.forEach((function(e,t){return s[e]=a[t]=a[t]||a[(t-1)/2|0]})),e.init(t,s,i)}}));var Qn,Zn,ei={name:"css",register:_n,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,r,n,i){var a,o,s,u,c,l,f,p,d,h,m,y,v,g,b,_,w,k,x,T=this._props,E=e.style,A=r.vars.startAt;for(f in qr||_n(),t)if("autoRound"!==f&&(o=t[f],!ve[f]||!Xt(f,t,r,n,e,i)))if(c=Dr(o),l=Nn[f],"function"===c&&(c=Dr(o=o.call(r,n,e,i))),"string"===c&&~o.indexOf("random(")&&(o=vt(o)),l)l(this,e,f,o,r)&&(b=1);else if("--"===f.substr(0,2))a=(getComputedStyle(e).getPropertyValue(f)+"").trim(),o+="",Ot.lastIndex=0,Ot.test(a)||(p=st(a),d=st(o)),d?p!==d&&(a=Cn(e,f,a,d)+d):p&&(o+=p),this.add(E,"setProperty",a,o,n,i,0,0,f),T.push(f);else if("undefined"!==c){if(A&&f in A?(a="function"==typeof A[f]?A[f].call(r,n,e,i):A[f],f in $.units&&!st(a)&&(a+=$.units[f]),"="===(a+"").charAt(1)&&(a=On(e,f))):a=On(e,f),u=parseFloat(a),(h="string"===c&&"="===o.charAt(1)?+(o.charAt(0)+"1"):0)&&(o=o.substr(2)),s=parseFloat(o),f in en&&("autoAlpha"===f&&(1===u&&"hidden"===On(e,"visibility")&&s&&(u=0),An(this,E,"visibility",u?"inherit":"hidden",s?"inherit":"hidden",!s)),"scale"!==f&&"transform"!==f&&~(f=en[f]).indexOf(",")&&(f=f.split(",")[0])),m=f in Kr)if(y||((v=e._gsap).renderTransform&&!t.parseTransform||Fn(e,t.parseTransform),g=!1!==t.smoothOrigin&&v.smooth,(y=this._pt=new yr(this._pt,E,hn,0,1,v.renderTransform,v,0,-1)).dep=1),"scale"===f)this._pt=new yr(this._pt,v,"scaleY",v.scaleY,(h?h*s:s-v.scaleY)||0),T.push("scaleY",f),f+="X";else{if("transformOrigin"===f){w=void 0,k=void 0,x=void 0,k=(w=(_=o).split(" "))[0],x=w[1]||"50%","top"!==k&&"bottom"!==k&&"left"!==x&&"right"!==x||(_=k,k=x,x=_),w[0]=Pn[k]||k,w[1]=Pn[x]||x,o=w.join(" "),v.svg?Dn(e,o,0,g,0,this):((d=parseFloat(o.split(" ")[2])||0)!==v.zOrigin&&An(this,v,"zOrigin",v.zOrigin,d),An(this,E,f,Un(a),Un(o)));continue}if("svgOrigin"===f){Dn(e,o,1,g,0,this);continue}if(f in Bn){Jn(this,v,f,u,o,h);continue}if("smoothOrigin"===f){An(this,v,"smooth",v.smooth,o);continue}if("force3D"===f){v[f]=o;continue}if("transform"===f){Xn(this,o,e);continue}}else f in E||(f=bn(f)||f);if(m||(s||0===s)&&(u||0===u)&&!Zr.test(o)&&f in E)s||(s=0),(p=(a+"").substr((u+"").length))!==(d=st(o)||(f in $.units?$.units[f]:p))&&(u=Cn(e,f,a,d)),this._pt=new yr(this._pt,m?v:E,f,u,h?h*s:s-u,m||"px"!==d&&"zIndex"!==f||!1===t.autoRound?tn:an),this._pt.u=d||0,p!==d&&(this._pt.b=a,this._pt.r=nn);else if(f in E)Rn.call(this,e,f,a,o);else{if(!(f in e)){le(f,o);continue}this.add(e,f,a||e[f],o,n,i)}T.push(f)}b&&mr(this)},get:On,aliases:en,getSetter:function(e,t,r){var n=en[t];return n&&n.indexOf(",")<0&&(t=n),t in Kr&&t!==mn&&(e._gsap.x||On(e,"x"))?r&&Hr===r?"scale"===t?fn:ln:(Hr=r||{})&&("scale"===t?pn:dn):e.style&&!K(e.style[t])?un:~t.indexOf("-")?cn:sr(e,t)},core:{_removeProperty:En,_getMatrix:jn}};_r.utils.checkPrefix=bn,Zn=Ee("x,y,z,scale,scaleX,scaleY,xPercent,yPercent"+","+(Qn="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(e){Kr[e]=1})),Ee(Qn,(function(e){$.units[e]="deg",Bn[e]=1})),en[Zn[13]]="x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+Qn,Ee("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(e){var t=e.split(":");en[t[1]]=Zn[t[0]]})),Ee("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(e){$.units[e]="px"})),_r.registerPlugin(ei);var ti=_r.registerPlugin(ei)||_r,ri=ti.core.Tween},8617:(e,t)=>{t.read=function(e,t,r,n,i){var a,o,s=8*i-n-1,u=(1<<s)-1,c=u>>1,l=-7,f=r?i-1:0,p=r?-1:1,d=e[t+f];for(f+=p,a=d&(1<<-l)-1,d>>=-l,l+=s;l>0;a=256*a+e[t+f],f+=p,l-=8);for(o=a&(1<<-l)-1,a>>=-l,l+=n;l>0;o=256*o+e[t+f],f+=p,l-=8);if(0===a)a=1-c;else{if(a===u)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,n),a-=c}return(d?-1:1)*o*Math.pow(2,a-n)},t.write=function(e,t,r,n,i,a){var o,s,u,c=8*a-i-1,l=(1<<c)-1,f=l>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:a-1,h=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+f>=1?p/u:p*Math.pow(2,1-f))*u>=2&&(o++,u/=2),o+f>=l?(s=0,o=l):o+f>=1?(s=(t*u-1)*Math.pow(2,i),o+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;e[r+d]=255&s,d+=h,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;e[r+d]=255&o,d+=h,o/=256,c-=8);e[r+d-h]|=128*m}},3592:()=>{function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}!function(t){function r(e,r,i){return i=b(r,i),this.on("click.pjax",e,(function(e){var r=i;r.container||((r=t.extend({},i)).container=t(this).attr("data-pjax")),n(e,r)}))}function n(e,r,n){n=b(r,n);var i=e.currentTarget,o=t(i);if("A"!==i.tagName.toUpperCase())throw"$.fn.pjax or $.pjax.click requires an anchor element";if(!(e.which>1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||location.protocol!==i.protocol||location.hostname!==i.hostname||i.href.indexOf("#")>-1&&g(i)==g(location)||e.isDefaultPrevented())){var s={url:i.href,container:o.attr("data-pjax"),target:i},u=t.extend({},s,n),c=t.Event("pjax:click");o.trigger(c,[u]),c.isDefaultPrevented()||(a(u),e.preventDefault(),o.trigger("pjax:clicked",[u]))}}function i(e,r,n){n=b(r,n);var i=e.currentTarget,o=t(i);if("FORM"!==i.tagName.toUpperCase())throw"$.pjax.submit requires a form element";var s={type:(o.attr("method")||"GET").toUpperCase(),url:o.attr("action"),container:o.attr("data-pjax"),target:i};if("GET"!==s.type&&void 0!==window.FormData)s.data=new FormData(i),s.processData=!1,s.contentType=!1;else{if(o.find(":file").length)return;s.data=o.serializeArray()}a(t.extend({},s,n)),e.preventDefault()}function a(e){e=t.extend(!0,{},t.ajaxSettings,a.defaults,e),t.isFunction(e.url)&&(e.url=e.url());var r=v(e.url).hash,n=t.type(e.container);if("string"!==n)throw"expected string value for 'container' option; got "+n;var i,o=e.context=t(e.container);if(!o.length)throw"the container selector '"+e.container+"' did not match anything";function u(r,n,i){i||(i={}),i.relatedTarget=e.target;var a=t.Event(r,i);return o.trigger(a,n),!a.isDefaultPrevented()}e.data||(e.data={}),t.isArray(e.data)?e.data.push({name:"_pjax",value:e.container}):e.data._pjax=e.container,e.beforeSend=function(t,n){if("GET"!==n.type&&(n.timeout=0),t.setRequestHeader("X-PJAX","true"),t.setRequestHeader("X-PJAX-Container",e.container),!u("pjax:beforeSend",[t,n]))return!1;n.timeout>0&&(i=setTimeout((function(){u("pjax:timeout",[t,e])&&t.abort("timeout")}),n.timeout),n.timeout=0);var a=v(n.url);r&&(a.hash=r),e.requestUrl=y(a)},e.complete=function(t,r){i&&clearTimeout(i),u("pjax:complete",[t,r,e]),u("pjax:end",[t,e])},e.error=function(t,r,n){var i=k("",t,e),a=u("pjax:error",[t,r,n,e]);"GET"==e.type&&"abort"!==r&&a&&s(i.url)},e.success=function(n,i,c){var l=a.state,f="function"==typeof t.pjax.defaults.version?t.pjax.defaults.version():t.pjax.defaults.version,p=c.getResponseHeader("X-PJAX-Version"),d=k(n,c,e),m=v(d.url);if(r&&(m.hash=r,d.url=m.href),f&&p&&f!==p)s(d.url);else if(d.contents){if(a.state={id:e.id||h(),url:d.url,title:d.title,container:e.container,fragment:e.fragment,timeout:e.timeout},(e.push||e.replace)&&window.history.replaceState(a.state,d.title,d.url),t.contains(o,document.activeElement))try{document.activeElement.blur()}catch(e){}d.title&&(document.title=d.title),u("pjax:beforeReplace",[d.contents,e],{state:a.state,previousState:l}),o.html(d.contents);var y=o.find("input[autofocus], textarea[autofocus]").last()[0];y&&document.activeElement!==y&&y.focus(),function(e){if(e){var r=t("script[src]");e.each((function(){var e=this.src;if(!r.filter((function(){return this.src===e})).length){var n=document.createElement("script"),i=t(this).attr("type");i&&(n.type=i),n.src=t(this).attr("src"),document.head.appendChild(n)}}))}}(d.scripts);var g=e.scrollTo;if(r){var b=decodeURIComponent(r.slice(1)),_=document.getElementById(b)||document.getElementsByName(b)[0];_&&(g=t(_).offset().top)}"number"==typeof g&&t(window).scrollTop(g),u("pjax:success",[n,i,c,e])}else s(d.url)},a.state||(a.state={id:h(),url:window.location.href,title:document.title,container:e.container,fragment:e.fragment,timeout:e.timeout},window.history.replaceState(a.state,document.title)),d(a.xhr),a.options=e;var c,l,f=a.xhr=t.ajax(e);return f.readyState>0&&(e.push&&!e.replace&&(c=a.state.id,l=[e.container,m(o)],x[c]=l,E.push(c),A(T,0),A(E,a.defaults.maxCacheLength),window.history.pushState(null,"",e.requestUrl)),u("pjax:start",[f,e]),u("pjax:send",[f,e])),a.xhr}function o(e,r){var n={url:window.location.href,push:!1,replace:!0,scrollTo:!1};return a(t.extend(n,b(e,r)))}function s(e){window.history.replaceState(null,"",a.state.url),window.location.replace(e)}var u=!0,c=window.location.href,l=window.history.state;function f(e){u||d(a.xhr);var r,n=a.state,i=e.state;if(i&&i.container){if(u&&c==i.url)return;if(n){if(n.id===i.id)return;r=n.id<i.id?"forward":"back"}var o=x[i.id]||[],l=o[0]||i.container,f=t(l),p=o[1];if(f.length){n&&function(e,t,r){var n,i;x[t]=r,"forward"===e?(n=E,i=T):(n=T,i=E),n.push(t),(t=i.pop())&&delete x[t],A(n,a.defaults.maxCacheLength)}(r,n.id,[l,m(f)]);var h=t.Event("pjax:popstate",{state:i,direction:r});f.trigger(h);var y={id:i.id,url:i.url,container:l,push:!1,fragment:i.fragment,timeout:i.timeout,scrollTo:!1};if(p){f.trigger("pjax:start",[null,y]),a.state=i,i.title&&(document.title=i.title);var v=t.Event("pjax:beforeReplace",{state:i,previousState:n});f.trigger(v,[p,y]),f.html(p),f.trigger("pjax:end",[null,y])}else a(y);f[0].offsetHeight}else s(location.href)}u=!1}function p(r){var n=t.isFunction(r.url)?r.url():r.url,i=r.type?r.type.toUpperCase():"GET",a=t("<form>",{method:"GET"===i?"GET":"POST",action:n,style:"display:none"});"GET"!==i&&"POST"!==i&&a.append(t("<input>",{type:"hidden",name:"_method",value:i.toLowerCase()}));var o=r.data;if("string"==typeof o)t.each(o.split("&"),(function(e,r){var n=r.split("=");a.append(t("<input>",{type:"hidden",name:n[0],value:n[1]}))}));else if(t.isArray(o))t.each(o,(function(e,r){a.append(t("<input>",{type:"hidden",name:r.name,value:r.value}))}));else if("object"===e(o)){var s;for(s in o)a.append(t("<input>",{type:"hidden",name:s,value:o[s]}))}t(document.body).append(a),a.submit()}function d(e){e&&e.readyState<4&&(e.onreadystatechange=t.noop,e.abort())}function h(){return(new Date).getTime()}function m(e){var r=e.clone();return r.find("script").each((function(){this.src||t._data(this,"globalEval",!1)})),r.contents()}function y(e){return e.search=e.search.replace(/([?&])(_pjax|_)=[^&]*/g,"").replace(/^&/,""),e.href.replace(/\?($|#)/,"$1")}function v(e){var t=document.createElement("a");return t.href=e,t}function g(e){return e.href.replace(/#.*/,"")}function b(e,r){return e&&r?((r=t.extend({},r)).container=e,r):t.isPlainObject(e)?e:{container:e}}function _(e,t){return e.filter(t).add(e.find(t))}function w(e){return t.parseHTML(e,document,!0)}function k(e,r,n){var i,a,o={},s=/<html/i.test(e),u=r.getResponseHeader("X-PJAX-URL");if(o.url=u?y(v(u)):n.requestUrl,s){a=t(w(e.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]));var c=e.match(/<head[^>]*>([\s\S.]*)<\/head>/i);i=null!=c?t(w(c[0])):a}else i=a=t(w(e));if(0===a.length)return o;if(o.title=_(i,"title").last().text(),n.fragment){var l=a;"body"!==n.fragment&&(l=_(l,n.fragment).first()),l.length&&(o.contents="body"===n.fragment?l:l.contents(),o.title||(o.title=l.attr("title")||l.data("title")))}else s||(o.contents=a);return o.contents&&(o.contents=o.contents.not((function(){return t(this).is("title")})),o.contents.find("title").remove(),o.scripts=_(o.contents,"script[src]").remove(),o.contents=o.contents.not(o.scripts)),o.title&&(o.title=t.trim(o.title)),o}l&&l.container&&(a.state=l),"state"in window.history&&(u=!1);var x={},T=[],E=[];function A(e,t){for(;e.length>t;)delete x[e.shift()]}function S(){return t("meta").filter((function(){var e=t(this).attr("http-equiv");return e&&"X-PJAX-VERSION"===e.toUpperCase()})).attr("content")}function C(){t.fn.pjax=r,t.pjax=a,t.pjax.enable=t.noop,t.pjax.disable=O,t.pjax.click=n,t.pjax.submit=i,t.pjax.reload=o,t.pjax.defaults={timeout:650,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20,version:S},t(window).on("popstate.pjax",f)}function O(){t.fn.pjax=function(){return this},t.pjax=p,t.pjax.enable=C,t.pjax.disable=t.noop,t.pjax.click=t.noop,t.pjax.submit=t.noop,t.pjax.reload=function(){window.location.reload()},t(window).off("popstate.pjax",f)}t.event.props&&t.inArray("state",t.event.props)<0?t.event.props.push("state"):"state"in t.Event.prototype||t.event.addProp("state"),t.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]\D|WebApps\/.+CFNetwork)/),t.support.pjax?C():O()}(jQuery)},8675:function(e,t,r){var n,i,a,o,s;function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o=void 0!==r.g?r.g:this.window||this.global,s=function(e){"use strict";e=window;var t={src:"data-src",srcset:"data-srcset",selector:".lazyload",root:null,rootMargin:"0px",threshold:0},r=function e(){var t={},r=!1,n=0,i=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(r=arguments[0],n++);for(var a=function(n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r&&"[object Object]"===Object.prototype.toString.call(n[i])?t[i]=e(!0,t[i],n[i]):t[i]=n[i])};n<i;n++){var o=arguments[n];a(o)}return t};function n(e,n){this.settings=r(t,n||{}),this.images=e||document.querySelectorAll(this.settings.selector),this.observer=null,this.init()}if(n.prototype={init:function(){if(e.IntersectionObserver){var t=this,r={root:this.settings.root,rootMargin:this.settings.rootMargin,threshold:[this.settings.threshold]};this.observer=new IntersectionObserver((function(e){Array.prototype.forEach.call(e,(function(e){if(e.isIntersecting){t.observer.unobserve(e.target);var r=e.target.getAttribute(t.settings.src),n=e.target.getAttribute(t.settings.srcset);"img"===e.target.tagName.toLowerCase()?(r&&(e.target.src=r),n&&(e.target.srcset=n)):e.target.style.backgroundImage="url("+r+")"}}))}),r),Array.prototype.forEach.call(this.images,(function(e){t.observer.observe(e)}))}else this.loadImages()},loadAndDestroy:function(){this.settings&&(this.loadImages(),this.destroy())},loadImages:function(){if(this.settings){var e=this;Array.prototype.forEach.call(this.images,(function(t){var r=t.getAttribute(e.settings.src),n=t.getAttribute(e.settings.srcset);"img"===t.tagName.toLowerCase()?(r&&(t.src=r),n&&(t.srcset=n)):t.style.backgroundImage="url('"+r+"')"}))}},destroy:function(){this.settings&&(this.observer.disconnect(),this.settings=null)}},e.lazyload=function(e,t){return new n(e,t)},e.jQuery){var i=e.jQuery;i.fn.lazyload=function(e){return(e=e||{}).attribute=e.attribute||"data-src",new n(i.makeArray(this),e),this}}return n},"object"===u(t)?e.exports=s(o):(i=[],void 0===(a="function"==typeof(n=s)?n.apply(t,i):n)||(e.exports=a))},8073:function(e,t,r){var n,i,a,o;function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e=r.nmd(e),"undefined"!=typeof self&&self,o=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=171)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(194);r.d(t,"default",(function(){return n.a}));var i=r(74);r.d(t,"VERSION",(function(){return i.VERSION})),r.d(t,"restArguments",(function(){return i.restArguments})),r.d(t,"isObject",(function(){return i.isObject})),r.d(t,"isNull",(function(){return i.isNull})),r.d(t,"isUndefined",(function(){return i.isUndefined})),r.d(t,"isBoolean",(function(){return i.isBoolean})),r.d(t,"isElement",(function(){return i.isElement})),r.d(t,"isString",(function(){return i.isString})),r.d(t,"isNumber",(function(){return i.isNumber})),r.d(t,"isDate",(function(){return i.isDate})),r.d(t,"isRegExp",(function(){return i.isRegExp})),r.d(t,"isError",(function(){return i.isError})),r.d(t,"isSymbol",(function(){return i.isSymbol})),r.d(t,"isArrayBuffer",(function(){return i.isArrayBuffer})),r.d(t,"isDataView",(function(){return i.isDataView})),r.d(t,"isArray",(function(){return i.isArray})),r.d(t,"isFunction",(function(){return i.isFunction})),r.d(t,"isArguments",(function(){return i.isArguments})),r.d(t,"isFinite",(function(){return i.isFinite})),r.d(t,"isNaN",(function(){return i.isNaN})),r.d(t,"isTypedArray",(function(){return i.isTypedArray})),r.d(t,"isEmpty",(function(){return i.isEmpty})),r.d(t,"isMatch",(function(){return i.isMatch})),r.d(t,"isEqual",(function(){return i.isEqual})),r.d(t,"isMap",(function(){return i.isMap})),r.d(t,"isWeakMap",(function(){return i.isWeakMap})),r.d(t,"isSet",(function(){return i.isSet})),r.d(t,"isWeakSet",(function(){return i.isWeakSet})),r.d(t,"keys",(function(){return i.keys})),r.d(t,"allKeys",(function(){return i.allKeys})),r.d(t,"values",(function(){return i.values})),r.d(t,"pairs",(function(){return i.pairs})),r.d(t,"invert",(function(){return i.invert})),r.d(t,"functions",(function(){return i.functions})),r.d(t,"methods",(function(){return i.methods})),r.d(t,"extend",(function(){return i.extend})),r.d(t,"extendOwn",(function(){return i.extendOwn})),r.d(t,"assign",(function(){return i.assign})),r.d(t,"defaults",(function(){return i.defaults})),r.d(t,"create",(function(){return i.create})),r.d(t,"clone",(function(){return i.clone})),r.d(t,"tap",(function(){return i.tap})),r.d(t,"get",(function(){return i.get})),r.d(t,"has",(function(){return i.has})),r.d(t,"mapObject",(function(){return i.mapObject})),r.d(t,"identity",(function(){return i.identity})),r.d(t,"constant",(function(){return i.constant})),r.d(t,"noop",(function(){return i.noop})),r.d(t,"toPath",(function(){return i.toPath})),r.d(t,"property",(function(){return i.property})),r.d(t,"propertyOf",(function(){return i.propertyOf})),r.d(t,"matcher",(function(){return i.matcher})),r.d(t,"matches",(function(){return i.matches})),r.d(t,"times",(function(){return i.times})),r.d(t,"random",(function(){return i.random})),r.d(t,"now",(function(){return i.now})),r.d(t,"escape",(function(){return i.escape})),r.d(t,"unescape",(function(){return i.unescape})),r.d(t,"templateSettings",(function(){return i.templateSettings})),r.d(t,"template",(function(){return i.template})),r.d(t,"result",(function(){return i.result})),r.d(t,"uniqueId",(function(){return i.uniqueId})),r.d(t,"chain",(function(){return i.chain})),r.d(t,"iteratee",(function(){return i.iteratee})),r.d(t,"partial",(function(){return i.partial})),r.d(t,"bind",(function(){return i.bind})),r.d(t,"bindAll",(function(){return i.bindAll})),r.d(t,"memoize",(function(){return i.memoize})),r.d(t,"delay",(function(){return i.delay})),r.d(t,"defer",(function(){return i.defer})),r.d(t,"throttle",(function(){return i.throttle})),r.d(t,"debounce",(function(){return i.debounce})),r.d(t,"wrap",(function(){return i.wrap})),r.d(t,"negate",(function(){return i.negate})),r.d(t,"compose",(function(){return i.compose})),r.d(t,"after",(function(){return i.after})),r.d(t,"before",(function(){return i.before})),r.d(t,"once",(function(){return i.once})),r.d(t,"findKey",(function(){return i.findKey})),r.d(t,"findIndex",(function(){return i.findIndex})),r.d(t,"findLastIndex",(function(){return i.findLastIndex})),r.d(t,"sortedIndex",(function(){return i.sortedIndex})),r.d(t,"indexOf",(function(){return i.indexOf})),r.d(t,"lastIndexOf",(function(){return i.lastIndexOf})),r.d(t,"find",(function(){return i.find})),r.d(t,"detect",(function(){return i.detect})),r.d(t,"findWhere",(function(){return i.findWhere})),r.d(t,"each",(function(){return i.each})),r.d(t,"forEach",(function(){return i.forEach})),r.d(t,"map",(function(){return i.map})),r.d(t,"collect",(function(){return i.collect})),r.d(t,"reduce",(function(){return i.reduce})),r.d(t,"foldl",(function(){return i.foldl})),r.d(t,"inject",(function(){return i.inject})),r.d(t,"reduceRight",(function(){return i.reduceRight})),r.d(t,"foldr",(function(){return i.foldr})),r.d(t,"filter",(function(){return i.filter})),r.d(t,"select",(function(){return i.select})),r.d(t,"reject",(function(){return i.reject})),r.d(t,"every",(function(){return i.every})),r.d(t,"all",(function(){return i.all})),r.d(t,"some",(function(){return i.some})),r.d(t,"any",(function(){return i.any})),r.d(t,"contains",(function(){return i.contains})),r.d(t,"includes",(function(){return i.includes})),r.d(t,"include",(function(){return i.include})),r.d(t,"invoke",(function(){return i.invoke})),r.d(t,"pluck",(function(){return i.pluck})),r.d(t,"where",(function(){return i.where})),r.d(t,"max",(function(){return i.max})),r.d(t,"min",(function(){return i.min})),r.d(t,"shuffle",(function(){return i.shuffle})),r.d(t,"sample",(function(){return i.sample})),r.d(t,"sortBy",(function(){return i.sortBy})),r.d(t,"groupBy",(function(){return i.groupBy})),r.d(t,"indexBy",(function(){return i.indexBy})),r.d(t,"countBy",(function(){return i.countBy})),r.d(t,"partition",(function(){return i.partition})),r.d(t,"toArray",(function(){return i.toArray})),r.d(t,"size",(function(){return i.size})),r.d(t,"pick",(function(){return i.pick})),r.d(t,"omit",(function(){return i.omit})),r.d(t,"first",(function(){return i.first})),r.d(t,"head",(function(){return i.head})),r.d(t,"take",(function(){return i.take})),r.d(t,"initial",(function(){return i.initial})),r.d(t,"last",(function(){return i.last})),r.d(t,"rest",(function(){return i.rest})),r.d(t,"tail",(function(){return i.tail})),r.d(t,"drop",(function(){return i.drop})),r.d(t,"compact",(function(){return i.compact})),r.d(t,"flatten",(function(){return i.flatten})),r.d(t,"without",(function(){return i.without})),r.d(t,"uniq",(function(){return i.uniq})),r.d(t,"unique",(function(){return i.unique})),r.d(t,"union",(function(){return i.union})),r.d(t,"intersection",(function(){return i.intersection})),r.d(t,"difference",(function(){return i.difference})),r.d(t,"unzip",(function(){return i.unzip})),r.d(t,"transpose",(function(){return i.transpose})),r.d(t,"zip",(function(){return i.zip})),r.d(t,"object",(function(){return i.object})),r.d(t,"range",(function(){return i.range})),r.d(t,"chunk",(function(){return i.chunk})),r.d(t,"mixin",(function(){return i.mixin}))},function(e,t,r){"use strict";(function(e){r.d(t,"e",(function(){return n})),r.d(t,"p",(function(){return i})),r.d(t,"a",(function(){return a})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return u})),r.d(t,"o",(function(){return c})),r.d(t,"q",(function(){return l})),r.d(t,"t",(function(){return f})),r.d(t,"i",(function(){return p})),r.d(t,"r",(function(){return d})),r.d(t,"s",(function(){return h})),r.d(t,"k",(function(){return m})),r.d(t,"m",(function(){return y})),r.d(t,"j",(function(){return v})),r.d(t,"l",(function(){return g})),r.d(t,"g",(function(){return b})),r.d(t,"f",(function(){return _})),r.d(t,"h",(function(){return w})),r.d(t,"n",(function(){return k})),r.d(t,"b",(function(){return x}));var n="1.12.1",i="object"==("undefined"==typeof self?"undefined":s(self))&&self.self===self&&self||"object"==s(e)&&e.global===e&&e||Function("return this")()||{},a=Array.prototype,o=Object.prototype,u="undefined"!=typeof Symbol?Symbol.prototype:null,c=a.push,l=a.slice,f=o.toString,p=o.hasOwnProperty,d="undefined"!=typeof ArrayBuffer,h="undefined"!=typeof DataView,m=Array.isArray,y=Object.keys,v=Object.create,g=d&&ArrayBuffer.isView,b=isNaN,_=isFinite,w=!{toString:null}.propertyIsEnumerable("toString"),k=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],x=Math.pow(2,53)-1}).call(t,r(109))},function(e,t){var r=e.exports={version:"2.6.9"};"number"==typeof __e&&(__e=r)},function(e,t,r){e.exports={default:r(174),__esModule:!0}},function(e,t,r){"use strict";t.a=function(e){if(!Object(n.a)(e))return[];if(i.m)return Object(i.m)(e);var t=[];for(var r in e)Object(a.a)(e,r)&&t.push(r);return i.h&&Object(o.a)(e,t),t};var n=r(26),i=r(1),a=r(22),o=r(120)},function(e,t,r){"use strict";t.a=function(e){var t="[object "+e+"]";return function(e){return n.t.call(e)===t}};var n=r(1)},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t,r){var n=r(69)("wks"),i=r(54),a=r(6).Symbol,o="function"==typeof a;(e.exports=function(e){return n[e]||(n[e]=o&&a[e]||(o?a:i)("Symbol."+e))}).store=n},function(e,t,r){"use strict";t.a=function(e,t,r){return n.a.iteratee!==a.a?n.a.iteratee(e,t):Object(i.a)(e,t,r)};var n=r(10),i=r(130),a=r(131)},function(e,t,r){"use strict";t.a=function(e,t){return t=null==t?e.length-1:+t,function(){for(var r=Math.max(arguments.length-t,0),n=Array(r),i=0;i<r;i++)n[i]=arguments[i+t];switch(t){case 0:return e.call(this,n);case 1:return e.call(this,arguments[0],n);case 2:return e.call(this,arguments[0],arguments[1],n)}var a=Array(t+1);for(i=0;i<t;i++)a[i]=arguments[i];return a[t]=n,e.apply(this,a)}}},function(e,t,r){"use strict";t.a=i;var n=r(1);function i(e){return e instanceof i?e:this instanceof i?void(this._wrapped=e):new i(e)}i.VERSION=n.e,i.prototype.value=function(){return this._wrapped},i.prototype.valueOf=i.prototype.toJSON=i.prototype.value,i.prototype.toString=function(){return String(this._wrapped)}},function(e,t,r){"use strict";var n=r(118),i=r(14);t.a=Object(n.a)(i.a)},function(e,t,r){"use strict";var n,i=(n=r(3))&&n.__esModule?n:{default:n},a=r(0),o=r(312),s=r(0).extend,u=r(36),c=r(15).getSessionToken,l=r(60),f=function(e,t){var r=(new Date).getTime(),n=o(r+e);return t?n+","+r+",master":n+","+r},p=function(e,t){t?e["X-LC-Sign"]=f(u.applicationKey):e["X-LC-Key"]=u.applicationKey},d=function(e){var t=e.service,r=e.version,n=e.method,o=e.path,s=e.query,d=e.data,h=e.authOptions,m=e.signKey,y=void 0===m||m;if(!u.applicationId||!u.applicationKey&&!u.masterKey)throw new Error("Not initialized");u._appRouter&&u._appRouter.refresh();var v=u._config.requestTimeout,g=function(e){var t=e.service,r=void 0===t?"api":t,n=e.version,i=void 0===n?"1.1":n,a=e.path,o=u._config.serverURLs[r];if(!o)throw new Error("undefined server URL for "+r);return"/"!==o.charAt(o.length-1)&&(o+="/"),o+=i,a&&(o+=a),o}({service:t,path:o,version:r});return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],r={"X-LC-Id":u.applicationId,"Content-Type":"application/json;charset=UTF-8"},n=!1;return"boolean"==typeof e.useMasterKey?n=e.useMasterKey:"boolean"==typeof u._config.useMasterKey&&(n=u._config.useMasterKey),n?u.masterKey?t?r["X-LC-Sign"]=f(u.masterKey,!0):r["X-LC-Key"]=u.masterKey+",master":(console.warn("masterKey is not set, fall back to use appKey"),p(r,t)):p(r,t),u.hookKey&&(r["X-LC-Hook-Key"]=u.hookKey),null!==u._config.production&&(r["X-LC-Prod"]=String(u._config.production)),r["X-LC-UA"]=u._sharedConfig.userAgent,i.default.resolve().then((function(){var t=c(e);if(t)r["X-LC-Session"]=t;else if(!u._config.disableCurrentUser)return u.User.currentAsync().then((function(e){return e&&e._sessionToken&&(r["X-LC-Session"]=e._sessionToken),r}));return r}))}(h,y).then((function(e){return l({method:n,url:g,query:s,data:d,headers:e,timeout:v}).catch((function(e){var t={code:e.code||-1,error:e.message||e.responseText};if(e.response&&e.response.code)t=e.response;else if(e.responseText)try{t=JSON.parse(e.responseText)}catch(e){}t.rawMessage=t.rawMessage||t.error,u._sharedConfig.keepErrorRawMessage||(t.error+=" ["+(e.statusCode||"N/A")+" "+n+" "+g+"]");var r=new Error(t.error);throw delete t.error,a.extend(r,t)}))}))};u.request=d,e.exports={_request:function(e,t,r,n,i,a,o){var u="";if(e&&(u+="/"+e),t&&(u+="/"+t),r&&(u+="/"+r),i&&i._fetchWhenSave)throw new Error("_fetchWhenSave should be in the query");if(i&&i._where)throw new Error("_where should be in the query");return n&&"get"===n.toLowerCase()&&(o=s({},o,i),i=null),d({method:n,path:u,query:o,data:i,authOptions:a})},request:d}},function(e,t,r){"use strict";var n=r(5),i=r(1),a=Object(n.a)("Function"),o=i.p.document&&i.p.document.childNodes;"object"!=("undefined"==typeof Int8Array?"undefined":s(Int8Array))&&"function"!=typeof o&&(a=function(e){return"function"==typeof e||!1}),t.a=a},function(e,t,r){"use strict";var n=r(119);t.a=Object(n.a)("length")},function(e,t,r){"use strict";var n=a(r(3)),i=a(r(160));function a(e){return e&&e.__esModule?e:{default:e}}var o=r(0),s=function(e){return o.isArray(e)?e:null==e?[]:[e]},u=function(){};e.exports={isNullOrUndefined:function(e){return o.isNull(e)||o.isUndefined(e)},ensureArray:s,transformFetchOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.keys,r=e.include,n=e.includeACL,i={};return t&&(i.keys=s(t).join(",")),r&&(i.include=s(r).join(",")),n&&(i.returnACL=n),i},getSessionToken:function(e){return e.sessionToken?e.sessionToken:e.user&&"function"==typeof e.user.getSessionToken?e.user.getSessionToken():void 0},tap:function(e){return function(t){return e(t),t}},inherits:function(e,t,r){var n;return n=t&&t.hasOwnProperty("constructor")?t.constructor:function(){e.apply(this,arguments)},o.extend(n,e),u.prototype=e.prototype,n.prototype=new u,t&&o.extend(n.prototype,t),r&&o.extend(n,r),n.prototype.constructor=n,n.__super__=e.prototype,n},parseDate:function(e){return new Date(e)},setValue:function(e,t,r){var n=t.split("."),i=n.pop(),a=e;return n.forEach((function(e){void 0===a[e]&&(a[e]={}),a=a[e]})),a[i]=r,e},findValue:function(e,t){for(var r=t.split("."),n=r[0],i=r.pop(),a=e,o=0;o<r.length;o++)if(void 0===(a=a[r[o]]))return[void 0,void 0,i];return[a[i],a,i,n]},isPlainObject:function(e){return o.isObject(e)&&(0,i.default)(e)===Object.prototype},continueWhile:function e(t,r){return t()?r().then((function(){return e(t,r)})):n.default.resolve()}}},function(e,t,r){var n=r(6),i=r(2),a=r(31),o=r(23),s=r(24),u=function e(t,r,u){var c,l,f,p=t&e.F,d=t&e.G,h=t&e.S,m=t&e.P,y=t&e.B,v=t&e.W,g=d?i:i[r]||(i[r]={}),b=g.prototype,_=d?n:h?n[r]:(n[r]||{}).prototype;for(c in d&&(u=r),u)(l=!p&&_&&void 0!==_[c])&&s(g,c)||(f=l?_[c]:u[c],g[c]=d&&"function"!=typeof _[c]?u[c]:y&&l?a(f,n):v&&_[c]==f?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(f):m&&"function"==typeof f?a(Function.call,f):f,m&&((g.virtual||(g.virtual={}))[c]=f,t&e.R&&b&&!b[c]&&o(b,c,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t,r){var n=r(20);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t,r){var n=r(17),i=r(97),a=r(65),o=Object.defineProperty;t.f=r(21)?Object.defineProperty:function(e,t,r){if(n(e),t=a(t,!0),n(r),i)try{return o(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){e.exports={default:r(266),__esModule:!0}},function(e,t){e.exports=function(e){return"object"===s(e)?null!==e:"function"==typeof e}},function(e,t,r){e.exports=!r(41)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,r){"use strict";t.a=function(e,t){return null!=e&&n.i.call(e,t)};var n=r(1)},function(e,t,r){var n=r(18),i=r(42);e.exports=r(21)?function(e,t,r){return n.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){var n=r(178),i=r(63);e.exports=function(e){return n(i(e))}},function(e,t,r){"use strict";t.a=function(e){var t=s(e);return"function"===t||"object"===t&&!!e}},function(e,t,r){"use strict";var n=r(1),i=r(5);t.a=n.k||Object(i.a)("Array")},function(e,t,r){"use strict";t.a=function(e,t,r){var o,s;if(t=Object(n.a)(t,r),Object(i.a)(e))for(o=0,s=e.length;o<s;o++)t(e[o],o,e);else{var u=Object(a.a)(e);for(o=0,s=u.length;o<s;o++)t(e[u[o]],u[o],e)}return e};var n=r(48),i=r(11),a=r(4)},function(e,t,r){"use strict";function n(e,t){var r=new Error(t);return r.code=e,r}r(0).extend(n,{OTHER_CAUSE:-1,INTERNAL_SERVER_ERROR:1,CONNECTION_FAILED:100,OBJECT_NOT_FOUND:101,INVALID_QUERY:102,INVALID_CLASS_NAME:103,MISSING_OBJECT_ID:104,INVALID_KEY_NAME:105,INVALID_POINTER:106,INVALID_JSON:107,COMMAND_UNAVAILABLE:108,NOT_INITIALIZED:109,INCORRECT_TYPE:111,INVALID_CHANNEL_NAME:112,PUSH_MISCONFIGURED:115,OBJECT_TOO_LARGE:116,OPERATION_FORBIDDEN:119,CACHE_MISS:120,INVALID_NESTED_KEY:121,INVALID_FILE_NAME:122,INVALID_ACL:123,TIMEOUT:124,INVALID_EMAIL_ADDRESS:125,MISSING_CONTENT_TYPE:126,MISSING_CONTENT_LENGTH:127,INVALID_CONTENT_LENGTH:128,FILE_TOO_LARGE:129,FILE_SAVE_ERROR:130,FILE_DELETE_ERROR:153,DUPLICATE_VALUE:137,INVALID_ROLE_NAME:139,EXCEEDED_QUOTA:140,SCRIPT_FAILED:141,VALIDATION_ERROR:142,INVALID_IMAGE_DATA:150,UNSAVED_FILE_ERROR:151,INVALID_PUSH_TIME_ERROR:152,USERNAME_MISSING:200,PASSWORD_MISSING:201,USERNAME_TAKEN:202,EMAIL_TAKEN:203,EMAIL_MISSING:204,EMAIL_NOT_FOUND:205,SESSION_MISSING:206,MUST_CREATE_USER_THROUGH_SIGNUP:207,ACCOUNT_ALREADY_LINKED:208,LINKED_ID_MISSING:250,INVALID_LINKED_SESSION:251,UNSUPPORTED_SERVICE:252,X_DOMAIN_REQUEST:602}),e.exports=n},function(e,t,r){"use strict";t.__esModule=!0;var n=o(r(61)),i=o(r(51)),a="function"==typeof i.default&&"symbol"===s(n.default)?function(e){return s(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":s(e)};function o(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof i.default&&"symbol"===a(n.default)?function(e){return void 0===e?"undefined":a(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":a(e)}},function(e,t,r){var n=r(52);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports={}},function(e,t,r){"use strict";t.a=function(e){for(var t=Object(n.a)(e),r=t.length,i=Array(r),a=0;a<r;a++)i[a]=e[t[a]];return i};var n=r(4)},function(e,t,r){"use strict";t.a=function e(t,r,s,u){if(u=u||[],r||0===r){if(r<=0)return u.concat(t)}else r=1/0;for(var c=u.length,l=0,f=Object(n.a)(t);l<f;l++){var p=t[l];if(Object(i.a)(p)&&(Object(a.a)(p)||Object(o.a)(p)))if(r>1)e(p,r-1,s,u),c=u.length;else for(var d=0,h=p.length;d<h;)u[c++]=p[d++];else s||(u[c++]=p)}return u};var n=r(14),i=r(11),a=r(27),o=r(77)},function(e,t,r){"use strict";t.a=function(e,t,r){t=Object(n.a)(t,r);for(var o=!Object(i.a)(e)&&Object(a.a)(e),s=(o||e).length,u=Array(s),c=0;c<s;c++){var l=o?o[c]:c;u[c]=t(e[l],l,e)}return u};var n=r(8),i=r(11),a=r(4)},function(e,t,r){"use strict";(function(t){var n=o(r(19)),i=o(r(158)),a=o(r(3));function o(e){return e&&e.__esModule?e:{default:e}}var s=r(0),u=r(159),c=r(37),l=r(15),f=l.inherits,p=l.parseDate,d=r(161),h=r(38),m=h.setAdapters,y=h.adapterManager,v=t.AV||{};v._config={serverURLs:{},useMasterKey:!1,production:null,realtime:null,requestTimeout:null};var g="LeanCloud-JS-SDK/"+d;v._sharedConfig={userAgent:g,liveQueryRealtime:null},y.on("platformInfo",(function(e){var t=g;if(e)if(e.userAgent)t=e.userAgent;else{var r=e.name;e.version&&(r+="/"+e.version),e.extra&&(r+="; "+e.extra),t+=" ("+r+")"}v._sharedConfig.userAgent=t})),v._getAVPath=function(e){if(!v.applicationId)throw new Error("You need to call AV.initialize before using AV.");if(e||(e=""),!s.isString(e))throw new Error("Tried to get a localStorage path that wasn't a String.");return"/"===e[0]&&(e=e.substring(1)),"AV/"+v.applicationId+"/"+e},v._installationId=null,v._getInstallationId=function(){if(v._installationId)return a.default.resolve(v._installationId);var e=v._getAVPath("installationId");return v.localStorage.getItemAsync(e).then((function(t){return v._installationId=t,v._installationId?t:(v._installationId=t=u(),v.localStorage.setItemAsync(e,t).then((function(){return t})))}))},v._subscriptionId=null,v._refreshSubscriptionId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v._getAVPath("subscriptionId"),t=v._subscriptionId=u();return v.localStorage.setItemAsync(e,t).then((function(){return t}))},v._getSubscriptionId=function(){if(v._subscriptionId)return a.default.resolve(v._subscriptionId);var e=v._getAVPath("subscriptionId");return v.localStorage.getItemAsync(e).then((function(t){return v._subscriptionId=t,v._subscriptionId||(t=v._refreshSubscriptionId(e)),t}))},v._parseDate=p,v._extend=function(e,t){var r=f(this,e,t);return r.extend=this.extend,r},v._encode=function(e,t,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e instanceof v.Object){if(r)throw new Error("AV.Objects not allowed here");return t&&!s.include(t,e)&&e._hasData?e._toFullJSON(t.concat(e),n):e._toPointer()}if(e instanceof v.ACL)return e.toJSON();if(s.isDate(e))return n?{__type:"Date",iso:e.toJSON()}:e.toJSON();if(e instanceof v.GeoPoint)return e.toJSON();if(s.isArray(e))return s.map(e,(function(e){return v._encode(e,t,r,n)}));if(s.isRegExp(e))return e.source;if(e instanceof v.Relation)return e.toJSON();if(e instanceof v.Op)return e.toJSON();if(e instanceof v.File){if(!e.url()&&!e.id)throw new Error("Tried to save an object containing an unsaved file.");return e._toFullJSON(t,n)}return s.isObject(e)?s.mapObject(e,(function(e,i){return v._encode(e,t,r,n)})):e},v._decode=function(e,t){if(!s.isObject(e)||s.isDate(e))return e;if(s.isArray(e))return s.map(e,(function(e){return v._decode(e)}));if(e instanceof v.Object)return e;if(e instanceof v.File)return e;if(e instanceof v.Op)return e;if(e instanceof v.GeoPoint)return e;if(e instanceof v.ACL)return e;if("ACL"===t)return new v.ACL(e);if(e.__op)return v.Op._decode(e);var r;if("Pointer"===e.__type){r=e.className;var n=v.Object._create(r);if((0,i.default)(e).length>3){var a=s.clone(e);delete a.__type,delete a.className,n._finishFetch(a,!0)}else n._finishFetch({objectId:e.objectId},!1);return n}if("Object"===e.__type){r=e.className;var o=s.clone(e);delete o.__type,delete o.className;var u=v.Object._create(r);return u._finishFetch(o,!0),u}if("Date"===e.__type)return v._parseDate(e.iso);if("GeoPoint"===e.__type)return new v.GeoPoint({latitude:e.latitude,longitude:e.longitude});if("Relation"===e.__type){if(!t)throw new Error("key missing decoding a Relation");var c=new v.Relation(null,t);return c.targetClassName=e.className,c}if("File"===e.__type){var l=new v.File(e.name),f=s.clone(e);return delete f.__type,l._finishFetch(f),l}return s.mapObject(e,v._decode)},v.parseJSON=v._decode,v.parse=function(e){return v.parseJSON(JSON.parse(e))},v.stringify=function(e){return(0,n.default)(v._encode(e,[],!1,!0))},v._encodeObjectOrArray=function(e){var t=function(e){return e&&e._toFullJSON&&(e=e._toFullJSON([])),s.mapObject(e,(function(e){return v._encode(e,[])}))};return s.isArray(e)?e.map((function(e){return t(e)})):t(e)},v._arrayEach=s.each,v._traverse=function(e,t,r){if(e instanceof v.Object){if(r=r||[],s.indexOf(r,e)>=0)return;return r.push(e),v._traverse(e.attributes,t,r),t(e)}return e instanceof v.Relation||e instanceof v.File?t(e):s.isArray(e)?(s.each(e,(function(n,i){var a=v._traverse(n,t,r);a&&(e[i]=a)})),t(e)):s.isObject(e)?(v._each(e,(function(n,i){var a=v._traverse(n,t,r);a&&(e[i]=a)})),t(e)):t(e)},v._objectEach=v._each=function(e,t){s.isObject(e)?s.each(s.keys(e),(function(r){t(e[r],r)})):s.each(e,t)},v.debug={enable:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"leancloud*";return c.enable(e)},disable:c.disable},v.setAdapters=m,e.exports=v}).call(t,r(109))},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"===s(Symbol.iterator)?function(e){return s(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":s(e)})(e)}t.log=function(){var e;return"object"===("undefined"==typeof console?"undefined":n(console))&&console.log&&(e=console).log.apply(e,arguments)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),this.useColors){var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(n++,"%c"===e&&(i=n))})),t.splice(i,0,r)}},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=r(271)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},function(e,t,r){"use strict";var n=r(0),i=r(162),a=new((0,r(15).inherits)(i,{constructor:function(){i.apply(this),this._adapters={}},getAdapter:function(e){var t=this._adapters[e];if(void 0===t)throw new Error(e+" adapter is not configured");return t},setAdapters:function(e){var t=this;n.extend(this._adapters,e),n.keys(e).forEach((function(r){return t.emit(r,e[r])}))}}));e.exports={getAdapter:a.getAdapter.bind(a),setAdapters:a.setAdapters.bind(a),adapterManager:a}},function(e,t,r){"use strict";var n=r(175)(!0);r(96)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})}))},function(e,t){e.exports=!0},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t,r){var n=r(63);e.exports=function(e){return Object(n(e))}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return o}));var n=r(1),i=r(200),a=n.s&&Object(i.a)(new DataView(new ArrayBuffer(8))),o="undefined"!=typeof Map&&Object(i.a)(new Map)},function(e,t,r){"use strict";t.a=function(e){if(!Object(n.a)(e))return[];var t=[];for(var r in e)t.push(r);return i.h&&Object(a.a)(e,t),t};var n=r(26),i=r(1),a=r(120)},function(e,t,r){"use strict";t.a=function(e){return n.a.toPath(e)};var n=r(10);r(129)},function(e,t,r){"use strict";t.a=function(e,t,r){if(void 0===t)return e;switch(null==r?3:r){case 1:return function(r){return e.call(t,r)};case 3:return function(r,n,i){return e.call(t,r,n,i)};case 4:return function(r,n,i,a){return e.call(t,r,n,i,a)}}return function(){return e.apply(t,arguments)}}},function(e,t,r){"use strict";t.a=function(e,t,r){var a=[];return t=Object(n.a)(t,r),Object(i.a)(e,(function(e,r,n){t(e,r,n)&&a.push(e)})),a};var n=r(8),i=r(28)},function(e,t,r){"use strict";t.a=function(e,t,r,o){return Object(n.a)(e)||(e=Object(i.a)(e)),("number"!=typeof r||o)&&(r=0),Object(a.a)(e,t,r)>=0};var n=r(11),i=r(33),a=r(145)},function(e,t,r){e.exports={default:r(280),__esModule:!0}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,r){var n=r(99),i=r(70);e.exports=Object.keys||function(e){return n(e,i)}},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},function(e,t,r){var n=r(18).f,i=r(24),a=r(7)("toStringTag");e.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,a)&&n(e,a,{configurable:!0,value:t})}},function(e,t,r){r(181);for(var n=r(6),i=r(23),a=r(32),o=r(7)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var c=s[u],l=n[c],f=l&&l.prototype;f&&!f[o]&&i(f,o,c),a[c]=a.Array}},function(e,t,r){"use strict";t.a=function(e){return e=Object(n.a)({},e),function(t){return Object(i.a)(t,e)}};var n=r(81),i=r(121)},function(e,t,r){"use strict";var n=r(9),i=r(137),a=r(10),o=Object(n.a)((function(e,t){var r=o.placeholder;return function n(){for(var a=0,o=t.length,s=Array(o),u=0;u<o;u++)s[u]=t[u]===r?arguments[a++]:t[u];for(;a<arguments.length;)s.push(arguments[a++]);return Object(i.a)(e,n,this,this,s)}}));o.placeholder=a.a,t.a=o},function(e,t,r){"use strict";t.a=function(e,t){return function(r,a,o){var s=t?[[],[]]:{};return a=Object(n.a)(a,o),Object(i.a)(r,(function(t,n){var i=a(t,n,r);e(s,t,i)})),s}};var n=r(8),i=r(28)},function(e,t,r){"use strict";var n=o(r(19)),i=o(r(30)),a=o(r(158));function o(e){return e&&e.__esModule?e:{default:e}}r(0);var s=r(288).timeout,u=r(37),c=u("leancloud:request"),l=u("leancloud:request:error"),f=r(38).getAdapter,p=0;e.exports=function(e){var t=e.method,r=e.url,o=e.query,d=e.data,h=e.headers,m=void 0===h?{}:h,y=e.timeout,v=e.onprogress;if(o){var g=(0,a.default)(o).map((function(e){var t=o[e];if(void 0!==t){var r="object"===(void 0===t?"undefined":(0,i.default)(t))?(0,n.default)(t):t;return encodeURIComponent(e)+"="+encodeURIComponent(r)}})).filter((function(e){return e})).join("&");r=r+"?"+g}var b=p++;c("request(%d) %s %s %o %o %o",b,t,r,o,d,m);var _=f("request")(r,{method:t,headers:m,data:d,onprogress:v}).then((function(e){if(c("response(%d) %d %O %o",b,e.status,e.data||e.text,e.header),!1===e.ok){var t=new Error;throw t.response=e,t}return e.data})).catch((function(e){throw e.response&&(u.enabled("leancloud:request")||l("request(%d) %s %s %o %o %o",b,t,r,o,d,m),l("response(%d) %d %O %o",b,e.response.status,e.response.data||e.response.text,e.response.header),e.statusCode=e.response.status,e.responseText=e.response.text,e.response=e.response.data),e}));return y?s(_,y):_}},function(e,t,r){e.exports={default:r(279),__esModule:!0}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,r){var n=r(20),i=r(6).document,a=n(i)&&n(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,r){var n=r(20);e.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,r){var n=r(17),i=r(177),a=r(70),o=r(68)("IE_PROTO"),s=function(){},u=function(){var e,t=r(64)("iframe"),n=a.length;for(t.style.display="none",r(100).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;n--;)delete u.prototype[a[n]];return u()};e.exports=Object.create||function(e,t){var r;return null!==e?(s.prototype=n(e),r=new s,s.prototype=null,r[o]=e):r=u(),void 0===t?r:i(r,t)}},function(e,t,r){var n=r(62),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},function(e,t,r){var n=r(69)("keys"),i=r(54);e.exports=function(e){return n[e]||(n[e]=i(e))}},function(e,t,r){var n=r(2),i=r(6),a="__core-js_shared__",o=i[a]||(i[a]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r(40)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,r){var n=r(43),i=r(7)("toStringTag"),a="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,r,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?r:a?n(t):"Object"==(o=n(t))&&"function"==typeof t.callee?"Arguments":o}},function(e,t,r){var n=r(71),i=r(7)("iterator"),a=r(32);e.exports=r(2).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||a[n(e)]}},function(e,t,r){"use strict";var n=r(52);function i(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)}e.exports.f=function(e){return new i(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1);r.d(t,"VERSION",(function(){return n.e}));var i=r(9);r.d(t,"restArguments",(function(){return i.a}));var a=r(26);r.d(t,"isObject",(function(){return a.a}));var o=r(195);r.d(t,"isNull",(function(){return o.a}));var s=r(110);r.d(t,"isUndefined",(function(){return s.a}));var u=r(111);r.d(t,"isBoolean",(function(){return u.a}));var c=r(196);r.d(t,"isElement",(function(){return c.a}));var l=r(75);r.d(t,"isString",(function(){return l.a}));var f=r(112);r.d(t,"isNumber",(function(){return f.a}));var p=r(197);r.d(t,"isDate",(function(){return p.a}));var d=r(198);r.d(t,"isRegExp",(function(){return d.a}));var h=r(199);r.d(t,"isError",(function(){return h.a}));var m=r(113);r.d(t,"isSymbol",(function(){return m.a}));var y=r(114);r.d(t,"isArrayBuffer",(function(){return y.a}));var v=r(76);r.d(t,"isDataView",(function(){return v.a}));var g=r(27);r.d(t,"isArray",(function(){return g.a}));var b=r(13);r.d(t,"isFunction",(function(){return b.a}));var _=r(77);r.d(t,"isArguments",(function(){return _.a}));var w=r(201);r.d(t,"isFinite",(function(){return w.a}));var k=r(115);r.d(t,"isNaN",(function(){return k.a}));var x=r(116);r.d(t,"isTypedArray",(function(){return x.a}));var T=r(203);r.d(t,"isEmpty",(function(){return T.a}));var E=r(121);r.d(t,"isMatch",(function(){return E.a}));var A=r(204);r.d(t,"isEqual",(function(){return A.a}));var S=r(206);r.d(t,"isMap",(function(){return S.a}));var C=r(207);r.d(t,"isWeakMap",(function(){return C.a}));var O=r(208);r.d(t,"isSet",(function(){return O.a}));var R=r(209);r.d(t,"isWeakSet",(function(){return R.a}));var P=r(4);r.d(t,"keys",(function(){return P.a}));var I=r(46);r.d(t,"allKeys",(function(){return I.a}));var N=r(33);r.d(t,"values",(function(){return N.a}));var $=r(210);r.d(t,"pairs",(function(){return $.a}));var B=r(122);r.d(t,"invert",(function(){return B.a}));var M=r(123);r.d(t,"functions",(function(){return M.a})),r.d(t,"methods",(function(){return M.a}));var L=r(124);r.d(t,"extend",(function(){return L.a}));var j=r(81);r.d(t,"extendOwn",(function(){return j.a})),r.d(t,"assign",(function(){return j.a}));var D=r(125);r.d(t,"defaults",(function(){return D.a}));var F=r(211);r.d(t,"create",(function(){return F.a}));var U=r(127);r.d(t,"clone",(function(){return U.a}));var z=r(212);r.d(t,"tap",(function(){return z.a}));var q=r(128);r.d(t,"get",(function(){return q.a}));var G=r(213);r.d(t,"has",(function(){return G.a}));var H=r(214);r.d(t,"mapObject",(function(){return H.a}));var W=r(83);r.d(t,"identity",(function(){return W.a}));var K=r(117);r.d(t,"constant",(function(){return K.a}));var V=r(132);r.d(t,"noop",(function(){return V.a}));var J=r(129);r.d(t,"toPath",(function(){return J.a}));var Y=r(84);r.d(t,"property",(function(){return Y.a}));var X=r(215);r.d(t,"propertyOf",(function(){return X.a}));var Q=r(57);r.d(t,"matcher",(function(){return Q.a})),r.d(t,"matches",(function(){return Q.a}));var Z=r(216);r.d(t,"times",(function(){return Z.a}));var ee=r(133);r.d(t,"random",(function(){return ee.a}));var te=r(85);r.d(t,"now",(function(){return te.a}));var re=r(217);r.d(t,"escape",(function(){return re.a}));var ne=r(218);r.d(t,"unescape",(function(){return ne.a}));var ie=r(136);r.d(t,"templateSettings",(function(){return ie.a}));var ae=r(220);r.d(t,"template",(function(){return ae.a}));var oe=r(221);r.d(t,"result",(function(){return oe.a}));var se=r(222);r.d(t,"uniqueId",(function(){return se.a}));var ue=r(223);r.d(t,"chain",(function(){return ue.a}));var ce=r(131);r.d(t,"iteratee",(function(){return ce.a}));var le=r(58);r.d(t,"partial",(function(){return le.a}));var fe=r(138);r.d(t,"bind",(function(){return fe.a}));var pe=r(224);r.d(t,"bindAll",(function(){return pe.a}));var de=r(225);r.d(t,"memoize",(function(){return de.a}));var he=r(139);r.d(t,"delay",(function(){return he.a}));var me=r(226);r.d(t,"defer",(function(){return me.a}));var ye=r(227);r.d(t,"throttle",(function(){return ye.a}));var ve=r(228);r.d(t,"debounce",(function(){return ve.a}));var ge=r(229);r.d(t,"wrap",(function(){return ge.a}));var be=r(86);r.d(t,"negate",(function(){return be.a}));var _e=r(230);r.d(t,"compose",(function(){return _e.a}));var we=r(231);r.d(t,"after",(function(){return we.a}));var ke=r(140);r.d(t,"before",(function(){return ke.a}));var xe=r(232);r.d(t,"once",(function(){return xe.a}));var Te=r(141);r.d(t,"findKey",(function(){return Te.a}));var Ee=r(87);r.d(t,"findIndex",(function(){return Ee.a}));var Ae=r(143);r.d(t,"findLastIndex",(function(){return Ae.a}));var Se=r(144);r.d(t,"sortedIndex",(function(){return Se.a}));var Ce=r(145);r.d(t,"indexOf",(function(){return Ce.a}));var Oe=r(233);r.d(t,"lastIndexOf",(function(){return Oe.a}));var Re=r(147);r.d(t,"find",(function(){return Re.a})),r.d(t,"detect",(function(){return Re.a}));var Pe=r(234);r.d(t,"findWhere",(function(){return Pe.a}));var Ie=r(28);r.d(t,"each",(function(){return Ie.a})),r.d(t,"forEach",(function(){return Ie.a}));var Ne=r(35);r.d(t,"map",(function(){return Ne.a})),r.d(t,"collect",(function(){return Ne.a}));var $e=r(235);r.d(t,"reduce",(function(){return $e.a})),r.d(t,"foldl",(function(){return $e.a})),r.d(t,"inject",(function(){return $e.a}));var Be=r(236);r.d(t,"reduceRight",(function(){return Be.a})),r.d(t,"foldr",(function(){return Be.a}));var Me=r(49);r.d(t,"filter",(function(){return Me.a})),r.d(t,"select",(function(){return Me.a}));var Le=r(237);r.d(t,"reject",(function(){return Le.a}));var je=r(238);r.d(t,"every",(function(){return je.a})),r.d(t,"all",(function(){return je.a}));var De=r(239);r.d(t,"some",(function(){return De.a})),r.d(t,"any",(function(){return De.a}));var Fe=r(50);r.d(t,"contains",(function(){return Fe.a})),r.d(t,"includes",(function(){return Fe.a})),r.d(t,"include",(function(){return Fe.a}));var Ue=r(240);r.d(t,"invoke",(function(){return Ue.a}));var ze=r(88);r.d(t,"pluck",(function(){return ze.a}));var qe=r(241);r.d(t,"where",(function(){return qe.a}));var Ge=r(149);r.d(t,"max",(function(){return Ge.a}));var He=r(242);r.d(t,"min",(function(){return He.a}));var We=r(243);r.d(t,"shuffle",(function(){return We.a}));var Ke=r(150);r.d(t,"sample",(function(){return Ke.a}));var Ve=r(244);r.d(t,"sortBy",(function(){return Ve.a}));var Je=r(245);r.d(t,"groupBy",(function(){return Je.a}));var Ye=r(246);r.d(t,"indexBy",(function(){return Ye.a}));var Xe=r(247);r.d(t,"countBy",(function(){return Xe.a}));var Qe=r(248);r.d(t,"partition",(function(){return Qe.a}));var Ze=r(249);r.d(t,"toArray",(function(){return Ze.a}));var et=r(250);r.d(t,"size",(function(){return et.a}));var tt=r(151);r.d(t,"pick",(function(){return tt.a}));var rt=r(252);r.d(t,"omit",(function(){return rt.a}));var nt=r(253);r.d(t,"first",(function(){return nt.a})),r.d(t,"head",(function(){return nt.a})),r.d(t,"take",(function(){return nt.a}));var it=r(152);r.d(t,"initial",(function(){return it.a}));var at=r(254);r.d(t,"last",(function(){return at.a}));var ot=r(153);r.d(t,"rest",(function(){return ot.a})),r.d(t,"tail",(function(){return ot.a})),r.d(t,"drop",(function(){return ot.a}));var st=r(255);r.d(t,"compact",(function(){return st.a}));var ut=r(256);r.d(t,"flatten",(function(){return ut.a}));var ct=r(257);r.d(t,"without",(function(){return ct.a}));var lt=r(155);r.d(t,"uniq",(function(){return lt.a})),r.d(t,"unique",(function(){return lt.a}));var ft=r(258);r.d(t,"union",(function(){return ft.a}));var pt=r(259);r.d(t,"intersection",(function(){return pt.a}));var dt=r(154);r.d(t,"difference",(function(){return dt.a}));var ht=r(156);r.d(t,"unzip",(function(){return ht.a})),r.d(t,"transpose",(function(){return ht.a}));var mt=r(260);r.d(t,"zip",(function(){return mt.a}));var yt=r(261);r.d(t,"object",(function(){return yt.a}));var vt=r(262);r.d(t,"range",(function(){return vt.a}));var gt=r(263);r.d(t,"chunk",(function(){return gt.a}));var bt=r(264);r.d(t,"mixin",(function(){return bt.a}));var _t=r(265);r.d(t,"default",(function(){return _t.a}))},function(e,t,r){"use strict";var n=r(5);t.a=Object(n.a)("String")},function(e,t,r){"use strict";var n=r(5),i=r(13),a=r(114),o=r(45),s=Object(n.a)("DataView");t.a=o.a?function(e){return null!=e&&Object(i.a)(e.getInt8)&&Object(a.a)(e.buffer)}:s},function(e,t,r){"use strict";var n=r(5),i=r(22),a=Object(n.a)("Arguments");!function(){a(arguments)||(a=function(e){return Object(i.a)(e,"callee")})}(),t.a=a},function(e,t,r){"use strict";var n=r(119);t.a=Object(n.a)("byteLength")},function(e,t,r){"use strict";t.a=function(e){var t=Object(n.a)(e);return function(r){if(null==r)return!1;var s=Object(a.a)(r);if(Object(n.a)(s))return!1;for(var u=0;u<t;u++)if(!Object(i.a)(r[e[u]]))return!1;return e!==l||!Object(i.a)(r[o])}},r.d(t,"b",(function(){return c})),r.d(t,"d",(function(){return l})),r.d(t,"c",(function(){return f}));var n=r(14),i=r(13),a=r(46),o="forEach",s=["clear","delete"],u=["get","has","set"],c=s.concat(o,u),l=s.concat(u),f=["add"].concat(s,o,"has")},function(e,t,r){"use strict";t.a=function(e,t){return function(r){var n=arguments.length;if(t&&(r=Object(r)),n<2||null==r)return r;for(var i=1;i<n;i++)for(var a=arguments[i],o=e(a),s=o.length,u=0;u<s;u++){var c=o[u];t&&void 0!==r[c]||(r[c]=a[c])}return r}}},function(e,t,r){"use strict";var n=r(80),i=r(4);t.a=Object(n.a)(i.a)},function(e,t,r){"use strict";t.a=function(e,t){for(var r=t.length,n=0;n<r;n++){if(null==e)return;e=e[t[n]]}return r?e:void 0}},function(e,t,r){"use strict";t.a=function(e){return e}},function(e,t,r){"use strict";t.a=function(e){return e=Object(i.a)(e),function(t){return Object(n.a)(t,e)}};var n=r(82),i=r(47)},function(e,t,r){"use strict";t.a=Date.now||function(){return(new Date).getTime()}},function(e,t,r){"use strict";t.a=function(e){return function(){return!e.apply(this,arguments)}}},function(e,t,r){"use strict";var n=r(142);t.a=Object(n.a)(1)},function(e,t,r){"use strict";t.a=function(e,t){return Object(n.a)(e,Object(i.a)(t))};var n=r(35),i=r(84)},function(e,t,r){var n=r(16),i=r(2),a=r(41);e.exports=function(e,t){var r=(i.Object||{})[e]||Object[e],o={};o[e]=t(r),n(n.S+n.F*a((function(){r(1)})),"Object",o)}},function(e,t,r){e.exports={default:r(276),__esModule:!0}},function(e,t,r){t.f=r(7)},function(e,t,r){var n=r(6),i=r(2),a=r(40),o=r(91),s=r(18).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=a?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:o.f(e)})}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,r){var n=r(93),i=r(42),a=r(25),o=r(65),s=r(24),u=r(97),c=Object.getOwnPropertyDescriptor;t.f=r(21)?c:function(e,t){if(e=a(e),t=o(t,!0),u)try{return c(e,t)}catch(e){}if(s(e,t))return i(!n.f.call(e,t),e[t])}},function(e,t){},function(e,t,r){"use strict";var n=r(40),i=r(16),a=r(98),o=r(23),s=r(32),u=r(176),c=r(55),l=r(101),f=r(7)("iterator"),p=!([].keys&&"next"in[].keys()),d="keys",h="values",m=function(){return this};e.exports=function(e,t,r,y,v,g,b){u(r,t,y);var _,w,k,x=function(e){if(!p&&e in S)return S[e];switch(e){case d:case h:return function(){return new r(this,e)}}return function(){return new r(this,e)}},T=t+" Iterator",E=v==h,A=!1,S=e.prototype,C=S[f]||S["@@iterator"]||v&&S[v],O=C||x(v),R=v?E?x("entries"):O:void 0,P="Array"==t&&S.entries||C;if(P&&(k=l(P.call(new e)))!==Object.prototype&&k.next&&(c(k,T,!0),n||"function"==typeof k[f]||o(k,f,m)),E&&C&&C.name!==h&&(A=!0,O=function(){return C.call(this)}),n&&!b||!p&&!A&&S[f]||o(S,f,O),s[t]=O,s[T]=m,v)if(_={values:E?O:x(h),keys:g?O:x(d),entries:R},b)for(w in _)w in S||a(S,w,_[w]);else i(i.P+i.F*(p||A),t,_);return _}},function(e,t,r){e.exports=!r(21)&&!r(41)((function(){return 7!=Object.defineProperty(r(64)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,r){e.exports=r(23)},function(e,t,r){var n=r(24),i=r(25),a=r(179)(!1),o=r(68)("IE_PROTO");e.exports=function(e,t){var r,s=i(e),u=0,c=[];for(r in s)r!=o&&n(s,r)&&c.push(r);for(;t.length>u;)n(s,r=t[u++])&&(~a(c,r)||c.push(r));return c}},function(e,t,r){var n=r(6).document;e.exports=n&&n.documentElement},function(e,t,r){var n=r(24),i=r(44),a=r(68)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),n(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,t,r){var n=r(17);e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(t){var a=e.return;throw void 0!==a&&n(a.call(e)),t}}},function(e,t,r){var n=r(32),i=r(7)("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||a[i]===e)}},function(e,t,r){var n=r(17),i=r(52),a=r(7)("species");e.exports=function(e,t){var r,o=n(e).constructor;return void 0===o||null==(r=n(o)[a])?t:i(r)}},function(e,t,r){var n,i,a,o=r(31),s=r(187),u=r(100),c=r(64),l=r(6),f=l.process,p=l.setImmediate,d=l.clearImmediate,h=l.MessageChannel,m=l.Dispatch,y=0,v={},g=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},b=function(e){g.call(e.data)};p&&d||(p=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return v[++y]=function(){s("function"==typeof e?e:Function(e),t)},n(y),y},d=function(e){delete v[e]},"process"==r(43)(f)?n=function(e){f.nextTick(o(g,e,1))}:m&&m.now?n=function(e){m.now(o(g,e,1))}:h?(a=(i=new h).port2,i.port1.onmessage=b,n=o(a.postMessage,a,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(n=function(e){l.postMessage(e+"","*")},l.addEventListener("message",b,!1)):n="onreadystatechange"in c("script")?function(e){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),g.call(e)}}:function(e){setTimeout(o(g,e,1),0)}),e.exports={set:p,clear:d}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,r){var n=r(17),i=r(20),a=r(73);e.exports=function(e,t){if(n(e),i(t)&&t.constructor===e)return t;var r=a.f(e);return(0,r.resolve)(t),r.promise}},function(e,t,r){var n=r(7)("iterator"),i=!1;try{var a=[7][n]();a.return=function(){i=!0},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var a=[7],o=a[n]();o.next=function(){return{done:r=!0}},a[n]=function(){return o},e(a)}catch(e){}return r}},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":s(window))&&(r=window)}e.exports=r},function(e,t,r){"use strict";t.a=function(e){return void 0===e}},function(e,t,r){"use strict";t.a=function(e){return!0===e||!1===e||"[object Boolean]"===n.t.call(e)};var n=r(1)},function(e,t,r){"use strict";var n=r(5);t.a=Object(n.a)("Number")},function(e,t,r){"use strict";var n=r(5);t.a=Object(n.a)("Symbol")},function(e,t,r){"use strict";var n=r(5);t.a=Object(n.a)("ArrayBuffer")},function(e,t,r){"use strict";t.a=function(e){return Object(i.a)(e)&&Object(n.g)(e)};var n=r(1),i=r(112)},function(e,t,r){"use strict";var n=r(1),i=r(76),a=r(117),o=r(202),s=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;t.a=n.r?function(e){return n.l?Object(n.l)(e)&&!Object(i.a)(e):Object(o.a)(e)&&s.test(n.t.call(e))}:Object(a.a)(!1)},function(e,t,r){"use strict";t.a=function(e){return function(){return e}}},function(e,t,r){"use strict";t.a=function(e){return function(t){var r=e(t);return"number"==typeof r&&r>=0&&r<=n.b}};var n=r(1)},function(e,t,r){"use strict";t.a=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,r){"use strict";t.a=function(e,t){t=function(e){for(var t={},r=e.length,n=0;n<r;++n)t[e[n]]=!0;return{contains:function(e){return t[e]},push:function(r){return t[r]=!0,e.push(r)}}}(t);var r=n.n.length,o=e.constructor,s=Object(i.a)(o)&&o.prototype||n.c,u="constructor";for(Object(a.a)(e,u)&&!t.contains(u)&&t.push(u);r--;)(u=n.n[r])in e&&e[u]!==s[u]&&!t.contains(u)&&t.push(u)};var n=r(1),i=r(13),a=r(22)},function(e,t,r){"use strict";t.a=function(e,t){var r=Object(n.a)(t),i=r.length;if(null==e)return!i;for(var a=Object(e),o=0;o<i;o++){var s=r[o];if(t[s]!==a[s]||!(s in a))return!1}return!0};var n=r(4)},function(e,t,r){"use strict";t.a=function(e){for(var t={},r=Object(n.a)(e),i=0,a=r.length;i<a;i++)t[e[r[i]]]=r[i];return t};var n=r(4)},function(e,t,r){"use strict";t.a=function(e){var t=[];for(var r in e)Object(n.a)(e[r])&&t.push(r);return t.sort()};var n=r(13)},function(e,t,r){"use strict";var n=r(80),i=r(46);t.a=Object(n.a)(i.a)},function(e,t,r){"use strict";var n=r(80),i=r(46);t.a=Object(n.a)(i.a,!0)},function(e,t,r){"use strict";t.a=function(e){if(!Object(n.a)(e))return{};if(i.j)return Object(i.j)(e);var t=function(){};t.prototype=e;var r=new t;return t.prototype=null,r};var n=r(26),i=r(1)},function(e,t,r){"use strict";t.a=function(e){return Object(n.a)(e)?Object(i.a)(e)?e.slice():Object(a.a)({},e):e};var n=r(26),i=r(27),a=r(124)},function(e,t,r){"use strict";t.a=function(e,t,r){var o=Object(i.a)(e,Object(n.a)(t));return Object(a.a)(o)?r:o};var n=r(47),i=r(82),a=r(110)},function(e,t,r){"use strict";t.a=a;var n=r(10),i=r(27);function a(e){return Object(i.a)(e)?e:[e]}n.a.toPath=a},function(e,t,r){"use strict";t.a=function(e,t,r){return null==e?n.a:Object(i.a)(e)?Object(c.a)(e,t,r):Object(a.a)(e)&&!Object(o.a)(e)?Object(s.a)(e):Object(u.a)(e)};var n=r(83),i=r(13),a=r(26),o=r(27),s=r(57),u=r(84),c=r(48)},function(e,t,r){"use strict";t.a=a;var n=r(10),i=r(130);function a(e,t){return Object(i.a)(e,t,1/0)}n.a.iteratee=a},function(e,t,r){"use strict";t.a=function(){}},function(e,t,r){"use strict";t.a=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}},function(e,t,r){"use strict";t.a=function(e){var t=function(t){return e[t]},r="(?:"+Object(n.a)(e).join("|")+")",i=RegExp(r),a=RegExp(r,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(a,t):e}};var n=r(4)},function(e,t,r){"use strict";t.a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"}},function(e,t,r){"use strict";var n=r(10);t.a=n.a.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g}},function(e,t,r){"use strict";t.a=function(e,t,r,a,o){if(!(a instanceof t))return e.apply(r,o);var s=Object(n.a)(e.prototype),u=e.apply(s,o);return Object(i.a)(u)?u:s};var n=r(126),i=r(26)},function(e,t,r){"use strict";var n=r(9),i=r(13),a=r(137);t.a=Object(n.a)((function(e,t,r){if(!Object(i.a)(e))throw new TypeError("Bind must be called on a function");var o=Object(n.a)((function(n){return Object(a.a)(e,o,t,this,r.concat(n))}));return o}))},function(e,t,r){"use strict";var n=r(9);t.a=Object(n.a)((function(e,t,r){return setTimeout((function(){return e.apply(null,r)}),t)}))},function(e,t,r){"use strict";t.a=function(e,t){var r;return function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=null),r}}},function(e,t,r){"use strict";t.a=function(e,t,r){t=Object(n.a)(t,r);for(var a,o=Object(i.a)(e),s=0,u=o.length;s<u;s++)if(t(e[a=o[s]],a,e))return a};var n=r(8),i=r(4)},function(e,t,r){"use strict";t.a=function(e){return function(t,r,a){r=Object(n.a)(r,a);for(var o=Object(i.a)(t),s=e>0?0:o-1;s>=0&&s<o;s+=e)if(r(t[s],s,t))return s;return-1}};var n=r(8),i=r(14)},function(e,t,r){"use strict";var n=r(142);t.a=Object(n.a)(-1)},function(e,t,r){"use strict";t.a=function(e,t,r,a){for(var o=(r=Object(n.a)(r,a,1))(t),s=0,u=Object(i.a)(e);s<u;){var c=Math.floor((s+u)/2);r(e[c])<o?s=c+1:u=c}return s};var n=r(8),i=r(14)},function(e,t,r){"use strict";var n=r(144),i=r(87),a=r(146);t.a=Object(a.a)(1,i.a,n.a)},function(e,t,r){"use strict";t.a=function(e,t,r){return function(o,s,u){var c=0,l=Object(n.a)(o);if("number"==typeof u)e>0?c=u>=0?u:Math.max(u+l,c):l=u>=0?Math.min(u+1,l):u+l+1;else if(r&&u&&l)return o[u=r(o,s)]===s?u:-1;if(s!=s)return(u=t(i.q.call(o,c,l),a.a))>=0?u+c:-1;for(u=e>0?c:l-1;u>=0&&u<l;u+=e)if(o[u]===s)return u;return-1}};var n=r(14),i=r(1),a=r(115)},function(e,t,r){"use strict";t.a=function(e,t,r){var o=(Object(n.a)(e)?i.a:a.a)(e,t,r);if(void 0!==o&&-1!==o)return e[o]};var n=r(11),i=r(87),a=r(141)},function(e,t,r){"use strict";t.a=function(e){var t=function(t,r,a,o){var s=!Object(n.a)(t)&&Object(i.a)(t),u=(s||t).length,c=e>0?0:u-1;for(o||(a=t[s?s[c]:c],c+=e);c>=0&&c<u;c+=e){var l=s?s[c]:c;a=r(a,t[l],l,t)}return a};return function(e,r,n,i){var o=arguments.length>=3;return t(e,Object(a.a)(r,i,4),n,o)}};var n=r(11),i=r(4),a=r(48)},function(e,t,r){"use strict";t.a=function(e,t,r){var u,c,l=-1/0,f=-1/0;if(null==t||"number"==typeof t&&"object"!=s(e[0])&&null!=e)for(var p=0,d=(e=Object(n.a)(e)?e:Object(i.a)(e)).length;p<d;p++)null!=(u=e[p])&&u>l&&(l=u);else t=Object(a.a)(t,r),Object(o.a)(e,(function(e,r,n){((c=t(e,r,n))>f||c===-1/0&&l===-1/0)&&(l=e,f=c)}));return l};var n=r(11),i=r(33),a=r(8),o=r(28)},function(e,t,r){"use strict";t.a=function(e,t,r){if(null==t||r)return Object(n.a)(e)||(e=Object(a.a)(e)),e[Object(s.a)(e.length-1)];var u=Object(n.a)(e)?Object(i.a)(e):Object(a.a)(e),c=Object(o.a)(u);t=Math.max(Math.min(t,c),0);for(var l=c-1,f=0;f<t;f++){var p=Object(s.a)(f,l),d=u[f];u[f]=u[p],u[p]=d}return u.slice(0,t)};var n=r(11),i=r(127),a=r(33),o=r(14),s=r(133)},function(e,t,r){"use strict";var n=r(9),i=r(13),a=r(48),o=r(46),s=r(251),u=r(34);t.a=Object(n.a)((function(e,t){var r={},n=t[0];if(null==e)return r;Object(i.a)(n)?(t.length>1&&(n=Object(a.a)(n,t[1])),t=Object(o.a)(e)):(n=s.a,t=Object(u.a)(t,!1,!1),e=Object(e));for(var c=0,l=t.length;c<l;c++){var f=t[c],p=e[f];n(p,f,e)&&(r[f]=p)}return r}))},function(e,t,r){"use strict";t.a=function(e,t,r){return n.q.call(e,0,Math.max(0,e.length-(null==t||r?1:t)))};var n=r(1)},function(e,t,r){"use strict";t.a=function(e,t,r){return n.q.call(e,null==t||r?1:t)};var n=r(1)},function(e,t,r){"use strict";var n=r(9),i=r(34),a=r(49),o=r(50);t.a=Object(n.a)((function(e,t){return t=Object(i.a)(t,!0,!0),Object(a.a)(e,(function(e){return!Object(o.a)(t,e)}))}))},function(e,t,r){"use strict";t.a=function(e,t,r,s){Object(n.a)(t)||(s=r,r=t,t=!1),null!=r&&(r=Object(i.a)(r,s));for(var u=[],c=[],l=0,f=Object(a.a)(e);l<f;l++){var p=e[l],d=r?r(p,l,e):p;t&&!r?(l&&c===d||u.push(p),c=d):r?Object(o.a)(c,d)||(c.push(d),u.push(p)):Object(o.a)(u,p)||u.push(p)}return u};var n=r(111),i=r(8),a=r(14),o=r(50)},function(e,t,r){"use strict";t.a=function(e){for(var t=e&&Object(n.a)(e,i.a).length||0,r=Array(t),o=0;o<t;o++)r[o]=Object(a.a)(e,o);return r};var n=r(149),i=r(14),a=r(88)},function(e,t,r){"use strict";t.a=function(e,t){return e._chain?Object(n.a)(t).chain():t};var n=r(10)},function(e,t,r){e.exports={default:r(267),__esModule:!0}},function(e,t,r){var n=r(269),i=r(270);e.exports=function(e,t,r){var a=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||n)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var s=0;s<16;++s)t[a+s]=o[s];return t||i(o)}},function(e,t,r){e.exports={default:r(273),__esModule:!0}},function(e,t,r){"use strict";e.exports="4.11.1"},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,i="~";function a(){}function o(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(i=!1)),s.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},s.prototype.listeners=function(e,t){var r=i?i+e:e,n=this._events[r];if(t)return!!n;if(!n)return[];if(n.fn)return[n.fn];for(var a=0,o=n.length,s=new Array(o);a<o;a++)s[a]=n[a].fn;return s},s.prototype.emit=function(e,t,r,n,a,o){var s=i?i+e:e;if(!this._events[s])return!1;var u,c,l=this._events[s],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,n),!0;case 5:return l.fn.call(l.context,t,r,n,a),!0;case 6:return l.fn.call(l.context,t,r,n,a,o),!0}for(c=1,u=new Array(f-1);c<f;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var p,d=l.length;for(c=0;c<d;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),f){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,r);break;case 4:l[c].fn.call(l[c].context,t,r,n);break;default:if(!u)for(p=1,u=new Array(f-1);p<f;p++)u[p-1]=arguments[p];l[c].fn.apply(l[c].context,u)}}return!0},s.prototype.on=function(e,t,r){var n=new o(t,r||this),a=i?i+e:e;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],n]:this._events[a].push(n):(this._events[a]=n,this._eventsCount++),this},s.prototype.once=function(e,t,r){var n=new o(t,r||this,!0),a=i?i+e:e;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],n]:this._events[a].push(n):(this._events[a]=n,this._eventsCount++),this},s.prototype.removeListener=function(e,t,r,n){var o=i?i+e:e;if(!this._events[o])return this;if(!t)return 0==--this._eventsCount?this._events=new a:delete this._events[o],this;var s=this._events[o];if(s.fn)s.fn!==t||n&&!s.once||r&&s.context!==r||(0==--this._eventsCount?this._events=new a:delete this._events[o]);else{for(var u=0,c=[],l=s.length;u<l;u++)(s[u].fn!==t||n&&!s[u].once||r&&s[u].context!==r)&&c.push(s[u]);c.length?this._events[o]=1===c.length?c[0]:c:0==--this._eventsCount?this._events=new a:delete this._events[o]}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&(0==--this._eventsCount?this._events=new a:delete this._events[t])):(this._events=new a,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prototype.setMaxListeners=function(){return this},s.prefixed=i,s.EventEmitter=s,e.exports=s},function(e,t,r){"use strict";var n,i=(n=r(3))&&n.__esModule?n:{default:n},a=r(38).getAdapter,o={get async(){return a("storage").async}};["getItem","setItem","removeItem","clear"].forEach((function(e){o[e+"Async"]=function(){var t=a("storage");return i.default.resolve(t[e].apply(t,arguments))},o[e]=function(){var t=a("storage");if(!t.async)return t[e].apply(t,arguments);var r=new Error("Synchronous API ["+e+"] is not available in this runtime.");throw r.code="SYNC_API_NOT_AVAILABLE",r}})),e.exports=o},function(e,t,r){"use strict";var n,i=(n=r(19))&&n.__esModule?n:{default:n},a=r(163),o=r(36),s=t.removeAsync=a.removeItemAsync.bind(a);t.getAsync=function(e){return e="AV/"+o.applicationId+"/"+e,a.getItemAsync(e).then((function(t){return function(e,t){try{e=JSON.parse(e)}catch(e){return null}return e?e.expiredAt&&e.expiredAt<Date.now()?s(t).then((function(){return null})):e.value:null}(t,e)}))},t.setAsync=function(e,t,r){var n={value:t};return"number"==typeof r&&(n.expiredAt=Date.now()+r),a.setItemAsync("AV/"+o.applicationId+"/"+e,(0,i.default)(n))}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){var n=r(99),i=r(70).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},function(e,t,r){e.exports={default:r(308),__esModule:!0}},function(e,t){var r={utf8:{stringToBytes:function(e){return r.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(r.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t},bytesToString:function(e){for(var t=[],r=0;r<e.length;r++)t.push(String.fromCharCode(e[r]));return t.join("")}}};e.exports=r},function(e,t,r){e.exports={default:r(321),__esModule:!0}},function(e,t,r){"use strict";var n=o(r(61)),i=o(r(30)),a=o(r(51));function o(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof a.default&&"symbol"===(0,i.default)(n.default)?function(e){return void 0===e?"undefined":(0,i.default)(e)}:function(e){return e&&"function"==typeof a.default&&e.constructor===a.default&&e!==a.default.prototype?"symbol":void 0===e?"undefined":(0,i.default)(e)})(e)}e.exports=function(e){return null!==e&&"object"===s(e)}},function(e,t,r){"use strict";var n=r(172),i=r(337);e.exports=i(n)},function(e,t,r){"use strict";e.exports=r(173)},function(e,t,r){"use strict";var n,i=(n=r(3))&&n.__esModule?n:{default:n},a=r(0),o=r(36);o._=a,o.version=r(161),o.Promise=i.default,o.localStorage=r(163),o.Cache=r(164),o.Error=r(29),r(275),r(289)(o),r(290)(o),r(291)(o),r(292)(o),r(293)(o),r(294)(o),r(316)(o),r(323)(o),r(324)(o),r(326)(o),r(327)(o),r(328)(o),r(329)(o),r(330)(o),r(331)(o),r(332)(o),r(333)(o),r(334)(o),o.Conversation=r(335),r(336),e.exports=o},function(e,t,r){r(95),r(39),r(56),r(184),r(192),r(193),e.exports=r(2).Promise},function(e,t,r){var n=r(62),i=r(63);e.exports=function(e){return function(t,r){var a,o,s=String(i(t)),u=n(r),c=s.length;return u<0||u>=c?e?"":void 0:(a=s.charCodeAt(u))<55296||a>56319||u+1===c||(o=s.charCodeAt(u+1))<56320||o>57343?e?s.charAt(u):a:e?s.slice(u,u+2):o-56320+(a-55296<<10)+65536}}},function(e,t,r){"use strict";var n=r(66),i=r(42),a=r(55),o={};r(23)(o,r(7)("iterator"),(function(){return this})),e.exports=function(e,t,r){e.prototype=n(o,{next:i(1,r)}),a(e,t+" Iterator")}},function(e,t,r){var n=r(18),i=r(17),a=r(53);e.exports=r(21)?Object.defineProperties:function(e,t){i(e);for(var r,o=a(t),s=o.length,u=0;s>u;)n.f(e,r=o[u++],t[r]);return e}},function(e,t,r){var n=r(43);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t,r){var n=r(25),i=r(67),a=r(180);e.exports=function(e){return function(t,r,o){var s,u=n(t),c=i(u.length),l=a(o,c);if(e&&r!=r){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===r)return e||l||0;return!e&&-1}}},function(e,t,r){var n=r(62),i=Math.max,a=Math.min;e.exports=function(e,t){return(e=n(e))<0?i(e+t,0):a(e,t)}},function(e,t,r){"use strict";var n=r(182),i=r(183),a=r(32),o=r(25);e.exports=r(96)(Array,"Array",(function(e,t){this._t=o(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])}),"values"),a.Arguments=a.Array,n("keys"),n("values"),n("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){"use strict";var n,i,a,o,s=r(40),u=r(6),c=r(31),l=r(71),f=r(16),p=r(20),d=r(52),h=r(185),m=r(186),y=r(104),v=r(105).set,g=r(188)(),b=r(73),_=r(106),w=r(189),k=r(107),x="Promise",T=u.TypeError,E=u.process,A=E&&E.versions,S=A&&A.v8||"",C=u.Promise,O="process"==l(E),R=function(){},P=i=b.f,I=!!function(){try{var e=C.resolve(1),t=(e.constructor={})[r(7)("species")]=function(e){e(R,R)};return(O||"function"==typeof PromiseRejectionEvent)&&e.then(R)instanceof t&&0!==S.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(e){}}(),N=function(e){var t;return!(!p(e)||"function"!=typeof(t=e.then))&&t},$=function(e,t){if(!e._n){e._n=!0;var r=e._c;g((function(){for(var n=e._v,i=1==e._s,a=0,o=function(t){var r,a,o,s=i?t.ok:t.fail,u=t.resolve,c=t.reject,l=t.domain;try{s?(i||(2==e._h&&L(e),e._h=1),!0===s?r=n:(l&&l.enter(),r=s(n),l&&(l.exit(),o=!0)),r===t.promise?c(T("Promise-chain cycle")):(a=N(r))?a.call(r,u,c):u(r)):c(n)}catch(e){l&&!o&&l.exit(),c(e)}};r.length>a;)o(r[a++]);e._c=[],e._n=!1,t&&!e._h&&B(e)}))}},B=function(e){v.call(u,(function(){var t,r,n,i=e._v,a=M(e);if(a&&(t=_((function(){O?E.emit("unhandledRejection",i,e):(r=u.onunhandledrejection)?r({promise:e,reason:i}):(n=u.console)&&n.error&&n.error("Unhandled promise rejection",i)})),e._h=O||M(e)?2:1),e._a=void 0,a&&t.e)throw t.v}))},M=function(e){return 1!==e._h&&0===(e._a||e._c).length},L=function(e){v.call(u,(function(){var t;O?E.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})}))},j=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),$(t,!0))},D=function e(t){var r,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw T("Promise can't be resolved itself");(r=N(t))?g((function(){var i={_w:n,_d:!1};try{r.call(t,c(e,i,1),c(j,i,1))}catch(e){j.call(i,e)}})):(n._v=t,n._s=1,$(n,!1))}catch(e){j.call({_w:n,_d:!1},e)}}};I||(C=function(e){h(this,C,x,"_h"),d(e),n.call(this);try{e(c(D,this,1),c(j,this,1))}catch(e){j.call(this,e)}},(n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(190)(C.prototype,{then:function(e,t){var r=P(y(this,C));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=O?E.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&$(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),a=function(){var e=new n;this.promise=e,this.resolve=c(D,e,1),this.reject=c(j,e,1)},b.f=P=function(e){return e===C||e===o?new a(e):i(e)}),f(f.G+f.W+f.F*!I,{Promise:C}),r(55)(C,x),r(191)(x),o=r(2).Promise,f(f.S+f.F*!I,x,{reject:function(e){var t=P(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(s||!I),x,{resolve:function(e){return k(s&&this===o?C:this,e)}}),f(f.S+f.F*!(I&&r(108)((function(e){C.all(e).catch(R)}))),x,{all:function(e){var t=this,r=P(t),n=r.resolve,i=r.reject,a=_((function(){var r=[],a=0,o=1;m(e,!1,(function(e){var s=a++,u=!1;r.push(void 0),o++,t.resolve(e).then((function(e){u||(u=!0,r[s]=e,--o||n(r))}),i)})),--o||n(r)}));return a.e&&i(a.v),r.promise},race:function(e){var t=this,r=P(t),n=r.reject,i=_((function(){m(e,!1,(function(e){t.resolve(e).then(r.resolve,n)}))}));return i.e&&n(i.v),r.promise}})},function(e,t){e.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},function(e,t,r){var n=r(31),i=r(102),a=r(103),o=r(17),s=r(67),u=r(72),c={},l={};(t=e.exports=function(e,t,r,f,p){var d,h,m,y,v=p?function(){return e}:u(e),g=n(r,f,t?2:1),b=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(a(v)){for(d=s(e.length);d>b;b++)if((y=t?g(o(h=e[b])[0],h[1]):g(e[b]))===c||y===l)return y}else for(m=v.call(e);!(h=m.next()).done;)if((y=i(m,g,h.value,t))===c||y===l)return y}).BREAK=c,t.RETURN=l},function(e,t){e.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},function(e,t,r){var n=r(6),i=r(105).set,a=n.MutationObserver||n.WebKitMutationObserver,o=n.process,s=n.Promise,u="process"==r(43)(o);e.exports=function(){var e,t,r,c=function(){var n,i;for(u&&(n=o.domain)&&n.exit();e;){i=e.fn,e=e.next;try{i()}catch(n){throw e?r():t=void 0,n}}t=void 0,n&&n.enter()};if(u)r=function(){o.nextTick(c)};else if(!a||n.navigator&&n.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);r=function(){l.then(c)}}else r=function(){i.call(n,c)};else{var f=!0,p=document.createTextNode("");new a(c).observe(p,{characterData:!0}),r=function(){p.data=f=!f}}return function(n){var i={fn:n,next:void 0};t&&(t.next=i),e||(e=i,r()),t=i}}},function(e,t,r){var n=r(6).navigator;e.exports=n&&n.userAgent||""},function(e,t,r){var n=r(23);e.exports=function(e,t,r){for(var i in t)r&&e[i]?e[i]=t[i]:n(e,i,t[i]);return e}},function(e,t,r){"use strict";var n=r(6),i=r(2),a=r(18),o=r(21),s=r(7)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:n[e];o&&t&&!t[s]&&a.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,r){"use strict";var n=r(16),i=r(2),a=r(6),o=r(104),s=r(107);n(n.P+n.R,"Promise",{finally:function(e){var t=o(this,i.Promise||a.Promise),r="function"==typeof e;return this.then(r?function(r){return s(t,e()).then((function(){return r}))}:e,r?function(r){return s(t,e()).then((function(){throw r}))}:e)}})},function(e,t,r){"use strict";var n=r(16),i=r(73),a=r(106);n(n.S,"Promise",{try:function(e){var t=i.f(this),r=a(e);return(r.e?t.reject:t.resolve)(r.v),t.promise}})},function(e,t,r){"use strict";var n=r(74),i=Object(n.mixin)(n);i._=i,t.a=i},function(e,t,r){"use strict";t.a=function(e){return null===e}},function(e,t,r){"use strict";t.a=function(e){return!(!e||1!==e.nodeType)}},function(e,t,r){"use strict";var n=r(5);t.a=Object(n.a)("Date")},function(e,t,r){"use strict";var n=r(5);t.a=Object(n.a)("RegExp")},function(e,t,r){"use strict";var n=r(5);t.a=Object(n.a)("Error")},function(e,t,r){"use strict";var n=r(5);t.a=Object(n.a)("Object")},function(e,t,r){"use strict";t.a=function(e){return!Object(i.a)(e)&&Object(n.f)(e)&&!isNaN(parseFloat(e))};var n=r(1),i=r(113)},function(e,t,r){"use strict";var n=r(118),i=r(78);t.a=Object(n.a)(i.a)},function(e,t,r){"use strict";t.a=function(e){if(null==e)return!0;var t=Object(n.a)(e);return"number"==typeof t&&(Object(i.a)(e)||Object(a.a)(e)||Object(o.a)(e))?0===t:0===Object(n.a)(Object(s.a)(e))};var n=r(14),i=r(27),a=r(75),o=r(77),s=r(4)},function(e,t,r){"use strict";t.a=function(e,t){return m(e,t)};var n=r(10),i=r(1),a=r(78),o=r(116),u=r(13),c=r(45),l=r(76),f=r(4),p=r(22),d=r(205),h="[object DataView]";function m(e,t,r,n){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var i=s(e);return("function"===i||"object"===i||"object"==s(t))&&y(e,t,r,n)}function y(e,t,r,v){e instanceof n.a&&(e=e._wrapped),t instanceof n.a&&(t=t._wrapped);var g=i.t.call(e);if(g!==i.t.call(t))return!1;if(c.a&&"[object Object]"==g&&Object(l.a)(e)){if(!Object(l.a)(t))return!1;g=h}switch(g){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return i.d.valueOf.call(e)===i.d.valueOf.call(t);case"[object ArrayBuffer]":case h:return y(Object(d.a)(e),Object(d.a)(t),r,v)}var b="[object Array]"===g;if(!b&&Object(o.a)(e)){if(Object(a.a)(e)!==Object(a.a)(t))return!1;if(e.buffer===t.buffer&&e.byteOffset===t.byteOffset)return!0;b=!0}if(!b){if("object"!=s(e)||"object"!=s(t))return!1;var _=e.constructor,w=t.constructor;if(_!==w&&!(Object(u.a)(_)&&_ instanceof _&&Object(u.a)(w)&&w instanceof w)&&"constructor"in e&&"constructor"in t)return!1}v=v||[];for(var k=(r=r||[]).length;k--;)if(r[k]===e)return v[k]===t;if(r.push(e),v.push(t),b){if((k=e.length)!==t.length)return!1;for(;k--;)if(!m(e[k],t[k],r,v))return!1}else{var x,T=Object(f.a)(e);if(k=T.length,Object(f.a)(t).length!==k)return!1;for(;k--;)if(x=T[k],!Object(p.a)(t,x)||!m(e[x],t[x],r,v))return!1}return r.pop(),v.pop(),!0}},function(e,t,r){"use strict";t.a=function(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,Object(n.a)(e))};var n=r(78)},function(e,t,r){"use strict";var n=r(5),i=r(45),a=r(79);t.a=i.b?Object(a.a)(a.b):Object(n.a)("Map")},function(e,t,r){"use strict";var n=r(5),i=r(45),a=r(79);t.a=i.b?Object(a.a)(a.d):Object(n.a)("WeakMap")},function(e,t,r){"use strict";var n=r(5),i=r(45),a=r(79);t.a=i.b?Object(a.a)(a.c):Object(n.a)("Set")},function(e,t,r){"use strict";var n=r(5);t.a=Object(n.a)("WeakSet")},function(e,t,r){"use strict";t.a=function(e){for(var t=Object(n.a)(e),r=t.length,i=Array(r),a=0;a<r;a++)i[a]=[t[a],e[t[a]]];return i};var n=r(4)},function(e,t,r){"use strict";t.a=function(e,t){var r=Object(n.a)(e);return t&&Object(i.a)(r,t),r};var n=r(126),i=r(81)},function(e,t,r){"use strict";t.a=function(e,t){return t(e),e}},function(e,t,r){"use strict";t.a=function(e,t){for(var r=(t=Object(i.a)(t)).length,a=0;a<r;a++){var o=t[a];if(!Object(n.a)(e,o))return!1;e=e[o]}return!!r};var n=r(22),i=r(47)},function(e,t,r){"use strict";t.a=function(e,t,r){t=Object(n.a)(t,r);for(var a=Object(i.a)(e),o=a.length,s={},u=0;u<o;u++){var c=a[u];s[c]=t(e[c],c,e)}return s};var n=r(8),i=r(4)},function(e,t,r){"use strict";t.a=function(e){return null==e?n.a:function(t){return Object(i.a)(e,t)}};var n=r(132),i=r(128)},function(e,t,r){"use strict";t.a=function(e,t,r){var i=Array(Math.max(0,e));t=Object(n.a)(t,r,1);for(var a=0;a<e;a++)i[a]=t(a);return i};var n=r(48)},function(e,t,r){"use strict";var n=r(134),i=r(135);t.a=Object(n.a)(i.a)},function(e,t,r){"use strict";var n=r(134),i=r(219);t.a=Object(n.a)(i.a)},function(e,t,r){"use strict";var n=r(122),i=r(135);t.a=Object(n.a)(i.a)},function(e,t,r){"use strict";t.a=function(e,t,r){!t&&r&&(t=r),t=Object(n.a)({},t,i.a.templateSettings);var o=RegExp([(t.escape||a).source,(t.interpolate||a).source,(t.evaluate||a).source].join("|")+"|$","g"),l=0,f="__p+='";e.replace(o,(function(t,r,n,i,a){return f+=e.slice(l,a).replace(s,u),l=a+t.length,r?f+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":n?f+="'+\n((__t=("+n+"))==null?'':__t)+\n'":i&&(f+="';\n"+i+"\n__p+='"),t})),f+="';\n";var p,d=t.variable;if(d){if(!c.test(d))throw new Error(d)}else f="with(obj||{}){\n"+f+"}\n",d="obj";f="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+f+"return __p;\n";try{p=new Function(d,"_",f)}catch(e){throw e.source=f,e}var h=function(e){return p.call(this,e,i.a)};return h.source="function("+d+"){\n"+f+"}",h};var n=r(125),i=r(10),a=(r(136),/(.)^/),o={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},s=/\\|'|\r|\n|\u2028|\u2029/g;function u(e){return"\\"+o[e]}var c=/^\s*(\w|\$)+\s*$/},function(e,t,r){"use strict";t.a=function(e,t,r){var a=(t=Object(i.a)(t)).length;if(!a)return Object(n.a)(r)?r.call(e):r;for(var o=0;o<a;o++){var s=null==e?void 0:e[t[o]];void 0===s&&(s=r,o=a),e=Object(n.a)(s)?s.call(e):s}return e};var n=r(13),i=r(47)},function(e,t,r){"use strict";t.a=function(e){var t=++n+"";return e?e+t:t};var n=0},function(e,t,r){"use strict";t.a=function(e){var t=Object(n.a)(e);return t._chain=!0,t};var n=r(10)},function(e,t,r){"use strict";var n=r(9),i=r(34),a=r(138);t.a=Object(n.a)((function(e,t){var r=(t=Object(i.a)(t,!1,!1)).length;if(r<1)throw new Error("bindAll must be passed function names");for(;r--;){var n=t[r];e[n]=Object(a.a)(e[n],e)}return e}))},function(e,t,r){"use strict";t.a=function(e,t){var r=function r(i){var a=r.cache,o=""+(t?t.apply(this,arguments):i);return Object(n.a)(a,o)||(a[o]=e.apply(this,arguments)),a[o]};return r.cache={},r};var n=r(22)},function(e,t,r){"use strict";var n=r(58),i=r(139),a=r(10);t.a=Object(n.a)(i.a,a.a,1)},function(e,t,r){"use strict";t.a=function(e,t,r){var i,a,o,s,u=0;r||(r={});var c=function(){u=!1===r.leading?0:Object(n.a)(),i=null,s=e.apply(a,o),i||(a=o=null)},l=function(){var l=Object(n.a)();u||!1!==r.leading||(u=l);var f=t-(l-u);return a=this,o=arguments,f<=0||f>t?(i&&(clearTimeout(i),i=null),u=l,s=e.apply(a,o),i||(a=o=null)):i||!1===r.trailing||(i=setTimeout(c,f)),s};return l.cancel=function(){clearTimeout(i),u=0,i=a=o=null},l};var n=r(85)},function(e,t,r){"use strict";t.a=function(e,t,r){var a,o,s,u,c,l=function n(){var l=Object(i.a)()-o;t>l?a=setTimeout(n,t-l):(a=null,r||(u=e.apply(c,s)),a||(s=c=null))},f=Object(n.a)((function(n){return c=this,s=n,o=Object(i.a)(),a||(a=setTimeout(l,t),r&&(u=e.apply(c,s))),u}));return f.cancel=function(){clearTimeout(a),a=s=c=null},f};var n=r(9),i=r(85)},function(e,t,r){"use strict";t.a=function(e,t){return Object(n.a)(t,e)};var n=r(58)},function(e,t,r){"use strict";t.a=function(){var e=arguments,t=e.length-1;return function(){for(var r=t,n=e[t].apply(this,arguments);r--;)n=e[r].call(this,n);return n}}},function(e,t,r){"use strict";t.a=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}},function(e,t,r){"use strict";var n=r(58),i=r(140);t.a=Object(n.a)(i.a,2)},function(e,t,r){"use strict";var n=r(143),i=r(146);t.a=Object(i.a)(-1,n.a)},function(e,t,r){"use strict";t.a=function(e,t){return Object(n.a)(e,Object(i.a)(t))};var n=r(147),i=r(57)},function(e,t,r){"use strict";var n=r(148);t.a=Object(n.a)(1)},function(e,t,r){"use strict";var n=r(148);t.a=Object(n.a)(-1)},function(e,t,r){"use strict";t.a=function(e,t,r){return Object(n.a)(e,Object(i.a)(Object(a.a)(t)),r)};var n=r(49),i=r(86),a=r(8)},function(e,t,r){"use strict";t.a=function(e,t,r){t=Object(n.a)(t,r);for(var o=!Object(i.a)(e)&&Object(a.a)(e),s=(o||e).length,u=0;u<s;u++){var c=o?o[u]:u;if(!t(e[c],c,e))return!1}return!0};var n=r(8),i=r(11),a=r(4)},function(e,t,r){"use strict";t.a=function(e,t,r){t=Object(n.a)(t,r);for(var o=!Object(i.a)(e)&&Object(a.a)(e),s=(o||e).length,u=0;u<s;u++){var c=o?o[u]:u;if(t(e[c],c,e))return!0}return!1};var n=r(8),i=r(11),a=r(4)},function(e,t,r){"use strict";var n=r(9),i=r(13),a=r(35),o=r(82),s=r(47);t.a=Object(n.a)((function(e,t,r){var n,u;return Object(i.a)(t)?u=t:(t=Object(s.a)(t),n=t.slice(0,-1),t=t[t.length-1]),Object(a.a)(e,(function(e){var i=u;if(!i){if(n&&n.length&&(e=Object(o.a)(e,n)),null==e)return;i=e[t]}return null==i?i:i.apply(e,r)}))}))},function(e,t,r){"use strict";t.a=function(e,t){return Object(n.a)(e,Object(i.a)(t))};var n=r(49),i=r(57)},function(e,t,r){"use strict";t.a=function(e,t,r){var u,c,l=1/0,f=1/0;if(null==t||"number"==typeof t&&"object"!=s(e[0])&&null!=e)for(var p=0,d=(e=Object(n.a)(e)?e:Object(i.a)(e)).length;p<d;p++)null!=(u=e[p])&&u<l&&(l=u);else t=Object(a.a)(t,r),Object(o.a)(e,(function(e,r,n){((c=t(e,r,n))<f||c===1/0&&l===1/0)&&(l=e,f=c)}));return l};var n=r(11),i=r(33),a=r(8),o=r(28)},function(e,t,r){"use strict";t.a=function(e){return Object(n.a)(e,1/0)};var n=r(150)},function(e,t,r){"use strict";t.a=function(e,t,r){var o=0;return t=Object(n.a)(t,r),Object(i.a)(Object(a.a)(e,(function(e,r,n){return{value:e,index:o++,criteria:t(e,r,n)}})).sort((function(e,t){var r=e.criteria,n=t.criteria;if(r!==n){if(r>n||void 0===r)return 1;if(r<n||void 0===n)return-1}return e.index-t.index})),"value")};var n=r(8),i=r(88),a=r(35)},function(e,t,r){"use strict";var n=r(59),i=r(22);t.a=Object(n.a)((function(e,t,r){Object(i.a)(e,r)?e[r].push(t):e[r]=[t]}))},function(e,t,r){"use strict";var n=r(59);t.a=Object(n.a)((function(e,t,r){e[r]=t}))},function(e,t,r){"use strict";var n=r(59),i=r(22);t.a=Object(n.a)((function(e,t,r){Object(i.a)(e,r)?e[r]++:e[r]=1}))},function(e,t,r){"use strict";var n=r(59);t.a=Object(n.a)((function(e,t,r){e[r?0:1].push(t)}),!0)},function(e,t,r){"use strict";t.a=function(e){return e?Object(n.a)(e)?i.q.call(e):Object(a.a)(e)?e.match(l):Object(o.a)(e)?Object(s.a)(e,u.a):Object(c.a)(e):[]};var n=r(27),i=r(1),a=r(75),o=r(11),s=r(35),u=r(83),c=r(33),l=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g},function(e,t,r){"use strict";t.a=function(e){return null==e?0:Object(n.a)(e)?e.length:Object(i.a)(e).length};var n=r(11),i=r(4)},function(e,t,r){"use strict";t.a=function(e,t,r){return t in r}},function(e,t,r){"use strict";var n=r(9),i=r(13),a=r(86),o=r(35),s=r(34),u=r(50),c=r(151);t.a=Object(n.a)((function(e,t){var r,n=t[0];return Object(i.a)(n)?(n=Object(a.a)(n),t.length>1&&(r=t[1])):(t=Object(o.a)(Object(s.a)(t,!1,!1),String),n=function(e,r){return!Object(u.a)(t,r)}),Object(c.a)(e,n,r)}))},function(e,t,r){"use strict";t.a=function(e,t,r){return null==e||e.length<1?null==t||r?void 0:[]:null==t||r?e[0]:Object(n.a)(e,e.length-t)};var n=r(152)},function(e,t,r){"use strict";t.a=function(e,t,r){return null==e||e.length<1?null==t||r?void 0:[]:null==t||r?e[e.length-1]:Object(n.a)(e,Math.max(0,e.length-t))};var n=r(153)},function(e,t,r){"use strict";t.a=function(e){return Object(n.a)(e,Boolean)};var n=r(49)},function(e,t,r){"use strict";t.a=function(e,t){return Object(n.a)(e,t,!1)};var n=r(34)},function(e,t,r){"use strict";var n=r(9),i=r(154);t.a=Object(n.a)((function(e,t){return Object(i.a)(e,t)}))},function(e,t,r){"use strict";var n=r(9),i=r(155),a=r(34);t.a=Object(n.a)((function(e){return Object(i.a)(Object(a.a)(e,!0,!0))}))},function(e,t,r){"use strict";t.a=function(e){for(var t=[],r=arguments.length,a=0,o=Object(n.a)(e);a<o;a++){var s=e[a];if(!Object(i.a)(t,s)){var u;for(u=1;u<r&&Object(i.a)(arguments[u],s);u++);u===r&&t.push(s)}}return t};var n=r(14),i=r(50)},function(e,t,r){"use strict";var n=r(9),i=r(156);t.a=Object(n.a)(i.a)},function(e,t,r){"use strict";t.a=function(e,t){for(var r={},i=0,a=Object(n.a)(e);i<a;i++)t?r[e[i]]=t[i]:r[e[i][0]]=e[i][1];return r};var n=r(14)},function(e,t,r){"use strict";t.a=function(e,t,r){null==t&&(t=e||0,e=0),r||(r=t<e?-1:1);for(var n=Math.max(Math.ceil((t-e)/r),0),i=Array(n),a=0;a<n;a++,e+=r)i[a]=e;return i}},function(e,t,r){"use strict";t.a=function(e,t){if(null==t||t<1)return[];for(var r=[],i=0,a=e.length;i<a;)r.push(n.q.call(e,i,i+=t));return r};var n=r(1)},function(e,t,r){"use strict";t.a=function(e){return Object(i.a)(Object(a.a)(e),(function(t){var r=n.a[t]=e[t];n.a.prototype[t]=function(){var e=[this._wrapped];return o.o.apply(e,arguments),Object(s.a)(this,r.apply(n.a,e))}})),n.a};var n=r(10),i=r(28),a=r(123),o=r(1),s=r(157)},function(e,t,r){"use strict";var n=r(10),i=r(28),a=r(1),o=r(157);Object(i.a)(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=a.a[e];n.a.prototype[e]=function(){var r=this._wrapped;return null!=r&&(t.apply(r,arguments),"shift"!==e&&"splice"!==e||0!==r.length||delete r[0]),Object(o.a)(this,r)}})),Object(i.a)(["concat","join","slice"],(function(e){var t=a.a[e];n.a.prototype[e]=function(){var e=this._wrapped;return null!=e&&(e=t.apply(e,arguments)),Object(o.a)(this,e)}})),t.a=n.a},function(e,t,r){var n=r(2),i=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},function(e,t,r){r(268),e.exports=r(2).Object.keys},function(e,t,r){var n=r(44),i=r(53);r(89)("keys",(function(){return function(e){return i(n(e))}}))},function(e,t){var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var n=new Uint8Array(16);e.exports=function(){return r(n),n}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},function(e,t){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,i=r;return[i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]]].join("")}},function(e,t,r){"use strict";e.exports=function(e){function t(e){for(var t=0,r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){var r;function o(){if(o.enabled){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var a=o,s=Number(new Date),u=s-(r||s);a.diff=u,a.prev=r,a.curr=s,r=s,t[0]=n.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");var c=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(function(e,r){if("%%"===e)return e;c++;var i=n.formatters[r];if("function"==typeof i){var o=t[c];e=i.call(a,o),t.splice(c,1),c--}return e})),n.formatArgs.call(a,t);var l=a.log||n.log;l.apply(a,t)}}return o.namespace=e,o.enabled=n.enabled(e),o.useColors=n.useColors(),o.color=t(e),o.destroy=i,o.extend=a,"function"==typeof n.init&&n.init(o),n.instances.push(o),o}function i(){var e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}function a(e,t){return n(this.namespace+(void 0===t?":":t)+e)}return n.debug=n,n.default=n,n.coerce=function(e){return e instanceof Error?e.stack||e.message:e},n.disable=function(){n.enable("")},n.enable=function(e){var t;n.save(e),n.names=[],n.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(t=0;t<i;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){var a=n.instances[t];a.enabled=n.enabled(a.namespace)}},n.enabled=function(e){if("*"===e[e.length-1])return!0;var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=r(272),Object.keys(e).forEach((function(t){n[t]=e[t]})),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n}},function(e,t){var r=1e3,n=60*r,i=60*n,a=24*i;function o(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}e.exports=function(e,t){t=t||{};var u,c,l=s(e);if("string"===l&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var o=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*o;case"weeks":case"week":case"w":return 6048e5*o;case"days":case"day":case"d":return o*a;case"hours":case"hour":case"hrs":case"hr":case"h":return o*i;case"minutes":case"minute":case"mins":case"min":case"m":return o*n;case"seconds":case"second":case"secs":case"sec":case"s":return o*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}}}(e);if("number"===l&&isFinite(e))return t.long?(u=e,(c=Math.abs(u))>=a?o(u,c,a,"day"):c>=i?o(u,c,i,"hour"):c>=n?o(u,c,n,"minute"):c>=r?o(u,c,r,"second"):u+" ms"):function(e){var t=Math.abs(e);return t>=a?Math.round(e/a)+"d":t>=i?Math.round(e/i)+"h":t>=n?Math.round(e/n)+"m":t>=r?Math.round(e/r)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,r){r(274),e.exports=r(2).Object.getPrototypeOf},function(e,t,r){var n=r(44),i=r(101);r(89)("getPrototypeOf",(function(){return function(e){return i(n(e))}}))},function(e,t,r){"use strict";var n,i=(n=r(90))&&n.__esModule?n:{default:n},a=r(36),o=r(278),s=r(15).isNullOrUndefined,u=r(0),c=u.extend,l=u.isObject,f=u.isEmpty,p=function(e){return"-MdYXbMMI"!==e.slice(-9)},d=function(e){return{push:e,stats:e,engine:e,api:e,rtm:e}};function h(e){if(p(e))return{};var t=e.slice(0,8).toLowerCase(),r="lncldglobal.com";return{push:"https://"+t+".push."+r,stats:"https://"+t+".stats."+r,engine:"https://"+t+".engine."+r,api:"https://"+t+".api."+r,rtm:"https://"+t+".rtm."+r}}var m=!1,y=!1;a.init=function(e){if(!l(e))return a.init({appId:e,appKey:arguments.length<=1?void 0:arguments[1],masterKey:arguments.length<=2?void 0:arguments[2]});var t=e.appId,r=e.appKey,n=e.masterKey,i=e.hookKey,u=e.serverURL,v=e.serverURLs,g=void 0===v?u:v,b=e.disableCurrentUser,_=e.production,w=e.realtime;if(y&&console.warn("Initializing LeanCloud Storage SDK which has already been initialized. Reinitializing the SDK might cause problems like unexpected cross-app data writing and invalid relations."),!t)throw new TypeError("appId must be a string");if(!r)throw new TypeError("appKey must be a string");if(n&&console.warn("MasterKey is not supposed to be used at client side."),p(t)&&!g&&f(a._config.serverURLs))throw new TypeError("serverURL option is required for apps from CN region");t!==a._config.applicationId?(a._config.masterKey=n,a._config.hookKey=i):(n&&(a._config.masterKey=n),i&&(a._config.hookKey=i)),a._config.applicationId=t,a._config.applicationKey=r,s(_)||a.setProduction(_),void 0!==b&&(a._config.disableCurrentUser=b);var k=m||void 0!==g;if(k||(a._appRouter=new o(a)),a._setServerURLs(c({},h(t),a._config.serverURLs,"string"==typeof g?d(g):g),k),w)a._config.realtime=w;else if(a._sharedConfig.liveQueryRealtime){var x=a._config.serverURLs,T=x.api,E=x.rtm;a._config.realtime=new a._sharedConfig.liveQueryRealtime({appId:t,appKey:r,server:{api:T,RTMRouter:E}})}y=!0},a.setProduction=function(e){s(e)?a._config.production=null:a._config.production=e?1:0},a._setServerURLs=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"string"!=typeof e?c(a._config.serverURLs,e):a._config.serverURLs=d(e),t&&(a._appRouter?a._appRouter.disable():m=!0)},a.setServerURL=function(e){return a._setServerURLs(e)},a.setServerURLs=a.setServerURL,a.keepErrorRawMessage=function(e){a._sharedConfig.keepErrorRawMessage=e},a.setRequestTimeout=function(e){a._config.requestTimeout=e},a.initialize=a.init,["applicationId","applicationKey","masterKey","hookKey"].forEach((function(e){return(0,i.default)(a,e,{get:function(){return a._config[e]},set:function(t){a._config[e]=t}})}))},function(e,t,r){r(277);var n=r(2).Object;e.exports=function(e,t,r){return n.defineProperty(e,t,r)}},function(e,t,r){var n=r(16);n(n.S+n.F*!r(21),"Object",{defineProperty:r(18).f})},function(e,t,r){"use strict";var n=r(60),i=r(164);function a(e){var t=this;this.AV=e,this.lockedUntil=0,i.getAsync("serverURLs").then((function(e){if(!t.disabled){if(!e)return t.lock(0);var r=e.serverURLs,n=e.lockedUntil;t.AV._setServerURLs(r,!1),t.lockedUntil=n}})).catch((function(){return t.lock(0)}))}a.prototype.disable=function(){this.disabled=!0},a.prototype.lock=function(e){this.lockedUntil=Date.now()+e},a.prototype.refresh=function(){var e=this;if(!(this.disabled||Date.now()<this.lockedUntil))return this.lock(10),n({method:"get",url:"https://app-router.com/2/route",query:{appId:this.AV.applicationId}}).then((function(t){if(!e.disabled){var r=t.ttl;if(!r)throw new Error("missing ttl");r*=1e3;var n="https://",a={push:n+t.push_server,stats:n+t.stats_server,engine:n+t.engine_server,api:n+t.api_server};return e.AV._setServerURLs(a,!1),e.lock(r),i.setAsync("serverURLs",{serverURLs:a,lockedUntil:e.lockedUntil},r)}})).catch((function(t){console.warn("refresh server URLs failed: "+t.message),e.lock(600)}))},e.exports=a},function(e,t,r){r(39),r(56),e.exports=r(91).f("iterator")},function(e,t,r){r(281),r(95),r(286),r(287),e.exports=r(2).Symbol},function(e,t,r){"use strict";var n=r(6),i=r(24),a=r(21),o=r(16),u=r(98),c=r(282).KEY,l=r(41),f=r(69),p=r(55),d=r(54),h=r(7),m=r(91),y=r(92),v=r(283),g=r(284),b=r(17),_=r(20),w=r(44),k=r(25),x=r(65),T=r(42),E=r(66),A=r(285),S=r(94),C=r(165),O=r(18),R=r(53),P=S.f,I=O.f,N=A.f,$=n.Symbol,B=n.JSON,M=B&&B.stringify,L=h("_hidden"),j=h("toPrimitive"),D={}.propertyIsEnumerable,F=f("symbol-registry"),U=f("symbols"),z=f("op-symbols"),q=Object.prototype,G="function"==typeof $&&!!C.f,H=n.QObject,W=!H||!H.prototype||!H.prototype.findChild,K=a&&l((function(){return 7!=E(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=P(q,t);n&&delete q[t],I(e,t,r),n&&e!==q&&I(q,t,n)}:I,V=function(e){var t=U[e]=E($.prototype);return t._k=e,t},J=G&&"symbol"==s($.iterator)?function(e){return"symbol"==s(e)}:function(e){return e instanceof $},Y=function(e,t,r){return e===q&&Y(z,t,r),b(e),t=x(t,!0),b(r),i(U,t)?(r.enumerable?(i(e,L)&&e[L][t]&&(e[L][t]=!1),r=E(r,{enumerable:T(0,!1)})):(i(e,L)||I(e,L,T(1,{})),e[L][t]=!0),K(e,t,r)):I(e,t,r)},X=function(e,t){b(e);for(var r,n=v(t=k(t)),i=0,a=n.length;a>i;)Y(e,r=n[i++],t[r]);return e},Q=function(e){var t=D.call(this,e=x(e,!0));return!(this===q&&i(U,e)&&!i(z,e))&&(!(t||!i(this,e)||!i(U,e)||i(this,L)&&this[L][e])||t)},Z=function(e,t){if(e=k(e),t=x(t,!0),e!==q||!i(U,t)||i(z,t)){var r=P(e,t);return!r||!i(U,t)||i(e,L)&&e[L][t]||(r.enumerable=!0),r}},ee=function(e){for(var t,r=N(k(e)),n=[],a=0;r.length>a;)i(U,t=r[a++])||t==L||t==c||n.push(t);return n},te=function(e){for(var t,r=e===q,n=N(r?z:k(e)),a=[],o=0;n.length>o;)!i(U,t=n[o++])||r&&!i(q,t)||a.push(U[t]);return a};G||(u(($=function(){if(this instanceof $)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function t(r){this===q&&t.call(z,r),i(this,L)&&i(this[L],e)&&(this[L][e]=!1),K(this,e,T(1,r))};return a&&W&&K(q,e,{configurable:!0,set:t}),V(e)}).prototype,"toString",(function(){return this._k})),S.f=Z,O.f=Y,r(166).f=A.f=ee,r(93).f=Q,C.f=te,a&&!r(40)&&u(q,"propertyIsEnumerable",Q,!0),m.f=function(e){return V(h(e))}),o(o.G+o.W+o.F*!G,{Symbol:$});for(var re="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;re.length>ne;)h(re[ne++]);for(var ie=R(h.store),ae=0;ie.length>ae;)y(ie[ae++]);o(o.S+o.F*!G,"Symbol",{for:function(e){return i(F,e+="")?F[e]:F[e]=$(e)},keyFor:function(e){if(!J(e))throw TypeError(e+" is not a symbol!");for(var t in F)if(F[t]===e)return t},useSetter:function(){W=!0},useSimple:function(){W=!1}}),o(o.S+o.F*!G,"Object",{create:function(e,t){return void 0===t?E(e):X(E(e),t)},defineProperty:Y,defineProperties:X,getOwnPropertyDescriptor:Z,getOwnPropertyNames:ee,getOwnPropertySymbols:te});var oe=l((function(){C.f(1)}));o(o.S+o.F*oe,"Object",{getOwnPropertySymbols:function(e){return C.f(w(e))}}),B&&o(o.S+o.F*(!G||l((function(){var e=$();return"[null]"!=M([e])||"{}"!=M({a:e})||"{}"!=M(Object(e))}))),"JSON",{stringify:function(e){for(var t,r,n=[e],i=1;arguments.length>i;)n.push(arguments[i++]);if(r=t=n[1],(_(t)||void 0!==e)&&!J(e))return g(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!J(t))return t}),n[1]=t,M.apply(B,n)}}),$.prototype[j]||r(23)($.prototype,j,$.prototype.valueOf),p($,"Symbol"),p(Math,"Math",!0),p(n.JSON,"JSON",!0)},function(e,t,r){var n=r(54)("meta"),i=r(20),a=r(24),o=r(18).f,u=0,c=Object.isExtensible||function(){return!0},l=!r(41)((function(){return c(Object.preventExtensions({}))})),f=function(e){o(e,n,{value:{i:"O"+ ++u,w:{}}})},p=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==s(e)?e:("string"==typeof e?"S":"P")+e;if(!a(e,n)){if(!c(e))return"F";if(!t)return"E";f(e)}return e[n].i},getWeak:function(e,t){if(!a(e,n)){if(!c(e))return!0;if(!t)return!1;f(e)}return e[n].w},onFreeze:function(e){return l&&p.NEED&&c(e)&&!a(e,n)&&f(e),e}}},function(e,t,r){var n=r(53),i=r(165),a=r(93);e.exports=function(e){var t=n(e),r=i.f;if(r)for(var o,s=r(e),u=a.f,c=0;s.length>c;)u.call(e,o=s[c++])&&t.push(o);return t}},function(e,t,r){var n=r(43);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){var n=r(25),i=r(166).f,a={}.toString,o="object"==("undefined"==typeof window?"undefined":s(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==a.call(e)?function(e){try{return i(e)}catch(e){return o.slice()}}(e):i(n(e))}},function(e,t,r){r(92)("asyncIterator")},function(e,t,r){r(92)("observable")},function(e,t,r){"use strict";var n;e.exports.timeout=function(e,t){var r,i=new n;return Promise.race([e,new Promise((function(e,n){r=setTimeout((function(){n(i)}),t)}))]).then((function(e){return clearTimeout(r),e}),(function(e){throw clearTimeout(r),e}))},(n=e.exports.TimeoutError=function(){Error.call(this),this.stack=Error().stack,this.message="Timeout"}).prototype=Object.create(Error.prototype),n.prototype.name="TimeoutError"},function(e,t,r){"use strict";var n=r(0);e.exports=function(e){var t=/\s+/,r=Array.prototype.slice;e.Events={on:function(e,r,n){var i,a,o,s,u;if(!r)return this;for(e=e.split(t),i=this._callbacks||(this._callbacks={}),a=e.shift();a;)(o=(u=i[a])?u.tail:{}).next=s={},o.context=n,o.callback=r,i[a]={tail:s,next:u?u.next:o},a=e.shift();return this},off:function(e,r,i){var a,o,s,u,c,l;if(o=this._callbacks){if(!(e||r||i))return delete this._callbacks,this;for(a=(e=e?e.split(t):n.keys(o)).shift();a;)if(s=o[a],delete o[a],s&&(r||i)){for(u=s.tail,s=s.next;s!==u;)c=s.callback,l=s.context,(r&&c!==r||i&&l!==i)&&this.on(a,c,l),s=s.next;a=e.shift()}return this}},trigger:function(e){var n,i,a,o,s,u,c;if(!(a=this._callbacks))return this;for(u=a.all,e=e.split(t),c=r.call(arguments,1),n=e.shift();n;){if(i=a[n])for(o=i.tail;(i=i.next)!==o;)i.callback.apply(i.context||this,c);if(i=u)for(o=i.tail,s=[n].concat(c);(i=i.next)!==o;)i.callback.apply(i.context||this,s);n=e.shift()}return this}},e.Events.bind=e.Events.on,e.Events.unbind=e.Events.off}},function(e,t,r){"use strict";var n,i=(n=r(3))&&n.__esModule?n:{default:n},a=r(0);e.exports=function(e){e.GeoPoint=function(t,r){a.isArray(t)?(e.GeoPoint._validate(t[0],t[1]),this.latitude=t[0],this.longitude=t[1]):a.isObject(t)?(e.GeoPoint._validate(t.latitude,t.longitude),this.latitude=t.latitude,this.longitude=t.longitude):a.isNumber(t)&&a.isNumber(r)?(e.GeoPoint._validate(t,r),this.latitude=t,this.longitude=r):(this.latitude=0,this.longitude=0);var n=this;this.__defineGetter__&&this.__defineSetter__&&(this._latitude=this.latitude,this._longitude=this.longitude,this.__defineGetter__("latitude",(function(){return n._latitude})),this.__defineGetter__("longitude",(function(){return n._longitude})),this.__defineSetter__("latitude",(function(t){e.GeoPoint._validate(t,n.longitude),n._latitude=t})),this.__defineSetter__("longitude",(function(t){e.GeoPoint._validate(n.latitude,t),n._longitude=t})))},e.GeoPoint._validate=function(e,t){if(e<-90)throw new Error("AV.GeoPoint latitude "+e+" < -90.0.");if(e>90)throw new Error("AV.GeoPoint latitude "+e+" > 90.0.");if(t<-180)throw new Error("AV.GeoPoint longitude "+t+" < -180.0.");if(t>180)throw new Error("AV.GeoPoint longitude "+t+" > 180.0.")},e.GeoPoint.current=function(){return new i.default((function(t,r){navigator.geolocation.getCurrentPosition((function(r){t(new e.GeoPoint({latitude:r.coords.latitude,longitude:r.coords.longitude}))}),r)}))},a.extend(e.GeoPoint.prototype,{toJSON:function(){return e.GeoPoint._validate(this.latitude,this.longitude),{__type:"GeoPoint",latitude:this.latitude,longitude:this.longitude}},radiansTo:function(e){var t=Math.PI/180,r=this.latitude*t,n=this.longitude*t,i=e.latitude*t,a=r-i,o=n-e.longitude*t,s=Math.sin(a/2),u=Math.sin(o/2),c=s*s+Math.cos(r)*Math.cos(i)*u*u;return c=Math.min(1,c),2*Math.asin(Math.sqrt(c))},kilometersTo:function(e){return 6371*this.radiansTo(e)},milesTo:function(e){return 3958.8*this.radiansTo(e)}})}},function(e,t,r){"use strict";var n=r(0);e.exports=function(e){var t="*";e.ACL=function(t){var r=this;if(r.permissionsById={},n.isObject(t))if(t instanceof e.User)r.setReadAccess(t,!0),r.setWriteAccess(t,!0);else{if(n.isFunction(t))throw new Error("AV.ACL() called with a function.  Did you forget ()?");e._objectEach(t,(function(t,i){if(!n.isString(i))throw new Error("Tried to create an ACL with an invalid userId.");r.permissionsById[i]={},e._objectEach(t,(function(e,t){if("read"!==t&&"write"!==t)throw new Error("Tried to create an ACL with an invalid permission type.");if(!n.isBoolean(e))throw new Error("Tried to create an ACL with an invalid permission value.");r.permissionsById[i][t]=e}))}))}},e.ACL.prototype.toJSON=function(){return n.clone(this.permissionsById)},e.ACL.prototype._setAccess=function(t,r,i){if(r instanceof e.User?r=r.id:r instanceof e.Role&&(r="role:"+r.getName()),!n.isString(r))throw new Error("userId must be a string.");if(!n.isBoolean(i))throw new Error("allowed must be either true or false.");var a=this.permissionsById[r];if(!a){if(!i)return;a={},this.permissionsById[r]=a}i?this.permissionsById[r][t]=!0:(delete a[t],n.isEmpty(a)&&delete this.permissionsById[r])},e.ACL.prototype._getAccess=function(t,r){r instanceof e.User?r=r.id:r instanceof e.Role&&(r="role:"+r.getName());var n=this.permissionsById[r];return!!n&&!!n[t]},e.ACL.prototype.setReadAccess=function(e,t){this._setAccess("read",e,t)},e.ACL.prototype.getReadAccess=function(e){return this._getAccess("read",e)},e.ACL.prototype.setWriteAccess=function(e,t){this._setAccess("write",e,t)},e.ACL.prototype.getWriteAccess=function(e){return this._getAccess("write",e)},e.ACL.prototype.setPublicReadAccess=function(e){this.setReadAccess(t,e)},e.ACL.prototype.getPublicReadAccess=function(){return this.getReadAccess(t)},e.ACL.prototype.setPublicWriteAccess=function(e){this.setWriteAccess(t,e)},e.ACL.prototype.getPublicWriteAccess=function(){return this.getWriteAccess(t)},e.ACL.prototype.getRoleReadAccess=function(t){if(t instanceof e.Role&&(t=t.getName()),n.isString(t))return this.getReadAccess("role:"+t);throw new Error("role must be a AV.Role or a String")},e.ACL.prototype.getRoleWriteAccess=function(t){if(t instanceof e.Role&&(t=t.getName()),n.isString(t))return this.getWriteAccess("role:"+t);throw new Error("role must be a AV.Role or a String")},e.ACL.prototype.setRoleReadAccess=function(t,r){if(t instanceof e.Role&&(t=t.getName()),!n.isString(t))throw new Error("role must be a AV.Role or a String");this.setReadAccess("role:"+t,r)},e.ACL.prototype.setRoleWriteAccess=function(t,r){if(t instanceof e.Role&&(t=t.getName()),!n.isString(t))throw new Error("role must be a AV.Role or a String");this.setWriteAccess("role:"+t,r)}}},function(e,t,r){"use strict";var n=r(0);e.exports=function(e){e.Op=function(){this._initialize.apply(this,arguments)},n.extend(e.Op.prototype,{_initialize:function(){}}),n.extend(e.Op,{_extend:e._extend,_opDecoderMap:{},_registerDecoder:function(t,r){e.Op._opDecoderMap[t]=r},_decode:function(t){var r=e.Op._opDecoderMap[t.__op];return r?r(t):void 0}}),e.Op._registerDecoder("Batch",(function(t){var r=null;return e._arrayEach(t.ops,(function(t){t=e.Op._decode(t),r=t._mergeWithPrevious(r)})),r})),e.Op.Set=e.Op._extend({_initialize:function(e){this._value=e},value:function(){return this._value},toJSON:function(){return e._encode(this.value())},_mergeWithPrevious:function(e){return this},_estimate:function(e){return this.value()}}),e.Op._UNSET={},e.Op.Unset=e.Op._extend({toJSON:function(){return{__op:"Delete"}},_mergeWithPrevious:function(e){return this},_estimate:function(t){return e.Op._UNSET}}),e.Op._registerDecoder("Delete",(function(t){return new e.Op.Unset})),e.Op.Increment=e.Op._extend({_initialize:function(e){this._amount=e},amount:function(){return this._amount},toJSON:function(){return{__op:"Increment",amount:this._amount}},_mergeWithPrevious:function(t){if(t){if(t instanceof e.Op.Unset)return new e.Op.Set(this.amount());if(t instanceof e.Op.Set)return new e.Op.Set(t.value()+this.amount());if(t instanceof e.Op.Increment)return new e.Op.Increment(this.amount()+t.amount());throw new Error("Op is invalid after previous op.")}return this},_estimate:function(e){return e?e+this.amount():this.amount()}}),e.Op._registerDecoder("Increment",(function(t){return new e.Op.Increment(t.amount)})),e.Op.BitAnd=e.Op._extend({_initialize:function(e){this._value=e},value:function(){return this._value},toJSON:function(){return{__op:"BitAnd",value:this.value()}},_mergeWithPrevious:function(t){if(t){if(t instanceof e.Op.Unset)return new e.Op.Set(0);if(t instanceof e.Op.Set)return new e.Op.Set(t.value()&this.value());throw new Error("Op is invalid after previous op.")}return this},_estimate:function(e){return e&this.value()}}),e.Op._registerDecoder("BitAnd",(function(t){return new e.Op.BitAnd(t.value)})),e.Op.BitOr=e.Op._extend({_initialize:function(e){this._value=e},value:function(){return this._value},toJSON:function(){return{__op:"BitOr",value:this.value()}},_mergeWithPrevious:function(t){if(t){if(t instanceof e.Op.Unset)return new e.Op.Set(this.value());if(t instanceof e.Op.Set)return new e.Op.Set(t.value()|this.value());throw new Error("Op is invalid after previous op.")}return this},_estimate:function(e){return e|this.value()}}),e.Op._registerDecoder("BitOr",(function(t){return new e.Op.BitOr(t.value)})),e.Op.BitXor=e.Op._extend({_initialize:function(e){this._value=e},value:function(){return this._value},toJSON:function(){return{__op:"BitXor",value:this.value()}},_mergeWithPrevious:function(t){if(t){if(t instanceof e.Op.Unset)return new e.Op.Set(this.value());if(t instanceof e.Op.Set)return new e.Op.Set(t.value()^this.value());throw new Error("Op is invalid after previous op.")}return this},_estimate:function(e){return e^this.value()}}),e.Op._registerDecoder("BitXor",(function(t){return new e.Op.BitXor(t.value)})),e.Op.Add=e.Op._extend({_initialize:function(e){this._objects=e},objects:function(){return this._objects},toJSON:function(){return{__op:"Add",objects:e._encode(this.objects())}},_mergeWithPrevious:function(t){if(t){if(t instanceof e.Op.Unset)return new e.Op.Set(this.objects());if(t instanceof e.Op.Set)return new e.Op.Set(this._estimate(t.value()));if(t instanceof e.Op.Add)return new e.Op.Add(t.objects().concat(this.objects()));throw new Error("Op is invalid after previous op.")}return this},_estimate:function(e){return e?e.concat(this.objects()):n.clone(this.objects())}}),e.Op._registerDecoder("Add",(function(t){return new e.Op.Add(e._decode(t.objects))})),e.Op.AddUnique=e.Op._extend({_initialize:function(e){this._objects=n.uniq(e)},objects:function(){return this._objects},toJSON:function(){return{__op:"AddUnique",objects:e._encode(this.objects())}},_mergeWithPrevious:function(t){if(t){if(t instanceof e.Op.Unset)return new e.Op.Set(this.objects());if(t instanceof e.Op.Set)return new e.Op.Set(this._estimate(t.value()));if(t instanceof e.Op.AddUnique)return new e.Op.AddUnique(this._estimate(t.objects()));throw new Error("Op is invalid after previous op.")}return this},_estimate:function(t){if(t){var r=n.clone(t);return e._arrayEach(this.objects(),(function(t){if(t instanceof e.Object&&t.id){var i=n.find(r,(function(r){return r instanceof e.Object&&r.id===t.id}));if(i){var a=n.indexOf(r,i);r[a]=t}else r.push(t)}else n.contains(r,t)||r.push(t)})),r}return n.clone(this.objects())}}),e.Op._registerDecoder("AddUnique",(function(t){return new e.Op.AddUnique(e._decode(t.objects))})),e.Op.Remove=e.Op._extend({_initialize:function(e){this._objects=n.uniq(e)},objects:function(){return this._objects},toJSON:function(){return{__op:"Remove",objects:e._encode(this.objects())}},_mergeWithPrevious:function(t){if(t){if(t instanceof e.Op.Unset)return t;if(t instanceof e.Op.Set)return new e.Op.Set(this._estimate(t.value()));if(t instanceof e.Op.Remove)return new e.Op.Remove(n.union(t.objects(),this.objects()));throw new Error("Op is invalid after previous op.")}return this},_estimate:function(t){if(t){var r=n.difference(t,this.objects());return e._arrayEach(this.objects(),(function(t){t instanceof e.Object&&t.id&&(r=n.reject(r,(function(r){return r instanceof e.Object&&r.id===t.id})))})),r}return[]}}),e.Op._registerDecoder("Remove",(function(t){return new e.Op.Remove(e._decode(t.objects))})),e.Op.Relation=e.Op._extend({_initialize:function(t,r){this._targetClassName=null;var i=this,a=function(t){if(t instanceof e.Object){if(!t.id)throw new Error("You can't add an unsaved AV.Object to a relation.");if(i._targetClassName||(i._targetClassName=t.className),i._targetClassName!==t.className)throw new Error("Tried to create a AV.Relation with 2 different types: "+i._targetClassName+" and "+t.className+".");return t.id}return t};this.relationsToAdd=n.uniq(n.map(t,a)),this.relationsToRemove=n.uniq(n.map(r,a))},added:function(){var t=this;return n.map(this.relationsToAdd,(function(r){var n=e.Object._create(t._targetClassName);return n.id=r,n}))},removed:function(){var t=this;return n.map(this.relationsToRemove,(function(r){var n=e.Object._create(t._targetClassName);return n.id=r,n}))},toJSON:function(){var e=null,t=null,r=this,i=function(e){return{__type:"Pointer",className:r._targetClassName,objectId:e}};return this.relationsToAdd.length>0&&(e={__op:"AddRelation",objects:n.map(this.relationsToAdd,i)}),this.relationsToRemove.length>0&&(t={__op:"RemoveRelation",objects:n.map(this.relationsToRemove,i)}),e&&t?{__op:"Batch",ops:[e,t]}:e||t||{}},_mergeWithPrevious:function(t){if(t){if(t instanceof e.Op.Unset)throw new Error("You can't modify a relation after deleting it.");if(t instanceof e.Op.Relation){if(t._targetClassName&&t._targetClassName!==this._targetClassName)throw new Error("Related object must be of class "+t._targetClassName+", but "+this._targetClassName+" was passed in.");var r=n.union(n.difference(t.relationsToAdd,this.relationsToRemove),this.relationsToAdd),i=n.union(n.difference(t.relationsToRemove,this.relationsToAdd),this.relationsToRemove),a=new e.Op.Relation(r,i);return a._targetClassName=this._targetClassName,a}throw new Error("Op is invalid after previous op.")}return this},_estimate:function(t,r,n){if(t){if(t instanceof e.Relation){if(this._targetClassName)if(t.targetClassName){if(t.targetClassName!==this._targetClassName)throw new Error("Related object must be a "+t.targetClassName+", but a "+this._targetClassName+" was passed in.")}else t.targetClassName=this._targetClassName;return t}throw new Error("Op is invalid after previous op.")}new e.Relation(r,n).targetClassName=this._targetClassName}}),e.Op._registerDecoder("AddRelation",(function(t){return new e.Op.Relation(e._decode(t.objects),[])})),e.Op._registerDecoder("RemoveRelation",(function(t){return new e.Op.Relation([],e._decode(t.objects))}))}},function(e,t,r){"use strict";var n=r(0);e.exports=function(e){e.Relation=function(e,t){if(!n.isString(t))throw new TypeError("key must be a string");this.parent=e,this.key=t,this.targetClassName=null},e.Relation.reverseQuery=function(t,r,n){var i=new e.Query(t);return i.equalTo(r,n._toPointer()),i},n.extend(e.Relation.prototype,{_ensureParentAndKey:function(e,t){if(this.parent=this.parent||e,this.key=this.key||t,this.parent!==e)throw new Error("Internal Error. Relation retrieved from two different Objects.");if(this.key!==t)throw new Error("Internal Error. Relation retrieved from two different keys.")},add:function(t){n.isArray(t)||(t=[t]);var r=new e.Op.Relation(t,[]);this.parent.set(this.key,r),this.targetClassName=r._targetClassName},remove:function(t){n.isArray(t)||(t=[t]);var r=new e.Op.Relation([],t);this.parent.set(this.key,r),this.targetClassName=r._targetClassName},toJSON:function(){return{__type:"Relation",className:this.targetClassName}},query:function(){var t,r;return this.targetClassName?(t=e.Object._getSubclass(this.targetClassName),r=new e.Query(t)):(t=e.Object._getSubclass(this.parent.className),(r=new e.Query(t))._defaultParams.redirectClassNameForKey=this.key),r._addCondition("$relatedTo","object",this.parent._toPointer()),r._addCondition("$relatedTo","key",this.key),r}})}},function(e,t,r){"use strict";var n,i=(n=r(3))&&n.__esModule?n:{default:n},a=r(0),o=r(295),s=r(296),u=r(311),c=r(29),l=r(12)._request,f=r(15),p=f.tap,d=f.transformFetchOptions,h=r(37)("leancloud:file"),m=r(315);e.exports=function(e){var t=function(e){return a.isString(e)?e.match(/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/)[4]:""},r=function(e){if(e<26)return String.fromCharCode(65+e);if(e<52)return String.fromCharCode(e-26+97);if(e<62)return String.fromCharCode(e-52+48);if(62===e)return"+";if(63===e)return"/";throw new Error("Tried to encode large digit "+e+" in base64.")};e.File=function(n,i,o){if(this.attributes={name:n,url:"",metaData:{},base64:""},a.isString(i))throw new TypeError("Creating an AV.File from a String is not yet supported.");var s,u;a.isArray(i)&&(this.attributes.metaData.size=i.length,i={base64:(s=i,u=[],u.length=Math.ceil(s.length/3),a.times(u.length,(function(e){var t=s[3*e],n=s[3*e+1]||0,i=s[3*e+2]||0,a=3*e+1<s.length,o=3*e+2<s.length;u[e]=[r(t>>2&63),r(t<<4&48|n>>4&15),a?r(n<<2&60|i>>6&3):"=",o?r(63&i):"="].join("")})),u.join(""))}),this._extName="",this._data=i,this._uploadHeaders={},i&&i.blob&&"string"==typeof i.blob.uri&&(this._extName=t(i.blob.uri)),"undefined"!=typeof Blob&&i instanceof Blob&&(i.size&&(this.attributes.metaData.size=i.size),i.name&&(this._extName=t(i.name)));var c=void 0;if(i&&i.owner)c=i.owner;else if(!e._config.disableCurrentUser)try{c=e.User.current()}catch(e){if("SYNC_API_NOT_AVAILABLE"!==e.code)throw e}this.attributes.metaData.owner=c?c.id:"unknown",this.set("mime_type",o)},e.File.withURL=function(t,r,n,i){if(!t||!r)throw new Error("Please provide file name and url");var a=new e.File(t,null,i);if(n)for(var o in n)a.attributes.metaData[o]||(a.attributes.metaData[o]=n[o]);return a.attributes.url=r,a.attributes.metaData.__source="external",a.attributes.metaData.size=0,a},e.File.createWithoutData=function(t){if(!t)throw new TypeError("The objectId must be provided");var r=new e.File;return r.id=t,r},a.extend(e.File.prototype,{className:"_File",_toFullJSON:function(t){var r=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=a.clone(this.attributes);return e._objectEach(i,(function(r,a){i[a]=e._encode(r,t,void 0,n)})),e._objectEach(this._operations,(function(e,t){i[t]=e})),a.has(this,"id")&&(i.objectId=this.id),["createdAt","updatedAt"].forEach((function(e){if(a.has(r,e)){var t=r[e];i[e]=a.isDate(t)?t.toJSON():t}})),n&&(i.__type="File"),i},toFullJSON:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this._toFullJSON(e)},toJSON:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[this];return this._toFullJSON(r,!1)},_toPointer:function(){return{__type:"Pointer",className:this.className,objectId:this.id}},getACL:function(){return this._acl},setACL:function(t){return t instanceof e.ACL?(this._acl=t,this):new c(c.OTHER_CAUSE,"ACL must be a AV.ACL.")},name:function(){return this.get("name")},url:function(){return this.get("url")},get:function(e){switch(e){case"objectId":return this.id;case"url":case"name":case"mime_type":case"metaData":case"createdAt":case"updatedAt":return this.attributes[e];default:return this.attributes.metaData[e]}},set:function(){for(var e=this,t=function(t,r){switch(t){case"name":case"url":case"mime_type":case"base64":case"metaData":e.attributes[t]=r;break;default:e.attributes.metaData[t]=r}},r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];switch(n.length){case 1:for(var a in n[0])t(a,n[0][a]);break;case 2:t(n[0],n[1])}return this},setUploadHeader:function(e,t){return this._uploadHeaders[e]=t,this},metaData:function(e,t){return e&&t?(this.attributes.metaData[e]=t,this):e&&!t?this.attributes.metaData[e]:this.attributes.metaData},thumbnailURL:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"png",a=this.attributes.url;if(!a)throw new Error("Invalid url.");if(!e||!t||e<=0||t<=0)throw new Error("Invalid width or height value.");if(r<=0||r>100)throw new Error("Invalid quality value.");var o=n?2:1;return a+"?imageView/"+o+"/w/"+e+"/h/"+t+"/q/"+r+"/format/"+i},size:function(){return this.metaData().size},ownerId:function(){return this.metaData().owner},destroy:function(e){return this.id?l("files",null,this.id,"DELETE",null,e):i.default.reject(new Error("The file id does not eixst."))},_fileToken:function(e,r){var n=this.attributes.name,i=t(n);!i&&this._extName&&(n+=this._extName,i=this._extName);var a={name:n,keep_file_name:r.keepFileName,key:r.key,ACL:this._acl,mime_type:e,metaData:this.attributes.metaData};return l("fileTokens",null,null,"POST",a,r)},save:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.id)throw new Error("File is already saved.");if(!this._previousSave)if(this._data){var r=this.get("mime_type");this._previousSave=this._fileToken(r,t).then((function(n){return n.mime_type&&(r=n.mime_type,e.set("mime_type",r)),e._token=n.token,i.default.resolve().then((function(){var t=e._data;if(t&&t.base64)return m(t.base64,r);if(t&&t.blob)return!t.blob.type&&r&&(t.blob.type=r),t.blob.name||(t.blob.name=e.get("name")),t.blob;if("undefined"!=typeof Blob&&t instanceof Blob)return t;throw new TypeError("malformed file data")})).then((function(r){var i=a.extend({},t);switch(t.onprogress&&(i.onprogress=function(e){if("download"!==e.direction)return t.onprogress(e)}),n.provider){case"s3":return u(n,r,e,i);case"qcloud":return o(n,r,e,i);case"qiniu":default:return s(n,r,e,i)}})).then(p((function(){return e._callback(!0)})),(function(t){throw e._callback(!1),t}))}))}else if(this.attributes.url&&"external"===this.attributes.metaData.__source){var n={name:this.attributes.name,ACL:this._acl,metaData:this.attributes.metaData,mime_type:this.mimeType,url:this.attributes.url};this._previousSave=l("files",null,null,"post",n,t).then((function(t){return e.id=t.objectId,e}))}return this._previousSave},_callback:function(e){l("fileCallback",null,null,"post",{token:this._token,result:e}).catch(h),delete this._token,delete this._data},fetch:function(e,t){if(!this.id)throw new Error("Cannot fetch unsaved file");return l("files",null,this.id,"GET",d(e),t).then(this._finishFetch.bind(this))},_finishFetch:function(t){var r=e.Object.prototype.parse(t);return r.attributes={name:r.name,url:r.url,mime_type:r.mime_type,bucket:r.bucket},r.attributes.metaData=r.metaData||{},r.id=r.objectId,delete r.objectId,delete r.metaData,delete r.url,delete r.name,delete r.mime_type,delete r.bucket,a.extend(this,r),this}})}},function(e,t,r){"use strict";var n=r(38).getAdapter,i=r(37)("cos");e.exports=function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=e.upload_url+"?sign="+encodeURIComponent(e.token),s={field:"fileContent",data:t,name:r.attributes.name},u={headers:r._uploadHeaders,data:{op:"upload"},onprogress:a.onprogress};i("url: %s, file: %o, options: %o",o,s,u);var c=n("upload");return c(o,s,u).then((function(t){if(i(t.status,t.data),!1===t.ok){var n=new Error(t.status);throw n.response=t,n}return r.attributes.url=e.url,r._bucket=e.bucket,r.id=e.objectId,r}),(function(e){var t=e.response;throw t&&(i(t.status,t.data),e.statusCode=t.status,e.response=t.data),e}))}},function(e,t,r){"use strict";var n=f(r(160)),i=f(r(297)),a=f(r(298)),o=f(r(3)),s=f(r(306)),u=f(r(307)),c=f(r(167)),l=f(r(19));function f(e){return e&&e.__esModule?e:{default:e}}var p=r(38).getAdapter,d=r(37)("leancloud:qiniu"),h=r(60),m=r(310),y=67108864,v=16777216;function g(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=e.token,a=e.upload_url||"https://upload.qiniup.com",o={field:"file",data:t,name:r.attributes.name},s={headers:r._uploadHeaders,data:{name:r.attributes.name,key:e.key,token:i},onprogress:n.onprogress};d("url: %s, file: %o, options: %o",a,o,s);var u=p("upload");return u(a,o,s).then((function(t){if(d(t.status,t.data),!1===t.ok){var n=t.status;t.data&&(n=t.data.error?t.data.error:(0,l.default)(t.data));var i=new Error(n);throw i.response=t,i}return r.attributes.url=e.url,r._bucket=e.bucket,r.id=e.objectId,r}),(function(e){var t=e.response;throw t&&(d(t.status,t.data),e.statusCode=t.status,e.response=t.data),e}))}var b=function(e){function t(e,r,a,o){(0,s.default)(this,t);var u=(0,i.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e,r,a,o));return u.size=r.size,u}return(0,a.default)(t,e),(0,u.default)(t,[{key:"getChunk",value:function(){if(this.offset>=this.size)return null;var e=this.data.slice(this.offset,this.offset+v);return this.offset+=e.size,e}}]),t}(function(){function e(t,r,n,i){var a=this;(0,s.default)(this,e),this.uploadInfo=t,this.data=r,this.file=n,this.size=void 0,this.offset=0,this.uploadedChunks=0;var o=function(e){var t=m(unescape(encodeURIComponent(e))),r="",n=!0,i=!1,a=void 0;try{for(var o,s=(0,c.default)(t);!(n=(o=s.next()).done);n=!0){var u=o.value;switch(u){case"+":r+="-";break;case"/":r+="_";break;default:r+=u}}}catch(e){i=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}return r}(t.key),u=t.upload_url||"https://upload.qiniup.com";this.baseURL=u+"/buckets/"+t.bucket+"/objects/"+o+"/uploads",this.upToken="UpToken "+t.token,this.uploaded=0,i&&i.onprogress&&(this.onProgress=function(e){var t=e.loaded;(t+=a.uploadedChunks*v)<=a.uploaded||(a.size?i.onprogress({loaded:t,total:a.size,percent:t/a.size*100}):i.onprogress({loaded:t}),a.uploaded=t)})}return(0,u.default)(e,[{key:"getUploadId",value:function(){return h({method:"POST",url:this.baseURL,headers:{Authorization:this.upToken}}).then((function(e){return e.uploadId}))}},{key:"getChunk",value:function(){throw new Error("Not implemented")}},{key:"uploadPart",value:function(e,t,r){return h({method:"PUT",url:this.baseURL+"/"+e+"/"+t,headers:{Authorization:this.upToken},data:r,onprogress:this.onProgress}).then((function(e){var r=e.etag;return{partNumber:t,etag:r}}))}},{key:"stopUpload",value:function(e){return h({method:"DELETE",url:this.baseURL+"/"+e,headers:{Authorization:this.upToken}})}},{key:"upload",value:function(){var e=this,t=[];return this.getUploadId().then((function(r){return function n(){return o.default.resolve(e.getChunk()).then((function(i){if(i){var a=t.length+1;return e.uploadPart(r,a,i).then((function(r){return t.push(r),e.uploadedChunks++,n()}))}})).catch((function(t){return e.stopUpload(r).then((function(){return o.default.reject(t)}))}))}().then((function(){return h({method:"POST",url:e.baseURL+"/"+r,headers:{Authorization:e.upToken},data:{parts:t,fname:e.file.attributes.name,mimeType:e.file.attributes.mime_type}})}))})).then((function(){return e.file.attributes.url=e.uploadInfo.url,e.file._bucket=e.uploadInfo.bucket,e.file.id=e.uploadInfo.objectId,e.file}))}}]),e}());function _(e){return"undefined"!=typeof Blob&&e instanceof Blob}e.exports=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return _(t)&&t.size>=y?new b(e,t,r,n).upload():g(e,t,r,n)}},function(e,t,r){"use strict";t.__esModule=!0;var n,i=(n=r(30))&&n.__esModule?n:{default:n};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},function(e,t,r){"use strict";t.__esModule=!0;var n=o(r(299)),i=o(r(303)),a=o(r(30));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,a.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(n.default?(0,n.default)(e,t):e.__proto__=t)}},function(e,t,r){e.exports={default:r(300),__esModule:!0}},function(e,t,r){r(301),e.exports=r(2).Object.setPrototypeOf},function(e,t,r){var n=r(16);n(n.S,"Object",{setPrototypeOf:r(302).set})},function(e,t,r){var n=r(20),i=r(17),a=function(e,t){if(i(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{(n=r(31)(Function.call,r(94).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,r){return a(e,r),t?e.__proto__=r:n(e,r),e}}({},!1):void 0),check:a}},function(e,t,r){e.exports={default:r(304),__esModule:!0}},function(e,t,r){r(305);var n=r(2).Object;e.exports=function(e,t){return n.create(e,t)}},function(e,t,r){var n=r(16);n(n.S,"Object",{create:r(66)})},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,r){"use strict";t.__esModule=!0;var n,i=(n=r(90))&&n.__esModule?n:{default:n};t.default=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,i.default)(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()},function(e,t,r){r(56),r(39),e.exports=r(309)},function(e,t,r){var n=r(17),i=r(72);e.exports=r(2).getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},function(e,t,r){"use strict";var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.exports=function(e){for(var t="",r=0;r<e.length;){var i=e.charCodeAt(r++),a=e.charCodeAt(r++),o=e.charCodeAt(r++);if(i>255||a>255||o>255)throw new TypeError("Failed to encode base64: The string to be encoded contains characters outside of the Latin1 range.");var s=i<<16|a<<8|o;t+=n.charAt(s>>18&63)+n.charAt(s>>12&63)+n.charAt(s>>6&63)+n.charAt(63&s)}var u=e.length%3;return u?t.slice(0,u-3)+"===".substring(u):t}},function(e,t,r){"use strict";var n=r(0),i=r(60);e.exports=function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return i({url:e.upload_url,method:"PUT",data:t,headers:n.extend({"Content-Type":r.get("mime_type"),"Cache-Control":"public, max-age=31536000"},r._uploadHeaders),onprogress:a.onprogress}).then((function(){return r.attributes.url=e.url,r._bucket=e.bucket,r.id=e.objectId,r}))}},function(e,t,r){var n,i,a,o,s;n=r(313),i=r(168).utf8,a=r(314),o=r(168).bin,(s=function e(t,r){t.constructor==String?t=r&&"binary"===r.encoding?o.stringToBytes(t):i.stringToBytes(t):a(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||(t=t.toString());for(var s=n.bytesToWords(t),u=8*t.length,c=1732584193,l=-271733879,f=-1732584194,p=271733878,d=0;d<s.length;d++)s[d]=16711935&(s[d]<<8|s[d]>>>24)|4278255360&(s[d]<<24|s[d]>>>8);s[u>>>5]|=128<<u%32,s[14+(u+64>>>9<<4)]=u;var h=e._ff,m=e._gg,y=e._hh,v=e._ii;for(d=0;d<s.length;d+=16){var g=c,b=l,_=f,w=p;c=h(c,l,f,p,s[d+0],7,-680876936),p=h(p,c,l,f,s[d+1],12,-389564586),f=h(f,p,c,l,s[d+2],17,606105819),l=h(l,f,p,c,s[d+3],22,-1044525330),c=h(c,l,f,p,s[d+4],7,-176418897),p=h(p,c,l,f,s[d+5],12,1200080426),f=h(f,p,c,l,s[d+6],17,-1473231341),l=h(l,f,p,c,s[d+7],22,-45705983),c=h(c,l,f,p,s[d+8],7,1770035416),p=h(p,c,l,f,s[d+9],12,-1958414417),f=h(f,p,c,l,s[d+10],17,-42063),l=h(l,f,p,c,s[d+11],22,-1990404162),c=h(c,l,f,p,s[d+12],7,1804603682),p=h(p,c,l,f,s[d+13],12,-40341101),f=h(f,p,c,l,s[d+14],17,-1502002290),c=m(c,l=h(l,f,p,c,s[d+15],22,1236535329),f,p,s[d+1],5,-165796510),p=m(p,c,l,f,s[d+6],9,-1069501632),f=m(f,p,c,l,s[d+11],14,643717713),l=m(l,f,p,c,s[d+0],20,-373897302),c=m(c,l,f,p,s[d+5],5,-701558691),p=m(p,c,l,f,s[d+10],9,38016083),f=m(f,p,c,l,s[d+15],14,-660478335),l=m(l,f,p,c,s[d+4],20,-405537848),c=m(c,l,f,p,s[d+9],5,568446438),p=m(p,c,l,f,s[d+14],9,-1019803690),f=m(f,p,c,l,s[d+3],14,-187363961),l=m(l,f,p,c,s[d+8],20,1163531501),c=m(c,l,f,p,s[d+13],5,-1444681467),p=m(p,c,l,f,s[d+2],9,-51403784),f=m(f,p,c,l,s[d+7],14,1735328473),c=y(c,l=m(l,f,p,c,s[d+12],20,-1926607734),f,p,s[d+5],4,-378558),p=y(p,c,l,f,s[d+8],11,-2022574463),f=y(f,p,c,l,s[d+11],16,1839030562),l=y(l,f,p,c,s[d+14],23,-35309556),c=y(c,l,f,p,s[d+1],4,-1530992060),p=y(p,c,l,f,s[d+4],11,1272893353),f=y(f,p,c,l,s[d+7],16,-155497632),l=y(l,f,p,c,s[d+10],23,-1094730640),c=y(c,l,f,p,s[d+13],4,681279174),p=y(p,c,l,f,s[d+0],11,-358537222),f=y(f,p,c,l,s[d+3],16,-722521979),l=y(l,f,p,c,s[d+6],23,76029189),c=y(c,l,f,p,s[d+9],4,-640364487),p=y(p,c,l,f,s[d+12],11,-421815835),f=y(f,p,c,l,s[d+15],16,530742520),c=v(c,l=y(l,f,p,c,s[d+2],23,-995338651),f,p,s[d+0],6,-198630844),p=v(p,c,l,f,s[d+7],10,1126891415),f=v(f,p,c,l,s[d+14],15,-1416354905),l=v(l,f,p,c,s[d+5],21,-57434055),c=v(c,l,f,p,s[d+12],6,1700485571),p=v(p,c,l,f,s[d+3],10,-1894986606),f=v(f,p,c,l,s[d+10],15,-1051523),l=v(l,f,p,c,s[d+1],21,-2054922799),c=v(c,l,f,p,s[d+8],6,1873313359),p=v(p,c,l,f,s[d+15],10,-30611744),f=v(f,p,c,l,s[d+6],15,-1560198380),l=v(l,f,p,c,s[d+13],21,1309151649),c=v(c,l,f,p,s[d+4],6,-145523070),p=v(p,c,l,f,s[d+11],10,-1120210379),f=v(f,p,c,l,s[d+2],15,718787259),l=v(l,f,p,c,s[d+9],21,-343485551),c=c+g>>>0,l=l+b>>>0,f=f+_>>>0,p=p+w>>>0}return n.endian([c,l,f,p])})._ff=function(e,t,r,n,i,a,o){var s=e+(t&r|~t&n)+(i>>>0)+o;return(s<<a|s>>>32-a)+t},s._gg=function(e,t,r,n,i,a,o){var s=e+(t&n|r&~n)+(i>>>0)+o;return(s<<a|s>>>32-a)+t},s._hh=function(e,t,r,n,i,a,o){var s=e+(t^r^n)+(i>>>0)+o;return(s<<a|s>>>32-a)+t},s._ii=function(e,t,r,n,i,a,o){var s=e+(r^(t|~n))+(i>>>0)+o;return(s<<a|s>>>32-a)+t},s._blocksize=16,s._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var r=n.wordsToBytes(s(e,t));return t&&t.asBytes?r:t&&t.asString?o.bytesToString(r):n.bytesToHex(r)}},function(e,t){var r,n;r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],r=0,n=0;r<e.length;r++,n+=8)t[n>>>5]|=e[r]<<24-n%32;return t},wordsToBytes:function(e){for(var t=[],r=0;r<32*e.length;r+=8)t.push(e[r>>>5]>>>24-r%32&255);return t},bytesToHex:function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((15&e[r]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},bytesToBase64:function(e){for(var t=[],n=0;n<e.length;n+=3)for(var i=e[n]<<16|e[n+1]<<8|e[n+2],a=0;a<4;a++)8*n+6*a<=8*e.length?t.push(r.charAt(i>>>6*(3-a)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],n=0,i=0;n<e.length;i=++n%4)0!=i&&t.push((r.indexOf(e.charAt(n-1))&Math.pow(2,-2*i+8)-1)<<2*i|r.indexOf(e.charAt(n))>>>6-2*i);return t}},e.exports=n},function(e,t){function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(r(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,r){"use strict";e.exports=function(e,t){var r;e.indexOf("base64")<0?r=atob(e):e.split(",")[0].indexOf("base64")>=0?(t=t||e.split(",")[0].split(":")[1].split(";")[0],r=atob(e.split(",")[1])):r=unescape(e.split(",")[1]);for(var n=new Uint8Array(r.length),i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return new Blob([n],{type:t})}},function(e,t,r){"use strict";var n=s(r(317)),i=s(r(19)),a=s(r(320)),o=s(r(3));function s(e){return e&&e.__esModule?e:{default:e}}var u=r(0),c=r(29),l=r(12)._request,f=r(15),p=f.isNullOrUndefined,d=f.ensureArray,h=f.transformFetchOptions,m=f.setValue,y=f.findValue,v=f.isPlainObject,g=f.continueWhile,b=function e(t){return u.isArray(t)?t.map(e):v(t)?u.mapObject(t,e):u.isObject(t)&&t._toPointer?t._toPointer():t},_=["objectId","createdAt","updatedAt"],w=function(e){if(-1!==_.indexOf(e))throw new Error("key["+e+"] is reserved")},k=function(e){var t=u.find(e,(function(e){return e instanceof Error}));if(!t)return e;var r=new c(t.code,t.message);throw r.results=e,r};function x(e,t){return e&&e[t]?u.isFunction(e[t])?e[t]():e[t]:null}e.exports=function(e){e.Object=function(t,r){if(u.isString(t))return e.Object._create.apply(this,arguments);t=t||{},r&&r.parse&&(t=this.parse(t),t=this._mergeMagicFields(t));var n=x(this,"defaults");n&&(t=u.extend({},n,t)),r&&r.collection&&(this.collection=r.collection),this._serverData={},this._opSetQueue=[{}],this._flags={},this.attributes={},this._hashedJSON={},this._escapedAttributes={},this.cid=u.uniqueId("c"),this.changed={},this._silent={},this._pending={},this.set(t,{silent:!0}),this.changed={},this._silent={},this._pending={},this._hasData=!0,this._previousAttributes=u.clone(this.attributes),this.initialize.apply(this,arguments)},e.Object.saveAll=function(t,r){return e.Object._deepSaveAsync(t,null,r)},e.Object.fetchAll=function(e,t){return o.default.resolve().then((function(){return l("batch",null,null,"POST",{requests:u.map(e,(function(e){if(!e.className)throw new Error("object must have className to fetch");if(!e.id)throw new Error("object must have id to fetch");if(e.dirty())throw new Error("object is modified but not saved");return{method:"GET",path:"/1.1/classes/"+e.className+"/"+e.id}}))},t)})).then((function(t){var r=u.map(e,(function(e,r){if(t[r].success){var n=e.parse(t[r].success);return e._cleanupUnsetKeys(n),e._finishFetch(n),e}return null===t[r].success?new c(c.OBJECT_NOT_FOUND,"Object not found."):new c(t[r].error.code,t[r].error.error)}));return k(r)}))},u.extend(e.Object.prototype,e.Events,{_fetchWhenSave:!1,initialize:function(){},fetchWhenSave:function(e){if(console.warn("AV.Object#fetchWhenSave is deprecated, use AV.Object#save with options.fetchWhenSave instead."),!u.isBoolean(e))throw new Error("Expect boolean value for fetchWhenSave");this._fetchWhenSave=e},getObjectId:function(){return this.id},getCreatedAt:function(){return this.createdAt},getUpdatedAt:function(){return this.updatedAt},toJSON:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this._toFullJSON(r,!1)},toFullJSON:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this._toFullJSON(e)},_toFullJSON:function(t){var r=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=u.clone(this.attributes);if(u.isArray(t))var a=t.concat(this);return e._objectEach(i,(function(t,r){i[r]=e._encode(t,a,void 0,n)})),e._objectEach(this._operations,(function(e,t){i[t]=e})),u.has(this,"id")&&(i.objectId=this.id),["createdAt","updatedAt"].forEach((function(e){if(u.has(r,e)){var t=r[e];i[e]=u.isDate(t)?t.toJSON():t}})),n&&(i.__type="Object",u.isArray(t)&&t.length&&(i.__type="Pointer"),i.className=this.className),i},_refreshCache:function(){var t=this;t._refreshingCache||(t._refreshingCache=!0,e._objectEach(this.attributes,(function(r,n){r instanceof e.Object?r._refreshCache():u.isObject(r)&&t._resetCacheForKey(n)&&t.set(n,new e.Op.Set(r),{silent:!0})})),delete t._refreshingCache)},dirty:function(e){this._refreshCache();var t=u.last(this._opSetQueue);return e?!!t[e]:!this.id||u.keys(t).length>0},dirtyKeys:function(){this._refreshCache();var e=u.last(this._opSetQueue);return u.keys(e)},_toPointer:function(){return{__type:"Pointer",className:this.className,objectId:this.id}},get:function(e){switch(e){case"objectId":return this.id;case"createdAt":case"updatedAt":return this[e];default:return this.attributes[e]}},relation:function(t){var r=this.get(t);if(r){if(!(r instanceof e.Relation))throw new Error("Called relation() on non-relation field "+t);return r._ensureParentAndKey(this,t),r}return new e.Relation(this,t)},escape:function(e){var t=this._escapedAttributes[e];if(t)return t;var r,n=this.attributes[e];return r=p(n)?"":u.escape(n.toString()),this._escapedAttributes[e]=r,r},has:function(e){return!p(this.attributes[e])},_mergeMagicFields:function(t){var r=this;return e._arrayEach(["objectId","createdAt","updatedAt"],(function(n){t[n]&&("objectId"===n?r.id=t[n]:"createdAt"!==n&&"updatedAt"!==n||u.isDate(t[n])?r[n]=t[n]:r[n]=e._parseDate(t[n]),delete t[n])})),t},_startSave:function(){this._opSetQueue.push({})},_cancelSave:function(){var t=u.first(this._opSetQueue);this._opSetQueue=u.rest(this._opSetQueue);var r=u.first(this._opSetQueue);e._objectEach(t,(function(e,n){var i=t[n],a=r[n];i&&a?r[n]=a._mergeWithPrevious(i):i&&(r[n]=i)})),this._saving=this._saving-1},_finishSave:function(t){var r={};e._traverse(this.attributes,(function(t){t instanceof e.Object&&t.id&&t._hasData&&(r[t.id]=t)}));var n=u.first(this._opSetQueue);this._opSetQueue=u.rest(this._opSetQueue),this._applyOpSet(n,this._serverData),this._mergeMagicFields(t);var i=this;e._objectEach(t,(function(t,n){i._serverData[n]=e._decode(t,n);var a=e._traverse(i._serverData[n],(function(t){if(t instanceof e.Object&&r[t.id])return r[t.id]}));a&&(i._serverData[n]=a)})),this._rebuildAllEstimatedData();var a=this._opSetQueue.map(u.clone);this._refreshCache(),this._opSetQueue=a,this._saving=this._saving-1},_finishFetch:function(t,r){this._opSetQueue=[{}],this._mergeMagicFields(t);var n=this;e._objectEach(t,(function(t,r){n._serverData[r]=e._decode(t,r)})),this._rebuildAllEstimatedData(),this._refreshCache(),this._opSetQueue=[{}],this._hasData=r},_applyOpSet:function(t,r){var n=this;e._objectEach(t,(function(t,i){var o=y(r,i),s=(0,a.default)(o,3),u=s[0],c=s[1],l=s[2];m(r,i,t._estimate(u,n,i)),c&&c[l]===e.Op._UNSET&&delete c[l]}))},_resetCacheForKey:function(t){var r=this.attributes[t];if(u.isObject(r)&&!(r instanceof e.Object)&&!(r instanceof e.File)){var n=(0,i.default)(b(r));if(this._hashedJSON[t]!==n){var a=!!this._hashedJSON[t];return this._hashedJSON[t]=n,a}}return!1},_rebuildEstimatedDataForKey:function(t){var r=this;delete this.attributes[t],this._serverData[t]&&(this.attributes[t]=this._serverData[t]),e._arrayEach(this._opSetQueue,(function(n){var i=n[t];if(i){var o=y(r.attributes,t),s=(0,a.default)(o,4),u=s[0],c=s[1],l=s[2],f=s[3];m(r.attributes,t,i._estimate(u,r,t)),c&&c[l]===e.Op._UNSET&&delete c[l],r._resetCacheForKey(f)}}))},_rebuildAllEstimatedData:function(){var t=this,r=u.clone(this.attributes);this.attributes=u.clone(this._serverData),e._arrayEach(this._opSetQueue,(function(r){t._applyOpSet(r,t.attributes),e._objectEach(r,(function(e,r){t._resetCacheForKey(r)}))})),e._objectEach(r,(function(e,r){t.attributes[r]!==e&&t.trigger("change:"+r,t,t.attributes[r],{})})),e._objectEach(this.attributes,(function(e,n){u.has(r,n)||t.trigger("change:"+n,t,e,{})}))},set:function(t,r,n){var i;if(u.isObject(t)||p(t)?(i=u.mapObject(t,(function(t,r){return w(r),e._decode(t,r)})),n=r):(i={},w(t),i[t]=e._decode(r,t)),n=n||{},!i)return this;i instanceof e.Object&&(i=i.attributes),n.unset&&e._objectEach(i,(function(t,r){i[r]=new e.Op.Unset}));var a=u.clone(i),o=this;e._objectEach(a,(function(t,r){t instanceof e.Op&&(a[r]=t._estimate(o.attributes[r],o,r),a[r]===e.Op._UNSET&&delete a[r])})),this._validate(i,n),n.changes={};var s=this._escapedAttributes;return e._arrayEach(u.keys(i),(function(t){var r=i[t];r instanceof e.Relation&&(r.parent=o),r instanceof e.Op||(r=new e.Op.Set(r));var a=!0;r instanceof e.Op.Set&&u.isEqual(o.attributes[t],r.value)&&(a=!1),a&&(delete s[t],n.silent?o._silent[t]=!0:n.changes[t]=!0);var c=u.last(o._opSetQueue);c[t]=r._mergeWithPrevious(c[t]),o._rebuildEstimatedDataForKey(t),a?(o.changed[t]=o.attributes[t],n.silent||(o._pending[t]=!0)):(delete o.changed[t],delete o._pending[t])})),n.silent||this.change(n),this},unset:function(e,t){return(t=t||{}).unset=!0,this.set(e,null,t)},increment:function(t,r){return(u.isUndefined(r)||u.isNull(r))&&(r=1),this.set(t,new e.Op.Increment(r))},add:function(t,r){return this.set(t,new e.Op.Add(d(r)))},addUnique:function(t,r){return this.set(t,new e.Op.AddUnique(d(r)))},remove:function(t,r){return this.set(t,new e.Op.Remove(d(r)))},bitAnd:function(t,r){return this.set(t,new e.Op.BitAnd(r))},bitOr:function(t,r){return this.set(t,new e.Op.BitOr(r))},bitXor:function(t,r){return this.set(t,new e.Op.BitXor(r))},op:function(e){return u.last(this._opSetQueue)[e]},clear:function(e){(e=e||{}).unset=!0;var t=u.extend(this.attributes,this._operations);return this.set(t,e)},revert:function(e){var t=u.last(this._opSetQueue);return d(e||u.keys(t)).forEach((function(e){delete t[e]})),this._rebuildAllEstimatedData(),this},_getSaveJSON:function(){var t=u.clone(u.first(this._opSetQueue));return e._objectEach(t,(function(e,r){t[r]=e.toJSON()})),t},_canBeSerialized:function(){return e.Object._canBeSerializedAsValue(this.attributes)},fetch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(!this.id)throw new Error("Cannot fetch unsaved object");var r=this,n=l("classes",this.className,this.id,"GET",h(e),t);return n.then((function(t){var n=r.parse(t);return r._cleanupUnsetKeys(n,e.keys?d(e.keys).join(",").split(","):void 0),r._finishFetch(n,!0),r}))},_cleanupUnsetKeys:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.keys(this._serverData);u.forEach(r,(function(r){void 0===e[r]&&delete t._serverData[r]}))},save:function(t,r,n){var i,a,s;u.isObject(t)||p(t)?(i=t,s=r):((i={})[t]=r,s=n),(s=u.clone(s)||{}).wait&&(a=u.clone(this.attributes));var c=u.clone(s)||{};c.wait&&(c.silent=!0),i&&this.set(i,c);var f=this,d=[],h=[];return e.Object._findUnsavedChildren(f,d,h),d.length+h.length>1?e.Object._deepSaveAsync(this,f,s):(this._startSave(),this._saving=(this._saving||0)+1,this._allPreviousSaves=this._allPreviousSaves||o.default.resolve(),this._allPreviousSaves=this._allPreviousSaves.catch((function(e){})).then((function(){var e,t=f.id?"PUT":"POST",r=f._getSaveJSON(),n={};if((f._fetchWhenSave||s.fetchWhenSave)&&(n.new="true"),s._failOnNotExist&&(n.failOnNotExist="true"),s.query&&("function"==typeof s.query._getParams&&(e=s.query._getParams())&&(n.where=e.where),!n.where))throw new Error("options.query is not an AV.Query");u.extend(r,f._flags);var o="classes",p=f.className;"_User"!==f.className||f.id||(o="users",p=null);var d=(s._makeRequest||l)(o,p,f.id,t,r,s,n);return d.then((function(e){var t=f.parse(e);return s.wait&&(t=u.extend(i||{},t)),f._finishSave(t),s.wait&&f.set(a,c),f}),(function(e){throw f._cancelSave(),e}))})),this._allPreviousSaves)},destroy:function(e){e=e||{};var t=this,r=function(){t.trigger("destroy",t,t.collection,e)};return this.id?(e.wait||r(),l("classes",this.className,this.id,"DELETE",this._flags,e).then((function(){return e.wait&&r(),t}))):r()},parse:function(t){var r=u.clone(t);return["createdAt","updatedAt"].forEach((function(t){r[t]&&(r[t]=e._parseDate(r[t]))})),r.createdAt&&!r.updatedAt&&(r.updatedAt=r.createdAt),r},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.id},change:function(t){t=t||{};var r=this._changing;this._changing=!0;var n=this;e._objectEach(this._silent,(function(e){n._pending[e]=!0}));var i=u.extend({},t.changes,this._silent);if(this._silent={},e._objectEach(i,(function(e,r){n.trigger("change:"+r,n,n.get(r),t)})),r)return this;for(var a=function(e,t){n._pending[t]||n._silent[t]||delete n.changed[t]};!u.isEmpty(this._pending);)this._pending={},this.trigger("change",this,t),e._objectEach(this.changed,a),n._previousAttributes=u.clone(this.attributes);return this._changing=!1,this},previous:function(e){return arguments.length&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return u.clone(this._previousAttributes)},isValid:function(){try{this.validate(this.attributes)}catch(e){return!1}return!0},validate:function(t){if(u.has(t,"ACL")&&!(t.ACL instanceof e.ACL))throw new c(c.OTHER_CAUSE,"ACL must be a AV.ACL.")},_validate:function(e,t){!t.silent&&this.validate&&(e=u.extend({},this.attributes,e),this.validate(e))},getACL:function(){return this.get("ACL")},setACL:function(e,t){return this.set("ACL",e,t)},disableBeforeHook:function(){this.ignoreHook("beforeSave"),this.ignoreHook("beforeUpdate"),this.ignoreHook("beforeDelete")},disableAfterHook:function(){this.ignoreHook("afterSave"),this.ignoreHook("afterUpdate"),this.ignoreHook("afterDelete")},ignoreHook:function(t){if(!u.contains(["beforeSave","afterSave","beforeUpdate","afterUpdate","beforeDelete","afterDelete"],t))throw new Error("Unsupported hookName: "+t);if(!e.hookKey)throw new Error("ignoreHook required hookKey");this._flags.__ignore_hooks||(this._flags.__ignore_hooks=[]),this._flags.__ignore_hooks.push(t)}}),e.Object.createWithoutData=function(t,r,n){var i=void 0;if(u.isString(t))i=e.Object._getSubclass(t);else{if(!(t.prototype&&t.prototype instanceof e.Object))throw new Error("class must be a string or a subclass of AV.Object.");i=t}if(!r)throw new TypeError("The objectId must be provided");var a=new i;return a.id=r,a._hasData=n,a},e.Object.destroyAll=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||0===e.length)return o.default.resolve();var r=u.groupBy(e,(function(e){return(0,i.default)({className:e.className,flags:e._flags})})),n={requests:u.map(r,(function(e){var t=u.map(e,"id").join(",");return{method:"DELETE",path:"/1.1/classes/"+e[0].className+"/"+t,body:e[0]._flags}}))};return l("batch",null,null,"POST",n,t).then((function(e){var t=u.find(e,(function(e){return!e.success}));if(t)throw new c(t.error.code,t.error.error)}))},e.Object._getSubclass=function(t){if(!u.isString(t))throw new Error("AV.Object._getSubclass requires a string argument.");var r=e.Object._classMap[t];return r||(r=e.Object.extend(t),e.Object._classMap[t]=r),r},e.Object._create=function(t,r,n){return new(e.Object._getSubclass(t))(r,n)},e.Object._classMap={},e.Object._extend=e._extend,e.Object.new=function(t,r){return new e.Object(t,r)},e.Object.extend=function(t,r,i){if(!u.isString(t)){if(t&&u.has(t,"className"))return e.Object.extend(t.className,t,r);throw new Error("AV.Object.extend's first argument should be the className.")}"User"===t&&(t="_User");var a=null;if(u.has(e.Object._classMap,t)){var o=e.Object._classMap[t];if(!r&&!i)return o;a=o._extend(r,i)}else(r=r||{})._className=t,a=this._extend(r,i);return a.extend=function(r){if(u.isString(r)||r&&u.has(r,"className"))return e.Object.extend.apply(a,arguments);var n=[t].concat(u.toArray(arguments));return e.Object.extend.apply(a,n)},Object.defineProperty(a,"query",(0,n.default)(e.Object,"query")),a.new=function(e,t){return new a(e,t)},e.Object._classMap[t]=a,a},Object.defineProperty(e.Object.prototype,"className",{get:function(){var e=this._className||this.constructor._LCClassName||this.constructor.name;return"User"===e?"_User":e}}),e.Object.register=function(t,r){if(!(t.prototype instanceof e.Object))throw new Error("registered class is not a subclass of AV.Object");var n=r||t.name;if(!n.length)throw new Error("registered class must be named");r&&(t._LCClassName=r),e.Object._classMap[n]=t},Object.defineProperty(e.Object,"query",{get:function(){return new e.Query(this.prototype.className)}}),e.Object._findUnsavedChildren=function(t,r,n){e._traverse(t,(function(t){t instanceof e.Object?t.dirty()&&r.push(t):t instanceof e.File&&(t.id||n.push(t))}))},e.Object._canBeSerializedAsValue=function(t){var r=!0;return t instanceof e.Object||t instanceof e.File?r=!!t.id:u.isArray(t)?e._arrayEach(t,(function(t){e.Object._canBeSerializedAsValue(t)||(r=!1)})):u.isObject(t)&&e._objectEach(t,(function(t){e.Object._canBeSerializedAsValue(t)||(r=!1)})),r},e.Object._deepSaveAsync=function(t,r,n){var i=[],a=[];e.Object._findUnsavedChildren(t,i,a);var s=o.default.resolve();u.each(a,(function(e){s=s.then((function(){return e.save()}))}));var f=u.uniq(i),p=u.uniq(f);return s.then((function(){return g((function(){return p.length>0}),(function(){var t=[],r=[];if(e._arrayEach(p,(function(e){e._canBeSerialized()?t.push(e):r.push(e)})),p=r,0===t.length)return o.default.reject(new c(c.OTHER_CAUSE,"Tried to save a batch with a cycle."));var i=o.default.resolve(u.map(t,(function(e){return e._allPreviousSaves||o.default.resolve()}))).then((function(){return l("batch",null,null,"POST",{requests:u.map(t,(function(e){var t=e.id?"PUT":"POST",r=e._getSaveJSON();u.extend(r,e._flags);var n="/classes/"+e.className;return"_User"!==e.className||e.id||(n="/users"),n="/1.1"+n,e.id&&(n=n+"/"+e.id),e._startSave(),{method:t,path:n,body:r}}))},n).then((function(e){var r=u.map(t,(function(t,r){return e[r].success?(t._finishSave(t.parse(e[r].success)),t):(t._cancelSave(),new c(e[r].error.code,e[r].error.error))}));return k(r)}))}));return e._arrayEach(t,(function(e){e._allPreviousSaves=i})),i}))})).then((function(){return t}))}}},function(e,t,r){e.exports={default:r(318),__esModule:!0}},function(e,t,r){r(319);var n=r(2).Object;e.exports=function(e,t){return n.getOwnPropertyDescriptor(e,t)}},function(e,t,r){var n=r(25),i=r(94).f;r(89)("getOwnPropertyDescriptor",(function(){return function(e,t){return i(n(e),t)}}))},function(e,t,r){"use strict";t.__esModule=!0;var n=a(r(169)),i=a(r(167));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if(Array.isArray(e))return e;if((0,n.default)(Object(e)))return function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var s,u=(0,i.default)(e);!(n=(s=u.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,r){r(56),r(39),e.exports=r(322)},function(e,t,r){var n=r(71),i=r(7)("iterator"),a=r(32);e.exports=r(2).isIterable=function(e){var t=Object(e);return void 0!==t[i]||"@@iterator"in t||a.hasOwnProperty(n(t))}},function(e,t,r){"use strict";var n=r(0),i=r(29);e.exports=function(e){e.Role=e.Object.extend("_Role",{constructor:function(t,r){if(n.isString(t)?(e.Object.prototype.constructor.call(this,null,null),this.setName(t)):e.Object.prototype.constructor.call(this,t,r),r){if(!(r instanceof e.ACL))throw new TypeError("acl must be an instance of AV.ACL");this.setACL(r)}},getName:function(){return this.get("name")},setName:function(e,t){return this.set("name",e,t)},getUsers:function(){return this.relation("users")},getRoles:function(){return this.relation("roles")},validate:function(t,r){if("name"in t&&t.name!==this.getName()){var a=t.name;if(this.id&&this.id!==t.objectId)return new i(i.OTHER_CAUSE,"A role's name can only be set before it has been saved.");if(!n.isString(a))return new i(i.OTHER_CAUSE,"A role's name must be a String.");if(!/^[0-9a-zA-Z\-_ ]+$/.test(a))return new i(i.OTHER_CAUSE,"A role's name can only contain alphanumeric characters, _, -, and spaces.")}return!!e.Object.prototype.validate&&e.Object.prototype.validate.call(this,t,r)}})}},function(e,t,r){"use strict";var n=o(r(19)),i=o(r(325)),a=o(r(3));function o(e){return e&&e.__esModule?e:{default:e}}var s=r(0),u=r(159),c=r(29),l=r(12),f=l._request,p=l.request,d=r(38).getAdapter,h="lc_qqapp",m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"weixin";return function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.unionIdPlatform,a=void 0===i?e:i,o=n.asMainAccount,u=void 0!==o&&o;if("string"!=typeof r)throw new c(c.OTHER_CAUSE,"unionId is not a string");if("string"!=typeof a)throw new c(c.OTHER_CAUSE,"unionIdPlatform is not a string");return s.extend({},t,{platform:a,unionid:r,main_account:Boolean(u)})}};e.exports=function(e){e.User=e.Object.extend("_User",{_isCurrentUser:!1,_mergeMagicFields:function(t){return t.sessionToken&&(this._sessionToken=t.sessionToken,delete t.sessionToken),e.User.__super__._mergeMagicFields.call(this,t)},_cleanupAuthData:function(){if(this.isCurrent()){var t=this.get("authData");t&&e._objectEach(this.get("authData"),(function(e,r){t[r]||delete t[r]}))}},_synchronizeAllAuthData:function(){if(this.get("authData")){var t=this;e._objectEach(this.get("authData"),(function(e,r){t._synchronizeAuthData(r)}))}},_synchronizeAuthData:function(t){if(this.isCurrent()){var r;s.isString(t)?(r=t,t=e.User._authProviders[r]):r=t.getAuthType();var n=this.get("authData");n&&t&&(t.restoreAuthentication(n[r])||this.dissociateAuthData(t))}},_handleSaveResult:function(t){return t&&!e._config.disableCurrentUser&&(this._isCurrentUser=!0),this._cleanupAuthData(),this._synchronizeAllAuthData(),delete this._serverData.password,this._rebuildEstimatedDataForKey("password"),this._refreshCache(),!t&&!this.isCurrent()||e._config.disableCurrentUser?a.default.resolve():a.default.resolve(e.User._saveCurrentUser(this))},_linkWith:function(t,r){var n,a=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=o.failOnNotExist,c=void 0!==u&&u;return s.isString(t)?(n=t,t=e.User._authProviders[t]):n=t.getAuthType(),r?this.save({authData:(0,i.default)({},n,r)},{fetchWhenSave:!!this.get("authData"),_failOnNotExist:c}).then((function(e){return e._handleSaveResult(!0).then((function(){return e}))})):t.authenticate().then((function(e){return a._linkWith(t,e)}))},associateWithAuthData:function(e,t){return this._linkWith(t,e)},associateWithAuthDataAndUnionId:function(e,t,r,n){return this._linkWith(t,m()(e,r,n))},associateWithMiniApp:function(e,t){var r=this;return void 0===e?d("getAuthInfo")().then((function(e){return r._linkWith(e.provider,e.authData,t)})):this._linkWith(e.provider,e.authData,t)},associateWithQQApp:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.preferUnionId,n=void 0!==r&&r,i=t.unionIdPlatform,a=void 0===i?"qq":i,o=t.asMainAccount,s=void 0===o||o,u=d("getAuthInfo");return u({preferUnionId:n,asMainAccount:s,platform:a}).then((function(t){return t.provider=h,e.associateWithMiniApp(t)}))},associateWithWeapp:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.preferUnionId,n=void 0!==r&&r,i=t.unionIdPlatform,a=void 0===i?"weixin":i,o=t.asMainAccount,s=void 0===o||o,u=d("getAuthInfo");return u({preferUnionId:n,asMainAccount:s,platform:a}).then((function(t){return e.associateWithMiniApp(t)}))},linkWithWeapp:function(e){return console.warn("DEPRECATED: User#linkWithWeapp 已废弃，请使用 User#associateWithWeapp 代替"),this.associateWithWeapp(e)},associateWithQQAppWithUnionId:function(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.unionIdPlatform,a=void 0===i?"qq":i,o=n.asMainAccount,s=void 0!==o&&o,u=d("getAuthInfo");return u({platform:a}).then((function(n){return(n=e.User.mergeUnionId(n,t,{asMainAccount:s})).provider=h,r.associateWithMiniApp(n)}))},associateWithWeappWithUnionId:function(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.unionIdPlatform,a=void 0===i?"weixin":i,o=n.asMainAccount,s=void 0!==o&&o,u=d("getAuthInfo");return u({platform:a}).then((function(n){return n=e.User.mergeUnionId(n,t,{asMainAccount:s}),r.associateWithMiniApp(n)}))},dissociateAuthData:function(e){return this.unset("authData."+e),this.save().then((function(e){return e._handleSaveResult(!0).then((function(){return e}))}))},_unlinkFrom:function(e){return console.warn("DEPRECATED: User#_unlinkFrom 已废弃，请使用 User#dissociateAuthData 代替"),this.dissociateAuthData(e)},_isLinked:function(e){var t;return t=s.isString(e)?e:e.getAuthType(),!!(this.get("authData")||{})[t]},isAnonymous:function(){return this._isLinked("anonymous")},logOut:function(){this._logOutWithAll(),this._isCurrentUser=!1},_logOutWithAll:function(){if(this.get("authData")){var t=this;e._objectEach(this.get("authData"),(function(e,r){t._logOutWith(r)}))}},_logOutWith:function(t){this.isCurrent()&&(s.isString(t)&&(t=e.User._authProviders[t]),t&&t.deauthenticate&&t.deauthenticate())},signUp:function(e,t){var r=e&&e.username||this.get("username");if(!r||""===r)throw new c(c.OTHER_CAUSE,"Cannot sign up user with an empty name.");var n=e&&e.password||this.get("password");if(!n||""===n)throw new c(c.OTHER_CAUSE,"Cannot sign up user with an empty password.");return this.save(e,t).then((function(e){return e.isAnonymous()&&(e.unset("authData.anonymous"),e._opSetQueue=[{}]),e._handleSaveResult(!0).then((function(){return e}))}))},signUpOrlogInWithMobilePhone:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e&&e.mobilePhoneNumber||this.get("mobilePhoneNumber");if(!r||""===r)throw new c(c.OTHER_CAUSE,"Cannot sign up or login user by mobilePhoneNumber with an empty mobilePhoneNumber.");var n=e&&e.smsCode||this.get("smsCode");if(!n||""===n)throw new c(c.OTHER_CAUSE,"Cannot sign up or login user by mobilePhoneNumber  with an empty smsCode.");return t._makeRequest=function(e,t,r,n,i){return f("usersByMobilePhone",null,null,"POST",i)},this.save(e,t).then((function(e){return delete e.attributes.smsCode,delete e._serverData.smsCode,e._handleSaveResult(!0).then((function(){return e}))}))},loginWithAuthData:function(e,t,r){return this._linkWith(t,e,r)},loginWithAuthDataAndUnionId:function(e,t,r,n){return this.loginWithAuthData(m()(e,r,n),t,n)},loginWithWeapp:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.preferUnionId,n=void 0!==r&&r,i=t.unionIdPlatform,a=void 0===i?"weixin":i,o=t.asMainAccount,s=void 0===o||o,u=t.failOnNotExist,c=void 0!==u&&u,l=d("getAuthInfo");return l({preferUnionId:n,asMainAccount:s,platform:a}).then((function(t){return e.loginWithMiniApp(t,{failOnNotExist:c})}))},loginWithWeappWithUnionId:function(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.unionIdPlatform,a=void 0===i?"weixin":i,o=n.asMainAccount,s=void 0!==o&&o,u=n.failOnNotExist,c=void 0!==u&&u,l=d("getAuthInfo");return l({platform:a}).then((function(n){return n=e.User.mergeUnionId(n,t,{asMainAccount:s}),r.loginWithMiniApp(n,{failOnNotExist:c})}))},loginWithQQApp:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.preferUnionId,n=void 0!==r&&r,i=t.unionIdPlatform,a=void 0===i?"qq":i,o=t.asMainAccount,s=void 0===o||o,u=t.failOnNotExist,c=void 0!==u&&u,l=d("getAuthInfo");return l({preferUnionId:n,asMainAccount:s,platform:a}).then((function(t){return t.provider=h,e.loginWithMiniApp(t,{failOnNotExist:c})}))},loginWithQQAppWithUnionId:function(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.unionIdPlatform,a=void 0===i?"qq":i,o=n.asMainAccount,s=void 0!==o&&o,u=n.failOnNotExist,c=void 0!==u&&u,l=d("getAuthInfo");return l({platform:a}).then((function(n){return(n=e.User.mergeUnionId(n,t,{asMainAccount:s})).provider=h,r.loginWithMiniApp(n,{failOnNotExist:c})}))},loginWithMiniApp:function(e,t){var r=this;return void 0===e?d("getAuthInfo")().then((function(e){return r.loginWithAuthData(e.authData,e.provider,t)})):this.loginWithAuthData(e.authData,e.provider,t)},logIn:function(){var e=this;return f("login",null,null,"POST",this.toJSON()).then((function(t){var r=e.parse(t);return e._finishFetch(r),e._handleSaveResult(!0).then((function(){return r.smsCode||delete e.attributes.smsCode,e}))}))},save:function(t,r,n){var i,a;return s.isObject(t)||s.isNull(t)||s.isUndefined(t)?(i=t,a=r):((i={})[t]=r,a=n),a=a||{},e.Object.prototype.save.call(this,i,a).then((function(e){return e._handleSaveResult(!1).then((function(){return e}))}))},follow:function(t,r){if(!this.id)throw new Error("Please signin.");var n=void 0,i=void 0;t.user?(n=t.user,i=t.attributes):n=t;var a=s.isString(n)?n:n.id;if(!a)throw new Error("Invalid target user.");var o="users/"+this.id+"/friendship/"+a;return f(o,null,null,"POST",e._encode(i),r)},unfollow:function(e,t){if(!this.id)throw new Error("Please signin.");var r;r=e.user?e.user:e;var n=s.isString(r)?r:r.id;if(!n)throw new Error("Invalid target user.");var i="users/"+this.id+"/friendship/"+n;return f(i,null,null,"DELETE",null,t)},getFollowersAndFollowees:function(t,r){if(!this.id)throw new Error("Please signin.");return p({method:"GET",path:"/users/"+this.id+"/followersAndFollowees",query:{skip:t&&t.skip,limit:t&&t.limit,include:"follower,followee",keys:"follower,followee"},authOptions:r}).then((function(t){var r=t.followers,n=t.followees;return{followers:r.map((function(t){var r=t.follower;return e._decode(r)})),followees:n.map((function(t){var r=t.followee;return e._decode(r)}))}}))},followerQuery:function(){return e.User.followerQuery(this.id)},followeeQuery:function(){return e.User.followeeQuery(this.id)},fetch:function(t,r){return e.Object.prototype.fetch.call(this,t,r).then((function(e){return e._handleSaveResult(!1).then((function(){return e}))}))},updatePassword:function(e,t,r){var n=this,i="users/"+this.id+"/updatePassword";return f(i,null,null,"PUT",{old_password:e,new_password:t},r).then((function(e){return n._finishFetch(n.parse(e)),n._handleSaveResult(!0).then((function(){return e}))}))},isCurrent:function(){return this._isCurrentUser},getUsername:function(){return this.get("username")},getMobilePhoneNumber:function(){return this.get("mobilePhoneNumber")},setMobilePhoneNumber:function(e,t){return this.set("mobilePhoneNumber",e,t)},setUsername:function(e,t){return this.set("username",e,t)},setPassword:function(e,t){return this.set("password",e,t)},getEmail:function(){return this.get("email")},setEmail:function(e,t){return this.set("email",e,t)},authenticated:function(){return console.warn("DEPRECATED: 如果要判断当前用户的登录状态是否有效，请使用 currentUser.isAuthenticated().then()，如果要判断该用户是否是当前登录用户，请使用 user.id === currentUser.id。"),!!this._sessionToken&&!e._config.disableCurrentUser&&e.User.current()&&e.User.current().id===this.id},isAuthenticated:function(){var t=this;return a.default.resolve().then((function(){return!!t._sessionToken&&e.User._fetchUserBySessionToken(t._sessionToken).then((function(){return!0}),(function(e){if(211===e.code)return!1;throw e}))}))},getSessionToken:function(){return this._sessionToken},refreshSessionToken:function(e){var t=this;return f("users/"+this.id+"/refreshSessionToken",null,null,"PUT",null,e).then((function(e){return t._finishFetch(e),t._handleSaveResult(!0).then((function(){return t}))}))},getRoles:function(t){return e.Relation.reverseQuery("_Role","users",this).find(t)}},{_currentUser:null,_currentUserMatchesDisk:!1,_CURRENT_USER_KEY:"currentUser",_authProviders:{},signUp:function(t,r,n,i){return(n=n||{}).username=t,n.password=r,e.Object._create("_User").signUp(n,i)},logIn:function(t,r){var n=e.Object._create("_User");return n._finishFetch({username:t,password:r}),n.logIn()},become:function(e){return this._fetchUserBySessionToken(e).then((function(e){return e._handleSaveResult(!0).then((function(){return e}))}))},_fetchUserBySessionToken:function(t){if(void 0===t)return a.default.reject(new Error("The sessionToken cannot be undefined"));var r=e.Object._create("_User");return p({method:"GET",path:"/users/me",authOptions:{sessionToken:t}}).then((function(e){var t=r.parse(e);return r._finishFetch(t),r}))},logInWithMobilePhoneSmsCode:function(t,r){var n=e.Object._create("_User");return n._finishFetch({mobilePhoneNumber:t,smsCode:r}),n.logIn()},signUpOrlogInWithMobilePhone:function(t,r,n,i){return(n=n||{}).mobilePhoneNumber=t,n.smsCode=r,e.Object._create("_User").signUpOrlogInWithMobilePhone(n,i)},logInWithMobilePhone:function(t,r){var n=e.Object._create("_User");return n._finishFetch({mobilePhoneNumber:t,password:r}),n.logIn()},loginWithEmail:function(t,r){var n=e.Object._create("_User");return n._finishFetch({email:t,password:r}),n.logIn()},loginWithAuthData:function(t,r,n){return e.User._logInWith(r,t,n)},signUpOrlogInWithAuthData:function(){return console.warn("DEPRECATED: User.signUpOrlogInWithAuthData 已废弃，请使用 User#loginWithAuthData 代替"),this.loginWithAuthData.apply(this,arguments)},loginWithAuthDataAndUnionId:function(e,t,r,n){return this.loginWithAuthData(m()(e,r,n),t,n)},signUpOrlogInWithAuthDataAndUnionId:function(){return console.warn("DEPRECATED: User.signUpOrlogInWithAuthDataAndUnionId 已废弃，请使用 User#loginWithAuthDataAndUnionId 代替"),this.loginWithAuthDataAndUnionId.apply(this,arguments)},mergeUnionId:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.asMainAccount,a=void 0!==i&&i,o=e=JSON.parse((0,n.default)(e)),s=o.authData,u=o.platform;return s.platform=u,s.main_account=a,s.unionid=t,e},loginWithWeapp:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.preferUnionId,n=void 0!==r&&r,i=t.unionIdPlatform,a=void 0===i?"weixin":i,o=t.asMainAccount,s=void 0===o||o,u=t.failOnNotExist,c=void 0!==u&&u,l=d("getAuthInfo");return l({preferUnionId:n,asMainAccount:s,platform:a}).then((function(t){return e.loginWithMiniApp(t,{failOnNotExist:c})}))},loginWithWeappWithUnionId:function(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.unionIdPlatform,a=void 0===i?"weixin":i,o=n.asMainAccount,s=void 0!==o&&o,u=n.failOnNotExist,c=void 0!==u&&u,l=d("getAuthInfo");return l({platform:a}).then((function(n){return n=e.User.mergeUnionId(n,t,{asMainAccount:s}),r.loginWithMiniApp(n,{failOnNotExist:c})}))},loginWithQQApp:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.preferUnionId,n=void 0!==r&&r,i=t.unionIdPlatform,a=void 0===i?"qq":i,o=t.asMainAccount,s=void 0===o||o,u=t.failOnNotExist,c=void 0!==u&&u,l=d("getAuthInfo");return l({preferUnionId:n,asMainAccount:s,platform:a}).then((function(t){return t.provider=h,e.loginWithMiniApp(t,{failOnNotExist:c})}))},loginWithQQAppWithUnionId:function(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.unionIdPlatform,a=void 0===i?"qq":i,o=n.asMainAccount,s=void 0!==o&&o,u=n.failOnNotExist,c=void 0!==u&&u,l=d("getAuthInfo");return l({platform:a}).then((function(n){return(n=e.User.mergeUnionId(n,t,{asMainAccount:s})).provider=h,r.loginWithMiniApp(n,{failOnNotExist:c})}))},loginWithMiniApp:function(e,t){var r=this;return void 0===e?d("getAuthInfo")().then((function(e){return r.loginWithAuthData(e.authData,e.provider,t)})):this.loginWithAuthData(e.authData,e.provider,t)},_genId:function(){return u()},loginAnonymously:function(){return this.loginWithAuthData({id:e.User._genId()},"anonymous")},associateWithAuthData:function(e,t,r){return console.warn("DEPRECATED: User.associateWithAuthData 已废弃，请使用 User#associateWithAuthData 代替"),e._linkWith(t,r)},logOut:function(){return e._config.disableCurrentUser?(console.warn("AV.User.current() was disabled in multi-user environment, call logOut() from user object instead https://leancloud.cn/docs/leanengine-node-sdk-upgrade-1.html"),a.default.resolve(null)):(null!==e.User._currentUser&&(e.User._currentUser._logOutWithAll(),e.User._currentUser._isCurrentUser=!1),e.User._currentUserMatchesDisk=!0,e.User._currentUser=null,e.localStorage.removeItemAsync(e._getAVPath(e.User._CURRENT_USER_KEY)).then((function(){return e._refreshSubscriptionId()})))},followerQuery:function(t){if(!t||!s.isString(t))throw new Error("Invalid user object id.");var r=new e.FriendShipQuery("_Follower");return r._friendshipTag="follower",r.equalTo("user",e.Object.createWithoutData("_User",t)),r},followeeQuery:function(t){if(!t||!s.isString(t))throw new Error("Invalid user object id.");var r=new e.FriendShipQuery("_Followee");return r._friendshipTag="followee",r.equalTo("user",e.Object.createWithoutData("_User",t)),r},requestPasswordReset:function(e){return f("requestPasswordReset",null,null,"POST",{email:e})},requestEmailVerify:function(e){return f("requestEmailVerify",null,null,"POST",{email:e})},requestMobilePhoneVerify:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={mobilePhoneNumber:e};t.validateToken&&(r.validate_token=t.validateToken);var n=f("requestMobilePhoneVerify",null,null,"POST",r,t);return n},requestPasswordResetBySmsCode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={mobilePhoneNumber:e};t.validateToken&&(r.validate_token=t.validateToken);var n=f("requestPasswordResetBySmsCode",null,null,"POST",r,t);return n},requestChangePhoneNumber:function(e,t,r){var n={mobilePhoneNumber:e};return t&&(n.ttl=r.ttl),r&&r.validateToken&&(n.validate_token=r.validateToken),f("requestChangePhoneNumber",null,null,"POST",n,r)},changePhoneNumber:function(e,t){return f("changePhoneNumber",null,null,"POST",{mobilePhoneNumber:e,code:t})},resetPasswordBySmsCode:function(e,t){return f("resetPasswordBySmsCode",null,e,"PUT",{password:t})},verifyMobilePhone:function(e){return f("verifyMobilePhone",null,e,"POST",null)},requestLoginSmsCode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={mobilePhoneNumber:e};t.validateToken&&(r.validate_token=t.validateToken);var n=f("requestLoginSmsCode",null,null,"POST",r,t);return n},currentAsync:function(){return e._config.disableCurrentUser?(console.warn("AV.User.currentAsync() was disabled in multi-user environment, access user from request instead https://leancloud.cn/docs/leanengine-node-sdk-upgrade-1.html"),a.default.resolve(null)):e.User._currentUser||e.User._currentUserMatchesDisk?a.default.resolve(e.User._currentUser):e.localStorage.getItemAsync(e._getAVPath(e.User._CURRENT_USER_KEY)).then((function(t){if(!t)return null;e.User._currentUserMatchesDisk=!0,e.User._currentUser=e.Object._create("_User"),e.User._currentUser._isCurrentUser=!0;var r=JSON.parse(t);return e.User._currentUser.id=r._id,delete r._id,e.User._currentUser._sessionToken=r._sessionToken,delete r._sessionToken,e.User._currentUser._finishFetch(r),e.User._currentUser._synchronizeAllAuthData(),e.User._currentUser._refreshCache(),e.User._currentUser._opSetQueue=[{}],e.User._currentUser}))},current:function(){if(e._config.disableCurrentUser)return console.warn("AV.User.current() was disabled in multi-user environment, access user from request instead https://leancloud.cn/docs/leanengine-node-sdk-upgrade-1.html"),null;if(e.localStorage.async){var t=new Error("Synchronous API User.current() is not available in this runtime. Use User.currentAsync() instead.");throw t.code="SYNC_API_NOT_AVAILABLE",t}if(e.User._currentUser)return e.User._currentUser;if(e.User._currentUserMatchesDisk)return e.User._currentUser;e.User._currentUserMatchesDisk=!0;var r=e.localStorage.getItem(e._getAVPath(e.User._CURRENT_USER_KEY));if(!r)return null;e.User._currentUser=e.Object._create("_User"),e.User._currentUser._isCurrentUser=!0;var n=JSON.parse(r);return e.User._currentUser.id=n._id,delete n._id,e.User._currentUser._sessionToken=n._sessionToken,delete n._sessionToken,e.User._currentUser._finishFetch(n),e.User._currentUser._synchronizeAllAuthData(),e.User._currentUser._refreshCache(),e.User._currentUser._opSetQueue=[{}],e.User._currentUser},_saveCurrentUser:function(t){return(e.User._currentUser!==t?e.User.logOut():a.default.resolve()).then((function(){t._isCurrentUser=!0,e.User._currentUser=t;var r=t._toFullJSON();return r._id=t.id,r._sessionToken=t._sessionToken,e.localStorage.setItemAsync(e._getAVPath(e.User._CURRENT_USER_KEY),(0,n.default)(r)).then((function(){return e.User._currentUserMatchesDisk=!0,e._refreshSubscriptionId()}))}))},_registerAuthenticationProvider:function(t){e.User._authProviders[t.getAuthType()]=t,!e._config.disableCurrentUser&&e.User.current()&&e.User.current()._synchronizeAuthData(t.getAuthType())},_logInWith:function(t,r,n){return e.Object._create("_User")._linkWith(t,r,n)}})}},function(e,t,r){"use strict";t.__esModule=!0;var n,i=(n=r(90))&&n.__esModule?n:{default:n};t.default=function(e,t,r){return t in e?(0,i.default)(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){"use strict";var n=a(r(19)),i=a(r(3));function a(e){return e&&e.__esModule?e:{default:e}}var o=r(0),s=r(37)("leancloud:query"),u=r(29),c=r(12),l=c._request,f=c.request,p=r(15),d=p.ensureArray,h=p.transformFetchOptions,m=p.continueWhile,y=function(e,t){if(void 0===e)throw new Error(t)};e.exports=function(e){e.Query=function(t){o.isString(t)&&(t=e.Object._getSubclass(t)),this.objectClass=t,this.className=t.prototype.className,this._where={},this._include=[],this._select=[],this._limit=-1,this._skip=0,this._defaultParams={}},e.Query.or=function(){var t=o.toArray(arguments),r=null;e._arrayEach(t,(function(e){if(o.isNull(r)&&(r=e.className),r!==e.className)throw new Error("All queries must be for the same class")}));var n=new e.Query(r);return n._orQuery(t),n},e.Query.and=function(){var t=o.toArray(arguments),r=null;e._arrayEach(t,(function(e){if(o.isNull(r)&&(r=e.className),r!==e.className)throw new Error("All queries must be for the same class")}));var n=new e.Query(r);return n._andQuery(t),n},e.Query.doCloudQuery=function(t,r,n){var i={cql:t};return o.isArray(r)?i.pvalues=r:n=r,l("cloudQuery",null,null,"GET",i,n).then((function(t){var r=new e.Query(t.className);return{results:o.map(t.results,(function(e){var n=r._newObject(t);return n._finishFetch&&n._finishFetch(r._processResult(e),!0),n})),count:t.count,className:t.className}}))},e.Query.fromJSON=function(t){var r=t.className,n=t.where,i=t.include,a=t.select,s=t.includeACL,u=t.limit,c=t.skip,l=t.order;if("string"!=typeof r)throw new TypeError("Invalid Query JSON, className must be a String.");var f=new e.Query(r);return o.extend(f,{_where:n,_include:i,_select:a,_includeACL:s,_limit:u,_skip:c,_order:l}),f},e.Query._extend=e._extend,o.extend(e.Query.prototype,{_processResult:function(e){return e},get:function(e,t){if(!o.isString(e))throw new Error("objectId must be a string");if(""===e)return i.default.reject(new u(u.OBJECT_NOT_FOUND,"Object not found."));var r=this._newObject();r.id=e;var n=this._getParams(),a={};return n.keys&&(a.keys=n.keys),n.include&&(a.include=n.include),n.includeACL&&(a.includeACL=n.includeACL),l("classes",this.className,e,"GET",h(a),t).then((function(e){if(o.isEmpty(e))throw new u(u.OBJECT_NOT_FOUND,"Object not found.");return r._finishFetch(r.parse(e),!0),r}))},toJSON:function(){return{className:this.className,where:this._where,include:this._include,select:this._select,includeACL:this._includeACL,limit:this._limit,skip:this._skip,order:this._order}},_getParams:function(){var e=o.extend({},this._defaultParams,{where:this._where});return this._include.length>0&&(e.include=this._include.join(",")),this._select.length>0&&(e.keys=this._select.join(",")),void 0!==this._includeACL&&(e.returnACL=this._includeACL),this._limit>=0&&(e.limit=this._limit),this._skip>0&&(e.skip=this._skip),void 0!==this._order&&(e.order=this._order),e},_newObject:function(t){return t&&t.className?new e.Object(t.className):new this.objectClass},_createRequest:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._getParams(),t=arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/classes/"+this.className;if(encodeURIComponent((0,n.default)(e)).length>2e3){var i={requests:[{method:"GET",path:"/1.1"+r,params:e}]};return f({path:"/batch",method:"POST",data:i,authOptions:t}).then((function(e){var t=e[0];if(t.success)return t.success;var r=new Error(t.error.error||"Unknown batch error");throw r.code=t.error.code,r}))}return f({method:"GET",path:r,query:e,authOptions:t})},_parseResponse:function(e){var t=this;return o.map(e.results,(function(r){var n=t._newObject(e);return n._finishFetch&&n._finishFetch(t._processResult(r),!0),n}))},find:function(e){return this._createRequest(void 0,e).then(this._parseResponse.bind(this))},scan:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.orderedBy,n=t.batchSize,a=arguments[1],u=this._getParams();s("scan %O",u),u.order&&(console.warn("The order of the query is ignored for Query#scan. Checkout the orderedBy option of Query#scan."),delete u.order),u.skip&&(console.warn("The skip option of the query is ignored for Query#scan."),delete u.skip),u.limit&&(console.warn("The limit option of the query is ignored for Query#scan."),delete u.limit),r&&(u.scan_key=r),n&&(u.limit=n);var c=i.default.resolve([]),f=void 0,p=!1;return{next:function(){return(c=c.then((function(t){return p?[]:t.length>1?t:f||0===t.length?l("scan/classes",e.className,null,"GET",f?o.extend({},u,{cursor:f}):u,a).then((function(t){return f=t.cursor,e._parseResponse(t)})).then((function(e){return e.length||(p=!0),t.concat(e)})):(p=!0,t)}))).then((function(e){return e.shift()})).then((function(e){return{value:e,done:p}}))}}},destroyAll:function(t){return this.find(t).then((function(r){return e.Object.destroyAll(r,t)}))},count:function(e){var t=this._getParams();return t.limit=0,t.count=1,this._createRequest(t,e).then((function(e){return e.count}))},first:function(e){var t=this,r=this._getParams();return r.limit=1,this._createRequest(r,e).then((function(e){return o.map(e.results,(function(e){var r=t._newObject();return r._finishFetch&&r._finishFetch(t._processResult(e),!0),r}))[0]}))},skip:function(e){return y(e,"undefined is not a valid skip value"),this._skip=e,this},limit:function(e){return y(e,"undefined is not a valid limit value"),this._limit=e,this},equalTo:function(t,r){return y(t,"undefined is not a valid key"),y(r,"undefined is not a valid value"),this._where[t]=e._encode(r),this},_addCondition:function(t,r,n){return y(t,"undefined is not a valid condition key"),y(r,"undefined is not a valid condition"),y(n,"undefined is not a valid condition value"),this._where[t]||(this._where[t]={}),this._where[t][r]=e._encode(n),this},sizeEqualTo:function(e,t){return this._addCondition(e,"$size",t),this},notEqualTo:function(e,t){return this._addCondition(e,"$ne",t),this},lessThan:function(e,t){return this._addCondition(e,"$lt",t),this},greaterThan:function(e,t){return this._addCondition(e,"$gt",t),this},lessThanOrEqualTo:function(e,t){return this._addCondition(e,"$lte",t),this},greaterThanOrEqualTo:function(e,t){return this._addCondition(e,"$gte",t),this},containedIn:function(e,t){return this._addCondition(e,"$in",t),this},notContainedIn:function(e,t){return this._addCondition(e,"$nin",t),this},containsAll:function(e,t){return this._addCondition(e,"$all",t),this},exists:function(e){return this._addCondition(e,"$exists",!0),this},doesNotExist:function(e){return this._addCondition(e,"$exists",!1),this},matches:function(e,t,r){return this._addCondition(e,"$regex",t),r||(r=""),t.ignoreCase&&(r+="i"),t.multiline&&(r+="m"),r&&r.length&&this._addCondition(e,"$options",r),this},matchesQuery:function(e,t){var r=t._getParams();return r.className=t.className,this._addCondition(e,"$inQuery",r),this},doesNotMatchQuery:function(e,t){var r=t._getParams();return r.className=t.className,this._addCondition(e,"$notInQuery",r),this},matchesKeyInQuery:function(e,t,r){var n=r._getParams();return n.className=r.className,this._addCondition(e,"$select",{key:t,query:n}),this},doesNotMatchKeyInQuery:function(e,t,r){var n=r._getParams();return n.className=r.className,this._addCondition(e,"$dontSelect",{key:t,query:n}),this},_orQuery:function(e){var t=o.map(e,(function(e){return e._getParams().where}));return this._where.$or=t,this},_andQuery:function(e){var t=o.map(e,(function(e){return e._getParams().where}));return this._where.$and=t,this},_quote:function(e){return"\\Q"+e.replace("\\E","\\E\\\\E\\Q")+"\\E"},contains:function(e,t){return this._addCondition(e,"$regex",this._quote(t)),this},startsWith:function(e,t){return this._addCondition(e,"$regex","^"+this._quote(t)),this},endsWith:function(e,t){return this._addCondition(e,"$regex",this._quote(t)+"$"),this},ascending:function(e){return y(e,"undefined is not a valid key"),this._order=e,this},addAscending:function(e){return y(e,"undefined is not a valid key"),this._order?this._order+=","+e:this._order=e,this},descending:function(e){return y(e,"undefined is not a valid key"),this._order="-"+e,this},addDescending:function(e){return y(e,"undefined is not a valid key"),this._order?this._order+=",-"+e:this._order="-"+e,this},near:function(t,r){return r instanceof e.GeoPoint||(r=new e.GeoPoint(r)),this._addCondition(t,"$nearSphere",r),this},withinRadians:function(e,t,r){return this.near(e,t),this._addCondition(e,"$maxDistance",r),this},withinMiles:function(e,t,r){return this.withinRadians(e,t,r/3958.8)},withinKilometers:function(e,t,r){return this.withinRadians(e,t,r/6371)},withinGeoBox:function(t,r,n){return r instanceof e.GeoPoint||(r=new e.GeoPoint(r)),n instanceof e.GeoPoint||(n=new e.GeoPoint(n)),this._addCondition(t,"$within",{$box:[r,n]}),this},include:function(e){var t=this;return y(e,"undefined is not a valid key"),o.forEach(arguments,(function(e){t._include=t._include.concat(d(e))})),this},includeACL:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._includeACL=e,this},select:function(e){var t=this;return y(e,"undefined is not a valid key"),o.forEach(arguments,(function(e){t._select=t._select.concat(d(e))})),this},each:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._order||this._skip||this._limit>=0){var n=new Error("Cannot iterate on a query with sort, skip, or limit.");return i.default.reject(n)}var a=new e.Query(this.objectClass);a._limit=r.batchSize||100,a._where=o.clone(this._where),a._include=o.clone(this._include),a.ascending("objectId");var s=!1;return m((function(){return!s}),(function(){return a.find(r).then((function(e){var r=i.default.resolve();return o.each(e,(function(e){r=r.then((function(){return t(e)}))})),r.then((function(){e.length>=a._limit?a.greaterThan("objectId",e[e.length-1].id):s=!0}))}))}))},subscribe:function(t){return e.LiveQuery.init(this,t)}}),e.FriendShipQuery=e.Query._extend({_newObject:function(){return new(e.Object._getSubclass("_User"))},_processResult:function(e){if(e&&e[this._friendshipTag]){var t=e[this._friendshipTag];return"Pointer"===t.__type&&"_User"===t.className&&(delete t.__type,delete t.className),t}return null}})}},function(e,t,r){"use strict";var n,i=(n=r(3))&&n.__esModule?n:{default:n},a=r(0),o=r(162),s=r(15).inherits,u=r(12).request,c=function(e,t){return u({method:"POST",path:"/LiveQuery/subscribe",data:{query:e,id:t}})};e.exports=function(e){var t=function(){if(!e._config.realtime)throw new Error("LiveQuery not supported. Please use the LiveQuery bundle. https://url.leanapp.cn/enable-live-query")};e.LiveQuery=s(o,{constructor:function(e,t,r,n){var i=this;o.apply(this),this.id=e,this._client=t,this._client.register(this),this._queryJSON=r,this._subscriptionId=n,this._onMessage=this._dispatch.bind(this),this._onReconnect=function(){c(i._queryJSON,i._subscriptionId).catch((function(e){return console.error("LiveQuery resubscribe error: "+e.message)}))},t.on("message",this._onMessage),t.on("reconnect",this._onReconnect)},_dispatch:function(t){var r=this;t.forEach((function(t){var n=t.op,i=t.object,o=t.query_id,s=t.updatedKeys;if(o===r.id){var u=e.parseJSON(a.extend({__type:"_File"===i.className?"File":"Object"},i));s?r.emit(n,u,s):r.emit(n,u)}}))},unsubscribe:function(){var e=this._client;return e.off("message",this._onMessage),e.off("reconnect",this._onReconnect),e.deregister(this),u({method:"POST",path:"/LiveQuery/unsubscribe",data:{id:e.id,query_id:this.id}})}},{init:function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.subscriptionId,o=void 0===a?e._getSubscriptionId():a;if(t(),!(r instanceof e.Query))throw new TypeError("LiveQuery must be inited with a Query");return i.default.resolve(o).then((function(t){return e._config.realtime.createLiveQueryClient(t).then((function(n){var i=r._getParams(),a={where:i.where,keys:i.keys,returnACL:i.returnACL,className:r.className},o=c(a,t).then((function(r){var i=r.query_id;return new e.LiveQuery(i,n,a,t)})).finally((function(){n.deregister(o)}));return n.register(o),o}))}))},pause:function(){return t(),e._config.realtime.pause()},resume:function(){return t(),e._config.realtime.resume()}})}},function(e,t,r){"use strict";var n=r(0),i=r(15).tap;e.exports=function(e){e.Captcha=function(e,t){this._options=e,this._authOptions=t,this.url=void 0,this.captchaToken=void 0,this.validateToken=void 0},e.Captcha.prototype.refresh=function(){var t=this;return e.Cloud._requestCaptcha(this._options,this._authOptions).then((function(e){var r=e.captchaToken,i=e.url;return n.extend(t,{captchaToken:r,url:i}),i}))},e.Captcha.prototype.verify=function(t){var r=this;return e.Cloud.verifyCaptcha(t,this.captchaToken).then(i((function(e){return r.validateToken=e})))},e.Captcha.prototype.bind=function(e,t){var r=this,n=e.textInput,i=e.image,a=e.verifyButton,o=t.success,s=t.error;if("string"==typeof n&&!(n=document.getElementById(n)))throw new Error("textInput with id "+n+" not found");if("string"==typeof i&&!(i=document.getElementById(i)))throw new Error("image with id "+i+" not found");if("string"==typeof a&&!(a=document.getElementById(a)))throw new Error("verifyButton with id "+a+" not found");this.__refresh=function(){return r.refresh().then((function(e){i.src=e,n&&(n.value="",n.focus())})).catch((function(e){return console.warn("refresh captcha fail: "+e.message)}))},i&&(this.__image=i,i.src=this.url,i.addEventListener("click",this.__refresh)),this.__verify=function(){var e=n.value;r.verify(e).catch((function(e){throw r.__refresh(),e})).then(o,s).catch((function(e){return console.warn("verify captcha fail: "+e.message)}))},n&&a&&(this.__verifyButton=a,a.addEventListener("click",this.__verify))},e.Captcha.prototype.unbind=function(){this.__image&&this.__image.removeEventListener("click",this.__refresh),this.__verifyButton&&this.__verifyButton.removeEventListener("click",this.__verify)},e.Captcha.request=function(t,r){var n=new e.Captcha(t,r);return n.refresh().then((function(){return n}))}}},function(e,t,r){"use strict";var n,i=(n=r(3))&&n.__esModule?n:{default:n},a=r(0),o=r(12),s=o._request,u=o.request;e.exports=function(e){e.Cloud=e.Cloud||{},a.extend(e.Cloud,{run:function(t,r,n){return u({service:"engine",method:"POST",path:"/functions/"+t,data:e._encode(r,null,!0),authOptions:n}).then((function(t){return e._decode(t).result}))},rpc:function(t,r,n){return a.isArray(r)?i.default.reject(new Error("Can't pass Array as the param of rpc function in JavaScript SDK.")):u({service:"engine",method:"POST",path:"/call/"+t,data:e._encodeObjectOrArray(r),authOptions:n}).then((function(t){return e._decode(t).result}))},getServerDate:function(){return s("date",null,null,"GET").then((function(t){return e._decode(t)}))},requestSmsCode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(a.isString(e)&&(e={mobilePhoneNumber:e}),!e.mobilePhoneNumber)throw new Error("Missing mobilePhoneNumber.");return t.validateToken&&(e=a.extend({},e,{validate_token:t.validateToken})),s("requestSmsCode",null,null,"POST",e,t)},verifySmsCode:function(e,t){if(!e)throw new Error("Missing sms code.");var r={};return a.isString(t)&&(r.mobilePhoneNumber=t),s("verifySmsCode",e,null,"POST",r)},_requestCaptcha:function(e,t){return s("requestCaptcha",null,null,"GET",e,t).then((function(e){var t=e.captcha_url;return{captchaToken:e.captcha_token,url:t}}))},requestCaptcha:e.Captcha.request,verifyCaptcha:function(e,t){return s("verifyCaptcha",null,null,"POST",{captcha_code:e,captcha_token:t}).then((function(e){return e.validate_token}))}})}},function(e,t,r){"use strict";var n=r(12).request;e.exports=function(e){e.Installation=e.Object.extend("_Installation"),e.Push=e.Push||{},e.Push.send=function(e,t){if(e.where&&(e.where=e.where._getParams().where),e.where&&e.cql)throw new Error("Both where and cql can't be set");if(e.push_time&&(e.push_time=e.push_time.toJSON()),e.expiration_time&&(e.expiration_time=e.expiration_time.toJSON()),e.expiration_time&&e.expiration_interval)throw new Error("Both expiration_time and expiration_interval can't be set");return n({service:"push",method:"POST",path:"/push",data:e,authOptions:t})}}},function(e,t,r){"use strict";var n=a(r(3)),i=a(r(30));function a(e){return e&&e.__esModule?e:{default:e}}var o=r(0),s=r(12)._request,u=r(15).getSessionToken;e.exports=function(e){var t=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=u(t);return r?e.User._fetchUserBySessionToken(u(t)):e.User.currentAsync()},r=function(r){return t(r).then((function(t){return e.Object.createWithoutData("_User",t.id)._toPointer()}))};e.Status=function(e,t){return this.data={},this.inboxType="default",this.query=null,e&&"object"===(void 0===e?"undefined":(0,i.default)(e))?this.data=e:(e&&(this.data.image=e),t&&(this.data.message=t)),this},o.extend(e.Status.prototype,{get:function(e){return this.data[e]},set:function(e,t){return this.data[e]=t,this},destroy:function(e){return this.id?s("statuses",null,this.id,"DELETE",e):n.default.reject(new Error("The status id is not exists."))},toObject:function(){return this.id?e.Object.createWithoutData("_Status",this.id):null},_getDataJSON:function(){var t=o.clone(this.data);return e._encode(t)},send:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!u(n)&&!e.User.current())throw new Error("Please signin an user.");return this.query?r(n).then((function(e){var r=t.query._getParams();r.className=t.query.className;var i={};return i.query=r,t.data=t.data||{},t.data.source=t.data.source||e,i.data=t._getDataJSON(),i.inboxType=t.inboxType||"default",s("statuses",null,null,"POST",i,n)})).then((function(r){return t.id=r.objectId,t.createdAt=e._parseDate(r.createdAt),t})):e.Status.sendStatusToFollowers(this,n)},_finishFetch:function(t){this.id=t.objectId,this.createdAt=e._parseDate(t.createdAt),this.updatedAt=e._parseDate(t.updatedAt),this.messageId=t.messageId,delete t.messageId,delete t.objectId,delete t.createdAt,delete t.updatedAt,this.data=e._decode(t)}}),e.Status.sendStatusToFollowers=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!u(n)&&!e.User.current())throw new Error("Please signin an user.");return r(n).then((function(r){var i={className:"_Follower",keys:"follower"};i.where={user:r};var a={};return a.query=i,t.data=t.data||{},t.data.source=t.data.source||r,a.data=t._getDataJSON(),a.inboxType=t.inboxType||"default",s("statuses",null,null,"POST",a,n).then((function(r){return t.id=r.objectId,t.createdAt=e._parseDate(r.createdAt),t}))}))},e.Status.sendPrivateStatus=function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!u(i)&&!e.User.current())throw new Error("Please signin an user.");if(!n)throw new Error("Invalid target user.");var a=o.isString(n)?n:n.id;if(!a)throw new Error("Invalid target user.");return r(i).then((function(r){var n={className:"_User"};n.where={objectId:a};var o={};return o.query=n,t.data=t.data||{},t.data.source=t.data.source||r,o.data=t._getDataJSON(),o.inboxType="private",t.inboxType="private",s("statuses",null,null,"POST",o,i).then((function(r){return t.id=r.objectId,t.createdAt=e._parseDate(r.createdAt),t}))}))},e.Status.countUnreadStatuses=function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(o.isString(i)||(a=i),!u(a)&&null==r&&!e.User.current())throw new Error("Please signin an user or pass the owner objectId.");return n.default.resolve(r||t(a)).then((function(t){var r={};return r.inboxType=e._encode(i),r.owner=e._encode(t),s("subscribe/statuses/count",null,null,"GET",r,a)}))},e.Status.resetUnreadCount=function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(o.isString(i)||(a=i),!u(a)&&null==r&&!e.User.current())throw new Error("Please signin an user or pass the owner objectId.");return n.default.resolve(r||t(a)).then((function(t){var r={};return r.inboxType=e._encode(i),r.owner=e._encode(t),s("subscribe/statuses/resetUnreadCount",null,null,"POST",r,a)}))},e.Status.statusQuery=function(t){var r=new e.Query("_Status");return t&&r.equalTo("source",t),r},e.InboxQuery=e.Query._extend({_objectClass:e.Status,_sinceId:0,_maxId:0,_inboxType:"default",_owner:null,_newObject:function(){return new e.Status},_createRequest:function(t,r){return e.InboxQuery.__super__._createRequest.call(this,t,r,"/subscribe/statuses")},sinceId:function(e){return this._sinceId=e,this},maxId:function(e){return this._maxId=e,this},owner:function(e){return this._owner=e,this},inboxType:function(e){return this._inboxType=e,this},_getParams:function(){var t=e.InboxQuery.__super__._getParams.call(this);return t.owner=e._encode(this._owner),t.inboxType=e._encode(this._inboxType),t.sinceId=e._encode(this._sinceId),t.maxId=e._encode(this._maxId),t}}),e.Status.inboxQuery=function(t,r){var n=new e.InboxQuery(e.Status);return t&&(n._owner=t),r&&(n._inboxType=r),n}}},function(e,t,r){"use strict";var n,i=(n=r(19))&&n.__esModule?n:{default:n},a=r(0),o=r(12)._request;e.exports=function(e){e.SearchSortBuilder=function(){this._sortFields=[]},a.extend(e.SearchSortBuilder.prototype,{_addField:function(e,t,r,n){var i={};return i[e]={order:t||"asc",mode:r||"avg",missing:"_"+(n||"last")},this._sortFields.push(i),this},ascending:function(e,t,r){return this._addField(e,"asc",t,r)},descending:function(e,t,r){return this._addField(e,"desc",t,r)},whereNear:function(e,t,r){r=r||{};var n={},i={lat:t.latitude,lon:t.longitude},a={order:r.order||"asc",mode:r.mode||"avg",unit:r.unit||"km"};return a[e]=i,n._geo_distance=a,this._sortFields.push(n),this},build:function(){return(0,i.default)(e._encode(this._sortFields))}}),e.SearchQuery=e.Query._extend({_sid:null,_hits:0,_queryString:null,_highlights:null,_sortBuilder:null,_clazz:null,constructor:function(t){t?this._clazz=t:t="__INVALID_CLASS",e.Query.call(this,t)},_createRequest:function(e,t){return o("search/select",null,null,"GET",e||this._getParams(),t)},sid:function(e){return this._sid=e,this},queryString:function(e){return this._queryString=e,this},highlights:function(e){var t;return t=e&&a.isString(e)?a.toArray(arguments):e,this._highlights=t,this},sortBy:function(e){return this._sortBuilder=e,this},hits:function(){return this._hits||(this._hits=0),this._hits},_processResult:function(e){return delete e.className,delete e._app_url,delete e._deeplink,e},hasMore:function(){return!this._hitEnd},reset:function(){this._hitEnd=!1,this._sid=null,this._hits=0},find:function(e){var t=this;return this._createRequest(void 0,e).then((function(e){return e.sid?(t._oldSid=t._sid,t._sid=e.sid):(t._sid=null,t._hitEnd=!0),t._hits=e.hits||0,a.map(e.results,(function(r){r.className&&(e.className=r.className);var n=t._newObject(e);return n.appURL=r._app_url,n._finishFetch(t._processResult(r),!0),n}))}))},_getParams:function(){var t=e.SearchQuery.__super__._getParams.call(this);if(delete t.where,this._clazz&&(t.clazz=this.className),this._sid&&(t.sid=this._sid),!this._queryString)throw new Error("Please set query string.");if(t.q=this._queryString,this._highlights&&(t.highlights=this._highlights.join(",")),this._sortBuilder&&t.order)throw new Error("sort and order can not be set at same time.");return this._sortBuilder&&(t.sort=this._sortBuilder.build()),t}})}},function(e,t,r){"use strict";var n,i=(n=r(3))&&n.__esModule?n:{default:n},a=r(0),o=r(29),s=r(12).request;e.exports=function(e){e.Insight=e.Insight||{},a.extend(e.Insight,{startJob:function(t,r){if(!t||!t.sql)throw new Error("Please provide the sql to run the job.");var n={jobConfig:t,appId:e.applicationId};return s({path:"/bigquery/jobs",method:"POST",data:e._encode(n,null,!0),authOptions:r,signKey:!1}).then((function(t){return e._decode(t).id}))},on:function(e,t){}}),e.Insight.JobQuery=function(e,t){if(!e)throw new Error("Please provide the job id.");this.id=e,this.className=t,this._skip=0,this._limit=100},a.extend(e.Insight.JobQuery.prototype,{skip:function(e){return this._skip=e,this},limit:function(e){return this._limit=e,this},find:function(e){var t={skip:this._skip,limit:this._limit};return s({path:"/bigquery/jobs/"+this.id,method:"GET",query:t,authOptions:e,signKey:!1}).then((function(e){return e.error?i.default.reject(new o(e.code,e.error)):i.default.resolve(e)}))}})}},function(e,t,r){"use strict";var n=r(0),i=r(12).request,a=r(15).getSessionToken;e.exports=function(e){e.Friendship={request:function(t,r){if(!e.User.current())throw new Error("Please signin an user.");var a=void 0,o=void 0;t.friend?(a=t.friend,o=t.attributes):a=t;var s=n.isString(a)?e.Object.createWithoutData("_User",a):a;return i({method:"POST",path:"/users/friendshipRequests",data:e._encode({user:e.User.current(),friend:s,friendship:o}),authOptions:r})},acceptRequest:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!a(r)&&!e.User.current())throw new Error("Please signin an user.");var o=void 0,s=void 0;t.request?(o=t.request,s=t.attributes):o=t;var u=n.isString(o)?o:o.id;return i({method:"PUT",path:"/users/friendshipRequests/"+u+"/accept",data:{friendship:e._encode(s)},authOptions:r})},declineRequest:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!a(r)&&!e.User.current())throw new Error("Please signin an user.");var o=n.isString(t)?t:t.id;return i({method:"PUT",path:"/users/friendshipRequests/"+o+"/decline",authOptions:r})}}}},function(e,t,r){"use strict";var n,i=(n=r(19))&&n.__esModule?n:{default:n},a=r(0),o=r(12)._request,s=r(36),u=function(e){return"string"==typeof e?e:"function"==typeof e.getPayload?(0,i.default)(e.getPayload()):(0,i.default)(e)};e.exports=s.Object.extend("_Conversation",{constructor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s.Object.prototype.constructor.call(this,null,null),this.set("name",e),void 0!==t.isSystem&&this.set("sys",!!t.isSystem),void 0!==t.isTransient&&this.set("tr",!!t.isTransient)},getCreator:function(){return this.get("c")},getLastMessageAt:function(){return this.get("lm")},getMembers:function(){return this.get("m")},addMember:function(e){return this.add("m",e)},getMutedMembers:function(){return this.get("mu")},getName:function(){return this.get("name")},isTransient:function(){return this.get("tr")},isSystem:function(){return this.get("sys")},send:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i={from_peer:e,conv_id:this.id,transient:!1,message:u(t)};return void 0!==r.toClients&&(i.to_peers=r.toClients),void 0!==r.transient&&(i.transient=!!r.transient),void 0!==r.pushData&&(i.push_data=r.pushData),o("rtm","messages",null,"POST",i,n)},broadcast:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i={from_peer:e,conv_id:this.id,message:u(t)};if(void 0!==r.pushData&&(i.push=r.pushData),void 0!==r.validTill){var s=r.validTill;a.isDate(s)&&(s=s.getTime()),r.valid_till=s}return o("rtm","broadcast",null,"POST",i,n)}})},function(e,t,r){"use strict";var n,i=(n=r(3))&&n.__esModule?n:{default:n},a=r(0),o=r(12).request,s=r(15),u=s.ensureArray,c=s.parseDate,l=r(36);function f(e){var t=e.name,r=e.value,n=e.version;this.name=t,this.value=r,this.version=n}l.LeaderboardVersionChangeInterval={NEVER:"never",DAY:"day",WEEK:"week",MONTH:"month"},l.LeaderboardOrder={ASCENDING:"ascending",DESCENDING:"descending"},l.LeaderboardUpdateStrategy={BETTER:"better",LAST:"last",SUM:"sum"};var p=function(e){var t=l._decode(e);return new f({name:t.statisticName,value:t.statisticValue,version:t.version})};l.Leaderboard=function(e){this.statisticName=e,this.order=void 0,this.updateStrategy=void 0,this.versionChangeInterval=void 0,this.version=void 0,this.nextResetAt=void 0,this.createdAt=void 0};var d=l.Leaderboard;l.Leaderboard.createWithoutData=function(e){return new d(e)},l.Leaderboard.createLeaderboard=function(e,t){var r=e.statisticName,n=e.order,i=e.versionChangeInterval,a=e.updateStrategy;return o({method:"POST",path:"/leaderboard/leaderboards",data:{statisticName:r,order:n,versionChangeInterval:i,updateStrategy:a},authOptions:t}).then((function(e){return new d(r)._finishFetch(e)}))},l.Leaderboard.getLeaderboard=function(e,t){return d.createWithoutData(e).fetch(t)},l.Leaderboard.getStatistics=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.statisticNames,n=arguments[2];return i.default.resolve().then((function(){if(!e||!e.id)throw new Error("user must be an AV.User");return o({method:"GET",path:"/leaderboard/users/"+e.id+"/statistics",query:{statistics:r?u(r).join(","):void 0},authOptions:n}).then((function(e){return e.results.map(p)}))}))},l.Leaderboard.updateStatistics=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i.default.resolve().then((function(){if(!e||!e.id)throw new Error("user must be an AV.User");var n=a.map(t,(function(e,t){return{statisticName:t,statisticValue:e}})),i=r.overwrite;return o({method:"POST",path:"/leaderboard/users/"+e.id+"/statistics",query:{overwrite:i?1:void 0},data:n,authOptions:r}).then((function(e){return e.results.map(p)}))}))},l.Leaderboard.deleteStatistics=function(e,t,r){return i.default.resolve().then((function(){if(!e||!e.id)throw new Error("user must be an AV.User");return o({method:"DELETE",path:"/leaderboard/users/"+e.id+"/statistics",query:{statistics:u(t).join(",")},authOptions:r}).then((function(){}))}))},a.extend(d.prototype,{_finishFetch:function(e){var t=this;return a.forEach(e,(function(e,r){"updatedAt"!==r&&"objectId"!==r&&("expiredAt"===r&&(r="nextResetAt"),"createdAt"===r&&(e=c(e)),e&&"Date"===e.__type&&(e=c(e.iso)),t[r]=e)})),this},fetch:function(e){var t=this;return o({method:"GET",path:"/leaderboard/leaderboards/"+this.statisticName,authOptions:e}).then((function(e){return t._finishFetch(e)}))},count:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.version,r=arguments[1];return o({method:"GET",path:"/leaderboard/leaderboards/"+this.statisticName+"/ranks",query:{count:1,limit:0,version:t},authOptions:r}).then((function(e){return e.count}))},_getResults:function(e,t,r){var n=e.skip,i=e.limit,s=e.selectUserKeys,c=e.includeUserKeys,f=e.includeStatistics,d=e.version;return o({method:"GET",path:"/leaderboard/leaderboards/"+this.statisticName+"/ranks"+(r?"/"+r:""),query:{skip:n,limit:i,selectUserKeys:a.union(u(s),u(c)).join(",")||void 0,includeUser:c?u(c).join(","):void 0,includeStatistics:f?u(f).join(","):void 0,version:d},authOptions:t}).then((function(e){return e.results.map((function(e){var t=l._decode(e),r=t.user,n=t.statisticValue,i=t.rank,a=t.statistics;return{user:r,value:n,rank:i,includedStatistics:(void 0===a?[]:a).map(p)}}))}))},getResults:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.skip,r=e.limit,n=e.selectUserKeys,i=e.includeUserKeys,a=e.includeStatistics,o=e.version,s=arguments[1];return this._getResults({skip:t,limit:r,selectUserKeys:n,includeUserKeys:i,includeStatistics:a,version:o},s)},getResultsAroundUser:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments[2];if(e&&"string"!=typeof e.id)return this.getResultsAroundUser(void 0,e,t);var n=t.limit,i=t.selectUserKeys,a=t.includeUserKeys,o=t.includeStatistics,s=t.version;return this._getResults({limit:n,selectUserKeys:i,includeUserKeys:a,includeStatistics:o,version:s},r,e?e.id:"self")},_update:function(e,t){var r=this;return o({method:"PUT",path:"/leaderboard/leaderboards/"+this.statisticName,data:e,authOptions:t}).then((function(e){return r._finishFetch(e)}))},updateVersionChangeInterval:function(e,t){return this._update({versionChangeInterval:e},t)},updateUpdateStrategy:function(e,t){return this._update({updateStrategy:e},t)},reset:function(e){var t=this;return o({method:"PUT",path:"/leaderboard/leaderboards/"+this.statisticName+"/incrementVersion",authOptions:e}).then((function(e){return t._finishFetch(e)}))},destroy:function(e){return l.request({method:"DELETE",path:"/leaderboard/leaderboards/"+this.statisticName,authOptions:e}).then((function(){}))},getArchives:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.skip,n=t.limit,i=arguments[1];return o({method:"GET",path:"/leaderboard/leaderboards/"+this.statisticName+"/archives",query:{skip:r,limit:n},authOptions:i}).then((function(t){return t.results.map((function(t){var r=t.version,n=t.status,i=t.url,a=t.activatedAt,o=t.deactivatedAt;return{statisticName:e.statisticName,version:r,status:n,url:i,activatedAt:c(a.iso),deactivatedAt:c(o.iso)}}))}))}})},function(e,t,r){"use strict";var n=r(338);e.exports=function(e){return e.setAdapters(n),e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(339);Object.defineProperty(t,"request",{enumerable:!0,get:function(){return n.request}}),Object.defineProperty(t,"upload",{enumerable:!0,get:function(){return n.upload}});var i=window.localStorage,a=window.WebSocket;t.WebSocket=a,t.platformInfo={name:"Browser"},t.storage=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.upload=t.request=void 0;var n=r(340),i=r(341);function a(e){return{ok:e.ok,status:e.status,headers:e.header,data:e.body}}t.request=function(e,t){void 0===t&&(t={});var r=t.method,o=void 0===r?"GET":r,s=t.data,u=t.headers,c=t.onprogress,l=t.signal;if(null==l?void 0:l.aborted)return Promise.reject(new n.AbortError("Request aborted"));var f=i(o,e);return u&&f.set(u),c&&f.on("progress",c),new Promise((function(e,t){var r=function(){t(new n.AbortError("Request aborted")),f.abort()};null==l||l.addEventListener("abort",r),f.send(s).then((function(t){return e(a(t))})).catch((function(r){r.response?e(a(r.response)):t(r)})).finally((function(){return null==l?void 0:l.removeEventListener("abort",r)}))}))},t.upload=function(e,t,r){void 0===r&&(r={});var o=r.method,s=void 0===o?"POST":o,u=r.data,c=r.headers,l=r.onprogress,f=r.signal;if(null==f?void 0:f.aborted)return Promise.reject(new n.AbortError("Request aborted"));var p=i(s,e).attach(t.field,t.data,t.name);return u&&p.field(u),c&&p.set(c),l&&p.on("progress",l),new Promise((function(e,t){var r=function(){t(new n.AbortError("Request aborted")),p.abort()};null==f||f.addEventListener("abort",r),p.then((function(t){return e(a(t))})).catch((function(r){r.response?e(a(r.response)):t(r)})).finally((function(){return null==f?void 0:f.removeEventListener("abort",r)}))}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"AbortError",(function(){return i}));var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="AbortError",t}return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t}(Error)},function(e,t,r){"use strict";var n,i=s(r(61)),a=s(r(30)),o=s(r(51));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof o.default&&"symbol"===(0,a.default)(i.default)?function(e){return void 0===e?"undefined":(0,a.default)(e)}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":void 0===e?"undefined":(0,a.default)(e)})(e)}"undefined"!=typeof window?n=window:"undefined"==typeof self?(console.warn("Using browser-only version of superagent in non-browser environment"),n=void 0):n=self;var c=r(342),l=r(343),f=r(344),p=r(170),d=r(345),h=r(347);function m(){}e.exports=function(e,r){return"function"==typeof r?new t.Request("GET",e).end(r):1===arguments.length?new t.Request("GET",e):new t.Request(e,r)};var y=t=e.exports;t.Request=x,y.getXHR=function(){if(n.XMLHttpRequest&&(!n.location||"file:"!==n.location.protocol||!n.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}throw new Error("Browser-only version of superagent could not find XHR")};var v="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};function g(e){if(!p(e))return e;var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&b(t,r,e[r]);return t.join("&")}function b(e,t,r){if(void 0!==r)if(null!==r)if(Array.isArray(r))r.forEach((function(r){b(e,t,r)}));else if(p(r))for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&b(e,"".concat(t,"[").concat(n,"]"),r[n]);else e.push(encodeURI(t)+"="+encodeURIComponent(r));else e.push(encodeURI(t))}function _(e){for(var t,r,n={},i=e.split("&"),a=0,o=i.length;a<o;++a)-1===(r=(t=i[a]).indexOf("="))?n[decodeURIComponent(t)]="":n[decodeURIComponent(t.slice(0,r))]=decodeURIComponent(t.slice(r+1));return n}function w(e){return/[/+]json($|[^-\w])/.test(e)}function k(e){this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!==this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var t=this.xhr.status;1223===t&&(t=204),this._setStatusProperties(t),this.headers=function(e){for(var t,r,n,i,a=e.split(/\r?\n/),o={},s=0,u=a.length;s<u;++s)-1!==(t=(r=a[s]).indexOf(":"))&&(n=r.slice(0,t).toLowerCase(),i=v(r.slice(t+1)),o[n]=i);return o}(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&e._responseType?this.body=this.xhr.response:this.body="HEAD"===this.req.method?null:this._parseBody(this.text?this.text:this.xhr.response)}function x(e,t){var r=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",(function(){var e,t=null,n=null;try{n=new k(r)}catch(e){return(t=new Error("Parser is unable to parse the response")).parse=!0,t.original=e,r.xhr?(t.rawResponse=void 0===r.xhr.responseType?r.xhr.responseText:r.xhr.response,t.status=r.xhr.status?r.xhr.status:null,t.statusCode=t.status):(t.rawResponse=null,t.status=null),r.callback(t)}r.emit("response",n);try{r._isResponseOK(n)||(e=new Error(n.statusText||n.text||"Unsuccessful HTTP response"))}catch(t){e=t}e?(e.original=t,e.response=n,e.status=n.status,r.callback(e,n)):r.callback(null,n)}))}function T(e,t,r){var n=y("DELETE",e);return"function"==typeof t&&(r=t,t=null),t&&n.send(t),r&&n.end(r),n}y.serializeObject=g,y.parseString=_,y.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},y.serialize={"application/x-www-form-urlencoded":g,"application/json":l},y.parse={"application/x-www-form-urlencoded":_,"application/json":JSON.parse},d(k.prototype),k.prototype._parseBody=function(e){var t=y.parse[this.type];return this.req._parser?this.req._parser(this,e):(!t&&w(this.type)&&(t=y.parse["application/json"]),t&&e&&(e.length>0||e instanceof Object)?t(e):null)},k.prototype.toError=function(){var e=this.req,t=e.method,r=e.url,n="cannot ".concat(t," ").concat(r," (").concat(this.status,")"),i=new Error(n);return i.status=this.status,i.method=t,i.url=r,i},y.Response=k,c(x.prototype),f(x.prototype),x.prototype.type=function(e){return this.set("Content-Type",y.types[e]||e),this},x.prototype.accept=function(e){return this.set("Accept",y.types[e]||e),this},x.prototype.auth=function(e,t,r){1===arguments.length&&(t=""),"object"===u(t)&&null!==t&&(r=t,t=""),r||(r={type:"function"==typeof btoa?"basic":"auto"});var n=function(e){if("function"==typeof btoa)return btoa(e);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(e,t,r,n)},x.prototype.query=function(e){return"string"!=typeof e&&(e=g(e)),e&&this._query.push(e),this},x.prototype.attach=function(e,t,r){if(t){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(e,t,r||t.name)}return this},x.prototype._getFormData=function(){return this._formData||(this._formData=new n.FormData),this._formData},x.prototype.callback=function(e,t){if(this._shouldRetry(e,t))return this._retry();var r=this._callback;this.clearTimeout(),e&&(this._maxRetries&&(e.retries=this._retries-1),this.emit("error",e)),r(e,t)},x.prototype.crossDomainError=function(){var e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},x.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},x.prototype.ca=x.prototype.agent,x.prototype.buffer=x.prototype.ca,x.prototype.write=function(){throw new Error("Streaming is not supported in browser version of superagent")},x.prototype.pipe=x.prototype.write,x.prototype._isHost=function(e){return e&&"object"===u(e)&&!Array.isArray(e)&&"[object Object]"!==Object.prototype.toString.call(e)},x.prototype.end=function(e){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=e||m,this._finalizeQueryString(),this._end()},x.prototype._setUploadTimeout=function(){var e=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout((function(){e._timeoutError("Upload timeout of ",e._uploadTimeout,"ETIMEDOUT")}),this._uploadTimeout))},x.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));var e=this;this.xhr=y.getXHR();var t=this.xhr,r=this._formData||this._data;this._setTimeouts(),t.onreadystatechange=function(){var r=t.readyState;if(r>=2&&e._responseTimeoutTimer&&clearTimeout(e._responseTimeoutTimer),4===r){var n;try{n=t.status}catch(e){n=0}if(!n){if(e.timedout||e._aborted)return;return e.crossDomainError()}e.emit("end")}};var n=function(t,r){r.total>0&&(r.percent=r.loaded/r.total*100,100===r.percent&&clearTimeout(e._uploadTimeoutTimer)),r.direction=t,e.emit("progress",r)};if(this.hasListeners("progress"))try{t.addEventListener("progress",n.bind(null,"download")),t.upload&&t.upload.addEventListener("progress",n.bind(null,"upload"))}catch(e){}t.upload&&this._setUploadTimeout();try{this.username&&this.password?t.open(this.method,this.url,!0,this.username,this.password):t.open(this.method,this.url,!0)}catch(e){return this.callback(e)}if(this._withCredentials&&(t.withCredentials=!0),!this._formData&&"GET"!==this.method&&"HEAD"!==this.method&&"string"!=typeof r&&!this._isHost(r)){var i=this._header["content-type"],a=this._serializer||y.serialize[i?i.split(";")[0]:""];!a&&w(i)&&(a=y.serialize["application/json"]),a&&(r=a(r))}for(var o in this.header)null!==this.header[o]&&Object.prototype.hasOwnProperty.call(this.header,o)&&t.setRequestHeader(o,this.header[o]);this._responseType&&(t.responseType=this._responseType),this.emit("request",this),t.send(void 0===r?null:r)},y.agent=function(){return new h},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach((function(e){h.prototype[e.toLowerCase()]=function(t,r){var n=new y.Request(e,t);return this._setDefaults(n),r&&n.end(r),n}})),h.prototype.del=h.prototype.delete,y.get=function(e,t,r){var n=y("GET",e);return"function"==typeof t&&(r=t,t=null),t&&n.query(t),r&&n.end(r),n},y.head=function(e,t,r){var n=y("HEAD",e);return"function"==typeof t&&(r=t,t=null),t&&n.query(t),r&&n.end(r),n},y.options=function(e,t,r){var n=y("OPTIONS",e);return"function"==typeof t&&(r=t,t=null),t&&n.send(t),r&&n.end(r),n},y.del=T,y.delete=T,y.patch=function(e,t,r){var n=y("PATCH",e);return"function"==typeof t&&(r=t,t=null),t&&n.send(t),r&&n.end(r),n},y.post=function(e,t,r){var n=y("POST",e);return"function"==typeof t&&(r=t,t=null),t&&n.send(t),r&&n.end(r),n},y.put=function(e,t,r){var n=y("PUT",e);return"function"==typeof t&&(r=t,t=null),t&&n.send(t),r&&n.end(r),n}},function(e,t,r){function n(e){if(e)return function(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e)}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},n.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<n.length;i++)if((r=n[i])===t||r.fn===t){n.splice(i,1);break}return 0===n.length&&delete this._callbacks["$"+e],this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){n=0;for(var i=(r=r.slice(0)).length;n<i;++n)r[n].apply(this,t)}return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t){e.exports=i,i.default=i,i.stable=u,i.stableStringify=u;var r=[],n=[];function i(e,t,i){var o;for(a(e,"",[],void 0),o=0===n.length?JSON.stringify(e,t,i):JSON.stringify(e,l(t),i);0!==r.length;){var s=r.pop();4===s.length?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}return o}function a(e,t,i,o){var u;if("object"===s(e)&&null!==e){for(u=0;u<i.length;u++)if(i[u]===e){var c=Object.getOwnPropertyDescriptor(o,t);return void(void 0!==c.get?c.configurable?(Object.defineProperty(o,t,{value:"[Circular]"}),r.push([o,t,e,c])):n.push([e,t]):(o[t]="[Circular]",r.push([o,t,e])))}if(i.push(e),Array.isArray(e))for(u=0;u<e.length;u++)a(e[u],u,i,e);else{var l=Object.keys(e);for(u=0;u<l.length;u++){var f=l[u];a(e[f],f,i,e)}}i.pop()}}function o(e,t){return e<t?-1:e>t?1:0}function u(e,t,i){var a,o=c(e,"",[],void 0)||e;for(a=0===n.length?JSON.stringify(o,t,i):JSON.stringify(o,l(t),i);0!==r.length;){var s=r.pop();4===s.length?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}return a}function c(e,t,i,a){var u;if("object"===s(e)&&null!==e){for(u=0;u<i.length;u++)if(i[u]===e){var l=Object.getOwnPropertyDescriptor(a,t);return void(void 0!==l.get?l.configurable?(Object.defineProperty(a,t,{value:"[Circular]"}),r.push([a,t,e,l])):n.push([e,t]):(a[t]="[Circular]",r.push([a,t,e])))}if("function"==typeof e.toJSON)return;if(i.push(e),Array.isArray(e))for(u=0;u<e.length;u++)c(e[u],u,i,e);else{var f={},p=Object.keys(e).sort(o);for(u=0;u<p.length;u++){var d=p[u];c(e[d],d,i,e),f[d]=e[d]}if(void 0===a)return f;r.push([a,t,e]),a[t]=f}i.pop()}}function l(e){return e=void 0!==e?e:function(e,t){return t},function(t,r){if(n.length>0)for(var i=0;i<n.length;i++){var a=n[i];if(a[1]===t&&a[0]===r){r="[Circular]",n.splice(i,1);break}}return e.call(this,t,r)}}},function(e,t,r){"use strict";var n=s(r(3)),i=s(r(61)),a=s(r(30)),o=s(r(51));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof o.default&&"symbol"===(0,a.default)(i.default)?function(e){return void 0===e?"undefined":(0,a.default)(e)}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":void 0===e?"undefined":(0,a.default)(e)})(e)}var c=r(170);function l(e){if(e)return function(e){for(var t in l.prototype)Object.prototype.hasOwnProperty.call(l.prototype,t)&&(e[t]=l.prototype[t]);return e}(e)}e.exports=l,l.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this},l.prototype.parse=function(e){return this._parser=e,this},l.prototype.responseType=function(e){return this._responseType=e,this},l.prototype.serialize=function(e){return this._serializer=e,this},l.prototype.timeout=function(e){if(!e||"object"!==u(e))return this._timeout=e,this._responseTimeout=0,this._uploadTimeout=0,this;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))switch(t){case"deadline":this._timeout=e.deadline;break;case"response":this._responseTimeout=e.response;break;case"upload":this._uploadTimeout=e.upload;break;default:console.warn("Unknown timeout option",t)}return this},l.prototype.retry=function(e,t){return 0!==arguments.length&&!0!==e||(e=1),e<=0&&(e=0),this._maxRetries=e,this._retries=0,this._retryCallback=t,this};var f=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];l.prototype._shouldRetry=function(e,t){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var r=this._retryCallback(e,t);if(!0===r)return!0;if(!1===r)return!1}catch(e){console.error(e)}if(t&&t.status&&t.status>=500&&501!==t.status)return!0;if(e){if(e.code&&f.includes(e.code))return!0;if(e.timeout&&"ECONNABORTED"===e.code)return!0;if(e.crossDomain)return!0}return!1},l.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()},l.prototype.then=function(e,t){var r=this;if(!this._fullfilledPromise){var i=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new n.default((function(e,t){i.on("abort",(function(){if(!(r._maxRetries&&r._maxRetries>r._retries))if(r.timedout&&r.timedoutError)t(r.timedoutError);else{var e=new Error("Aborted");e.code="ABORTED",e.status=r.status,e.method=r.method,e.url=r.url,t(e)}})),i.end((function(r,n){r?t(r):e(n)}))}))}return this._fullfilledPromise.then(e,t)},l.prototype.catch=function(e){return this.then(void 0,e)},l.prototype.use=function(e){return e(this),this},l.prototype.ok=function(e){if("function"!=typeof e)throw new Error("Callback required");return this._okCallback=e,this},l.prototype._isResponseOK=function(e){return!!e&&(this._okCallback?this._okCallback(e):e.status>=200&&e.status<300)},l.prototype.get=function(e){return this._header[e.toLowerCase()]},l.prototype.getHeader=l.prototype.get,l.prototype.set=function(e,t){if(c(e)){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&this.set(r,e[r]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},l.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},l.prototype.field=function(e,t){if(null==e)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(c(e)){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&this.field(r,e[r]);return this}if(Array.isArray(t)){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&this.field(e,t[n]);return this}if(null==t)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof t&&(t=String(t)),this._getFormData().append(e,t),this},l.prototype.abort=function(){return this._aborted||(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort")),this},l.prototype._auth=function(e,t,r,n){switch(r.type){case"basic":this.set("Authorization","Basic ".concat(n("".concat(e,":").concat(t))));break;case"auto":this.username=e,this.password=t;break;case"bearer":this.set("Authorization","Bearer ".concat(e))}return this},l.prototype.withCredentials=function(e){return void 0===e&&(e=!0),this._withCredentials=e,this},l.prototype.redirects=function(e){return this._maxRedirects=e,this},l.prototype.maxResponseSize=function(e){if("number"!=typeof e)throw new TypeError("Invalid argument");return this._maxResponseSize=e,this},l.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},l.prototype.send=function(e){var t=c(e),r=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(t&&!this._data)Array.isArray(e)?this._data=[]:this._isHost(e)||(this._data={});else if(e&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(t&&c(this._data))for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this._data[n]=e[n]);else"string"==typeof e?(r||this.type("form"),r=this._header["content-type"],this._data="application/x-www-form-urlencoded"===r?this._data?"".concat(this._data,"&").concat(e):e:(this._data||"")+e):this._data=e;return!t||this._isHost(e)||r||this.type("json"),this},l.prototype.sortQuery=function(e){return this._sort=void 0===e||e,this},l.prototype._finalizeQueryString=function(){var e=this._query.join("&");if(e&&(this.url+=(this.url.includes("?")?"&":"?")+e),this._query.length=0,this._sort){var t=this.url.indexOf("?");if(t>=0){var r=this.url.slice(t+1).split("&");"function"==typeof this._sort?r.sort(this._sort):r.sort(),this.url=this.url.slice(0,t)+"?"+r.join("&")}}},l.prototype._appendQueryString=function(){console.warn("Unsupported")},l.prototype._timeoutError=function(e,t,r){if(!this._aborted){var n=new Error("".concat(e+t,"ms exceeded"));n.timeout=t,n.code="ECONNABORTED",n.errno=r,this.timedout=!0,this.timedoutError=n,this.abort(),this.callback(n)}},l.prototype._setTimeouts=function(){var e=this;this._timeout&&!this._timer&&(this._timer=setTimeout((function(){e._timeoutError("Timeout of ",e._timeout,"ETIME")}),this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout((function(){e._timeoutError("Response timeout of ",e._responseTimeout,"ETIMEDOUT")}),this._responseTimeout))}},function(e,t,r){"use strict";var n=r(346);function i(e){if(e)return function(e){for(var t in i.prototype)Object.prototype.hasOwnProperty.call(i.prototype,t)&&(e[t]=i.prototype[t]);return e}(e)}e.exports=i,i.prototype.get=function(e){return this.header[e.toLowerCase()]},i.prototype._setHeaderProperties=function(e){var t=e["content-type"]||"";this.type=n.type(t);var r=n.params(t);for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(this[i]=r[i]);this.links={};try{e.link&&(this.links=n.parseLinks(e.link))}catch(e){}},i.prototype._setStatusProperties=function(e){var t=e/100|0;this.statusCode=e,this.status=this.statusCode,this.statusType=t,this.info=1===t,this.ok=2===t,this.redirect=3===t,this.clientError=4===t,this.serverError=5===t,this.error=(4===t||5===t)&&this.toError(),this.created=201===e,this.accepted=202===e,this.noContent=204===e,this.badRequest=400===e,this.unauthorized=401===e,this.notAcceptable=406===e,this.forbidden=403===e,this.notFound=404===e,this.unprocessableEntity=422===e}},function(e,t,r){"use strict";t.type=function(e){return e.split(/ *; */).shift()},t.params=function(e){return e.split(/ *; */).reduce((function(e,t){var r=t.split(/ *= */),n=r.shift(),i=r.shift();return n&&i&&(e[n]=i),e}),{})},t.parseLinks=function(e){return e.split(/ *, */).reduce((function(e,t){var r=t.split(/ *; */),n=r[0].slice(1,-1);return e[r[1].split(/ *= */)[1].slice(1,-1)]=n,e}),{})},t.cleanHeader=function(e,t){return delete e["content-type"],delete e["content-length"],delete e["transfer-encoding"],delete e.host,t&&(delete e.authorization,delete e.cookie),e}},function(e,t,r){"use strict";var n=o(r(169)),i=o(r(51)),a=o(r(348));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"].forEach((function(e){u.prototype[e]=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return this._defaults.push({fn:e,args:r}),this}})),u.prototype._setDefaults=function(e){this._defaults.forEach((function(t){var r;e[t.fn].apply(e,function(e){if(Array.isArray(e))return s(e)}(r=t.args)||function(e){if(void 0!==i.default&&(0,n.default)(Object(e)))return(0,a.default)(e)}(r)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?(0,a.default)(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}))},e.exports=u},function(e,t,r){e.exports={default:r(349),__esModule:!0}},function(e,t,r){r(39),r(350),e.exports=r(2).Array.from},function(e,t,r){"use strict";var n=r(31),i=r(16),a=r(44),o=r(102),s=r(103),u=r(67),c=r(351),l=r(72);i(i.S+i.F*!r(108)((function(e){Array.from(e)})),"Array",{from:function(e){var t,r,i,f,p=a(e),d="function"==typeof this?this:Array,h=arguments.length,m=h>1?arguments[1]:void 0,y=void 0!==m,v=0,g=l(p);if(y&&(m=n(m,h>2?arguments[2]:void 0,2)),null==g||d==Array&&s(g))for(r=new d(t=u(p.length));t>v;v++)c(r,v,y?m(p[v],v):p[v]);else for(f=g.call(p),r=new d;!(i=f.next()).done;v++)c(r,v,y?o(f,m,[i.value,v],!0):i.value);return r.length=v,r}})},function(e,t,r){"use strict";var n=r(18),i=r(42);e.exports=function(e,t,r){t in e?n.f(e,t,i(0,r)):e[t]=r}}])},"object"===s(t)&&"object"===s(e)?e.exports=o():(i=[],void 0===(a="function"==typeof(n=o)?n.apply(t,i):n)||(e.exports=a))},2352:function(e,t,r){var n,i;void 0===(i="function"==typeof(n=function(){var e,t,r={version:"0.2.0"},n=r.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function i(e,t,r){return e<t?t:e>r?r:e}function a(e){return 100*(-1+e)}r.configure=function(e){var t,r;for(t in e)void 0!==(r=e[t])&&e.hasOwnProperty(t)&&(n[t]=r);return this},r.status=null,r.set=function(e){var t=r.isStarted();e=i(e,n.minimum,1),r.status=1===e?null:e;var u=r.render(!t),c=u.querySelector(n.barSelector),l=n.speed,f=n.easing;return u.offsetWidth,o((function(t){""===n.positionUsing&&(n.positionUsing=r.getPositioningCSS()),s(c,function(e,t,r){var i;return(i="translate3d"===n.positionUsing?{transform:"translate3d("+a(e)+"%,0,0)"}:"translate"===n.positionUsing?{transform:"translate("+a(e)+"%,0)"}:{"margin-left":a(e)+"%"}).transition="all "+t+"ms "+r,i}(e,l,f)),1===e?(s(u,{transition:"none",opacity:1}),u.offsetWidth,setTimeout((function(){s(u,{transition:"all "+l+"ms linear",opacity:0}),setTimeout((function(){r.remove(),t()}),l)}),l)):setTimeout(t,l)})),this},r.isStarted=function(){return"number"==typeof r.status},r.start=function(){r.status||r.set(0);return n.trickle&&function e(){setTimeout((function(){r.status&&(r.trickle(),e())}),n.trickleSpeed)}(),this},r.done=function(e){return e||r.status?r.inc(.3+.5*Math.random()).set(1):this},r.inc=function(e){var t=r.status;return t?("number"!=typeof e&&(e=(1-t)*i(Math.random()*t,.1,.95)),t=i(t+e,0,.994),r.set(t)):r.start()},r.trickle=function(){return r.inc(Math.random()*n.trickleRate)},e=0,t=0,r.promise=function(n){return n&&"resolved"!==n.state()?(0===t&&r.start(),e++,t++,n.always((function(){0==--t?(e=0,r.done()):r.set((e-t)/e)})),this):this},r.render=function(e){if(r.isRendered())return document.getElementById("nprogress");c(document.documentElement,"nprogress-busy");var t=document.createElement("div");t.id="nprogress",t.innerHTML=n.template;var i,o=t.querySelector(n.barSelector),u=e?"-100":a(r.status||0),l=document.querySelector(n.parent);return s(o,{transition:"all 0 linear",transform:"translate3d("+u+"%,0,0)"}),n.showSpinner||(i=t.querySelector(n.spinnerSelector))&&p(i),l!=document.body&&c(l,"nprogress-custom-parent"),l.appendChild(t),t},r.remove=function(){l(document.documentElement,"nprogress-busy"),l(document.querySelector(n.parent),"nprogress-custom-parent");var e=document.getElementById("nprogress");e&&p(e)},r.isRendered=function(){return!!document.getElementById("nprogress")},r.getPositioningCSS=function(){var e=document.body.style,t="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return t+"Perspective"in e?"translate3d":t+"Transform"in e?"translate":"margin"};var o=function(){var e=[];function t(){var r=e.shift();r&&r(t)}return function(r){e.push(r),1==e.length&&t()}}(),s=function(){var e=["Webkit","O","Moz","ms"],t={};function r(r){return r=r.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(e,t){return t.toUpperCase()})),t[r]||(t[r]=function(t){var r=document.body.style;if(t in r)return t;for(var n,i=e.length,a=t.charAt(0).toUpperCase()+t.slice(1);i--;)if((n=e[i]+a)in r)return n;return t}(r))}function n(e,t,n){t=r(t),e.style[t]=n}return function(e,t){var r,i,a=arguments;if(2==a.length)for(r in t)void 0!==(i=t[r])&&t.hasOwnProperty(r)&&n(e,r,i);else n(e,a[1],a[2])}}();function u(e,t){return("string"==typeof e?e:f(e)).indexOf(" "+t+" ")>=0}function c(e,t){var r=f(e),n=r+t;u(r,t)||(e.className=n.substring(1))}function l(e,t){var r,n=f(e);u(e,t)&&(r=n.replace(" "+t+" "," "),e.className=r.substring(1,r.length-1))}function f(e){return(" "+(e.className||"")+" ").replace(/\s+/gi," ")}function p(e){e&&e.parentNode&&e.parentNode.removeChild(e)}return r})?n.call(t,r,t,e):n)||(e.exports=i)},7751:(e,t,r)=>{function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=function(e){"use strict";var t,r=Object.prototype,i=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),o=new O(n||[]);return a._invoke=function(e,t,r){var n=p;return function(i,a){if(n===h)throw new Error("Generator is already running");if(n===m){if("throw"===i)throw a;return P()}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var s=A(o,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===p)throw n=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=h;var u=f(e,t,r);if("normal"===u.type){if(n=r.done?m:d,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=m,r.method="throw",r.arg=u.arg)}}}(e,r,o),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p="suspendedStart",d="suspendedYield",h="executing",m="completed",y={};function v(){}function g(){}function b(){}var _={};c(_,o,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(R([])));k&&k!==r&&i.call(k,o)&&(_=k);var x=b.prototype=v.prototype=Object.create(_);function T(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function r(a,o,s,u){var c=f(e[a],e,o);if("throw"!==c.type){var l=c.arg,p=l.value;return p&&"object"===n(p)&&i.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,s,u)}),(function(e){r("throw",e,s,u)})):t.resolve(p).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,u)}))}u(c.arg)}var a;this._invoke=function(e,n){function i(){return new t((function(t,i){r(e,n,t,i)}))}return a=a?a.then(i,i):i()}}function A(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,A(e,r),"throw"===r.method))return y;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var i=f(n,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function R(e){if(e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function r(){for(;++n<e.length;)if(i.call(e,n))return r.value=e[n],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}return{next:P}}function P(){return{value:t,done:!0}}return g.prototype=b,c(x,"constructor",b),c(b,"constructor",g),g.displayName=c(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},T(E.prototype),c(E.prototype,s,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new E(l(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},T(x),c(x,u,"Generator"),c(x,o,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=R,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var u=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;C(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:R(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}("object"===n(e=r.nmd(e))?e.exports:{});try{regeneratorRuntime=i}catch(e){"object"===("undefined"==typeof globalThis?"undefined":n(globalThis))?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},8969:(e,t)=>{var r,n,i,a;!function(e){"use strict";function t(t,r,n,i){var a=e(n,r);a.addData(t),a.make(),i=i||0;var o=a.getModuleCount(),s=a.getModuleCount()+2*i;this.text=t,this.level=r,this.version=n,this.moduleCount=s,this.isDark=function(e,t){return t-=i,!(0>(e-=i)||e>=o||0>t||t>=o)&&a.isDark(e,t)},this.addBlank=function(e,t,r,n){var i=this.isDark,a=1/s;this.isDark=function(o,s){var u=s*a,c=o*a,l=u+a,f=c+a;return i(o,s)&&(e>l||u>r||t>f||c>n)}}}function r(e,r,n,i,a){n=Math.max(1,n||1),i=Math.min(40,i||40);for(var o=n;i>=o;o+=1)try{return new t(e,r,o,a)}catch(e){}}function n(e,t,r,n,i,a,o,s){e.isDark(o,s)&&t.rect(n,i,a,a)}function i(e,t,r,n,i,a,o,s){var u=e.isDark,c=n+a,l=i+a,f=r.radius*a,p=o-1,d=o+1,h=s-1,m=s+1,y=u(o,s),v=u(p,h),g=u(p,s),b=u(p,m),_=u(o,m),w=u(d,m),k=u(d,s),x=u(d,h),T=u(o,h);y?function(e,t,r,n,i,a,o,s,u,c){o?e.moveTo(t+a,r):e.moveTo(t,r),s?(e.lineTo(n-a,r),e.arcTo(n,r,n,i,a)):e.lineTo(n,r),u?(e.lineTo(n,i-a),e.arcTo(n,i,t,i,a)):e.lineTo(n,i),c?(e.lineTo(t+a,i),e.arcTo(t,i,t,r,a)):e.lineTo(t,i),o?(e.lineTo(t,r+a),e.arcTo(t,r,n,r,a)):e.lineTo(t,r)}(t,n,i,c,l,f,!g&&!T,!g&&!_,!k&&!_,!k&&!T):function(e,t,r,n,i,a,o,s,u,c){o&&(e.moveTo(t+a,r),e.lineTo(t,r),e.lineTo(t,r+a),e.arcTo(t,r,t+a,r,a)),s&&(e.moveTo(n-a,r),e.lineTo(n,r),e.lineTo(n,r+a),e.arcTo(n,r,n-a,r,a)),u&&(e.moveTo(n-a,i),e.lineTo(n,i),e.lineTo(n,i-a),e.arcTo(n,i,n-a,i,a)),c&&(e.moveTo(t+a,i),e.lineTo(t,i),e.lineTo(t,i-a),e.arcTo(t,i,t+a,i,a))}(t,n,i,c,l,f,g&&T&&v,g&&_&&b,k&&_&&w,k&&T&&x)}function a(e,t,r){var a,o,s=e.moduleCount,c=r.size/s,f=n;for(l&&r.radius>0&&r.radius<=.5&&(f=i),t.beginPath(),a=0;s>a;a+=1)for(o=0;s>o;o+=1)f(e,t,r,r.left+o*c,r.top+a*c,c,a,o);if(u(r.fill).is("img")){t.strokeStyle="rgba(0,0,0,0.5)",t.lineWidth=2,t.stroke();var p=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",t.fill(),t.globalCompositeOperation=p,t.clip(),t.drawImage(r.fill,0,0,r.size,r.size),t.restore()}else t.fillStyle=r.fill,t.fill()}function o(e,t){var n=r(t.text,t.ecLevel,t.minVersion,t.maxVersion,t.quiet);if(!n)return null;var i=u(e).data("qrcode",n),o=i[0].getContext("2d");return function(e,t,r){u(r.background).is("img")?t.drawImage(r.background,0,0,r.size,r.size):r.background&&(t.fillStyle=r.background,t.fillRect(r.left,r.top,r.size,r.size));var n=r.mode;1===n||2===n?function(e,t,r){var n=r.size,i="bold "+r.mSize*n+"px "+r.fontname,a=u("<canvas/>")[0].getContext("2d");a.font=i;var o=a.measureText(r.label).width,s=r.mSize,c=o/n,l=(1-c)*r.mPosX,f=(1-s)*r.mPosY,p=l+c,d=f+s,h=.01;1===r.mode?e.addBlank(0,f-h,n,d+h):e.addBlank(l-h,f-h,p+h,d+h),t.fillStyle=r.fontcolor,t.font=i,t.fillText(r.label,l*n,f*n+.75*r.mSize*n)}(e,t,r):(3===n||4===n)&&function(e,t,r){var n=r.size,i=r.image.naturalWidth||1,a=r.image.naturalHeight||1,o=r.mSize,s=o*i/a,u=(1-s)*r.mPosX,c=(1-o)*r.mPosY,l=u+s,f=c+o,p=.01;3===r.mode?e.addBlank(0,c-p,n,f+p):e.addBlank(u-p,c-p,l+p,f+p),t.drawImage(r.image,u*n,c*n,s*n,o*n)}(e,t,r)}(n,o,t),a(n,o,t),i}function s(e){return o(u("<canvas/>").attr("width",e.size).attr("height",e.size),e)}var u=jQuery,c=function(){var e=document.createElement("canvas");return Boolean(e.getContext&&e.getContext("2d"))}(),l="[object Opera]"!==Object.prototype.toString.call(window.opera),f={render:"canvas",minVersion:1,maxVersion:40,ecLevel:"L",left:0,top:0,size:200,fill:"#000",background:null,text:"no text",radius:0,quiet:0,mode:0,mSize:.1,mPosX:.5,mPosY:.5,label:"no label",fontname:"sans",fontcolor:"#000",image:null};u.fn.qrcode=function(e){var t=u.extend({},f,e);return this.each((function(){"canvas"===this.nodeName.toLowerCase()?o(this,t):u(this).append(function(e){return c&&"canvas"===e.render?s(e):c&&"image"===e.render?function(e){return u("<img/>").attr("src",s(e)[0].toDataURL("image/png"))}(e):function(e){var t=r(e.text,e.ecLevel,e.minVersion,e.maxVersion,e.quiet);if(!t)return null;var n,i,a=e.size,o=e.background,s=Math.floor,c=t.moduleCount,l=s(a/c),f=s(.5*(a-l*c)),p={position:"relative",left:0,top:0,padding:0,margin:0,width:a,height:a},d={position:"absolute",padding:0,margin:0,width:l,height:l,"background-color":e.fill},h=u("<div/>").data("qrcode",t).css(p);for(o&&h.css("background-color",o),n=0;c>n;n+=1)for(i=0;c>i;i+=1)t.isDark(n,i)&&u("<div/>").css(d).css({left:f+i*l,top:f+n*l}).appendTo(h);return h}(e)}(t))}))}}((a=function(){function e(t,r){if(void 0===t.length)throw new Error(t.length+"/"+r);var n=function(){for(var e=0;e<t.length&&0==t[e];)e+=1;for(var n=new Array(t.length-e+r),i=0;i<t.length-e;i+=1)n[i]=t[i+e];return n}(),a={getAt:function(e){return n[e]},getLength:function(){return n.length},multiply:function(t){for(var r=new Array(a.getLength()+t.getLength()-1),n=0;n<a.getLength();n+=1)for(var o=0;o<t.getLength();o+=1)r[n+o]^=i.gexp(i.glog(a.getAt(n))+i.glog(t.getAt(o)));return e(r,0)},mod:function(t){if(a.getLength()-t.getLength()<0)return a;for(var r=i.glog(a.getAt(0))-i.glog(t.getAt(0)),n=new Array(a.getLength()),o=0;o<a.getLength();o+=1)n[o]=a.getAt(o);for(o=0;o<t.getLength();o+=1)n[o]^=i.gexp(i.glog(t.getAt(o))+r);return e(n,0).mod(t)}};return a}var t=function(t,i){var u=t,c=r[i],f=null,p=0,d=null,h=new Array,m={},y=function(e,t){f=function(e){for(var t=new Array(e),r=0;e>r;r+=1){t[r]=new Array(e);for(var n=0;e>n;n+=1)t[r][n]=null}return t}(p=4*u+17),v(0,0),v(p-7,0),v(0,p-7),b(),g(),w(e,t),u>=7&&_(e),null==d&&(d=T(u,c,h)),k(d,t)},v=function(e,t){for(var r=-1;7>=r;r+=1)if(!(-1>=e+r||e+r>=p))for(var n=-1;7>=n;n+=1)-1>=t+n||t+n>=p||(f[e+r][t+n]=r>=0&&6>=r&&(0==n||6==n)||n>=0&&6>=n&&(0==r||6==r)||r>=2&&4>=r&&n>=2&&4>=n)},g=function(){for(var e=8;p-8>e;e+=1)null==f[e][6]&&(f[e][6]=e%2==0);for(var t=8;p-8>t;t+=1)null==f[6][t]&&(f[6][t]=t%2==0)},b=function(){for(var e=n.getPatternPosition(u),t=0;t<e.length;t+=1)for(var r=0;r<e.length;r+=1){var i=e[t],a=e[r];if(null==f[i][a])for(var o=-2;2>=o;o+=1)for(var s=-2;2>=s;s+=1)f[i+o][a+s]=-2==o||2==o||-2==s||2==s||0==o&&0==s}},_=function(e){for(var t=n.getBCHTypeNumber(u),r=0;18>r;r+=1){var i=!e&&1==(t>>r&1);f[Math.floor(r/3)][r%3+p-8-3]=i}for(r=0;18>r;r+=1)i=!e&&1==(t>>r&1),f[r%3+p-8-3][Math.floor(r/3)]=i},w=function(e,t){for(var r=c<<3|t,i=n.getBCHTypeInfo(r),a=0;15>a;a+=1){var o=!e&&1==(i>>a&1);6>a?f[a][8]=o:8>a?f[a+1][8]=o:f[p-15+a][8]=o}for(a=0;15>a;a+=1)o=!e&&1==(i>>a&1),8>a?f[8][p-a-1]=o:9>a?f[8][15-a-1+1]=o:f[8][15-a-1]=o;f[p-8][8]=!e},k=function(e,t){for(var r=-1,i=p-1,a=7,o=0,s=n.getMaskFunction(t),u=p-1;u>0;u-=2)for(6==u&&(u-=1);;){for(var c=0;2>c;c+=1)if(null==f[i][u-c]){var l=!1;o<e.length&&(l=1==(e[o]>>>a&1)),s(i,u-c)&&(l=!l),f[i][u-c]=l,-1==(a-=1)&&(o+=1,a=7)}if(0>(i+=r)||i>=p){i-=r,r=-r;break}}},x=function(t,r){for(var i=0,a=0,o=0,s=new Array(r.length),u=new Array(r.length),c=0;c<r.length;c+=1){var l=r[c].dataCount,f=r[c].totalCount-l;a=Math.max(a,l),o=Math.max(o,f),s[c]=new Array(l);for(var p=0;p<s[c].length;p+=1)s[c][p]=255&t.getBuffer()[p+i];i+=l;var d=n.getErrorCorrectPolynomial(f),h=e(s[c],d.getLength()-1).mod(d);for(u[c]=new Array(d.getLength()-1),p=0;p<u[c].length;p+=1){var m=p+h.getLength()-u[c].length;u[c][p]=m>=0?h.getAt(m):0}}var y=0;for(p=0;p<r.length;p+=1)y+=r[p].totalCount;var v=new Array(y),g=0;for(p=0;a>p;p+=1)for(c=0;c<r.length;c+=1)p<s[c].length&&(v[g]=s[c][p],g+=1);for(p=0;o>p;p+=1)for(c=0;c<r.length;c+=1)p<u[c].length&&(v[g]=u[c][p],g+=1);return v},T=function(e,t,r){for(var i=a.getRSBlocks(e,t),s=o(),u=0;u<r.length;u+=1){var c=r[u];s.put(c.getMode(),4),s.put(c.getLength(),n.getLengthInBits(c.getMode(),e)),c.write(s)}var l=0;for(u=0;u<i.length;u+=1)l+=i[u].dataCount;if(s.getLengthInBits()>8*l)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+8*l+")");for(s.getLengthInBits()+4<=8*l&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=8*l||(s.put(236,8),s.getLengthInBits()>=8*l));)s.put(17,8);return x(s,i)};return m.addData=function(e){var t=s(e);h.push(t),d=null},m.isDark=function(e,t){if(0>e||e>=p||0>t||t>=p)throw new Error(e+","+t);return f[e][t]},m.getModuleCount=function(){return p},m.make=function(){y(!1,function(){for(var e=0,t=0,r=0;8>r;r+=1){y(!0,r);var i=n.getLostPoint(m);(0==r||e>i)&&(e=i,t=r)}return t}())},m.createTableTag=function(e,t){e=e||2;var r="";r+='<table style="',r+=" border-width: 0px; border-style: none;",r+=" border-collapse: collapse;",r+=" padding: 0px; margin: "+(t=void 0===t?4*e:t)+"px;",r+='">',r+="<tbody>";for(var n=0;n<m.getModuleCount();n+=1){r+="<tr>";for(var i=0;i<m.getModuleCount();i+=1)r+='<td style="',r+=" border-width: 0px; border-style: none;",r+=" border-collapse: collapse;",r+=" padding: 0px; margin: 0px;",r+=" width: "+e+"px;",r+=" height: "+e+"px;",r+=" background-color: ",r+=m.isDark(n,i)?"#000000":"#ffffff",r+=";",r+='"/>';r+="</tr>"}return(r+="</tbody>")+"</table>"},m.createImgTag=function(e,t){e=e||2,t=void 0===t?4*e:t;var r=m.getModuleCount()*e+2*t,n=t,i=r-t;return l(r,r,(function(t,r){if(t>=n&&i>t&&r>=n&&i>r){var a=Math.floor((t-n)/e),o=Math.floor((r-n)/e);return m.isDark(o,a)?0:1}return 1}))},m};t.stringToBytes=function(e){for(var t=new Array,r=0;r<e.length;r+=1){var n=e.charCodeAt(r);t.push(255&n)}return t},t.createStringToBytes=function(e,t){var r=function(){for(var r=c(e),n=function(){var e=r.read();if(-1==e)throw new Error;return e},i=0,a={};;){var o=r.read();if(-1==o)break;var s=n(),u=n()<<8|n();a[String.fromCharCode(o<<8|s)]=u,i+=1}if(i!=t)throw new Error(i+" != "+t);return a}(),n="?".charCodeAt(0);return function(e){for(var t=new Array,i=0;i<e.length;i+=1){var a=e.charCodeAt(i);if(128>a)t.push(a);else{var o=r[e.charAt(i)];"number"==typeof o?(255&o)==o?t.push(o):(t.push(o>>>8),t.push(255&o)):t.push(n)}}return t}};var r={L:1,M:0,Q:3,H:2},n=function(){var t=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],r=1335,n=7973,a={},o=function(e){for(var t=0;0!=e;)t+=1,e>>>=1;return t};return a.getBCHTypeInfo=function(e){for(var t=e<<10;o(t)-o(r)>=0;)t^=r<<o(t)-o(r);return 21522^(e<<10|t)},a.getBCHTypeNumber=function(e){for(var t=e<<12;o(t)-o(n)>=0;)t^=n<<o(t)-o(n);return e<<12|t},a.getPatternPosition=function(e){return t[e-1]},a.getMaskFunction=function(e){switch(e){case 0:return function(e,t){return(e+t)%2==0};case 1:return function(e,t){return e%2==0};case 2:return function(e,t){return t%3==0};case 3:return function(e,t){return(e+t)%3==0};case 4:return function(e,t){return(Math.floor(e/2)+Math.floor(t/3))%2==0};case 5:return function(e,t){return e*t%2+e*t%3==0};case 6:return function(e,t){return(e*t%2+e*t%3)%2==0};case 7:return function(e,t){return(e*t%3+(e+t)%2)%2==0};default:throw new Error("bad maskPattern:"+e)}},a.getErrorCorrectPolynomial=function(t){for(var r=e([1],0),n=0;t>n;n+=1)r=r.multiply(e([1,i.gexp(n)],0));return r},a.getLengthInBits=function(e,t){if(t>=1&&10>t)switch(e){case 1:return 10;case 2:return 9;case 4:case 8:return 8;default:throw new Error("mode:"+e)}else if(27>t)switch(e){case 1:return 12;case 2:return 11;case 4:return 16;case 8:return 10;default:throw new Error("mode:"+e)}else{if(!(41>t))throw new Error("type:"+t);switch(e){case 1:return 14;case 2:return 13;case 4:return 16;case 8:return 12;default:throw new Error("mode:"+e)}}},a.getLostPoint=function(e){for(var t=e.getModuleCount(),r=0,n=0;t>n;n+=1)for(var i=0;t>i;i+=1){for(var a=0,o=e.isDark(n,i),s=-1;1>=s;s+=1)if(!(0>n+s||n+s>=t))for(var u=-1;1>=u;u+=1)0>i+u||i+u>=t||(0!=s||0!=u)&&o==e.isDark(n+s,i+u)&&(a+=1);a>5&&(r+=3+a-5)}for(n=0;t-1>n;n+=1)for(i=0;t-1>i;i+=1){var c=0;e.isDark(n,i)&&(c+=1),e.isDark(n+1,i)&&(c+=1),e.isDark(n,i+1)&&(c+=1),e.isDark(n+1,i+1)&&(c+=1),(0==c||4==c)&&(r+=3)}for(n=0;t>n;n+=1)for(i=0;t-6>i;i+=1)e.isDark(n,i)&&!e.isDark(n,i+1)&&e.isDark(n,i+2)&&e.isDark(n,i+3)&&e.isDark(n,i+4)&&!e.isDark(n,i+5)&&e.isDark(n,i+6)&&(r+=40);for(i=0;t>i;i+=1)for(n=0;t-6>n;n+=1)e.isDark(n,i)&&!e.isDark(n+1,i)&&e.isDark(n+2,i)&&e.isDark(n+3,i)&&e.isDark(n+4,i)&&!e.isDark(n+5,i)&&e.isDark(n+6,i)&&(r+=40);var l=0;for(i=0;t>i;i+=1)for(n=0;t>n;n+=1)e.isDark(n,i)&&(l+=1);return r+Math.abs(100*l/t/t-50)/5*10},a}(),i=function(){for(var e=new Array(256),t=new Array(256),r=0;8>r;r+=1)e[r]=1<<r;for(r=8;256>r;r+=1)e[r]=e[r-4]^e[r-5]^e[r-6]^e[r-8];for(r=0;255>r;r+=1)t[e[r]]=r;return{glog:function(e){if(1>e)throw new Error("glog("+e+")");return t[e]},gexp:function(t){for(;0>t;)t+=255;for(;t>=256;)t-=255;return e[t]}}}(),a=function(){var e=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],t=function(e,t){var r={};return r.totalCount=e,r.dataCount=t,r},n={},i=function(t,n){switch(n){case r.L:return e[4*(t-1)+0];case r.M:return e[4*(t-1)+1];case r.Q:return e[4*(t-1)+2];case r.H:return e[4*(t-1)+3];default:return}};return n.getRSBlocks=function(e,r){var n=i(e,r);if(void 0===n)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+r);for(var a=n.length/3,o=new Array,s=0;a>s;s+=1)for(var u=n[3*s+0],c=n[3*s+1],l=n[3*s+2],f=0;u>f;f+=1)o.push(t(c,l));return o},n}(),o=function(){var e=new Array,t=0,r={getBuffer:function(){return e},getAt:function(t){var r=Math.floor(t/8);return 1==(e[r]>>>7-t%8&1)},put:function(e,t){for(var n=0;t>n;n+=1)r.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return t},putBit:function(r){var n=Math.floor(t/8);e.length<=n&&e.push(0),r&&(e[n]|=128>>>t%8),t+=1}};return r},s=function(e){var r=t.stringToBytes(e);return{getMode:function(){return 4},getLength:function(e){return r.length},write:function(e){for(var t=0;t<r.length;t+=1)e.put(r[t],8)}}},u=function(){var e=new Array,t={writeByte:function(t){e.push(255&t)},writeShort:function(e){t.writeByte(e),t.writeByte(e>>>8)},writeBytes:function(e,r,n){r=r||0,n=n||e.length;for(var i=0;n>i;i+=1)t.writeByte(e[i+r])},writeString:function(e){for(var r=0;r<e.length;r+=1)t.writeByte(e.charCodeAt(r))},toByteArray:function(){return e},toString:function(){var t="";t+="[";for(var r=0;r<e.length;r+=1)r>0&&(t+=","),t+=e[r];return t+"]"}};return t},c=function(e){var t=e,r=0,n=0,i=0,a={read:function(){for(;8>i;){if(r>=t.length){if(0==i)return-1;throw new Error("unexpected end of file./"+i)}var e=t.charAt(r);if(r+=1,"="==e)return i=0,-1;e.match(/^\s$/)||(n=n<<6|o(e.charCodeAt(0)),i+=6)}var a=n>>>i-8&255;return i-=8,a}},o=function(e){if(e>=65&&90>=e)return e-65;if(e>=97&&122>=e)return e-97+26;if(e>=48&&57>=e)return e-48+52;if(43==e)return 62;if(47==e)return 63;throw new Error("c:"+e)};return a},l=function(e,t,r,n){for(var i=function(e,t){var r=e,n=t,i=new Array(e*t),a={setPixel:function(e,t,n){i[t*r+e]=n},write:function(e){e.writeString("GIF87a"),e.writeShort(r),e.writeShort(n),e.writeByte(128),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(255),e.writeByte(255),e.writeByte(255),e.writeString(","),e.writeShort(0),e.writeShort(0),e.writeShort(r),e.writeShort(n),e.writeByte(0);var t=o(2);e.writeByte(2);for(var i=0;t.length-i>255;)e.writeByte(255),e.writeBytes(t,i,255),i+=255;e.writeByte(t.length-i),e.writeBytes(t,i,t.length-i),e.writeByte(0),e.writeString(";")}},o=function(e){for(var t=1<<e,r=1+(1<<e),n=e+1,a=s(),o=0;t>o;o+=1)a.add(String.fromCharCode(o));a.add(String.fromCharCode(t)),a.add(String.fromCharCode(r));var c=u(),l=function(e){var t=e,r=0,n=0;return{write:function(e,i){if(e>>>i!=0)throw new Error("length over");for(;r+i>=8;)t.writeByte(255&(e<<r|n)),i-=8-r,e>>>=8-r,n=0,r=0;n|=e<<r,r+=i},flush:function(){r>0&&t.writeByte(n)}}}(c);l.write(t,n);var f=0,p=String.fromCharCode(i[f]);for(f+=1;f<i.length;){var d=String.fromCharCode(i[f]);f+=1,a.contains(p+d)?p+=d:(l.write(a.indexOf(p),n),a.size()<4095&&(a.size()==1<<n&&(n+=1),a.add(p+d)),p=d)}return l.write(a.indexOf(p),n),l.write(r,n),l.flush(),c.toByteArray()},s=function(){var e={},t=0,r={add:function(n){if(r.contains(n))throw new Error("dup key:"+n);e[n]=t,t+=1},size:function(){return t},indexOf:function(t){return e[t]},contains:function(t){return void 0!==e[t]}};return r};return a}(e,t),a=0;t>a;a+=1)for(var o=0;e>o;o+=1)i.setPixel(o,a,r(o,a));var s=u();i.write(s);for(var c=function(){var e=0,t=0,r=0,n="",i={},a=function(e){n+=String.fromCharCode(o(63&e))},o=function(e){if(0>e);else{if(26>e)return 65+e;if(52>e)return e-26+97;if(62>e)return e-52+48;if(62==e)return 43;if(63==e)return 47}throw new Error("n:"+e)};return i.writeByte=function(n){for(e=e<<8|255&n,t+=8,r+=1;t>=6;)a(e>>>t-6),t-=6},i.flush=function(){if(t>0&&(a(e<<6-t),e=0,t=0),r%3!=0)for(var i=3-r%3,o=0;i>o;o+=1)n+="="},i.toString=function(){return n},i}(),l=s.toByteArray(),f=0;f<l.length;f+=1)c.writeByte(l[f]);c.flush();var p="";return p+="<img",p+=' src="',p+="data:image/gif;base64,",p+=c,p+='"',p+=' width="',p+=e,p+='"',p+=' height="',p+=t,p+='"',n&&(p+=' alt="',p+=n,p+='"'),p+"/>"};return t}(),function(a){n=[],void 0===(i="function"==typeof(r=a)?r.apply(t,n):r)||(e.exports=i)}((function(){return a})),function(e){e.stringToBytes=function(e){return function(e){for(var t=[],r=0;r<e.length;r++){var n=e.charCodeAt(r);128>n?t.push(n):2048>n?t.push(192|n>>6,128|63&n):55296>n||n>=57344?t.push(224|n>>12,128|n>>6&63,128|63&n):(r++,n=65536+((1023&n)<<10|1023&e.charCodeAt(r)),t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n))}return t}(e)}}(a),a)),function(e){e.fn.share=function(t){var r=e(document.head),n={url:location.href,site_url:location.origin,source:r.find("[name=site], [name=Site]").attr("content")||document.title,title:r.find("[name=title], [name=Title]").attr("content")||document.title,description:r.find("[name=description], [name=Description]").attr("content")||"",image:e("img:first").prop("src")||"",imageSelector:void 0,weiboKey:"",wechatQrcodeTitle:"微信扫一扫：分享",wechatQrcodeHelper:"<p>微信里点“发现”，扫一下</p><p>二维码便可将本文分享至朋友圈。</p>",wechatQrcodeSize:100,mobileSites:[],sites:["weibo","qq","wechat","tencent","douban","qzone","linkedin","diandian","facebook","twitter","google"],disabled:[],initialized:!1},i=e.extend({},n,t),a={qzone:"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url={{URL}}&title={{TITLE}}&desc={{DESCRIPTION}}&summary={{SUMMARY}}&site={{SOURCE}}",qq:"http://connect.qq.com/widget/shareqq/index.html?url={{URL}}&title={{TITLE}}&source={{SOURCE}}&desc={{DESCRIPTION}}&pics={{IMAGE}}",tencent:"http://share.v.t.qq.com/index.php?c=share&a=index&title={{TITLE}}&url={{URL}}&pic={{IMAGE}}",weibo:"http://service.weibo.com/share/share.php?url={{URL}}&title={{TITLE}}&pic={{IMAGE}}&appkey={{WEIBOKEY}}",wechat:"javascript:;",douban:"http://shuo.douban.com/!service/share?href={{URL}}&name={{TITLE}}&text={{DESCRIPTION}}&image={{IMAGE}}&starid=0&aid=0&style=11",diandian:"http://www.diandian.com/share?lo={{URL}}&ti={{TITLE}}&type=link",linkedin:"http://www.linkedin.com/shareArticle?mini=true&ro=true&title={{TITLE}}&url={{URL}}&summary={{SUMMARY}}&source={{SOURCE}}&armin=armin",facebook:"https://www.facebook.com/sharer/sharer.php?u={{URL}}",twitter:"https://twitter.com/intent/tweet?text={{TITLE}}&url={{URL}}&via={{SITE_URL}}",google:"https://plus.google.com/share?url={{URL}}"},o={qzone:"QQ空间",qq:"QQ",tencent:"腾讯微博",weibo:"微博",wechat:"微信",douban:"豆瓣",diandian:"点点",linkedin:"LinkedIn",facebook:"Facebook",twitter:"Twitter",google:"Google"};this.each((function(){if(e(this).data("initialized"))return!0;var t=e.extend({},i,e(this).data());t.imageSelector&&(t.image=e(t.imageSelector).map((function(){return e(this).prop("src")})).get().join("||"));var r=e(this).addClass("share-component social-share");(function(t,r){var n=function(t){0===t.mobileSites.length&&t.sites.length&&(t.mobileSites=t.sites);var r=(e(window).width()<=768?t.mobileSites:t.sites.length?t.sites:[]).slice(0),n=t.disabled;return"string"==typeof r&&(r=r.split(/\s*,\s*/)),"string"==typeof n&&(n=n.split(/\s*,\s*/)),/MicroMessenger/i.test(navigator.userAgent)&&n.push("wechat"),n.length&&e.each(n,(function(t,n){var i=e.inArray(n,r);-1!==i&&r.splice(i,1)})),r}(r);"prepend"==r.mode&&n.reverse(),n.length&&e.each(n,(function(n,i){var s=function(e,t){var r=a[e];for(var n in t.summary=t.description,t)if(t.hasOwnProperty(n)){var i=e+n.replace(/^[a-z]/,(function(e){return e.toUpperCase()})),o=encodeURIComponent(void 0===t[i]?t[n]:t[i]);r=r.replace(new RegExp("{{"+n.toUpperCase()+"}}","g"),o)}return r}(i,r),u=r.initialized?t.find(".icon-"+i):e('<a class="social-share-icon icon-'+i+'"></a>');return!u.length||(u.prop("aria-label","分享到 "+o[i]),u.prop("href",s),"wechat"===i?u.prop("tabindex",-1):u.prop("target","_blank"),void(r.initialized||("prepend"==r.mode?t.prepend(u):t.append(u))))}))})(r,t),function(e,t){var r=e.find("a.icon-wechat");r.length&&(r.append('<div class="wechat-qrcode"><h4>'+t.wechatQrcodeTitle+'</h4><div class="qrcode"></div><div class="help">'+t.wechatQrcodeHelper+"</div></div>"),r.find(".qrcode").qrcode({render:"image",size:t.wechatQrcodeSize,text:t.url}),r.offset().top<100&&r.find(".wechat-qrcode").addClass("bottom"))}(r,t),e(this).data("initialized",!0)}))},e((function(){e(".share-component,.social-share").share()}))}(jQuery)},6439:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";var _resolvers;function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _wrapNativeSuper(e){var t="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(e){if(null===e||!_isNativeFunction(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return _construct(e,arguments,_getPrototypeOf(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(r,e)})(e)}function _isNativeFunction(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw i}}return a}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _construct(e,t,r){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&_setPrototypeOf(i,r.prototype),i}).apply(null,arguments)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _get(e,t,r){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=_superPropBase(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(r):i.value}})(e,t,r||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _createForOfIteratorHelper(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function asyncGeneratorStep(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){asyncGeneratorStep(a,n,i,o,s,"next",e)}function s(e){asyncGeneratorStep(a,n,i,o,s,"throw",e)}o(void 0)}))}}function _asyncGeneratorDelegate(e,t){var r={},n=!1;function i(r,i){return n=!0,i=new Promise((function(t){t(e[r](i))})),{done:!1,value:t(i)}}return r["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},r.next=function(e){return n?(n=!1,e):i("next",e)},"function"==typeof e.throw&&(r.throw=function(e){if(n)throw n=!1,e;return i("throw",e)}),"function"==typeof e.return&&(r.return=function(e){return n?(n=!1,e):i("return",e)}),r}function _awaitAsyncGenerator(e){return new _AwaitValue(e)}function _wrapAsyncGenerator(e){return function(){return new _AsyncGenerator(e.apply(this,arguments))}}function _AsyncGenerator(e){var t,r;function n(t,r){try{var a=e[t](r),o=a.value,s=o instanceof _AwaitValue;Promise.resolve(s?o.wrapped:o).then((function(e){s?n("return"===t?"return":"next",e):i(a.done?"return":"normal",e)}),(function(e){n("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?n(t.key,t.arg):r=null}this._invoke=function(e,i){return new Promise((function(a,o){var s={key:e,arg:i,resolve:a,reject:o,next:null};r?r=r.next=s:(t=r=s,n(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function _AwaitValue(e){this.wrapped=e}function _asyncIterator(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}__webpack_require__.d(__webpack_exports__,{Z:()=>Unidata}),_AsyncGenerator.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},_AsyncGenerator.prototype.next=function(e){return this._invoke("next",e)},_AsyncGenerator.prototype.throw=function(e){return this._invoke("throw",e)},_AsyncGenerator.prototype.return=function(e){return this._invoke("return",e)};var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=function(e,t,r){return t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},__spreadValues=function(e,t){for(var r in t||(t={}))__hasOwnProp.call(t,r)&&__defNormalProp(e,r,t[r]);if(__getOwnPropSymbols){var n,i=_createForOfIteratorHelper(__getOwnPropSymbols(t));try{for(i.s();!(n=i.n()).done;)r=n.value,__propIsEnum.call(t,r)&&__defNormalProp(e,r,t[r])}catch(e){i.e(e)}finally{i.f()}}return e},__spreadProps=function(e,t){return __defProps(e,__getOwnPropDescs(t))},commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})})),t}var bn={exports:{}},module;module=bn,function(e,t){function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function i(e,t,r){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var a;"object"===_typeof(e)?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:__webpack_require__(3423).lW}catch(e){}function o(e,t){var n=e.charCodeAt(t);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+e)}function s(e,t,r){var n=o(e,r);return r-1>=t&&(n|=o(e,r-1)<<4),n}function u(e,t,n,i){for(var a=0,o=0,s=Math.min(e.length,n),u=t;u<s;u++){var c=e.charCodeAt(u)-48;a*=i,o=c>=49?c-49+10:c>=17?c-17+10:c,r(c>=0&&o<i,"Invalid character"),a+=o}return a}function c(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(i.isBN=function(e){return e instanceof i||null!==e&&"object"===_typeof(e)&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"===_typeof(e))return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},i.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},i.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var a,o,s=0;if("be"===n)for(i=e.length-1,a=0;i>=0;i-=3)o=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[a]|=o<<s&67108863,this.words[a+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,a++);else if("le"===n)for(i=0,a=0;i<e.length;i+=3)o=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[a]|=o<<s&67108863,this.words[a+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,a++);return this._strip()},i.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,a=0,o=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=s(e,t,n)<<a,this.words[o]|=67108863&i,a>=18?(a-=18,o+=1,this.words[o]|=i>>>26):a+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=s(e,t,n)<<a,this.words[o]|=67108863&i,a>=18?(a-=18,o+=1,this.words[o]|=i>>>26):a+=8;this._strip()},i.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var a=e.length-r,o=a%n,s=Math.min(a,a-o)+r,c=0,l=r;l<s;l+=n)c=u(e,l,l+n,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==o){var f=1;for(c=u(e,l,e.length,t),l=0;l<o;l++)f*=t;this.imuln(f),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype._move=function(e){c(e,this)},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch(e){i.prototype.inspect=l}else i.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function h(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],a=0|t.words[0],o=i*a,s=67108863&o,u=o/67108864|0;r.words[0]=s;for(var c=1;c<n;c++){for(var l=u>>>26,f=67108863&u,p=Math.min(c,t.length-1),d=Math.max(0,c-e.length+1);d<=p;d++){var h=c-d|0;l+=(o=(i=0|e.words[h])*(a=0|t.words[d])+f)/67108864|0,f=67108863&o}r.words[c]=0|f,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r._strip()}i.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,a=0,o=0;o<this.length;o++){var s=this.words[o],u=(16777215&(s<<i|a)).toString(16);a=s>>>24-i&16777215,(i+=2)>=26&&(i-=26,o--),n=0!==a||o!==this.length-1?f[6-u.length]+u+n:u+n}for(0!==a&&(n=a.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var c=p[e],l=d[e];n="";var h=this.clone();for(h.negative=0;!h.isZero();){var m=h.modrn(l).toString(e);n=(h=h.idivn(l)).isZero()?m+n:f[c-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16,2)},a&&(i.prototype.toBuffer=function(e,t){return this.toArrayLike(a,e,t)}),i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},i.prototype.toArrayLike=function(e,t,n){this._strip();var i=this.byteLength(),a=n||Math.max(1,i);r(i<=a,"byte array longer than desired length"),r(a>0,"Requested array length <= 0");var o=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,a);return this["_toArrayLike"+("le"===t?"LE":"BE")](o,i),o},i.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,i=0,a=0;i<this.length;i++){var o=this.words[i]<<a|n;e[r++]=255&o,r<e.length&&(e[r++]=o>>8&255),r<e.length&&(e[r++]=o>>16&255),6===a?(r<e.length&&(e[r++]=o>>24&255),n=0,a=0):(n=o>>>24,a+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},i.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,i=0,a=0;i<this.length;i++){var o=this.words[i]<<a|n;e[r--]=255&o,r>=0&&(e[r--]=o>>8&255),r>=0&&(e[r--]=o>>16&255),6===a?(r>=0&&(e[r--]=o>>24&255),n=0,a=0):(n=o>>>24,a+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},i.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},i.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},i.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this._strip()},i.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,a=0;a<n.length;a++)t=(0|r.words[a])+(0|n.words[a])+i,this.words[a]=67108863&t,i=t>>>26;for(;0!==i&&a<r.length;a++)t=(0|r.words[a])+i,this.words[a]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var a=0,o=0;o<n.length;o++)a=(t=(0|r.words[o])-(0|n.words[o])+a)>>26,this.words[o]=67108863&t;for(;0!==a&&o<r.length;o++)a=(t=(0|r.words[o])+a)>>26,this.words[o]=67108863&t;if(0===a&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var m=function(e,t,r){var n,i,a,o=e.words,s=t.words,u=r.words,c=0,l=0|o[0],f=8191&l,p=l>>>13,d=0|o[1],h=8191&d,m=d>>>13,y=0|o[2],v=8191&y,g=y>>>13,b=0|o[3],_=8191&b,w=b>>>13,k=0|o[4],x=8191&k,T=k>>>13,E=0|o[5],A=8191&E,S=E>>>13,C=0|o[6],O=8191&C,R=C>>>13,P=0|o[7],I=8191&P,N=P>>>13,$=0|o[8],B=8191&$,M=$>>>13,L=0|o[9],j=8191&L,D=L>>>13,F=0|s[0],U=8191&F,z=F>>>13,q=0|s[1],G=8191&q,H=q>>>13,W=0|s[2],K=8191&W,V=W>>>13,J=0|s[3],Y=8191&J,X=J>>>13,Q=0|s[4],Z=8191&Q,ee=Q>>>13,te=0|s[5],re=8191&te,ne=te>>>13,ie=0|s[6],ae=8191&ie,oe=ie>>>13,se=0|s[7],ue=8191&se,ce=se>>>13,le=0|s[8],fe=8191&le,pe=le>>>13,de=0|s[9],he=8191&de,me=de>>>13;r.negative=e.negative^t.negative,r.length=19;var ye=(c+(n=Math.imul(f,U))|0)+((8191&(i=(i=Math.imul(f,z))+Math.imul(p,U)|0))<<13)|0;c=((a=Math.imul(p,z))+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(h,U),i=(i=Math.imul(h,z))+Math.imul(m,U)|0,a=Math.imul(m,z);var ve=(c+(n=n+Math.imul(f,G)|0)|0)+((8191&(i=(i=i+Math.imul(f,H)|0)+Math.imul(p,G)|0))<<13)|0;c=((a=a+Math.imul(p,H)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(v,U),i=(i=Math.imul(v,z))+Math.imul(g,U)|0,a=Math.imul(g,z),n=n+Math.imul(h,G)|0,i=(i=i+Math.imul(h,H)|0)+Math.imul(m,G)|0,a=a+Math.imul(m,H)|0;var ge=(c+(n=n+Math.imul(f,K)|0)|0)+((8191&(i=(i=i+Math.imul(f,V)|0)+Math.imul(p,K)|0))<<13)|0;c=((a=a+Math.imul(p,V)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(_,U),i=(i=Math.imul(_,z))+Math.imul(w,U)|0,a=Math.imul(w,z),n=n+Math.imul(v,G)|0,i=(i=i+Math.imul(v,H)|0)+Math.imul(g,G)|0,a=a+Math.imul(g,H)|0,n=n+Math.imul(h,K)|0,i=(i=i+Math.imul(h,V)|0)+Math.imul(m,K)|0,a=a+Math.imul(m,V)|0;var be=(c+(n=n+Math.imul(f,Y)|0)|0)+((8191&(i=(i=i+Math.imul(f,X)|0)+Math.imul(p,Y)|0))<<13)|0;c=((a=a+Math.imul(p,X)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(x,U),i=(i=Math.imul(x,z))+Math.imul(T,U)|0,a=Math.imul(T,z),n=n+Math.imul(_,G)|0,i=(i=i+Math.imul(_,H)|0)+Math.imul(w,G)|0,a=a+Math.imul(w,H)|0,n=n+Math.imul(v,K)|0,i=(i=i+Math.imul(v,V)|0)+Math.imul(g,K)|0,a=a+Math.imul(g,V)|0,n=n+Math.imul(h,Y)|0,i=(i=i+Math.imul(h,X)|0)+Math.imul(m,Y)|0,a=a+Math.imul(m,X)|0;var _e=(c+(n=n+Math.imul(f,Z)|0)|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(p,Z)|0))<<13)|0;c=((a=a+Math.imul(p,ee)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(A,U),i=(i=Math.imul(A,z))+Math.imul(S,U)|0,a=Math.imul(S,z),n=n+Math.imul(x,G)|0,i=(i=i+Math.imul(x,H)|0)+Math.imul(T,G)|0,a=a+Math.imul(T,H)|0,n=n+Math.imul(_,K)|0,i=(i=i+Math.imul(_,V)|0)+Math.imul(w,K)|0,a=a+Math.imul(w,V)|0,n=n+Math.imul(v,Y)|0,i=(i=i+Math.imul(v,X)|0)+Math.imul(g,Y)|0,a=a+Math.imul(g,X)|0,n=n+Math.imul(h,Z)|0,i=(i=i+Math.imul(h,ee)|0)+Math.imul(m,Z)|0,a=a+Math.imul(m,ee)|0;var we=(c+(n=n+Math.imul(f,re)|0)|0)+((8191&(i=(i=i+Math.imul(f,ne)|0)+Math.imul(p,re)|0))<<13)|0;c=((a=a+Math.imul(p,ne)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(O,U),i=(i=Math.imul(O,z))+Math.imul(R,U)|0,a=Math.imul(R,z),n=n+Math.imul(A,G)|0,i=(i=i+Math.imul(A,H)|0)+Math.imul(S,G)|0,a=a+Math.imul(S,H)|0,n=n+Math.imul(x,K)|0,i=(i=i+Math.imul(x,V)|0)+Math.imul(T,K)|0,a=a+Math.imul(T,V)|0,n=n+Math.imul(_,Y)|0,i=(i=i+Math.imul(_,X)|0)+Math.imul(w,Y)|0,a=a+Math.imul(w,X)|0,n=n+Math.imul(v,Z)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(g,Z)|0,a=a+Math.imul(g,ee)|0,n=n+Math.imul(h,re)|0,i=(i=i+Math.imul(h,ne)|0)+Math.imul(m,re)|0,a=a+Math.imul(m,ne)|0;var ke=(c+(n=n+Math.imul(f,ae)|0)|0)+((8191&(i=(i=i+Math.imul(f,oe)|0)+Math.imul(p,ae)|0))<<13)|0;c=((a=a+Math.imul(p,oe)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(I,U),i=(i=Math.imul(I,z))+Math.imul(N,U)|0,a=Math.imul(N,z),n=n+Math.imul(O,G)|0,i=(i=i+Math.imul(O,H)|0)+Math.imul(R,G)|0,a=a+Math.imul(R,H)|0,n=n+Math.imul(A,K)|0,i=(i=i+Math.imul(A,V)|0)+Math.imul(S,K)|0,a=a+Math.imul(S,V)|0,n=n+Math.imul(x,Y)|0,i=(i=i+Math.imul(x,X)|0)+Math.imul(T,Y)|0,a=a+Math.imul(T,X)|0,n=n+Math.imul(_,Z)|0,i=(i=i+Math.imul(_,ee)|0)+Math.imul(w,Z)|0,a=a+Math.imul(w,ee)|0,n=n+Math.imul(v,re)|0,i=(i=i+Math.imul(v,ne)|0)+Math.imul(g,re)|0,a=a+Math.imul(g,ne)|0,n=n+Math.imul(h,ae)|0,i=(i=i+Math.imul(h,oe)|0)+Math.imul(m,ae)|0,a=a+Math.imul(m,oe)|0;var xe=(c+(n=n+Math.imul(f,ue)|0)|0)+((8191&(i=(i=i+Math.imul(f,ce)|0)+Math.imul(p,ue)|0))<<13)|0;c=((a=a+Math.imul(p,ce)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(B,U),i=(i=Math.imul(B,z))+Math.imul(M,U)|0,a=Math.imul(M,z),n=n+Math.imul(I,G)|0,i=(i=i+Math.imul(I,H)|0)+Math.imul(N,G)|0,a=a+Math.imul(N,H)|0,n=n+Math.imul(O,K)|0,i=(i=i+Math.imul(O,V)|0)+Math.imul(R,K)|0,a=a+Math.imul(R,V)|0,n=n+Math.imul(A,Y)|0,i=(i=i+Math.imul(A,X)|0)+Math.imul(S,Y)|0,a=a+Math.imul(S,X)|0,n=n+Math.imul(x,Z)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(T,Z)|0,a=a+Math.imul(T,ee)|0,n=n+Math.imul(_,re)|0,i=(i=i+Math.imul(_,ne)|0)+Math.imul(w,re)|0,a=a+Math.imul(w,ne)|0,n=n+Math.imul(v,ae)|0,i=(i=i+Math.imul(v,oe)|0)+Math.imul(g,ae)|0,a=a+Math.imul(g,oe)|0,n=n+Math.imul(h,ue)|0,i=(i=i+Math.imul(h,ce)|0)+Math.imul(m,ue)|0,a=a+Math.imul(m,ce)|0;var Te=(c+(n=n+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,pe)|0)+Math.imul(p,fe)|0))<<13)|0;c=((a=a+Math.imul(p,pe)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(j,U),i=(i=Math.imul(j,z))+Math.imul(D,U)|0,a=Math.imul(D,z),n=n+Math.imul(B,G)|0,i=(i=i+Math.imul(B,H)|0)+Math.imul(M,G)|0,a=a+Math.imul(M,H)|0,n=n+Math.imul(I,K)|0,i=(i=i+Math.imul(I,V)|0)+Math.imul(N,K)|0,a=a+Math.imul(N,V)|0,n=n+Math.imul(O,Y)|0,i=(i=i+Math.imul(O,X)|0)+Math.imul(R,Y)|0,a=a+Math.imul(R,X)|0,n=n+Math.imul(A,Z)|0,i=(i=i+Math.imul(A,ee)|0)+Math.imul(S,Z)|0,a=a+Math.imul(S,ee)|0,n=n+Math.imul(x,re)|0,i=(i=i+Math.imul(x,ne)|0)+Math.imul(T,re)|0,a=a+Math.imul(T,ne)|0,n=n+Math.imul(_,ae)|0,i=(i=i+Math.imul(_,oe)|0)+Math.imul(w,ae)|0,a=a+Math.imul(w,oe)|0,n=n+Math.imul(v,ue)|0,i=(i=i+Math.imul(v,ce)|0)+Math.imul(g,ue)|0,a=a+Math.imul(g,ce)|0,n=n+Math.imul(h,fe)|0,i=(i=i+Math.imul(h,pe)|0)+Math.imul(m,fe)|0,a=a+Math.imul(m,pe)|0;var Ee=(c+(n=n+Math.imul(f,he)|0)|0)+((8191&(i=(i=i+Math.imul(f,me)|0)+Math.imul(p,he)|0))<<13)|0;c=((a=a+Math.imul(p,me)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(j,G),i=(i=Math.imul(j,H))+Math.imul(D,G)|0,a=Math.imul(D,H),n=n+Math.imul(B,K)|0,i=(i=i+Math.imul(B,V)|0)+Math.imul(M,K)|0,a=a+Math.imul(M,V)|0,n=n+Math.imul(I,Y)|0,i=(i=i+Math.imul(I,X)|0)+Math.imul(N,Y)|0,a=a+Math.imul(N,X)|0,n=n+Math.imul(O,Z)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(R,Z)|0,a=a+Math.imul(R,ee)|0,n=n+Math.imul(A,re)|0,i=(i=i+Math.imul(A,ne)|0)+Math.imul(S,re)|0,a=a+Math.imul(S,ne)|0,n=n+Math.imul(x,ae)|0,i=(i=i+Math.imul(x,oe)|0)+Math.imul(T,ae)|0,a=a+Math.imul(T,oe)|0,n=n+Math.imul(_,ue)|0,i=(i=i+Math.imul(_,ce)|0)+Math.imul(w,ue)|0,a=a+Math.imul(w,ce)|0,n=n+Math.imul(v,fe)|0,i=(i=i+Math.imul(v,pe)|0)+Math.imul(g,fe)|0,a=a+Math.imul(g,pe)|0;var Ae=(c+(n=n+Math.imul(h,he)|0)|0)+((8191&(i=(i=i+Math.imul(h,me)|0)+Math.imul(m,he)|0))<<13)|0;c=((a=a+Math.imul(m,me)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(j,K),i=(i=Math.imul(j,V))+Math.imul(D,K)|0,a=Math.imul(D,V),n=n+Math.imul(B,Y)|0,i=(i=i+Math.imul(B,X)|0)+Math.imul(M,Y)|0,a=a+Math.imul(M,X)|0,n=n+Math.imul(I,Z)|0,i=(i=i+Math.imul(I,ee)|0)+Math.imul(N,Z)|0,a=a+Math.imul(N,ee)|0,n=n+Math.imul(O,re)|0,i=(i=i+Math.imul(O,ne)|0)+Math.imul(R,re)|0,a=a+Math.imul(R,ne)|0,n=n+Math.imul(A,ae)|0,i=(i=i+Math.imul(A,oe)|0)+Math.imul(S,ae)|0,a=a+Math.imul(S,oe)|0,n=n+Math.imul(x,ue)|0,i=(i=i+Math.imul(x,ce)|0)+Math.imul(T,ue)|0,a=a+Math.imul(T,ce)|0,n=n+Math.imul(_,fe)|0,i=(i=i+Math.imul(_,pe)|0)+Math.imul(w,fe)|0,a=a+Math.imul(w,pe)|0;var Se=(c+(n=n+Math.imul(v,he)|0)|0)+((8191&(i=(i=i+Math.imul(v,me)|0)+Math.imul(g,he)|0))<<13)|0;c=((a=a+Math.imul(g,me)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(j,Y),i=(i=Math.imul(j,X))+Math.imul(D,Y)|0,a=Math.imul(D,X),n=n+Math.imul(B,Z)|0,i=(i=i+Math.imul(B,ee)|0)+Math.imul(M,Z)|0,a=a+Math.imul(M,ee)|0,n=n+Math.imul(I,re)|0,i=(i=i+Math.imul(I,ne)|0)+Math.imul(N,re)|0,a=a+Math.imul(N,ne)|0,n=n+Math.imul(O,ae)|0,i=(i=i+Math.imul(O,oe)|0)+Math.imul(R,ae)|0,a=a+Math.imul(R,oe)|0,n=n+Math.imul(A,ue)|0,i=(i=i+Math.imul(A,ce)|0)+Math.imul(S,ue)|0,a=a+Math.imul(S,ce)|0,n=n+Math.imul(x,fe)|0,i=(i=i+Math.imul(x,pe)|0)+Math.imul(T,fe)|0,a=a+Math.imul(T,pe)|0;var Ce=(c+(n=n+Math.imul(_,he)|0)|0)+((8191&(i=(i=i+Math.imul(_,me)|0)+Math.imul(w,he)|0))<<13)|0;c=((a=a+Math.imul(w,me)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(j,Z),i=(i=Math.imul(j,ee))+Math.imul(D,Z)|0,a=Math.imul(D,ee),n=n+Math.imul(B,re)|0,i=(i=i+Math.imul(B,ne)|0)+Math.imul(M,re)|0,a=a+Math.imul(M,ne)|0,n=n+Math.imul(I,ae)|0,i=(i=i+Math.imul(I,oe)|0)+Math.imul(N,ae)|0,a=a+Math.imul(N,oe)|0,n=n+Math.imul(O,ue)|0,i=(i=i+Math.imul(O,ce)|0)+Math.imul(R,ue)|0,a=a+Math.imul(R,ce)|0,n=n+Math.imul(A,fe)|0,i=(i=i+Math.imul(A,pe)|0)+Math.imul(S,fe)|0,a=a+Math.imul(S,pe)|0;var Oe=(c+(n=n+Math.imul(x,he)|0)|0)+((8191&(i=(i=i+Math.imul(x,me)|0)+Math.imul(T,he)|0))<<13)|0;c=((a=a+Math.imul(T,me)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(j,re),i=(i=Math.imul(j,ne))+Math.imul(D,re)|0,a=Math.imul(D,ne),n=n+Math.imul(B,ae)|0,i=(i=i+Math.imul(B,oe)|0)+Math.imul(M,ae)|0,a=a+Math.imul(M,oe)|0,n=n+Math.imul(I,ue)|0,i=(i=i+Math.imul(I,ce)|0)+Math.imul(N,ue)|0,a=a+Math.imul(N,ce)|0,n=n+Math.imul(O,fe)|0,i=(i=i+Math.imul(O,pe)|0)+Math.imul(R,fe)|0,a=a+Math.imul(R,pe)|0;var Re=(c+(n=n+Math.imul(A,he)|0)|0)+((8191&(i=(i=i+Math.imul(A,me)|0)+Math.imul(S,he)|0))<<13)|0;c=((a=a+Math.imul(S,me)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(j,ae),i=(i=Math.imul(j,oe))+Math.imul(D,ae)|0,a=Math.imul(D,oe),n=n+Math.imul(B,ue)|0,i=(i=i+Math.imul(B,ce)|0)+Math.imul(M,ue)|0,a=a+Math.imul(M,ce)|0,n=n+Math.imul(I,fe)|0,i=(i=i+Math.imul(I,pe)|0)+Math.imul(N,fe)|0,a=a+Math.imul(N,pe)|0;var Pe=(c+(n=n+Math.imul(O,he)|0)|0)+((8191&(i=(i=i+Math.imul(O,me)|0)+Math.imul(R,he)|0))<<13)|0;c=((a=a+Math.imul(R,me)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(j,ue),i=(i=Math.imul(j,ce))+Math.imul(D,ue)|0,a=Math.imul(D,ce),n=n+Math.imul(B,fe)|0,i=(i=i+Math.imul(B,pe)|0)+Math.imul(M,fe)|0,a=a+Math.imul(M,pe)|0;var Ie=(c+(n=n+Math.imul(I,he)|0)|0)+((8191&(i=(i=i+Math.imul(I,me)|0)+Math.imul(N,he)|0))<<13)|0;c=((a=a+Math.imul(N,me)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(j,fe),i=(i=Math.imul(j,pe))+Math.imul(D,fe)|0,a=Math.imul(D,pe);var Ne=(c+(n=n+Math.imul(B,he)|0)|0)+((8191&(i=(i=i+Math.imul(B,me)|0)+Math.imul(M,he)|0))<<13)|0;c=((a=a+Math.imul(M,me)|0)+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863;var $e=(c+(n=Math.imul(j,he))|0)+((8191&(i=(i=Math.imul(j,me))+Math.imul(D,he)|0))<<13)|0;return c=((a=Math.imul(D,me))+(i>>>13)|0)+($e>>>26)|0,$e&=67108863,u[0]=ye,u[1]=ve,u[2]=ge,u[3]=be,u[4]=_e,u[5]=we,u[6]=ke,u[7]=xe,u[8]=Te,u[9]=Ee,u[10]=Ae,u[11]=Se,u[12]=Ce,u[13]=Oe,u[14]=Re,u[15]=Pe,u[16]=Ie,u[17]=Ne,u[18]=$e,0!==c&&(u[19]=c,r.length++),r};function y(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,a=0;a<r.length-1;a++){var o=i;i=0;for(var s=67108863&n,u=Math.min(a,t.length-1),c=Math.max(0,a-e.length+1);c<=u;c++){var l=a-c,f=(0|e.words[l])*(0|t.words[c]),p=67108863&f;s=67108863&(p=p+s|0),i+=(o=(o=o+(f/67108864|0)|0)+(p>>>26)|0)>>>26,o&=67108863}r.words[a]=s,n=o,o=i}return 0!==n?r.words[a]=n:r.length--,r._strip()}function v(e,t,r){return y(e,t,r)}Math.imul||(m=h),i.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?m(this,e,t):r<63?h(this,e,t):r<1024?y(this,e,t):v(this,e,t)},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),v(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){var t=e<0;t&&(e=-e),r("number"==typeof e),r(e<67108864);for(var n=0,i=0;i<this.length;i++){var a=(0|this.words[i])*e,o=(67108863&a)+(67108863&n);n>>=26,n+=a/67108864|0,n+=o>>>26,this.words[i]=67108863&o}return 0!==n&&(this.words[i]=n,this.length++),t?this.ineg():this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=e.words[n]>>>i&1}return t}(e);if(0===t.length)return new i(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var a=r.sqr();n<t.length;n++,a=a.sqr())0!==t[n]&&(r=r.mul(a));return r},i.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,a=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(t=0;t<this.length;t++){var s=this.words[t]&a,u=(0|this.words[t])-s<<n;this.words[t]=u|o,o=s>>>26-n}o&&(this.words[t]=o,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},i.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,n){var i;r("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var a=e%26,o=Math.min((e-a)/26,this.length),s=67108863^67108863>>>a<<a,u=n;if(i-=o,i=Math.max(0,i),u){for(var c=0;c<o;c++)u.words[c]=this.words[c];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var f=0|this.words[c];this.words[c]=l<<26-a|f>>>a,l=f&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n||!(this.words[n]&i))},i.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,n){var i,a,o=e.length+n;this._expand(o);var s=0;for(i=0;i<e.length;i++){a=(0|this.words[i+n])+s;var u=(0|e.words[i])*t;s=((a-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&a}for(;i<this.length-n;i++)s=(a=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&a;if(0===s)return this._strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(a=-(0|this.words[i])+s)>>26,this.words[i]=67108863&a;return this.negative=1,this._strip()},i.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),a=e,o=0|a.words[a.length-1];0!=(r=26-this._countBits(o))&&(a=a.ushln(r),n.iushln(r),o=0|a.words[a.length-1]);var s,u=n.length-a.length;if("mod"!==t){(s=new i(null)).length=u+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var l=n.clone()._ishlnsubmul(a,1,u);0===l.negative&&(n=l,s&&(s.words[u]=1));for(var f=u-1;f>=0;f--){var p=67108864*(0|n.words[a.length+f])+(0|n.words[a.length+f-1]);for(p=Math.min(p/o|0,67108863),n._ishlnsubmul(a,p,f);0!==n.negative;)p--,n.negative=0,n._ishlnsubmul(a,1,f),n.isZero()||(n.negative^=1);s&&(s.words[f]=p)}return s&&s._strip(),n._strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},i.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(a=s.div.neg()),"div"!==t&&(o=s.mod.neg(),n&&0!==o.negative&&o.iadd(e)),{div:a,mod:o}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(a=s.div.neg()),{div:a,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(o=s.mod.neg(),n&&0!==o.negative&&o.isub(e)),{div:s.div,mod:o}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modrn(e.words[0]))}:this._wordDiv(e,t);var a,o,s},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),a=r.cmp(n);return a<0||1===i&&0===a?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modrn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=(1<<26)%e,i=0,a=this.length-1;a>=0;a--)i=(n*i+(0|this.words[a]))%e;return t?-i:i},i.prototype.modn=function(e){return this.modrn(e)},i.prototype.idivn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var a=(0|this.words[i])+67108864*n;this.words[i]=a/e|0,n=a%e}return this._strip(),t?this.ineg():this},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var a=new i(1),o=new i(0),s=new i(0),u=new i(1),c=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++c;for(var l=n.clone(),f=t.clone();!t.isZero();){for(var p=0,d=1;0==(t.words[0]&d)&&p<26;++p,d<<=1);if(p>0)for(t.iushrn(p);p-- >0;)(a.isOdd()||o.isOdd())&&(a.iadd(l),o.isub(f)),a.iushrn(1),o.iushrn(1);for(var h=0,m=1;0==(n.words[0]&m)&&h<26;++h,m<<=1);if(h>0)for(n.iushrn(h);h-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(l),u.isub(f)),s.iushrn(1),u.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(s),o.isub(u)):(n.isub(t),s.isub(a),u.isub(o))}return{a:s,b:u,gcd:n.iushln(c)}},i.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var a,o=new i(1),s=new i(0),u=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,l=1;0==(t.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(t.iushrn(c);c-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var f=0,p=1;0==(n.words[0]&p)&&f<26;++f,p<<=1);if(f>0)for(n.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),o.isub(s)):(n.isub(t),s.isub(o))}return(a=0===t.cmpn(1)?o:s).cmpn(0)<0&&a.iadd(e),a},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var a=t;t=r,r=a}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var a=i,o=n;0!==a&&o<this.length;o++){var s=0|this.words[o];a=(s+=a)>>>26,s&=67108863,this.words[o]=s}return 0!==a&&(this.words[o]=a,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new T(e)},i.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var g={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function _(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function k(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function T(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function E(e){T.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},n(_,b),_.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var a=e.words[9];for(t.words[t.length++]=a&r,i=10;i<e.length;i++){var o=0|e.words[i];e.words[i-10]=(o&r)<<4|a>>>22,a=o}a>>>=22,e.words[i-10]=a,0===a&&e.length>10?e.length-=10:e.length-=9},_.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(w,b),n(k,b),n(x,b),x.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(g[e])return g[e];var t;if("k256"===e)t=new _;else if("p224"===e)t=new w;else if("p192"===e)t=new k;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new x}return g[e]=t,t},T.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},T.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},T.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(c(e,e.umod(this.m)._forceRed(this)),e)},T.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},T.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},T.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},T.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},T.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},T.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},T.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},T.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},T.prototype.isqr=function(e){return this.imul(e,e.clone())},T.prototype.sqr=function(e){return this.mul(e,e)},T.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new i(1)).iushrn(2);return this.pow(e,n)}for(var a=this.m.subn(1),o=0;!a.isZero()&&0===a.andln(1);)o++,a.iushrn(1);r(!a.isZero());var s=new i(1).toRed(this),u=s.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new i(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var f=this.pow(l,a),p=this.pow(e,a.addn(1).iushrn(1)),d=this.pow(e,a),h=o;0!==d.cmp(s);){for(var m=d,y=0;0!==m.cmp(s);y++)m=m.redSqr();r(y<h);var v=this.pow(f,new i(1).iushln(h-y-1));p=p.redMul(v),f=v.redSqr(),d=d.redMul(f),h=y}return p},T.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},T.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var a=r[0],o=0,s=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var c=t.words[n],l=u-1;l>=0;l--){var f=c>>l&1;a!==r[0]&&(a=this.sqr(a)),0!==f||0!==o?(o<<=1,o|=f,(4==++s||0===n&&0===l)&&(a=this.mul(a,r[o]),s=0,o=0)):s=0}u=26}return a},T.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},T.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new E(e)},n(E,T),E.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},E.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},E.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},E.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),a=r.isub(n).iushrn(this.shift),o=a;return a.cmp(this.m)>=0?o=a.isub(this.m):a.cmpn(0)<0&&(o=a.iadd(this.m)),o._forceRed(this)},E.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(module,commonjsGlobal);var BN$1=bn.exports,version$q="logger/5.6.0",_permanentCensorErrors=!1,_censorErrors=!1,LogLevels={debug:1,default:2,info:2,warning:3,error:4,off:5},_logLevel=LogLevels.default,_globalLogger=null;function _checkNormalize(){try{var e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((function(t){try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(r){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}var _normalizeError=_checkNormalize(),LogLevel,LogLevel2,ErrorCode,ErrorCode2;LogLevel2=LogLevel||(LogLevel={}),LogLevel2.DEBUG="DEBUG",LogLevel2.INFO="INFO",LogLevel2.WARNING="WARNING",LogLevel2.ERROR="ERROR",LogLevel2.OFF="OFF",ErrorCode2=ErrorCode||(ErrorCode={}),ErrorCode2.UNKNOWN_ERROR="UNKNOWN_ERROR",ErrorCode2.NOT_IMPLEMENTED="NOT_IMPLEMENTED",ErrorCode2.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",ErrorCode2.NETWORK_ERROR="NETWORK_ERROR",ErrorCode2.SERVER_ERROR="SERVER_ERROR",ErrorCode2.TIMEOUT="TIMEOUT",ErrorCode2.BUFFER_OVERRUN="BUFFER_OVERRUN",ErrorCode2.NUMERIC_FAULT="NUMERIC_FAULT",ErrorCode2.MISSING_NEW="MISSING_NEW",ErrorCode2.INVALID_ARGUMENT="INVALID_ARGUMENT",ErrorCode2.MISSING_ARGUMENT="MISSING_ARGUMENT",ErrorCode2.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",ErrorCode2.CALL_EXCEPTION="CALL_EXCEPTION",ErrorCode2.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",ErrorCode2.NONCE_EXPIRED="NONCE_EXPIRED",ErrorCode2.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",ErrorCode2.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",ErrorCode2.TRANSACTION_REPLACED="TRANSACTION_REPLACED";var HEX="0123456789abcdef",Logger=function(){function e(t){_classCallCheck(this,e),Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}return _createClass(e,[{key:"_log",value:function(e,t){var r=e.toLowerCase();null==LogLevels[r]&&this.throwArgumentError("invalid log level name","logLevel",e),_logLevel>LogLevels[r]||console.log.apply(console,t)}},{key:"debug",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this._log(e.levels.DEBUG,r)}},{key:"info",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this._log(e.levels.INFO,r)}},{key:"warn",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this._log(e.levels.WARNING,r)}},{key:"makeError",value:function(t,r,n){if(_censorErrors)return this.makeError("censored error",r,{});r||(r=e.errors.UNKNOWN_ERROR),n||(n={});var i=[];Object.keys(n).forEach((function(e){var t=n[e];try{if(t instanceof Uint8Array){for(var r="",a=0;a<t.length;a++)r+=HEX[t[a]>>4],r+=HEX[15&t[a]];i.push(e+"=Uint8Array(0x"+r+")")}else i.push(e+"="+JSON.stringify(t))}catch(t){i.push(e+"="+JSON.stringify(n[e].toString()))}})),i.push("code=".concat(r)),i.push("version=".concat(this.version));var a=t,o="";switch(r){case ErrorCode.NUMERIC_FAULT:o="NUMERIC_FAULT";var s=t;switch(s){case"overflow":case"underflow":case"division-by-zero":o+="-"+s;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break;case ErrorCode.CALL_EXCEPTION:case ErrorCode.INSUFFICIENT_FUNDS:case ErrorCode.MISSING_NEW:case ErrorCode.NONCE_EXPIRED:case ErrorCode.REPLACEMENT_UNDERPRICED:case ErrorCode.TRANSACTION_REPLACED:case ErrorCode.UNPREDICTABLE_GAS_LIMIT:o=r}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(t+=" ("+i.join(", ")+")");var u=new Error(t);return u.reason=a,u.code=r,Object.keys(n).forEach((function(e){u[e]=n[e]})),u}},{key:"throwError",value:function(e,t,r){throw this.makeError(e,t,r)}},{key:"throwArgumentError",value:function(t,r,n){return this.throwError(t,e.errors.INVALID_ARGUMENT,{argument:r,value:n})}},{key:"assert",value:function(e,t,r,n){e||this.throwError(t,r,n)}},{key:"assertArgument",value:function(e,t,r,n){e||this.throwArgumentError(t,r,n)}},{key:"checkNormalize",value:function(t){_normalizeError&&this.throwError("platform missing String.prototype.normalize",e.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError})}},{key:"checkSafeUint53",value:function(t,r){"number"==typeof t&&(null==r&&(r="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(r,e.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(r,e.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}},{key:"checkArgumentCount",value:function(t,r,n){n=n?": "+n:"",t<r&&this.throwError("missing argument"+n,e.errors.MISSING_ARGUMENT,{count:t,expectedCount:r}),t>r&&this.throwError("too many arguments"+n,e.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:r})}},{key:"checkNew",value:function(t,r){t!==Object&&null!=t||this.throwError("missing new",e.errors.MISSING_NEW,{name:r.name})}},{key:"checkAbstract",value:function(t,r){t===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",e.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",e.errors.MISSING_NEW,{name:r.name})}}],[{key:"globalLogger",value:function(){return _globalLogger||(_globalLogger=new e(version$q)),_globalLogger}},{key:"setCensorship",value:function(t,r){if(!t&&r&&this.globalLogger().throwError("cannot permanently disable censorship",e.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors){if(!t)return;this.globalLogger().throwError("error censorship permanent",e.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors=!!t,_permanentCensorErrors=!!r}},{key:"setLogLevel",value:function(t){var r=LogLevels[t.toLowerCase()];null!=r?_logLevel=r:e.globalLogger().warn("invalid log level - "+t)}},{key:"from",value:function(t){return new e(t)}}]),e}();Logger.errors=ErrorCode,Logger.levels=LogLevel;var lib_esm$q=Object.freeze(Object.defineProperty({__proto__:null,get LogLevel(){return LogLevel},get ErrorCode(){return ErrorCode},Logger},Symbol.toStringTag,{value:"Module"})),version$p="bytes/5.6.1",logger$I=new Logger(version$p);function isHexable(e){return!!e.toHexString}function addSlice(e){return e.slice||(e.slice=function(){var t=Array.prototype.slice.call(arguments);return addSlice(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function isBytesLike(e){return isHexString(e)&&!(e.length%2)||isBytes$2(e)}function isInteger(e){return"number"==typeof e&&e==e&&e%1==0}function isBytes$2(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e)return!1;if(!isInteger(e.length)||e.length<0)return!1;for(var t=0;t<e.length;t++){var r=e[t];if(!isInteger(r)||r<0||r>=256)return!1}return!0}function arrayify(e,t){if(t||(t={}),"number"==typeof e){logger$I.checkSafeUint53(e,"invalid arrayify value");for(var r=[];e;)r.unshift(255&e),e=parseInt(String(e/256));return 0===r.length&&r.push(0),addSlice(new Uint8Array(r))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),isHexable(e)&&(e=e.toHexString()),isHexString(e)){var n=e.substring(2);n.length%2&&("left"===t.hexPad?n="0"+n:"right"===t.hexPad?n+="0":logger$I.throwArgumentError("hex data is odd-length","value",e));for(var i=[],a=0;a<n.length;a+=2)i.push(parseInt(n.substring(a,a+2),16));return addSlice(new Uint8Array(i))}return isBytes$2(e)?addSlice(new Uint8Array(e)):logger$I.throwArgumentError("invalid arrayify value","value",e)}function concat$3(e){var t=e.map((function(e){return arrayify(e)})),r=t.reduce((function(e,t){return e+t.length}),0),n=new Uint8Array(r);return t.reduce((function(e,t){return n.set(t,e),e+t.length}),0),addSlice(n)}function stripZeros(e){var t=arrayify(e);if(0===t.length)return t;for(var r=0;r<t.length&&0===t[r];)r++;return r&&(t=t.slice(r)),t}function zeroPad(e,t){(e=arrayify(e)).length>t&&logger$I.throwArgumentError("value out of range","value",arguments[0]);var r=new Uint8Array(t);return r.set(e,t-e.length),addSlice(r)}function isHexString(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/)||t&&e.length!==2+2*t)}var HexCharacters="0123456789abcdef";function hexlify(e,t){if(t||(t={}),"number"==typeof e){logger$I.checkSafeUint53(e,"invalid hexlify value");for(var r="";e;)r=HexCharacters[15&e]+r,e=Math.floor(e/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if("bigint"==typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),isHexable(e))return e.toHexString();if(isHexString(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":logger$I.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(isBytes$2(e)){for(var n="0x",i=0;i<e.length;i++){var a=e[i];n+=HexCharacters[(240&a)>>4]+HexCharacters[15&a]}return n}return logger$I.throwArgumentError("invalid hexlify value","value",e)}function hexDataLength(e){if("string"!=typeof e)e=hexlify(e);else if(!isHexString(e)||e.length%2)return null;return(e.length-2)/2}function hexDataSlice(e,t,r){return"string"!=typeof e?e=hexlify(e):(!isHexString(e)||e.length%2)&&logger$I.throwArgumentError("invalid hexData","value",e),t=2+2*t,null!=r?"0x"+e.substring(t,2+2*r):"0x"+e.substring(t)}function hexConcat(e){var t="0x";return e.forEach((function(e){t+=hexlify(e).substring(2)})),t}function hexValue(e){var t=hexStripZeros(hexlify(e,{hexPad:"left"}));return"0x"===t?"0x0":t}function hexStripZeros(e){"string"!=typeof e&&(e=hexlify(e)),isHexString(e)||logger$I.throwArgumentError("invalid hex string","value",e),e=e.substring(2);for(var t=0;t<e.length&&"0"===e[t];)t++;return"0x"+e.substring(t)}function hexZeroPad(e,t){for("string"!=typeof e?e=hexlify(e):isHexString(e)||logger$I.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&logger$I.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}function splitSignature(e){var t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(isBytesLike(e)){var r=arrayify(e);64===r.length?(t.v=27+(r[32]>>7),r[32]&=127,t.r=hexlify(r.slice(0,32)),t.s=hexlify(r.slice(32,64))):65===r.length?(t.r=hexlify(r.slice(0,32)),t.s=hexlify(r.slice(32,64)),t.v=r[64]):logger$I.throwArgumentError("invalid signature string","signature",e),t.v<27&&(0===t.v||1===t.v?t.v+=27:logger$I.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(r[32]|=128),t._vs=hexlify(r.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,null!=t._vs){var n=zeroPad(arrayify(t._vs),32);t._vs=hexlify(n);var i=n[0]>=128?1:0;null==t.recoveryParam?t.recoveryParam=i:t.recoveryParam!==i&&logger$I.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),n[0]&=127;var a=hexlify(n);null==t.s?t.s=a:t.s!==a&&logger$I.throwArgumentError("signature v mismatch _vs","signature",e)}if(null==t.recoveryParam)null==t.v?logger$I.throwArgumentError("signature missing v and recoveryParam","signature",e):0===t.v||1===t.v?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(null==t.v)t.v=27+t.recoveryParam;else{var o=0===t.v||1===t.v?t.v:1-t.v%2;t.recoveryParam!==o&&logger$I.throwArgumentError("signature recoveryParam mismatch v","signature",e)}null!=t.r&&isHexString(t.r)?t.r=hexZeroPad(t.r,32):logger$I.throwArgumentError("signature missing or invalid r","signature",e),null!=t.s&&isHexString(t.s)?t.s=hexZeroPad(t.s,32):logger$I.throwArgumentError("signature missing or invalid s","signature",e);var s=arrayify(t.s);s[0]>=128&&logger$I.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(s[0]|=128);var u=hexlify(s);t._vs&&(isHexString(t._vs)||logger$I.throwArgumentError("signature invalid _vs","signature",e),t._vs=hexZeroPad(t._vs,32)),null==t._vs?t._vs=u:t._vs!==u&&logger$I.throwArgumentError("signature _vs mismatch v and s","signature",e)}return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}function joinSignature(e){return hexlify(concat$3([(e=splitSignature(e)).r,e.s,e.recoveryParam?"0x1c":"0x1b"]))}var lib_esm$p=Object.freeze(Object.defineProperty({__proto__:null,isBytesLike,isBytes:isBytes$2,arrayify,concat:concat$3,stripZeros,zeroPad,isHexString,hexlify,hexDataLength,hexDataSlice,hexConcat,hexValue,hexStripZeros,hexZeroPad,splitSignature,joinSignature},Symbol.toStringTag,{value:"Module"})),version$o="bignumber/5.6.2",BN=BN$1.BN,logger$H=new Logger(version$o),_constructorGuard$4={},MAX_SAFE=9007199254740991;function isBigNumberish(e){return null!=e&&(BigNumber.isBigNumber(e)||"number"==typeof e&&e%1==0||"string"==typeof e&&!!e.match(/^-?[0-9]+$/)||isHexString(e)||"bigint"==typeof e||isBytes$2(e))}var _warnedToStringRadix=!1,BigNumber=function(){function e(t,r){_classCallCheck(this,e),t!==_constructorGuard$4&&logger$H.throwError("cannot call constructor directly; use BigNumber.from",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}return _createClass(e,[{key:"fromTwos",value:function(e){return toBigNumber(toBN(this).fromTwos(e))}},{key:"toTwos",value:function(e){return toBigNumber(toBN(this).toTwos(e))}},{key:"abs",value:function(){return"-"===this._hex[0]?e.from(this._hex.substring(1)):this}},{key:"add",value:function(e){return toBigNumber(toBN(this).add(toBN(e)))}},{key:"sub",value:function(e){return toBigNumber(toBN(this).sub(toBN(e)))}},{key:"div",value:function(t){return e.from(t).isZero()&&throwFault$1("division-by-zero","div"),toBigNumber(toBN(this).div(toBN(t)))}},{key:"mul",value:function(e){return toBigNumber(toBN(this).mul(toBN(e)))}},{key:"mod",value:function(e){var t=toBN(e);return t.isNeg()&&throwFault$1("division-by-zero","mod"),toBigNumber(toBN(this).umod(t))}},{key:"pow",value:function(e){var t=toBN(e);return t.isNeg()&&throwFault$1("negative-power","pow"),toBigNumber(toBN(this).pow(t))}},{key:"and",value:function(e){var t=toBN(e);return(this.isNegative()||t.isNeg())&&throwFault$1("unbound-bitwise-result","and"),toBigNumber(toBN(this).and(t))}},{key:"or",value:function(e){var t=toBN(e);return(this.isNegative()||t.isNeg())&&throwFault$1("unbound-bitwise-result","or"),toBigNumber(toBN(this).or(t))}},{key:"xor",value:function(e){var t=toBN(e);return(this.isNegative()||t.isNeg())&&throwFault$1("unbound-bitwise-result","xor"),toBigNumber(toBN(this).xor(t))}},{key:"mask",value:function(e){return(this.isNegative()||e<0)&&throwFault$1("negative-width","mask"),toBigNumber(toBN(this).maskn(e))}},{key:"shl",value:function(e){return(this.isNegative()||e<0)&&throwFault$1("negative-width","shl"),toBigNumber(toBN(this).shln(e))}},{key:"shr",value:function(e){return(this.isNegative()||e<0)&&throwFault$1("negative-width","shr"),toBigNumber(toBN(this).shrn(e))}},{key:"eq",value:function(e){return toBN(this).eq(toBN(e))}},{key:"lt",value:function(e){return toBN(this).lt(toBN(e))}},{key:"lte",value:function(e){return toBN(this).lte(toBN(e))}},{key:"gt",value:function(e){return toBN(this).gt(toBN(e))}},{key:"gte",value:function(e){return toBN(this).gte(toBN(e))}},{key:"isNegative",value:function(){return"-"===this._hex[0]}},{key:"isZero",value:function(){return toBN(this).isZero()}},{key:"toNumber",value:function(){try{return toBN(this).toNumber()}catch(e){throwFault$1("overflow","toNumber",this.toString())}return null}},{key:"toBigInt",value:function(){try{return BigInt(this.toString())}catch(e){}return logger$H.throwError("this platform does not support BigInt",Logger.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}},{key:"toString",value:function(){return arguments.length>0&&(10===arguments[0]?_warnedToStringRadix||(_warnedToStringRadix=!0,logger$H.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?logger$H.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Logger.errors.UNEXPECTED_ARGUMENT,{}):logger$H.throwError("BigNumber.toString does not accept parameters",Logger.errors.UNEXPECTED_ARGUMENT,{})),toBN(this).toString(10)}},{key:"toHexString",value:function(){return this._hex}},{key:"toJSON",value:function(e){return{type:"BigNumber",hex:this.toHexString()}}}],[{key:"from",value:function(t){if(t instanceof e)return t;if("string"==typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new e(_constructorGuard$4,toHex$1(t)):t.match(/^-?[0-9]+$/)?new e(_constructorGuard$4,toHex$1(new BN(t))):logger$H.throwArgumentError("invalid BigNumber string","value",t);if("number"==typeof t)return t%1&&throwFault$1("underflow","BigNumber.from",t),(t>=MAX_SAFE||t<=-MAX_SAFE)&&throwFault$1("overflow","BigNumber.from",t),e.from(String(t));var r=t;if("bigint"==typeof r)return e.from(r.toString());if(isBytes$2(r))return e.from(hexlify(r));if(r)if(r.toHexString){var n=r.toHexString();if("string"==typeof n)return e.from(n)}else{var i=r._hex;if(null==i&&"BigNumber"===r.type&&(i=r.hex),"string"==typeof i&&(isHexString(i)||"-"===i[0]&&isHexString(i.substring(1))))return e.from(i)}return logger$H.throwArgumentError("invalid BigNumber value","value",t)}},{key:"isBigNumber",value:function(e){return!(!e||!e._isBigNumber)}}]),e}();function toHex$1(e){if("string"!=typeof e)return toHex$1(e.toString(16));if("-"===e[0])return"-"===(e=e.substring(1))[0]&&logger$H.throwArgumentError("invalid hex","value",e),"0x00"===(e=toHex$1(e))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function toBigNumber(e){return BigNumber.from(toHex$1(e))}function toBN(e){var t=BigNumber.from(e).toHexString();return"-"===t[0]?new BN("-"+t.substring(3),16):new BN(t.substring(2),16)}function throwFault$1(e,t,r){var n={fault:e,operation:t};return null!=r&&(n.value=r),logger$H.throwError(e,Logger.errors.NUMERIC_FAULT,n)}function _base36To16(e){return new BN(e,36).toString(16)}function _base16To36(e){return new BN(e,16).toString(36)}var logger$G=new Logger(version$o),_constructorGuard$3={},Zero$2=BigNumber.from(0),NegativeOne$2=BigNumber.from(-1);function throwFault(e,t,r,n){var i={fault:t,operation:r};return void 0!==n&&(i.value=n),logger$G.throwError(e,Logger.errors.NUMERIC_FAULT,i)}for(var zeros="0";zeros.length<256;)zeros+=zeros;function getMultiplier(e){if("number"!=typeof e)try{e=BigNumber.from(e).toNumber()}catch(e){}return"number"==typeof e&&e>=0&&e<=256&&!(e%1)?"1"+zeros.substring(0,e):logger$G.throwArgumentError("invalid decimal size","decimals",e)}function formatFixed(e,t){null==t&&(t=0);var r=getMultiplier(t),n=(e=BigNumber.from(e)).lt(Zero$2);n&&(e=e.mul(NegativeOne$2));for(var i=e.mod(r).toString();i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];var a=e.div(r).toString();return e=1===r.length?a:a+"."+i,n&&(e="-"+e),e}function parseFixed(e,t){null==t&&(t=0);var r=getMultiplier(t);"string"==typeof e&&e.match(/^-?[0-9.]+$/)||logger$G.throwArgumentError("invalid decimal value","value",e);var n="-"===e.substring(0,1);n&&(e=e.substring(1)),"."===e&&logger$G.throwArgumentError("missing value","value",e);var i=e.split(".");i.length>2&&logger$G.throwArgumentError("too many decimal points","value",e);var a=i[0],o=i[1];for(a||(a="0"),o||(o="0");"0"===o[o.length-1];)o=o.substring(0,o.length-1);for(o.length>r.length-1&&throwFault("fractional component exceeds decimals","underflow","parseFixed"),""===o&&(o="0");o.length<r.length-1;)o+="0";var s=BigNumber.from(a),u=BigNumber.from(o),c=s.mul(r).add(u);return n&&(c=c.mul(NegativeOne$2)),c}var FixedFormat=function(){function e(t,r,n,i){_classCallCheck(this,e),t!==_constructorGuard$3&&logger$G.throwError("cannot use FixedFormat constructor; use FixedFormat.from",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=n,this.decimals=i,this.name=(r?"":"u")+"fixed"+String(n)+"x"+String(i),this._multiplier=getMultiplier(i),Object.freeze(this)}return _createClass(e,null,[{key:"from",value:function(t){if(t instanceof e)return t;"number"==typeof t&&(t="fixed128x".concat(t));var r=!0,n=128,i=18;if("string"==typeof t)if("fixed"===t);else if("ufixed"===t)r=!1;else{var a=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);a||logger$G.throwArgumentError("invalid fixed format","format",t),r="u"!==a[1],n=parseInt(a[2]),i=parseInt(a[3])}else if(t){var o=function(e,r,n){return null==t[e]?n:(_typeof(t[e])!==r&&logger$G.throwArgumentError("invalid fixed format ("+e+" not "+r+")","format."+e,t[e]),t[e])};r=o("signed","boolean",r),n=o("width","number",n),i=o("decimals","number",i)}return n%8&&logger$G.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),i>80&&logger$G.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new e(_constructorGuard$3,r,n,i)}}]),e}(),FixedNumber=function(){function e(t,r,n,i){_classCallCheck(this,e),t!==_constructorGuard$3&&logger$G.throwError("cannot use FixedNumber constructor; use FixedNumber.from",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=r,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}return _createClass(e,[{key:"_checkFormat",value:function(e){this.format.name!==e.format.name&&logger$G.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}},{key:"addUnsafe",value:function(t){this._checkFormat(t);var r=parseFixed(this._value,this.format.decimals),n=parseFixed(t._value,t.format.decimals);return e.fromValue(r.add(n),this.format.decimals,this.format)}},{key:"subUnsafe",value:function(t){this._checkFormat(t);var r=parseFixed(this._value,this.format.decimals),n=parseFixed(t._value,t.format.decimals);return e.fromValue(r.sub(n),this.format.decimals,this.format)}},{key:"mulUnsafe",value:function(t){this._checkFormat(t);var r=parseFixed(this._value,this.format.decimals),n=parseFixed(t._value,t.format.decimals);return e.fromValue(r.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}},{key:"divUnsafe",value:function(t){this._checkFormat(t);var r=parseFixed(this._value,this.format.decimals),n=parseFixed(t._value,t.format.decimals);return e.fromValue(r.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}},{key:"floor",value:function(){var t=this.toString().split(".");1===t.length&&t.push("0");var r=e.from(t[0],this.format),n=!t[1].match(/^(0*)$/);return this.isNegative()&&n&&(r=r.subUnsafe(ONE.toFormat(r.format))),r}},{key:"ceiling",value:function(){var t=this.toString().split(".");1===t.length&&t.push("0");var r=e.from(t[0],this.format),n=!t[1].match(/^(0*)$/);return!this.isNegative()&&n&&(r=r.addUnsafe(ONE.toFormat(r.format))),r}},{key:"round",value:function(t){null==t&&(t=0);var r=this.toString().split(".");if(1===r.length&&r.push("0"),(t<0||t>80||t%1)&&logger$G.throwArgumentError("invalid decimal count","decimals",t),r[1].length<=t)return this;var n=e.from("1"+zeros.substring(0,t),this.format),i=BUMP.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(i).floor().divUnsafe(n)}},{key:"isZero",value:function(){return"0.0"===this._value||"0"===this._value}},{key:"isNegative",value:function(){return"-"===this._value[0]}},{key:"toString",value:function(){return this._value}},{key:"toHexString",value:function(e){return null==e?this._hex:(e%8&&logger$G.throwArgumentError("invalid byte width","width",e),hexZeroPad(BigNumber.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString(),e/8))}},{key:"toUnsafeFloat",value:function(){return parseFloat(this.toString())}},{key:"toFormat",value:function(t){return e.fromString(this._value,t)}}],[{key:"fromValue",value:function(t,r,n){return null!=n||null==r||isBigNumberish(r)||(n=r,r=null),null==r&&(r=0),null==n&&(n="fixed"),e.fromString(formatFixed(t,r),FixedFormat.from(n))}},{key:"fromString",value:function(t,r){null==r&&(r="fixed");var n=FixedFormat.from(r),i=parseFixed(t,n.decimals);!n.signed&&i.lt(Zero$2)&&throwFault("unsigned value cannot be negative","overflow","value",t);var a=null;a=n.signed?i.toTwos(n.width).toHexString():hexZeroPad(a=i.toHexString(),n.width/8);var o=formatFixed(i,n.decimals);return new e(_constructorGuard$3,a,o,n)}},{key:"fromBytes",value:function(t,r){null==r&&(r="fixed");var n=FixedFormat.from(r);if(arrayify(t).length>n.width/8)throw new Error("overflow");var i=BigNumber.from(t);n.signed&&(i=i.fromTwos(n.width));var a=i.toTwos((n.signed?0:1)+n.width).toHexString(),o=formatFixed(i,n.decimals);return new e(_constructorGuard$3,a,o,n)}},{key:"from",value:function(t,r){if("string"==typeof t)return e.fromString(t,r);if(isBytes$2(t))return e.fromBytes(t,r);try{return e.fromValue(t,0,r)}catch(e){if(e.code!==Logger.errors.INVALID_ARGUMENT)throw e}return logger$G.throwArgumentError("invalid FixedNumber value","value",t)}},{key:"isFixedNumber",value:function(e){return!(!e||!e._isFixedNumber)}}]),e}(),ONE=FixedNumber.from(1),BUMP=FixedNumber.from("0.5"),lib_esm$o=Object.freeze(Object.defineProperty({__proto__:null,BigNumber,formatFixed,FixedFormat,FixedNumber,parseFixed,_base16To36,_base36To16},Symbol.toStringTag,{value:"Module"})),version$n="properties/5.6.0",__awaiter$f=globalThis&&globalThis.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},logger$F=new Logger(version$n);function defineReadOnly(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}function getStatic(e,t){for(var r=0;r<32;r++){if(e[t])return e[t];if(!e.prototype||"object"!==_typeof(e.prototype))break;e=Object.getPrototypeOf(e.prototype).constructor}return null}function resolveProperties(e){return __awaiter$f(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object.keys(e).map((function(t){var r=e[t];return Promise.resolve(r).then((function(e){return{key:t,value:e}}))})),t.next=3,Promise.all(r);case 3:return n=t.sent,t.abrupt("return",n.reduce((function(e,t){return e[t.key]=t.value,e}),{}));case 5:case"end":return t.stop()}}),t)})))}function checkProperties(e,t){e&&"object"===_typeof(e)||logger$F.throwArgumentError("invalid object","object",e),Object.keys(e).forEach((function(r){t[r]||logger$F.throwArgumentError("invalid object key - "+r,"transaction:"+r,e)}))}function shallowCopy(e){var t={};for(var r in e)t[r]=e[r];return t}var opaque={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function _isFrozen(e){if(null==e||opaque[_typeof(e)])return!0;if(Array.isArray(e)||"object"===_typeof(e)){if(!Object.isFrozen(e))return!1;for(var t=Object.keys(e),r=0;r<t.length;r++){var n=null;try{n=e[t[r]]}catch(e){continue}if(!_isFrozen(n))return!1}return!0}return logger$F.throwArgumentError("Cannot deepCopy ".concat(_typeof(e)),"object",e)}function _deepCopy(e){if(_isFrozen(e))return e;if(Array.isArray(e))return Object.freeze(e.map((function(e){return deepCopy(e)})));if("object"===_typeof(e)){var t={};for(var r in e){var n=e[r];void 0!==n&&defineReadOnly(t,r,deepCopy(n))}return t}return logger$F.throwArgumentError("Cannot deepCopy ".concat(_typeof(e)),"object",e)}function deepCopy(e){return _deepCopy(e)}var Description=function e(t){for(var r in _classCallCheck(this,e),t)this[r]=deepCopy(t[r])},lib_esm$n=Object.freeze(Object.defineProperty({__proto__:null,defineReadOnly,getStatic,resolveProperties,checkProperties,shallowCopy,deepCopy,Description},Symbol.toStringTag,{value:"Module"})),version$m="abi/5.6.3",logger$E=new Logger(version$m),_constructorGuard$2={},ModifiersBytes={calldata:!0,memory:!0,storage:!0},ModifiersNest={calldata:!0,memory:!0};function checkModifier(e,t){if("bytes"===e||"string"===e){if(ModifiersBytes[t])return!0}else if("address"===e){if("payable"===t)return!0}else if((e.indexOf("[")>=0||"tuple"===e)&&ModifiersNest[t])return!0;return(ModifiersBytes[t]||"payable"===t)&&logger$E.throwArgumentError("invalid modifier","name",t),!1}function parseParamType(e,t){var r=e;function n(t){logger$E.throwArgumentError("unexpected character at position ".concat(t),"param",e)}function i(e){var r={type:"",name:"",parent:e,state:{allowType:!0}};return t&&(r.indexed=!1),r}e=e.replace(/\s/g," ");for(var a={type:"",name:"",state:{allowType:!0}},o=a,s=0;s<e.length;s++){var u=e[s];switch(u){case"(":o.state.allowType&&""===o.type?o.type="tuple":o.state.allowParams||n(s),o.state.allowType=!1,o.type=verifyType(o.type),o.components=[i(o)],o=o.components[0];break;case")":delete o.state,"indexed"===o.name&&(t||n(s),o.indexed=!0,o.name=""),checkModifier(o.type,o.name)&&(o.name=""),o.type=verifyType(o.type);var c=o;(o=o.parent)||n(s),delete c.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,"indexed"===o.name&&(t||n(s),o.indexed=!0,o.name=""),checkModifier(o.type,o.name)&&(o.name=""),o.type=verifyType(o.type);var l=i(o.parent);o.parent.components.push(l),delete o.parent,o=l;break;case" ":o.state.allowType&&""!==o.type&&(o.type=verifyType(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&""!==o.name&&("indexed"===o.name?(t||n(s),o.indexed&&n(s),o.indexed=!0,o.name=""):checkModifier(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||n(s),o.type+=u,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||n(s),o.type+=u,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=u,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=u,delete o.state.allowArray):o.state.readArray?o.type+=u:n(s)}}return o.parent&&logger$E.throwArgumentError("unexpected eof","param",e),delete a.state,"indexed"===o.name?(t||n(r.length-7),o.indexed&&n(r.length-7),o.indexed=!0,o.name=""):checkModifier(o.type,o.name)&&(o.name=""),a.type=verifyType(a.type),a}function populate(e,t){for(var r in t)defineReadOnly(e,r,t[r])}var FormatTypes=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),paramTypeArray=new RegExp(/^(.*)\[([0-9]*)\]$/),ParamType=function(){function e(t,r){_classCallCheck(this,e),t!==_constructorGuard$2&&logger$E.throwError("use fromString",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),populate(this,r);var n=this.type.match(paramTypeArray);populate(this,n?{arrayLength:parseInt(n[2]||"-1"),arrayChildren:e.fromObject({type:n[1],components:this.components}),baseType:"array"}:{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}return _createClass(e,[{key:"format",value:function(e){if(e||(e=FormatTypes.sighash),FormatTypes[e]||logger$E.throwArgumentError("invalid format type","format",e),e===FormatTypes.json){var t={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"==typeof this.indexed&&(t.indexed=this.indexed),this.components&&(t.components=this.components.map((function(t){return JSON.parse(t.format(e))}))),JSON.stringify(t)}var r="";return"array"===this.baseType?(r+=this.arrayChildren.format(e),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):"tuple"===this.baseType?(e!==FormatTypes.sighash&&(r+=this.type),r+="("+this.components.map((function(t){return t.format(e)})).join(e===FormatTypes.full?", ":",")+")"):r+=this.type,e!==FormatTypes.sighash&&(!0===this.indexed&&(r+=" indexed"),e===FormatTypes.full&&this.name&&(r+=" "+this.name)),r}}],[{key:"from",value:function(t,r){return"string"==typeof t?e.fromString(t,r):e.fromObject(t)}},{key:"fromObject",value:function(t){return e.isParamType(t)?t:new e(_constructorGuard$2,{name:t.name||null,type:verifyType(t.type),indexed:null==t.indexed?null:!!t.indexed,components:t.components?t.components.map(e.fromObject):null})}},{key:"fromString",value:function(t,r){return n=parseParamType(t,!!r),e.fromObject({name:n.name,type:n.type,indexed:n.indexed,components:n.components});var n}},{key:"isParamType",value:function(e){return!(null==e||!e._isParamType)}}]),e}();function parseParams(e,t){return splitNesting(e).map((function(e){return ParamType.fromString(e,t)}))}var Fragment=function(){function e(t,r){_classCallCheck(this,e),t!==_constructorGuard$2&&logger$E.throwError("use a static from method",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),populate(this,r),this._isFragment=!0,Object.freeze(this)}return _createClass(e,null,[{key:"from",value:function(t){return e.isFragment(t)?t:"string"==typeof t?e.fromString(t):e.fromObject(t)}},{key:"fromObject",value:function(t){if(e.isFragment(t))return t;switch(t.type){case"function":return FunctionFragment.fromObject(t);case"event":return EventFragment.fromObject(t);case"constructor":return ConstructorFragment.fromObject(t);case"error":return ErrorFragment.fromObject(t);case"fallback":case"receive":return null}return logger$E.throwArgumentError("invalid fragment object","value",t)}},{key:"fromString",value:function(e){return"event"===(e=(e=(e=e.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?EventFragment.fromString(e.substring(5).trim()):"function"===e.split(" ")[0]?FunctionFragment.fromString(e.substring(8).trim()):"constructor"===e.split("(")[0].trim()?ConstructorFragment.fromString(e.trim()):"error"===e.split(" ")[0]?ErrorFragment.fromString(e.substring(5).trim()):logger$E.throwArgumentError("unsupported fragment","value",e)}},{key:"isFragment",value:function(e){return!(!e||!e._isFragment)}}]),e}(),EventFragment=function(e){_inherits(r,e);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return _createClass(r,[{key:"format",value:function(e){if(e||(e=FormatTypes.sighash),FormatTypes[e]||logger$E.throwArgumentError("invalid format type","format",e),e===FormatTypes.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((function(t){return JSON.parse(t.format(e))}))});var t="";return e!==FormatTypes.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map((function(t){return t.format(e)})).join(e===FormatTypes.full?", ":",")+") ",e!==FormatTypes.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}}],[{key:"from",value:function(e){return"string"==typeof e?r.fromString(e):r.fromObject(e)}},{key:"fromObject",value:function(e){if(r.isEventFragment(e))return e;"event"!==e.type&&logger$E.throwArgumentError("invalid event object","value",e);var t={name:verifyIdentifier(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(ParamType.fromObject):[],type:"event"};return new r(_constructorGuard$2,t)}},{key:"fromString",value:function(e){var t=e.match(regexParen);t||logger$E.throwArgumentError("invalid event string","value",e);var n=!1;return t[3].split(" ").forEach((function(e){switch(e.trim()){case"anonymous":n=!0;break;case"":break;default:logger$E.warn("unknown modifier: "+e)}})),r.fromObject({name:t[1].trim(),anonymous:n,inputs:parseParams(t[2],!0),type:"event"})}},{key:"isEventFragment",value:function(e){return e&&e._isFragment&&"event"===e.type}}]),r}(Fragment);function parseGas(e,t){t.gas=null;var r=e.split("@");return 1!==r.length?(r.length>2&&logger$E.throwArgumentError("invalid human-readable ABI signature","value",e),r[1].match(/^[0-9]+$/)||logger$E.throwArgumentError("invalid human-readable ABI signature gas","value",e),t.gas=BigNumber.from(r[1]),r[0]):e}function parseModifiers(e,t){t.constant=!1,t.payable=!1,t.stateMutability="nonpayable",e.split(" ").forEach((function(e){switch(e.trim()){case"constant":t.constant=!0;break;case"payable":t.payable=!0,t.stateMutability="payable";break;case"nonpayable":t.payable=!1,t.stateMutability="nonpayable";break;case"pure":t.constant=!0,t.stateMutability="pure";break;case"view":t.constant=!0,t.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+e)}}))}function verifyState(e){var t={constant:!1,payable:!0,stateMutability:"payable"};return null!=e.stateMutability?(t.stateMutability=e.stateMutability,t.constant="view"===t.stateMutability||"pure"===t.stateMutability,null!=e.constant&&!!e.constant!==t.constant&&logger$E.throwArgumentError("cannot have constant function with mutability "+t.stateMutability,"value",e),t.payable="payable"===t.stateMutability,null!=e.payable&&!!e.payable!==t.payable&&logger$E.throwArgumentError("cannot have payable function with mutability "+t.stateMutability,"value",e)):null!=e.payable?(t.payable=!!e.payable,null!=e.constant||t.payable||"constructor"===e.type||logger$E.throwArgumentError("unable to determine stateMutability","value",e),t.constant=!!e.constant,t.constant?t.stateMutability="view":t.stateMutability=t.payable?"payable":"nonpayable",t.payable&&t.constant&&logger$E.throwArgumentError("cannot have constant payable function","value",e)):null!=e.constant?(t.constant=!!e.constant,t.payable=!t.constant,t.stateMutability=t.constant?"view":"payable"):"constructor"!==e.type&&logger$E.throwArgumentError("unable to determine stateMutability","value",e),t}var ConstructorFragment=function(e){_inherits(r,e);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return _createClass(r,[{key:"format",value:function(e){if(e||(e=FormatTypes.sighash),FormatTypes[e]||logger$E.throwArgumentError("invalid format type","format",e),e===FormatTypes.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((function(t){return JSON.parse(t.format(e))}))});e===FormatTypes.sighash&&logger$E.throwError("cannot format a constructor for sighash",Logger.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});var t="constructor("+this.inputs.map((function(t){return t.format(e)})).join(e===FormatTypes.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "),t.trim()}}],[{key:"from",value:function(e){return"string"==typeof e?r.fromString(e):r.fromObject(e)}},{key:"fromObject",value:function(e){if(r.isConstructorFragment(e))return e;"constructor"!==e.type&&logger$E.throwArgumentError("invalid constructor object","value",e);var t=verifyState(e);t.constant&&logger$E.throwArgumentError("constructor cannot be constant","value",e);var n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(ParamType.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?BigNumber.from(e.gas):null};return new r(_constructorGuard$2,n)}},{key:"fromString",value:function(e){var t={type:"constructor"},n=(e=parseGas(e,t)).match(regexParen);return n&&"constructor"===n[1].trim()||logger$E.throwArgumentError("invalid constructor string","value",e),t.inputs=parseParams(n[2].trim(),!1),parseModifiers(n[3].trim(),t),r.fromObject(t)}},{key:"isConstructorFragment",value:function(e){return e&&e._isFragment&&"constructor"===e.type}}]),r}(Fragment),FunctionFragment=function(e){_inherits(r,e);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return _createClass(r,[{key:"format",value:function(e){if(e||(e=FormatTypes.sighash),FormatTypes[e]||logger$E.throwArgumentError("invalid format type","format",e),e===FormatTypes.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((function(t){return JSON.parse(t.format(e))})),outputs:this.outputs.map((function(t){return JSON.parse(t.format(e))}))});var t="";return e!==FormatTypes.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map((function(t){return t.format(e)})).join(e===FormatTypes.full?", ":",")+") ",e!==FormatTypes.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map((function(t){return t.format(e)})).join(", ")+") "),null!=this.gas&&(t+="@"+this.gas.toString()+" ")),t.trim()}}],[{key:"from",value:function(e){return"string"==typeof e?r.fromString(e):r.fromObject(e)}},{key:"fromObject",value:function(e){if(r.isFunctionFragment(e))return e;"function"!==e.type&&logger$E.throwArgumentError("invalid function object","value",e);var t=verifyState(e),n={type:e.type,name:verifyIdentifier(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(ParamType.fromObject):[],outputs:e.outputs?e.outputs.map(ParamType.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?BigNumber.from(e.gas):null};return new r(_constructorGuard$2,n)}},{key:"fromString",value:function(e){var t={type:"function"},n=(e=parseGas(e,t)).split(" returns ");n.length>2&&logger$E.throwArgumentError("invalid function string","value",e);var i=n[0].match(regexParen);if(i||logger$E.throwArgumentError("invalid function signature","value",e),t.name=i[1].trim(),t.name&&verifyIdentifier(t.name),t.inputs=parseParams(i[2],!1),parseModifiers(i[3].trim(),t),n.length>1){var a=n[1].match(regexParen);""==a[1].trim()&&""==a[3].trim()||logger$E.throwArgumentError("unexpected tokens","value",e),t.outputs=parseParams(a[2],!1)}else t.outputs=[];return r.fromObject(t)}},{key:"isFunctionFragment",value:function(e){return e&&e._isFragment&&"function"===e.type}}]),r}(ConstructorFragment);function checkForbidden(e){var t=e.format();return"Error(string)"!==t&&"Panic(uint256)"!==t||logger$E.throwArgumentError("cannot specify user defined ".concat(t," error"),"fragment",e),e}var ErrorFragment=function(e){_inherits(r,e);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return _createClass(r,[{key:"format",value:function(e){if(e||(e=FormatTypes.sighash),FormatTypes[e]||logger$E.throwArgumentError("invalid format type","format",e),e===FormatTypes.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((function(t){return JSON.parse(t.format(e))}))});var t="";return e!==FormatTypes.sighash&&(t+="error "),(t+=this.name+"("+this.inputs.map((function(t){return t.format(e)})).join(e===FormatTypes.full?", ":",")+") ").trim()}}],[{key:"from",value:function(e){return"string"==typeof e?r.fromString(e):r.fromObject(e)}},{key:"fromObject",value:function(e){if(r.isErrorFragment(e))return e;"error"!==e.type&&logger$E.throwArgumentError("invalid error object","value",e);var t={type:e.type,name:verifyIdentifier(e.name),inputs:e.inputs?e.inputs.map(ParamType.fromObject):[]};return checkForbidden(new r(_constructorGuard$2,t))}},{key:"fromString",value:function(e){var t={type:"error"},n=e.match(regexParen);return n||logger$E.throwArgumentError("invalid error signature","value",e),t.name=n[1].trim(),t.name&&verifyIdentifier(t.name),t.inputs=parseParams(n[2],!1),checkForbidden(r.fromObject(t))}},{key:"isErrorFragment",value:function(e){return e&&e._isFragment&&"error"===e.type}}]),r}(Fragment);function verifyType(e){return e.match(/^uint($|[^1-9])/)?e="uint256"+e.substring(4):e.match(/^int($|[^1-9])/)&&(e="int256"+e.substring(3)),e}var regexIdentifier=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function verifyIdentifier(e){return e&&e.match(regexIdentifier)||logger$E.throwArgumentError('invalid identifier "'.concat(e,'"'),"value",e),e}var regexParen=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function splitNesting(e){e=e.trim();for(var t=[],r="",n=0,i=0;i<e.length;i++){var a=e[i];","===a&&0===n?(t.push(r),r=""):(r+=a,"("===a?n++:")"===a&&-1==--n&&logger$E.throwArgumentError("unbalanced parenthesis","value",e))}return r&&t.push(r),t}var logger$D=new Logger(version$m);function checkResultErrors(e){var t=[];return function e(r,n){if(Array.isArray(n))for(var i in n){var a=r.slice();a.push(i);try{e(a,n[i])}catch(e){t.push({path:a,error:e})}}}([],e),t}var Coder=function(){function e(t,r,n,i){_classCallCheck(this,e),this.name=t,this.type=r,this.localName=n,this.dynamic=i}return _createClass(e,[{key:"_throwError",value:function(e,t){logger$D.throwArgumentError(e,this.localName,t)}}]),e}(),Writer$2=function(){function e(t){_classCallCheck(this,e),defineReadOnly(this,"wordSize",t||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(t)}return _createClass(e,[{key:"data",get:function(){return hexConcat(this._data)}},{key:"length",get:function(){return this._dataLength}},{key:"_writeData",value:function(e){return this._data.push(e),this._dataLength+=e.length,e.length}},{key:"appendWriter",value:function(e){return this._writeData(concat$3(e._data))}},{key:"writeBytes",value:function(e){var t=arrayify(e),r=t.length%this.wordSize;return r&&(t=concat$3([t,this._padding.slice(r)])),this._writeData(t)}},{key:"_getValue",value:function(e){var t=arrayify(BigNumber.from(e));return t.length>this.wordSize&&logger$D.throwError("value out-of-bounds",Logger.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=concat$3([this._padding.slice(t.length%this.wordSize),t])),t}},{key:"writeValue",value:function(e){return this._writeData(this._getValue(e))}},{key:"writeUpdatableValue",value:function(){var e=this,t=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,function(r){e._data[t]=e._getValue(r)}}}]),e}(),Reader$2=function(){function e(t,r,n,i){_classCallCheck(this,e),defineReadOnly(this,"_data",arrayify(t)),defineReadOnly(this,"wordSize",r||32),defineReadOnly(this,"_coerceFunc",n),defineReadOnly(this,"allowLoose",i),this._offset=0}return _createClass(e,[{key:"data",get:function(){return hexlify(this._data)}},{key:"consumed",get:function(){return this._offset}},{key:"coerce",value:function(t,r){return this._coerceFunc?this._coerceFunc(t,r):e.coerce(t,r)}},{key:"_peekBytes",value:function(e,t,r){var n=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+n>this._data.length&&(this.allowLoose&&r&&this._offset+t<=this._data.length?n=t:logger$D.throwError("data out-of-bounds",Logger.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+n})),this._data.slice(this._offset,this._offset+n)}},{key:"subReader",value:function(t){return new e(this._data.slice(this._offset+t),this.wordSize,this._coerceFunc,this.allowLoose)}},{key:"readBytes",value:function(e,t){var r=this._peekBytes(0,e,!!t);return this._offset+=r.length,r.slice(0,e)}},{key:"readValue",value:function(){return BigNumber.from(this.readBytes(this.wordSize))}}],[{key:"coerce",value:function(e,t){var r=e.match("^u?int([0-9]+)$");return r&&parseInt(r[1])<=48&&(t=t.toNumber()),t}}]),e}(),sha3$1={exports:{}};!function(e){!function(){var t="input is invalid type",r="object"===("undefined"==typeof window?"undefined":_typeof(window)),n=r?window:{};n.JS_SHA3_NO_WINDOW&&(r=!1);var i=!r&&"object"===("undefined"==typeof self?"undefined":_typeof(self));!n.JS_SHA3_NO_NODE_JS&&"object"===("undefined"==typeof process?"undefined":_typeof(process))&&process.versions&&process.versions.node?n=commonjsGlobal:i&&(n=self);var a=!n.JS_SHA3_NO_COMMON_JS&&e.exports,o=!n.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,s="0123456789abcdef".split(""),u=[4,1024,262144,67108864],c=[0,8,16,24],l=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],f=[224,256,384,512],p=[128,256],d=["hex","buffer","arrayBuffer","array","digest"],h={128:168,256:136};!n.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!o||!n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"===_typeof(e)&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var m=function(e,t,r){return function(n){return new R(e,t,e).update(n)[r]()}},y=function(e,t,r){return function(n,i){return new R(e,t,i).update(n)[r]()}},v=function(e,t,r){return function(t,n,i,a){return k["cshake"+e].update(t,n,i,a)[r]()}},g=function(e,t,r){return function(t,n,i,a){return k["kmac"+e].update(t,n,i,a)[r]()}},b=function(e,t,r,n){for(var i=0;i<d.length;++i){var a=d[i];e[a]=t(r,n,a)}return e},_=function(e,t){var r=m(e,t,"hex");return r.create=function(){return new R(e,t,e)},r.update=function(e){return r.create().update(e)},b(r,m,e,t)},w=[{name:"keccak",padding:[1,256,65536,16777216],bits:f,createMethod:_},{name:"sha3",padding:[6,1536,393216,100663296],bits:f,createMethod:_},{name:"shake",padding:[31,7936,2031616,520093696],bits:p,createMethod:function(e,t){var r=y(e,t,"hex");return r.create=function(r){return new R(e,t,r)},r.update=function(e,t){return r.create(t).update(e)},b(r,y,e,t)}},{name:"cshake",padding:u,bits:p,createMethod:function(e,t){var r=h[e],n=v(e,0,"hex");return n.create=function(n,i,a){return i||a?new R(e,t,n).bytepad([i,a],r):k["shake"+e].create(n)},n.update=function(e,t,r,i){return n.create(t,r,i).update(e)},b(n,v,e,t)}},{name:"kmac",padding:u,bits:p,createMethod:function(e,t){var r=h[e],n=g(e,0,"hex");return n.create=function(n,i,a){return new P(e,t,i).bytepad(["KMAC",a],r).bytepad([n],r)},n.update=function(e,t,r,i){return n.create(e,r,i).update(t)},b(n,g,e,t)}}],k={},x=[],T=0;T<w.length;++T)for(var E=w[T],A=E.bits,S=0;S<A.length;++S){var C=E.name+"_"+A[S];if(x.push(C),k[C]=E.createMethod(A[S],E.padding),"sha3"!==E.name){var O=E.name+A[S];x.push(O),k[O]=k[C]}}function R(e,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function P(e,t,r){R.call(this,e,t,r)}R.prototype.update=function(e){if(this.finalized)throw new Error("finalize already called");var r,n=_typeof(e);if("string"!==n){if("object"!==n)throw new Error(t);if(null===e)throw new Error(t);if(o&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||o&&ArrayBuffer.isView(e)))throw new Error(t);r=!0}for(var i,a,s=this.blocks,u=this.byteCount,l=e.length,f=this.blockCount,p=0,d=this.s;p<l;){if(this.reset)for(this.reset=!1,s[0]=this.block,i=1;i<f+1;++i)s[i]=0;if(r)for(i=this.start;p<l&&i<u;++p)s[i>>2]|=e[p]<<c[3&i++];else for(i=this.start;p<l&&i<u;++p)(a=e.charCodeAt(p))<128?s[i>>2]|=a<<c[3&i++]:a<2048?(s[i>>2]|=(192|a>>6)<<c[3&i++],s[i>>2]|=(128|63&a)<<c[3&i++]):a<55296||a>=57344?(s[i>>2]|=(224|a>>12)<<c[3&i++],s[i>>2]|=(128|a>>6&63)<<c[3&i++],s[i>>2]|=(128|63&a)<<c[3&i++]):(a=65536+((1023&a)<<10|1023&e.charCodeAt(++p)),s[i>>2]|=(240|a>>18)<<c[3&i++],s[i>>2]|=(128|a>>12&63)<<c[3&i++],s[i>>2]|=(128|a>>6&63)<<c[3&i++],s[i>>2]|=(128|63&a)<<c[3&i++]);if(this.lastByteIndex=i,i>=u){for(this.start=i-u,this.block=s[f],i=0;i<f;++i)d[i]^=s[i];I(d),this.reset=!0}else this.start=i}return this},R.prototype.encode=function(e,t){var r=255&e,n=1,i=[r];for(r=255&(e>>=8);r>0;)i.unshift(r),r=255&(e>>=8),++n;return t?i.push(n):i.unshift(n),this.update(i),i.length},R.prototype.encodeString=function(e){var r,n=_typeof(e);if("string"!==n){if("object"!==n)throw new Error(t);if(null===e)throw new Error(t);if(o&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||o&&ArrayBuffer.isView(e)))throw new Error(t);r=!0}var i=0,a=e.length;if(r)i=a;else for(var s=0;s<e.length;++s){var u=e.charCodeAt(s);u<128?i+=1:u<2048?i+=2:u<55296||u>=57344?i+=3:(u=65536+((1023&u)<<10|1023&e.charCodeAt(++s)),i+=4)}return i+=this.encode(8*i),this.update(e),i},R.prototype.bytepad=function(e,t){for(var r=this.encode(t),n=0;n<e.length;++n)r+=this.encodeString(e[n]);var i=t-r%t,a=[];return a.length=i,this.update(a),this},R.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,n=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[r],t=1;t<r+1;++t)e[t]=0;for(e[r-1]|=2147483648,t=0;t<r;++t)n[t]^=e[t];I(n)}},R.prototype.toString=R.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,a=0,o=0,u="";o<n;){for(a=0;a<t&&o<n;++a,++o)e=r[a],u+=s[e>>4&15]+s[15&e]+s[e>>12&15]+s[e>>8&15]+s[e>>20&15]+s[e>>16&15]+s[e>>28&15]+s[e>>24&15];o%t==0&&(I(r),a=0)}return i&&(e=r[a],u+=s[e>>4&15]+s[15&e],i>1&&(u+=s[e>>12&15]+s[e>>8&15]),i>2&&(u+=s[e>>20&15]+s[e>>16&15])),u},R.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,a=0,o=0,s=this.outputBits>>3;e=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(s);for(var u=new Uint32Array(e);o<n;){for(a=0;a<t&&o<n;++a,++o)u[o]=r[a];o%t==0&&I(r)}return i&&(u[a]=r[a],e=e.slice(0,s)),e},R.prototype.buffer=R.prototype.arrayBuffer,R.prototype.digest=R.prototype.array=function(){this.finalize();for(var e,t,r=this.blockCount,n=this.s,i=this.outputBlocks,a=this.extraBytes,o=0,s=0,u=[];s<i;){for(o=0;o<r&&s<i;++o,++s)e=s<<2,t=n[o],u[e]=255&t,u[e+1]=t>>8&255,u[e+2]=t>>16&255,u[e+3]=t>>24&255;s%r==0&&I(n)}return a&&(e=s<<2,t=n[o],u[e]=255&t,a>1&&(u[e+1]=t>>8&255),a>2&&(u[e+2]=t>>16&255)),u},P.prototype=new R,P.prototype.finalize=function(){return this.encode(this.outputBits,!0),R.prototype.finalize.call(this)};var I=function(e){var t,r,n,i,a,o,s,u,c,f,p,d,h,m,y,v,g,b,_,w,k,x,T,E,A,S,C,O,R,P,I,N,$,B,M,L,j,D,F,U,z,q,G,H,W,K,V,J,Y,X,Q,Z,ee,te,re,ne,ie,ae,oe,se,ue,ce,le;for(n=0;n<48;n+=2)i=e[0]^e[10]^e[20]^e[30]^e[40],a=e[1]^e[11]^e[21]^e[31]^e[41],o=e[2]^e[12]^e[22]^e[32]^e[42],s=e[3]^e[13]^e[23]^e[33]^e[43],u=e[4]^e[14]^e[24]^e[34]^e[44],c=e[5]^e[15]^e[25]^e[35]^e[45],f=e[6]^e[16]^e[26]^e[36]^e[46],p=e[7]^e[17]^e[27]^e[37]^e[47],t=(d=e[8]^e[18]^e[28]^e[38]^e[48])^(o<<1|s>>>31),r=(h=e[9]^e[19]^e[29]^e[39]^e[49])^(s<<1|o>>>31),e[0]^=t,e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,t=i^(u<<1|c>>>31),r=a^(c<<1|u>>>31),e[2]^=t,e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,t=o^(f<<1|p>>>31),r=s^(p<<1|f>>>31),e[4]^=t,e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,t=u^(d<<1|h>>>31),r=c^(h<<1|d>>>31),e[6]^=t,e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,t=f^(i<<1|a>>>31),r=p^(a<<1|i>>>31),e[8]^=t,e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,m=e[0],y=e[1],K=e[11]<<4|e[10]>>>28,V=e[10]<<4|e[11]>>>28,O=e[20]<<3|e[21]>>>29,R=e[21]<<3|e[20]>>>29,se=e[31]<<9|e[30]>>>23,ue=e[30]<<9|e[31]>>>23,q=e[40]<<18|e[41]>>>14,G=e[41]<<18|e[40]>>>14,B=e[2]<<1|e[3]>>>31,M=e[3]<<1|e[2]>>>31,v=e[13]<<12|e[12]>>>20,g=e[12]<<12|e[13]>>>20,J=e[22]<<10|e[23]>>>22,Y=e[23]<<10|e[22]>>>22,P=e[33]<<13|e[32]>>>19,I=e[32]<<13|e[33]>>>19,ce=e[42]<<2|e[43]>>>30,le=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,re=e[4]<<30|e[5]>>>2,L=e[14]<<6|e[15]>>>26,j=e[15]<<6|e[14]>>>26,b=e[25]<<11|e[24]>>>21,_=e[24]<<11|e[25]>>>21,X=e[34]<<15|e[35]>>>17,Q=e[35]<<15|e[34]>>>17,N=e[45]<<29|e[44]>>>3,$=e[44]<<29|e[45]>>>3,E=e[6]<<28|e[7]>>>4,A=e[7]<<28|e[6]>>>4,ne=e[17]<<23|e[16]>>>9,ie=e[16]<<23|e[17]>>>9,D=e[26]<<25|e[27]>>>7,F=e[27]<<25|e[26]>>>7,w=e[36]<<21|e[37]>>>11,k=e[37]<<21|e[36]>>>11,Z=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,H=e[8]<<27|e[9]>>>5,W=e[9]<<27|e[8]>>>5,S=e[18]<<20|e[19]>>>12,C=e[19]<<20|e[18]>>>12,ae=e[29]<<7|e[28]>>>25,oe=e[28]<<7|e[29]>>>25,U=e[38]<<8|e[39]>>>24,z=e[39]<<8|e[38]>>>24,x=e[48]<<14|e[49]>>>18,T=e[49]<<14|e[48]>>>18,e[0]=m^~v&b,e[1]=y^~g&_,e[10]=E^~S&O,e[11]=A^~C&R,e[20]=B^~L&D,e[21]=M^~j&F,e[30]=H^~K&J,e[31]=W^~V&Y,e[40]=te^~ne&ae,e[41]=re^~ie&oe,e[2]=v^~b&w,e[3]=g^~_&k,e[12]=S^~O&P,e[13]=C^~R&I,e[22]=L^~D&U,e[23]=j^~F&z,e[32]=K^~J&X,e[33]=V^~Y&Q,e[42]=ne^~ae&se,e[43]=ie^~oe&ue,e[4]=b^~w&x,e[5]=_^~k&T,e[14]=O^~P&N,e[15]=R^~I&$,e[24]=D^~U&q,e[25]=F^~z&G,e[34]=J^~X&Z,e[35]=Y^~Q&ee,e[44]=ae^~se&ce,e[45]=oe^~ue&le,e[6]=w^~x&m,e[7]=k^~T&y,e[16]=P^~N&E,e[17]=I^~$&A,e[26]=U^~q&B,e[27]=z^~G&M,e[36]=X^~Z&H,e[37]=Q^~ee&W,e[46]=se^~ce&te,e[47]=ue^~le&re,e[8]=x^~m&v,e[9]=T^~y&g,e[18]=N^~E&S,e[19]=$^~A&C,e[28]=q^~B&L,e[29]=G^~M&j,e[38]=Z^~H&K,e[39]=ee^~W&V,e[48]=ce^~te&ne,e[49]=le^~re&ie,e[0]^=l[n],e[1]^=l[n+1]};if(a)e.exports=k;else for(T=0;T<x.length;++T)n[x[T]]=k[x[T]]}()}(sha3$1);var sha3=sha3$1.exports;function keccak256$1(e){return"0x"+sha3.keccak_256(arrayify(e))}var lib_esm$m=Object.freeze(Object.defineProperty({__proto__:null,keccak256:keccak256$1},Symbol.toStringTag,{value:"Module"})),version$l="rlp/5.6.1",logger$C=new Logger(version$l);function arrayifyInteger(e){for(var t=[];e;)t.unshift(255&e),e>>=8;return t}function unarrayifyInteger(e,t,r){for(var n=0,i=0;i<r;i++)n=256*n+e[t+i];return n}function _encode(e){if(Array.isArray(e)){var t=[];if(e.forEach((function(e){t=t.concat(_encode(e))})),t.length<=55)return t.unshift(192+t.length),t;var r=arrayifyInteger(t.length);return r.unshift(247+r.length),r.concat(t)}isBytesLike(e)||logger$C.throwArgumentError("RLP object must be BytesLike","object",e);var n=Array.prototype.slice.call(arrayify(e));if(1===n.length&&n[0]<=127)return n;if(n.length<=55)return n.unshift(128+n.length),n;var i=arrayifyInteger(n.length);return i.unshift(183+i.length),i.concat(n)}function encode$c(e){return hexlify(_encode(e))}function _decodeChildren(e,t,r,n){for(var i=[];r<t+1+n;){var a=_decode(e,r);i.push(a.result),(r+=a.consumed)>t+1+n&&logger$C.throwError("child data too short",Logger.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function _decode(e,t){if(0===e.length&&logger$C.throwError("data too short",Logger.errors.BUFFER_OVERRUN,{}),e[t]>=248){var r=e[t]-247;t+1+r>e.length&&logger$C.throwError("data short segment too short",Logger.errors.BUFFER_OVERRUN,{});var n=unarrayifyInteger(e,t+1,r);return t+1+r+n>e.length&&logger$C.throwError("data long segment too short",Logger.errors.BUFFER_OVERRUN,{}),_decodeChildren(e,t,t+1+r,r+n)}if(e[t]>=192){var i=e[t]-192;return t+1+i>e.length&&logger$C.throwError("data array too short",Logger.errors.BUFFER_OVERRUN,{}),_decodeChildren(e,t,t+1,i)}if(e[t]>=184){var a=e[t]-183;t+1+a>e.length&&logger$C.throwError("data array too short",Logger.errors.BUFFER_OVERRUN,{});var o=unarrayifyInteger(e,t+1,a);return t+1+a+o>e.length&&logger$C.throwError("data array too short",Logger.errors.BUFFER_OVERRUN,{}),{consumed:1+a+o,result:hexlify(e.slice(t+1+a,t+1+a+o))}}if(e[t]>=128){var s=e[t]-128;return t+1+s>e.length&&logger$C.throwError("data too short",Logger.errors.BUFFER_OVERRUN,{}),{consumed:1+s,result:hexlify(e.slice(t+1,t+1+s))}}return{consumed:1,result:hexlify(e[t])}}function decode$c(e){var t=arrayify(e),r=_decode(t,0);return r.consumed!==t.length&&logger$C.throwArgumentError("invalid rlp data","data",e),r.result}var lib_esm$l=Object.freeze(Object.defineProperty({__proto__:null,encode:encode$c,decode:decode$c},Symbol.toStringTag,{value:"Module"})),version$k="address/5.6.1",logger$B=new Logger(version$k);function getChecksumAddress(e){isHexString(e,20)||logger$B.throwArgumentError("invalid address","address",e);for(var t=(e=e.toLowerCase()).substring(2).split(""),r=new Uint8Array(40),n=0;n<40;n++)r[n]=t[n].charCodeAt(0);for(var i=arrayify(keccak256$1(r)),a=0;a<40;a+=2)i[a>>1]>>4>=8&&(t[a]=t[a].toUpperCase()),(15&i[a>>1])>=8&&(t[a+1]=t[a+1].toUpperCase());return"0x"+t.join("")}var MAX_SAFE_INTEGER=9007199254740991;function log10(e){return Math.log10?Math.log10(e):Math.log(e)/Math.LN10}for(var ibanLookup={},i2=0;i2<10;i2++)ibanLookup[String(i2)]=String(i2);for(var _i3=0;_i3<26;_i3++)ibanLookup[String.fromCharCode(65+_i3)]=String(10+_i3);var safeDigits=Math.floor(log10(MAX_SAFE_INTEGER));function ibanChecksum(e){for(var t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((function(e){return ibanLookup[e]})).join("");t.length>=safeDigits;){var r=t.substring(0,safeDigits);t=parseInt(r,10)%97+t.substring(r.length)}for(var n=String(98-parseInt(t,10)%97);n.length<2;)n="0"+n;return n}function _getAddress(e){var t=null;if("string"!=typeof e&&logger$B.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=getChecksumAddress(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&logger$B.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==ibanChecksum(e)&&logger$B.throwArgumentError("bad icap checksum","address",e),t=_base36To16(e.substring(4));t.length<40;)t="0"+t;t=getChecksumAddress("0x"+t)}else logger$B.throwArgumentError("invalid address","address",e);return t}function isAddress(e){try{return _getAddress(e),!0}catch(e){}return!1}function getIcapAddress(e){for(var t=_base16To36(_getAddress(e).substring(2)).toUpperCase();t.length<30;)t="0"+t;return"XE"+ibanChecksum("XE00"+t)+t}function _getContractAddress(e){var t=null;try{t=_getAddress(e.from)}catch(t){logger$B.throwArgumentError("missing from address","transaction",e)}return _getAddress(hexDataSlice(keccak256$1(encode$c([t,stripZeros(arrayify(BigNumber.from(e.nonce).toHexString()))])),12))}function getCreate2Address(e,t,r){return 32!==hexDataLength(t)&&logger$B.throwArgumentError("salt must be 32 bytes","salt",t),32!==hexDataLength(r)&&logger$B.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",r),_getAddress(hexDataSlice(keccak256$1(concat$3(["0xff",_getAddress(e),t,r])),12))}var lib_esm$k=Object.freeze(Object.defineProperty({__proto__:null,getAddress:_getAddress,isAddress,getIcapAddress,getContractAddress:_getContractAddress,getCreate2Address},Symbol.toStringTag,{value:"Module"})),AddressCoder=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){return _classCallCheck(this,r),t.call(this,"address","address",e,!1)}return _createClass(r,[{key:"defaultValue",value:function(){return"0x0000000000000000000000000000000000000000"}},{key:"encode",value:function(e,t){try{t=_getAddress(t)}catch(e){this._throwError(e.message,t)}return e.writeValue(t)}},{key:"decode",value:function(e){return _getAddress(hexZeroPad(e.readValue().toHexString(),20))}}]),r}(Coder),AnonymousCoder=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){var n;return _classCallCheck(this,r),(n=t.call(this,e.name,e.type,void 0,e.dynamic)).coder=e,n}return _createClass(r,[{key:"defaultValue",value:function(){return this.coder.defaultValue()}},{key:"encode",value:function(e,t){return this.coder.encode(e,t)}},{key:"decode",value:function(e){return this.coder.decode(e)}}]),r}(Coder),logger$A=new Logger(version$m);function pack$2(e,t,r){var n=null;if(Array.isArray(r))n=r;else if(r&&"object"===_typeof(r)){var i={};n=t.map((function(e){var t=e.localName;return t||logger$A.throwError("cannot encode object for signature with missing names",Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:r}),i[t]&&logger$A.throwError("cannot encode object for signature with duplicate names",Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:r}),i[t]=!0,r[t]}))}else logger$A.throwArgumentError("invalid tuple value","tuple",r);t.length!==n.length&&logger$A.throwArgumentError("types/value length mismatch","tuple",r);var a=new Writer$2(e.wordSize),o=new Writer$2(e.wordSize),s=[];return t.forEach((function(e,t){var r=n[t];if(e.dynamic){var i=o.length;e.encode(o,r);var u=a.writeUpdatableValue();s.push((function(e){u(e+i)}))}else e.encode(a,r)})),s.forEach((function(e){e(a.length)})),e.appendWriter(a)+e.appendWriter(o)}function unpack(e,t){var r=[],n=e.subReader(0);t.forEach((function(t){var i=null;if(t.dynamic){var a=e.readValue(),o=n.subReader(a.toNumber());try{i=t.decode(o)}catch(e){if(e.code===Logger.errors.BUFFER_OVERRUN)throw e;(i=e).baseType=t.name,i.name=t.localName,i.type=t.type}}else try{i=t.decode(e)}catch(e){if(e.code===Logger.errors.BUFFER_OVERRUN)throw e;(i=e).baseType=t.name,i.name=t.localName,i.type=t.type}null!=i&&r.push(i)}));var i=t.reduce((function(e,t){var r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e}),{});t.forEach((function(e,t){var n=e.localName;if(n&&1===i[n]&&("length"===n&&(n="_length"),null==r[n])){var a=r[t];a instanceof Error?Object.defineProperty(r,n,{enumerable:!0,get:function(){throw a}}):r[n]=a}}));for(var a=function(e){var t=r[e];t instanceof Error&&Object.defineProperty(r,e,{enumerable:!0,get:function(){throw t}})},o=0;o<r.length;o++)a(o);return Object.freeze(r)}var ArrayCoder=function(e){_inherits(r,e);var t=_createSuper(r);function r(e,n,i){var a;_classCallCheck(this,r);var o=e.type+"["+(n>=0?n:"")+"]",s=-1===n||e.dynamic;return(a=t.call(this,"array",o,i,s)).coder=e,a.length=n,a}return _createClass(r,[{key:"defaultValue",value:function(){for(var e=this.coder.defaultValue(),t=[],r=0;r<this.length;r++)t.push(e);return t}},{key:"encode",value:function(e,t){Array.isArray(t)||this._throwError("expected array value",t);var r=this.length;-1===r&&(r=t.length,e.writeValue(t.length)),logger$A.checkArgumentCount(t.length,r,"coder array"+(this.localName?" "+this.localName:""));for(var n=[],i=0;i<t.length;i++)n.push(this.coder);return pack$2(e,n,t)}},{key:"decode",value:function(e){var t=this.length;-1===t&&32*(t=e.readValue().toNumber())>e._data.length&&logger$A.throwError("insufficient data length",Logger.errors.BUFFER_OVERRUN,{length:e._data.length,count:t});for(var r=[],n=0;n<t;n++)r.push(new AnonymousCoder(this.coder));return e.coerce(this.name,unpack(e,r))}}]),r}(Coder),BooleanCoder=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){return _classCallCheck(this,r),t.call(this,"bool","bool",e,!1)}return _createClass(r,[{key:"defaultValue",value:function(){return!1}},{key:"encode",value:function(e,t){return e.writeValue(t?1:0)}},{key:"decode",value:function(e){return e.coerce(this.type,!e.readValue().isZero())}}]),r}(Coder),DynamicBytesCoder=function(e){_inherits(r,e);var t=_createSuper(r);function r(e,n){return _classCallCheck(this,r),t.call(this,e,e,n,!0)}return _createClass(r,[{key:"defaultValue",value:function(){return"0x"}},{key:"encode",value:function(e,t){return t=arrayify(t),e.writeValue(t.length)+e.writeBytes(t)}},{key:"decode",value:function(e){return e.readBytes(e.readValue().toNumber(),!0)}}]),r}(Coder),BytesCoder=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){return _classCallCheck(this,r),t.call(this,"bytes",e)}return _createClass(r,[{key:"decode",value:function(e){return e.coerce(this.name,hexlify(_get(_getPrototypeOf(r.prototype),"decode",this).call(this,e)))}}]),r}(DynamicBytesCoder),FixedBytesCoder=function(e){_inherits(r,e);var t=_createSuper(r);function r(e,n){var i;_classCallCheck(this,r);var a="bytes"+String(e);return(i=t.call(this,a,a,n,!1)).size=e,i}return _createClass(r,[{key:"defaultValue",value:function(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}},{key:"encode",value:function(e,t){var r=arrayify(t);return r.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(r)}},{key:"decode",value:function(e){return e.coerce(this.name,hexlify(e.readBytes(this.size)))}}]),r}(Coder),NullCoder=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){return _classCallCheck(this,r),t.call(this,"null","",e,!1)}return _createClass(r,[{key:"defaultValue",value:function(){return null}},{key:"encode",value:function(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes([])}},{key:"decode",value:function(e){return e.readBytes(0),e.coerce(this.name,null)}}]),r}(Coder),AddressZero="0x0000000000000000000000000000000000000000",NegativeOne$1=BigNumber.from(-1),Zero$1=BigNumber.from(0),One$1=BigNumber.from(1),Two=BigNumber.from(2),WeiPerEther=BigNumber.from("1000000000000000000"),MaxUint256$1=BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),MinInt256=BigNumber.from("-0x8000000000000000000000000000000000000000000000000000000000000000"),MaxInt256=BigNumber.from("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),HashZero="0x0000000000000000000000000000000000000000000000000000000000000000",EtherSymbol="Ξ",lib_esm$j=Object.freeze(Object.defineProperty({__proto__:null,AddressZero,NegativeOne:NegativeOne$1,Zero:Zero$1,One:One$1,Two,WeiPerEther,MaxUint256:MaxUint256$1,MinInt256,MaxInt256,HashZero,EtherSymbol},Symbol.toStringTag,{value:"Module"})),NumberCoder=function(e){_inherits(r,e);var t=_createSuper(r);function r(e,n,i){var a;_classCallCheck(this,r);var o=(n?"int":"uint")+8*e;return(a=t.call(this,o,o,i,!1)).size=e,a.signed=n,a}return _createClass(r,[{key:"defaultValue",value:function(){return 0}},{key:"encode",value:function(e,t){var r=BigNumber.from(t),n=MaxUint256$1.mask(8*e.wordSize);if(this.signed){var i=n.mask(8*this.size-1);(r.gt(i)||r.lt(i.add(One$1).mul(NegativeOne$1)))&&this._throwError("value out-of-bounds",t)}else(r.lt(Zero$1)||r.gt(n.mask(8*this.size)))&&this._throwError("value out-of-bounds",t);return r=r.toTwos(8*this.size).mask(8*this.size),this.signed&&(r=r.fromTwos(8*this.size).toTwos(8*e.wordSize)),e.writeValue(r)}},{key:"decode",value:function(e){var t=e.readValue().mask(8*this.size);return this.signed&&(t=t.fromTwos(8*this.size)),e.coerce(this.name,t)}}]),r}(Coder),version$j="strings/5.6.1",logger$z=new Logger(version$j),UnicodeNormalizationForm,UnicodeNormalizationForm2,Utf8ErrorReason,Utf8ErrorReason2;function errorFunc(e,t,r,n,i){return logger$z.throwArgumentError("invalid codepoint at offset ".concat(t,"; ").concat(e),"bytes",r)}function ignoreFunc(e,t,r,n,i){if(e===Utf8ErrorReason.BAD_PREFIX||e===Utf8ErrorReason.UNEXPECTED_CONTINUE){for(var a=0,o=t+1;o<r.length&&r[o]>>6==2;o++)a++;return a}return e===Utf8ErrorReason.OVERRUN?r.length-t-1:0}function replaceFunc(e,t,r,n,i){return e===Utf8ErrorReason.OVERLONG?(n.push(i),0):(n.push(65533),ignoreFunc(e,t,r))}UnicodeNormalizationForm2=UnicodeNormalizationForm||(UnicodeNormalizationForm={}),UnicodeNormalizationForm2.current="",UnicodeNormalizationForm2.NFC="NFC",UnicodeNormalizationForm2.NFD="NFD",UnicodeNormalizationForm2.NFKC="NFKC",UnicodeNormalizationForm2.NFKD="NFKD",Utf8ErrorReason2=Utf8ErrorReason||(Utf8ErrorReason={}),Utf8ErrorReason2.UNEXPECTED_CONTINUE="unexpected continuation byte",Utf8ErrorReason2.BAD_PREFIX="bad codepoint prefix",Utf8ErrorReason2.OVERRUN="string overrun",Utf8ErrorReason2.MISSING_CONTINUE="missing continuation byte",Utf8ErrorReason2.OUT_OF_RANGE="out of UTF-8 range",Utf8ErrorReason2.UTF16_SURROGATE="UTF-16 surrogate",Utf8ErrorReason2.OVERLONG="overlong representation";var Utf8ErrorFuncs=Object.freeze({error:errorFunc,ignore:ignoreFunc,replace:replaceFunc});function getUtf8CodePoints(e,t){null==t&&(t=Utf8ErrorFuncs.error),e=arrayify(e);for(var r=[],n=0;n<e.length;){var i=e[n++];if(i>>7!=0){var a=null,o=null;if(192==(224&i))a=1,o=127;else if(224==(240&i))a=2,o=2047;else{if(240!=(248&i)){n+=t(128==(192&i)?Utf8ErrorReason.UNEXPECTED_CONTINUE:Utf8ErrorReason.BAD_PREFIX,n-1,e,r);continue}a=3,o=65535}if(n-1+a>=e.length)n+=t(Utf8ErrorReason.OVERRUN,n-1,e,r);else{for(var s=i&(1<<8-a-1)-1,u=0;u<a;u++){var c=e[n];if(128!=(192&c)){n+=t(Utf8ErrorReason.MISSING_CONTINUE,n,e,r),s=null;break}s=s<<6|63&c,n++}null!==s&&(s>1114111?n+=t(Utf8ErrorReason.OUT_OF_RANGE,n-1-a,e,r,s):s>=55296&&s<=57343?n+=t(Utf8ErrorReason.UTF16_SURROGATE,n-1-a,e,r,s):s<=o?n+=t(Utf8ErrorReason.OVERLONG,n-1-a,e,r,s):r.push(s))}}else r.push(i)}return r}function toUtf8Bytes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:UnicodeNormalizationForm.current;t!=UnicodeNormalizationForm.current&&(logger$z.checkNormalize(),e=e.normalize(t));for(var r=[],n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(63&i|128);else if(55296==(64512&i)){n++;var a=e.charCodeAt(n);if(n>=e.length||56320!=(64512&a))throw new Error("invalid utf-8 string");var o=65536+((1023&i)<<10)+(1023&a);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(63&i|128)}return arrayify(r)}function escapeChar(e){var t="0000"+e.toString(16);return"\\u"+t.substring(t.length-4)}function _toEscapedUtf8String(e,t){return'"'+getUtf8CodePoints(e,t).map((function(e){if(e<256){switch(e){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(e>=32&&e<127)return String.fromCharCode(e)}return e<=65535?escapeChar(e):escapeChar(55296+((e-=65536)>>10&1023))+escapeChar(56320+(1023&e))})).join("")+'"'}function _toUtf8String(e){return e.map((function(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e)))})).join("")}function toUtf8String(e,t){return _toUtf8String(getUtf8CodePoints(e,t))}function toUtf8CodePoints(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:UnicodeNormalizationForm.current;return getUtf8CodePoints(toUtf8Bytes(e,t))}function formatBytes32String(e){var t=toUtf8Bytes(e);if(t.length>31)throw new Error("bytes32 string must be less than 32 bytes");return hexlify(concat$3([t,HashZero]).slice(0,32))}function parseBytes32String(e){var t=arrayify(e);if(32!==t.length)throw new Error("invalid bytes32 - not 32 bytes long");if(0!==t[31])throw new Error("invalid bytes32 string - no null terminator");for(var r=31;0===t[r-1];)r--;return toUtf8String(t.slice(0,r))}function bytes2(e){if(e.length%4!=0)throw new Error("bad data");for(var t=[],r=0;r<e.length;r+=4)t.push(parseInt(e.substring(r,r+4),16));return t}function createTable(e,t){t||(t=function(e){return[parseInt(e,16)]});var r=0,n={};return e.split(",").forEach((function(e){var i=e.split(":");r+=parseInt(i[0],16),n[r]=t(i[1])})),n}function createRangeTable(e){var t=0;return e.split(",").map((function(e){var r=e.split("-");return 1===r.length?r[1]="0":""===r[1]&&(r[1]="1"),{l:t+parseInt(r[0],16),h:t=parseInt(r[1],16)}}))}function matchMap(e,t){for(var r=0,n=0;n<t.length;n++){var i=t[n];if(e>=(r+=i.l)&&e<=r+i.h&&(e-r)%(i.d||1)==0){if(i.e&&-1!==i.e.indexOf(e-r))continue;return i}}return null}var Table_A_1_ranges=createRangeTable("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),Table_B_1_flags="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map((function(e){return parseInt(e,16)})),Table_B_2_ranges=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],Table_B_2_lut_abs=createTable("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Table_B_2_lut_rel=createTable("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Table_B_2_complex=createTable("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",bytes2),Table_C_ranges=createRangeTable("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function flatten(e){return e.reduce((function(e,t){return t.forEach((function(t){e.push(t)})),e}),[])}function _nameprepTableA1(e){return!!matchMap(e,Table_A_1_ranges)}function _nameprepTableB2(e){var t=matchMap(e,Table_B_2_ranges);if(t)return[e+t.s];var r=Table_B_2_lut_abs[e];if(r)return r;var n=Table_B_2_lut_rel[e];return n?[e+n[0]]:Table_B_2_complex[e]||null}function _nameprepTableC(e){return!!matchMap(e,Table_C_ranges)}function nameprep(e){if(e.match(/^[a-z0-9-]*$/i)&&e.length<=59)return e.toLowerCase();var t=toUtf8CodePoints(e);(t=toUtf8CodePoints(_toUtf8String(t=flatten(t.map((function(e){return Table_B_1_flags.indexOf(e)>=0||e>=65024&&e<=65039?[]:_nameprepTableB2(e)||[e]})))),UnicodeNormalizationForm.NFKC)).forEach((function(e){if(_nameprepTableC(e))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")})),t.forEach((function(e){if(_nameprepTableA1(e))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")}));var r=_toUtf8String(t);if("-"===r.substring(0,1)||"--"===r.substring(2,4)||"-"===r.substring(r.length-1))throw new Error("invalid hyphen");if(r.length>63)throw new Error("too long");return r}var lib_esm$i=Object.freeze(Object.defineProperty({__proto__:null,_toEscapedUtf8String,toUtf8Bytes,toUtf8CodePoints,toUtf8String,Utf8ErrorFuncs,get Utf8ErrorReason(){return Utf8ErrorReason},get UnicodeNormalizationForm(){return UnicodeNormalizationForm},formatBytes32String,parseBytes32String,nameprep},Symbol.toStringTag,{value:"Module"})),StringCoder=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){return _classCallCheck(this,r),t.call(this,"string",e)}return _createClass(r,[{key:"defaultValue",value:function(){return""}},{key:"encode",value:function(e,t){return _get(_getPrototypeOf(r.prototype),"encode",this).call(this,e,toUtf8Bytes(t))}},{key:"decode",value:function(e){return toUtf8String(_get(_getPrototypeOf(r.prototype),"decode",this).call(this,e))}}]),r}(DynamicBytesCoder),TupleCoder=function(e){_inherits(r,e);var t=_createSuper(r);function r(e,n){var i;_classCallCheck(this,r);var a=!1,o=[];e.forEach((function(e){e.dynamic&&(a=!0),o.push(e.type)}));var s="tuple("+o.join(",")+")";return(i=t.call(this,"tuple",s,n,a)).coders=e,i}return _createClass(r,[{key:"defaultValue",value:function(){var e=[];this.coders.forEach((function(t){e.push(t.defaultValue())}));var t=this.coders.reduce((function(e,t){var r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e}),{});return this.coders.forEach((function(r,n){var i=r.localName;i&&1===t[i]&&("length"===i&&(i="_length"),null==e[i]&&(e[i]=e[n]))})),Object.freeze(e)}},{key:"encode",value:function(e,t){return pack$2(e,this.coders,t)}},{key:"decode",value:function(e){return e.coerce(this.name,unpack(e,this.coders))}}]),r}(Coder),logger$y=new Logger(version$m),paramTypeBytes=new RegExp(/^bytes([0-9]*)$/),paramTypeNumber=new RegExp(/^(u?int)([0-9]*)$/),AbiCoder=function(){function e(t){_classCallCheck(this,e),defineReadOnly(this,"coerceFunc",t||null)}return _createClass(e,[{key:"_getCoder",value:function(e){var t=this;switch(e.baseType){case"address":return new AddressCoder(e.name);case"bool":return new BooleanCoder(e.name);case"string":return new StringCoder(e.name);case"bytes":return new BytesCoder(e.name);case"array":return new ArrayCoder(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new TupleCoder((e.components||[]).map((function(e){return t._getCoder(e)})),e.name);case"":return new NullCoder(e.name)}var r=e.type.match(paramTypeNumber);if(r){var n=parseInt(r[2]||"256");return(0===n||n>256||n%8!=0)&&logger$y.throwArgumentError("invalid "+r[1]+" bit length","param",e),new NumberCoder(n/8,"int"===r[1],e.name)}if(r=e.type.match(paramTypeBytes)){var i=parseInt(r[1]);return(0===i||i>32)&&logger$y.throwArgumentError("invalid bytes length","param",e),new FixedBytesCoder(i,e.name)}return logger$y.throwArgumentError("invalid type","type",e.type)}},{key:"_getWordSize",value:function(){return 32}},{key:"_getReader",value:function(e,t){return new Reader$2(e,this._getWordSize(),this.coerceFunc,t)}},{key:"_getWriter",value:function(){return new Writer$2(this._getWordSize())}},{key:"getDefaultValue",value:function(e){var t=this,r=e.map((function(e){return t._getCoder(ParamType.from(e))}));return new TupleCoder(r,"_").defaultValue()}},{key:"encode",value:function(e,t){var r=this;e.length!==t.length&&logger$y.throwError("types/values length mismatch",Logger.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});var n=e.map((function(e){return r._getCoder(ParamType.from(e))})),i=new TupleCoder(n,"_"),a=this._getWriter();return i.encode(a,t),a.data}},{key:"decode",value:function(e,t,r){var n=this,i=e.map((function(e){return n._getCoder(ParamType.from(e))}));return new TupleCoder(i,"_").decode(this._getReader(arrayify(t),r))}}]),e}(),defaultAbiCoder=new AbiCoder;function id(e){return keccak256$1(toUtf8Bytes(e))}var version$i="hash/5.6.1",logger$x=new Logger(version$i),Zeros$1=new Uint8Array(32);Zeros$1.fill(0);var Partition=new RegExp("^((.*)\\.)?([^.]+)$");function isValidName(e){try{for(var t=e.split("."),r=0;r<t.length;r++)if(0===nameprep(t[r]).length)throw new Error("empty");return!0}catch(e){}return!1}function namehash(e){"string"!=typeof e&&logger$x.throwArgumentError("invalid ENS name; not a string","name",e);for(var t=e,r=Zeros$1;t.length;){var n=t.match(Partition);null!=n&&""!==n[2]||logger$x.throwArgumentError("invalid ENS address; missing component","name",e),r=keccak256$1(concat$3([r,keccak256$1(toUtf8Bytes(nameprep(n[3])))])),t=n[2]||""}return hexlify(r)}function dnsEncode(e){return hexlify(concat$3(e.split(".").map((function(e){var t=toUtf8Bytes("_"+nameprep(e));return t[0]=t.length-1,t}))))+"00"}var messagePrefix="Ethereum Signed Message:\n";function hashMessage(e){return"string"==typeof e&&(e=toUtf8Bytes(e)),keccak256$1(concat$3([toUtf8Bytes(messagePrefix),toUtf8Bytes(String(e.length)),e]))}var __awaiter$e=globalThis&&globalThis.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},logger$w=new Logger(version$i),padding=new Uint8Array(32);padding.fill(0);var NegativeOne=BigNumber.from(-1),Zero=BigNumber.from(0),One=BigNumber.from(1),MaxUint256=BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function hexPadRight(e){var t=arrayify(e),r=t.length%32;return r?hexConcat([t,padding.slice(r)]):hexlify(t)}var hexTrue=hexZeroPad(One.toHexString(),32),hexFalse=hexZeroPad(Zero.toHexString(),32),domainFieldTypes={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},domainFieldNames=["name","version","chainId","verifyingContract","salt"];function checkString(e){return function(t){return"string"!=typeof t&&logger$w.throwArgumentError("invalid domain value for ".concat(JSON.stringify(e)),"domain.".concat(e),t),t}}var domainChecks={name:checkString("name"),version:checkString("version"),chainId:function(e){try{return BigNumber.from(e).toString()}catch(e){}return logger$w.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",e)},verifyingContract:function(e){try{return _getAddress(e).toLowerCase()}catch(e){}return logger$w.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){try{var t=arrayify(e);if(32!==t.length)throw new Error("bad length");return hexlify(t)}catch(e){}return logger$w.throwArgumentError('invalid domain value "salt"',"domain.salt",e)}};function getBaseEncoder(e){var t=e.match(/^(u?)int(\d*)$/);if(t){var r=""===t[1],n=parseInt(t[2]||"256");(n%8!=0||n>256||t[2]&&t[2]!==String(n))&&logger$w.throwArgumentError("invalid numeric width","type",e);var i=MaxUint256.mask(r?n-1:n),a=r?i.add(One).mul(NegativeOne):Zero;return function(t){var r=BigNumber.from(t);return(r.lt(a)||r.gt(i))&&logger$w.throwArgumentError("value out-of-bounds for ".concat(e),"value",t),hexZeroPad(r.toTwos(256).toHexString(),32)}}var o=e.match(/^bytes(\d+)$/);if(o){var s=parseInt(o[1]);return(0===s||s>32||o[1]!==String(s))&&logger$w.throwArgumentError("invalid bytes width","type",e),function(t){return arrayify(t).length!==s&&logger$w.throwArgumentError("invalid length for ".concat(e),"value",t),hexPadRight(t)}}switch(e){case"address":return function(e){return hexZeroPad(_getAddress(e),32)};case"bool":return function(e){return e?hexTrue:hexFalse};case"bytes":return function(e){return keccak256$1(e)};case"string":return function(e){return id(e)}}return null}function encodeType(e,t){return"".concat(e,"(").concat(t.map((function(e){var t=e.name;return e.type+" "+t})).join(","),")")}var TypedDataEncoder=function(){function e(t){_classCallCheck(this,e),defineReadOnly(this,"types",Object.freeze(deepCopy(t))),defineReadOnly(this,"_encoderCache",{}),defineReadOnly(this,"_types",{});var r={},n={},i={};Object.keys(t).forEach((function(e){r[e]={},n[e]=[],i[e]={}}));var a=function(e){var i={};t[e].forEach((function(a){i[a.name]&&logger$w.throwArgumentError("duplicate variable name ".concat(JSON.stringify(a.name)," in ").concat(JSON.stringify(e)),"types",t),i[a.name]=!0;var o=a.type.match(/^([^\x5b]*)(\x5b|$)/)[1];o===e&&logger$w.throwArgumentError("circular type reference to ".concat(JSON.stringify(o)),"types",t),getBaseEncoder(o)||(n[o]||logger$w.throwArgumentError("unknown type ".concat(JSON.stringify(o)),"types",t),n[o].push(e),r[e][o]=!0)}))};for(var o in t)a(o);var s=Object.keys(n).filter((function(e){return 0===n[e].length}));for(var u in 0===s.length?logger$w.throwArgumentError("missing primary type","types",t):s.length>1&&logger$w.throwArgumentError("ambiguous primary types or unused types: ".concat(s.map((function(e){return JSON.stringify(e)})).join(", ")),"types",t),defineReadOnly(this,"primaryType",s[0]),function e(a,o){o[a]&&logger$w.throwArgumentError("circular type reference to ".concat(JSON.stringify(a)),"types",t),o[a]=!0,Object.keys(r[a]).forEach((function(t){n[t]&&(e(t,o),Object.keys(o).forEach((function(e){i[e][t]=!0})))})),delete o[a]}(this.primaryType,{}),i){var c=Object.keys(i[u]);c.sort(),this._types[u]=encodeType(u,t[u])+c.map((function(e){return encodeType(e,t[e])})).join("")}}return _createClass(e,[{key:"getEncoder",value:function(e){var t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}},{key:"_getEncoder",value:function(e){var t=this,r=getBaseEncoder(e);if(r)return r;var n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){var i=n[1],a=this.getEncoder(i),o=parseInt(n[3]);return function(e){o>=0&&e.length!==o&&logger$w.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e);var r=e.map(a);return t._types[i]&&(r=r.map(keccak256$1)),keccak256$1(hexConcat(r))}}var s=this.types[e];if(s){var u=id(this._types[e]);return function(e){var r=s.map((function(r){var n=r.name,i=r.type,a=t.getEncoder(i)(e[n]);return t._types[i]?keccak256$1(a):a}));return r.unshift(u),hexConcat(r)}}return logger$w.throwArgumentError("unknown type: ".concat(e),"type",e)}},{key:"encodeType",value:function(e){var t=this._types[e];return t||logger$w.throwArgumentError("unknown type: ".concat(JSON.stringify(e)),"name",e),t}},{key:"encodeData",value:function(e,t){return this.getEncoder(e)(t)}},{key:"hashStruct",value:function(e,t){return keccak256$1(this.encodeData(e,t))}},{key:"encode",value:function(e){return this.encodeData(this.primaryType,e)}},{key:"hash",value:function(e){return this.hashStruct(this.primaryType,e)}},{key:"_visit",value:function(e,t,r){var n=this;if(getBaseEncoder(e))return r(e,t);var i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){var a=i[1],o=parseInt(i[3]);return o>=0&&t.length!==o&&logger$w.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map((function(e){return n._visit(a,e,r)}))}var s=this.types[e];return s?s.reduce((function(e,i){var a=i.name,o=i.type;return e[a]=n._visit(o,t[a],r),e}),{}):logger$w.throwArgumentError("unknown type: ".concat(e),"type",e)}},{key:"visit",value:function(e,t){return this._visit(this.primaryType,e,t)}}],[{key:"from",value:function(t){return new e(t)}},{key:"getPrimaryType",value:function(t){return e.from(t).primaryType}},{key:"hashStruct",value:function(t,r,n){return e.from(r).hashStruct(t,n)}},{key:"hashDomain",value:function(t){var r=[];for(var n in t){var i=domainFieldTypes[n];i||logger$w.throwArgumentError("invalid typed-data domain key: ".concat(JSON.stringify(n)),"domain",t),r.push({name:n,type:i})}return r.sort((function(e,t){return domainFieldNames.indexOf(e.name)-domainFieldNames.indexOf(t.name)})),e.hashStruct("EIP712Domain",{EIP712Domain:r},t)}},{key:"encode",value:function(t,r,n){return hexConcat(["0x1901",e.hashDomain(t),e.from(r).hash(n)])}},{key:"hash",value:function(t,r,n){return keccak256$1(e.encode(t,r,n))}},{key:"resolveNames",value:function(t,r,n,i){return __awaiter$e(this,void 0,void 0,regeneratorRuntime.mark((function a(){var o,s,u;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t=shallowCopy(t),o={},t.verifyingContract&&!isHexString(t.verifyingContract,20)&&(o[t.verifyingContract]="0x"),(s=e.from(r)).visit(n,(function(e,t){return"address"!==e||isHexString(t,20)||(o[t]="0x"),t})),a.t0=regeneratorRuntime.keys(o);case 6:if((a.t1=a.t0()).done){a.next=13;break}return u=a.t1.value,a.next=10,i(u);case 10:o[u]=a.sent,a.next=6;break;case 13:return t.verifyingContract&&o[t.verifyingContract]&&(t.verifyingContract=o[t.verifyingContract]),n=s.visit(n,(function(e,t){return"address"===e&&o[t]?o[t]:t})),a.abrupt("return",{domain:t,value:n});case 16:case"end":return a.stop()}}),a)})))}},{key:"getPayload",value:function(t,r,n){e.hashDomain(t);var i={},a=[];domainFieldNames.forEach((function(e){var r=t[e];null!=r&&(i[e]=domainChecks[e](r),a.push({name:e,type:domainFieldTypes[e]}))}));var o=e.from(r),s=shallowCopy(r);return s.EIP712Domain?logger$w.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):s.EIP712Domain=a,o.encode(n),{types:s,domain:i,primaryType:o.primaryType,message:o.visit(n,(function(e,t){if(e.match(/^bytes(\d*)/))return hexlify(arrayify(t));if(e.match(/^u?int/))return BigNumber.from(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return"string"!=typeof t&&logger$w.throwArgumentError("invalid string","value",t),t}return logger$w.throwArgumentError("unsupported type","type",e)}))}}}]),e}(),lib_esm$h=Object.freeze(Object.defineProperty({__proto__:null,id,dnsEncode,namehash,isValidName,messagePrefix,hashMessage,_TypedDataEncoder:TypedDataEncoder},Symbol.toStringTag,{value:"Module"})),logger$v=new Logger(version$m),LogDescription=function(e){_inherits(r,e);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return r}(Description),TransactionDescription=function(e){_inherits(r,e);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return r}(Description),ErrorDescription=function(e){_inherits(r,e);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return r}(Description),Indexed=function(e){_inherits(r,e);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return _createClass(r,null,[{key:"isIndexed",value:function(e){return!(!e||!e._isIndexed)}}]),r}(Description),BuiltinErrors={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function wrapAccessError(e,t){var r=new Error("deferred error during ABI decoding triggered accessing ".concat(e));return r.error=t,r}var Interface=function(){function e(t){var r=this;_classCallCheck(this,e),defineReadOnly(this,"fragments",("string"==typeof t?JSON.parse(t):t).map((function(e){return Fragment.from(e)})).filter((function(e){return null!=e}))),defineReadOnly(this,"_abiCoder",getStatic(this instanceof e?this.constructor:void 0,"getAbiCoder")()),defineReadOnly(this,"functions",{}),defineReadOnly(this,"errors",{}),defineReadOnly(this,"events",{}),defineReadOnly(this,"structs",{}),this.fragments.forEach((function(e){var t=null;switch(e.type){case"constructor":return r.deploy?void logger$v.warn("duplicate definition - constructor"):void defineReadOnly(r,"deploy",e);case"function":t=r.functions;break;case"event":t=r.events;break;case"error":t=r.errors;break;default:return}var n=e.format();t[n]?logger$v.warn("duplicate definition - "+n):t[n]=e})),this.deploy||defineReadOnly(this,"deploy",ConstructorFragment.from({payable:!1,type:"constructor"})),defineReadOnly(this,"_isInterface",!0)}return _createClass(e,[{key:"format",value:function(e){e||(e=FormatTypes.full),e===FormatTypes.sighash&&logger$v.throwArgumentError("interface does not support formatting sighash","format",e);var t=this.fragments.map((function(t){return t.format(e)}));return e===FormatTypes.json?JSON.stringify(t.map((function(e){return JSON.parse(e)}))):t}},{key:"getFunction",value:function(e){if(isHexString(e)){for(var t in this.functions)if(e===this.getSighash(t))return this.functions[t];logger$v.throwArgumentError("no matching function","sighash",e)}if(-1===e.indexOf("(")){var r=e.trim(),n=Object.keys(this.functions).filter((function(e){return e.split("(")[0]===r}));return 0===n.length?logger$v.throwArgumentError("no matching function","name",r):n.length>1&&logger$v.throwArgumentError("multiple matching functions","name",r),this.functions[n[0]]}var i=this.functions[FunctionFragment.fromString(e).format()];return i||logger$v.throwArgumentError("no matching function","signature",e),i}},{key:"getEvent",value:function(e){if(isHexString(e)){var t=e.toLowerCase();for(var r in this.events)if(t===this.getEventTopic(r))return this.events[r];logger$v.throwArgumentError("no matching event","topichash",t)}if(-1===e.indexOf("(")){var n=e.trim(),i=Object.keys(this.events).filter((function(e){return e.split("(")[0]===n}));return 0===i.length?logger$v.throwArgumentError("no matching event","name",n):i.length>1&&logger$v.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}var a=this.events[EventFragment.fromString(e).format()];return a||logger$v.throwArgumentError("no matching event","signature",e),a}},{key:"getError",value:function(e){if(isHexString(e)){var t=getStatic(this.constructor,"getSighash");for(var r in this.errors)if(e===t(this.errors[r]))return this.errors[r];logger$v.throwArgumentError("no matching error","sighash",e)}if(-1===e.indexOf("(")){var n=e.trim(),i=Object.keys(this.errors).filter((function(e){return e.split("(")[0]===n}));return 0===i.length?logger$v.throwArgumentError("no matching error","name",n):i.length>1&&logger$v.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}var a=this.errors[FunctionFragment.fromString(e).format()];return a||logger$v.throwArgumentError("no matching error","signature",e),a}},{key:"getSighash",value:function(e){if("string"==typeof e)try{e=this.getFunction(e)}catch(t){try{e=this.getError(e)}catch(e){throw t}}return getStatic(this.constructor,"getSighash")(e)}},{key:"getEventTopic",value:function(e){return"string"==typeof e&&(e=this.getEvent(e)),getStatic(this.constructor,"getEventTopic")(e)}},{key:"_decodeParams",value:function(e,t){return this._abiCoder.decode(e,t)}},{key:"_encodeParams",value:function(e,t){return this._abiCoder.encode(e,t)}},{key:"encodeDeploy",value:function(e){return this._encodeParams(this.deploy.inputs,e||[])}},{key:"decodeErrorResult",value:function(e,t){"string"==typeof e&&(e=this.getError(e));var r=arrayify(t);return hexlify(r.slice(0,4))!==this.getSighash(e)&&logger$v.throwArgumentError("data signature does not match error ".concat(e.name,"."),"data",hexlify(r)),this._decodeParams(e.inputs,r.slice(4))}},{key:"encodeErrorResult",value:function(e,t){return"string"==typeof e&&(e=this.getError(e)),hexlify(concat$3([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}},{key:"decodeFunctionData",value:function(e,t){"string"==typeof e&&(e=this.getFunction(e));var r=arrayify(t);return hexlify(r.slice(0,4))!==this.getSighash(e)&&logger$v.throwArgumentError("data signature does not match function ".concat(e.name,"."),"data",hexlify(r)),this._decodeParams(e.inputs,r.slice(4))}},{key:"encodeFunctionData",value:function(e,t){return"string"==typeof e&&(e=this.getFunction(e)),hexlify(concat$3([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}},{key:"decodeFunctionResult",value:function(e,t){"string"==typeof e&&(e=this.getFunction(e));var r=arrayify(t),n=null,i="",a=null,o=null,s=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,r)}catch(l){}break;case 4:var u=hexlify(r.slice(0,4)),c=BuiltinErrors[u];if(c)a=this._abiCoder.decode(c.inputs,r.slice(4)),o=c.name,s=c.signature,c.reason&&(n=a[0]),"Error"===o?i="; VM Exception while processing transaction: reverted with reason string ".concat(JSON.stringify(a[0])):"Panic"===o&&(i="; VM Exception while processing transaction: reverted with panic code ".concat(a[0]));else try{var l=this.getError(u);a=this._abiCoder.decode(l.inputs,r.slice(4)),o=l.name,s=l.format()}catch(l){}}return logger$v.throwError("call revert exception"+i,Logger.errors.CALL_EXCEPTION,{method:e.format(),data:hexlify(t),errorArgs:a,errorName:o,errorSignature:s,reason:n})}},{key:"encodeFunctionResult",value:function(e,t){return"string"==typeof e&&(e=this.getFunction(e)),hexlify(this._abiCoder.encode(e.outputs,t||[]))}},{key:"encodeFilterTopics",value:function(e,t){var r=this;"string"==typeof e&&(e=this.getEvent(e)),t.length>e.inputs.length&&logger$v.throwError("too many arguments for "+e.format(),Logger.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});var n=[];e.anonymous||n.push(this.getEventTopic(e));var i=function(e,t){return"string"===e.type?id(t):"bytes"===e.type?keccak256$1(hexlify(t)):("address"===e.type&&r._abiCoder.encode(["address"],[t]),hexZeroPad(hexlify(t),32))};for(t.forEach((function(t,r){var a=e.inputs[r];a.indexed?null==t?n.push(null):"array"===a.baseType||"tuple"===a.baseType?logger$v.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,t):Array.isArray(t)?n.push(t.map((function(e){return i(a,e)}))):n.push(i(a,t)):null!=t&&logger$v.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,t)}));n.length&&null===n[n.length-1];)n.pop();return n}},{key:"encodeEventLog",value:function(e,t){var r=this;"string"==typeof e&&(e=this.getEvent(e));var n=[],i=[],a=[];return e.anonymous||n.push(this.getEventTopic(e)),t.length!==e.inputs.length&&logger$v.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach((function(e,o){var s=t[o];if(e.indexed)if("string"===e.type)n.push(id(s));else if("bytes"===e.type)n.push(keccak256$1(s));else{if("tuple"===e.baseType||"array"===e.baseType)throw new Error("not implemented");n.push(r._abiCoder.encode([e.type],[s]))}else i.push(e),a.push(s)})),{data:this._abiCoder.encode(i,a),topics:n}}},{key:"decodeEventLog",value:function(e,t,r){if("string"==typeof e&&(e=this.getEvent(e)),null!=r&&!e.anonymous){var n=this.getEventTopic(e);isHexString(r[0],32)&&r[0].toLowerCase()===n||logger$v.throwError("fragment/topic mismatch",Logger.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:n,value:r[0]}),r=r.slice(1)}var i=[],a=[],o=[];e.inputs.forEach((function(e,t){e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(i.push(ParamType.fromObject({type:"bytes32",name:e.name})),o.push(!0)):(i.push(e),o.push(!1)):(a.push(e),o.push(!1))}));var s=null!=r?this._abiCoder.decode(i,concat$3(r)):null,u=this._abiCoder.decode(a,t,!0),c=[],l=0,f=0;e.inputs.forEach((function(e,t){if(e.indexed)if(null==s)c[t]=new Indexed({_isIndexed:!0,hash:null});else if(o[t])c[t]=new Indexed({_isIndexed:!0,hash:s[f++]});else try{c[t]=s[f++]}catch(e){c[t]=e}else try{c[t]=u[l++]}catch(e){c[t]=e}if(e.name&&null==c[e.name]){var r=c[t];r instanceof Error?Object.defineProperty(c,e.name,{enumerable:!0,get:function(){throw wrapAccessError("property ".concat(JSON.stringify(e.name)),r)}}):c[e.name]=r}}));for(var p=function(e){var t=c[e];t instanceof Error&&Object.defineProperty(c,e,{enumerable:!0,get:function(){throw wrapAccessError("index ".concat(e),t)}})},d=0;d<c.length;d++)p(d);return Object.freeze(c)}},{key:"parseTransaction",value:function(e){var t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new TransactionDescription({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:BigNumber.from(e.value||"0")}):null}},{key:"parseLog",value:function(e){var t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new LogDescription({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}},{key:"parseError",value:function(e){var t=hexlify(e),r=this.getError(t.substring(0,10).toLowerCase());return r?new ErrorDescription({args:this._abiCoder.decode(r.inputs,"0x"+t.substring(10)),errorFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r)}):null}}],[{key:"getAbiCoder",value:function(){return defaultAbiCoder}},{key:"getAddress",value:function(e){return _getAddress(e)}},{key:"getSighash",value:function(e){return hexDataSlice(id(e.format()),0,4)}},{key:"getEventTopic",value:function(e){return id(e.format())}},{key:"isInterface",value:function(e){return!(!e||!e._isInterface)}}]),e}(),lib_esm$g=Object.freeze(Object.defineProperty({__proto__:null,ConstructorFragment,ErrorFragment,EventFragment,Fragment,FunctionFragment,ParamType,FormatTypes,AbiCoder,defaultAbiCoder,Interface,Indexed,checkResultErrors,LogDescription,TransactionDescription},Symbol.toStringTag,{value:"Module"})),version$h="abstract-provider/5.6.1",__awaiter$d=globalThis&&globalThis.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},logger$u=new Logger(version$h),ForkEvent=function(e){_inherits(r,e);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return _createClass(r,null,[{key:"isForkEvent",value:function(e){return!(!e||!e._isForkEvent)}}]),r}(Description),Provider=function(){function e(){_classCallCheck(this,e),logger$u.checkAbstract(this instanceof e?this.constructor:void 0,e),defineReadOnly(this,"_isProvider",!0)}return _createClass(e,[{key:"getFeeData",value:function(){return __awaiter$d(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,r,n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,resolveProperties({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch((function(e){return null}))});case 2:return t=e.sent,r=t.block,n=t.gasPrice,i=null,a=null,r&&r.baseFeePerGas&&(a=BigNumber.from("1500000000"),i=r.baseFeePerGas.mul(2).add(a)),e.abrupt("return",{maxFeePerGas:i,maxPriorityFeePerGas:a,gasPrice:n});case 8:case"end":return e.stop()}}),e,this)})))}},{key:"addListener",value:function(e,t){return this.on(e,t)}},{key:"removeListener",value:function(e,t){return this.off(e,t)}}],[{key:"isProvider",value:function(e){return!(!e||!e._isProvider)}}]),e}(),version$g="abstract-signer/5.6.2",__awaiter$c=globalThis&&globalThis.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},logger$t=new Logger(version$g),allowedTransactionKeys$3=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],forwardErrors=[Logger.errors.INSUFFICIENT_FUNDS,Logger.errors.NONCE_EXPIRED,Logger.errors.REPLACEMENT_UNDERPRICED],Signer=function(){function e(){_classCallCheck(this,e),logger$t.checkAbstract(this instanceof e?this.constructor:void 0,e),defineReadOnly(this,"_isSigner",!0)}return _createClass(e,[{key:"getBalance",value:function(e){return __awaiter$c(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._checkProvider("getBalance"),t.next=3,this.provider.getBalance(this.getAddress(),e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"getTransactionCount",value:function(e){return __awaiter$c(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._checkProvider("getTransactionCount"),t.next=3,this.provider.getTransactionCount(this.getAddress(),e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"estimateGas",value:function(e){return __awaiter$c(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._checkProvider("estimateGas"),t.next=3,resolveProperties(this.checkTransaction(e));case 3:return r=t.sent,t.next=6,this.provider.estimateGas(r);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"call",value:function(e,t){return __awaiter$c(this,void 0,void 0,regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return this._checkProvider("call"),r.next=3,resolveProperties(this.checkTransaction(e));case 3:return n=r.sent,r.next=6,this.provider.call(n,t);case 6:return r.abrupt("return",r.sent);case 7:case"end":return r.stop()}}),r,this)})))}},{key:"sendTransaction",value:function(e){return __awaiter$c(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._checkProvider("sendTransaction"),t.next=3,this.populateTransaction(e);case 3:return r=t.sent,t.next=6,this.signTransaction(r);case 6:return n=t.sent,t.next=9,this.provider.sendTransaction(n);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}}),t,this)})))}},{key:"getChainId",value:function(){return __awaiter$c(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._checkProvider("getChainId"),e.next=3,this.provider.getNetwork();case 3:return t=e.sent,e.abrupt("return",t.chainId);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"getGasPrice",value:function(){return __awaiter$c(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._checkProvider("getGasPrice"),e.next=3,this.provider.getGasPrice();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"getFeeData",value:function(){return __awaiter$c(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._checkProvider("getFeeData"),e.next=3,this.provider.getFeeData();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"resolveName",value:function(e){return __awaiter$c(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._checkProvider("resolveName"),t.next=3,this.provider.resolveName(e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"checkTransaction",value:function(e){for(var t in e)-1===allowedTransactionKeys$3.indexOf(t)&&logger$t.throwArgumentError("invalid transaction key: "+t,"transaction",e);var r=shallowCopy(e);return null==r.from?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then((function(t){return t[0].toLowerCase()!==t[1].toLowerCase()&&logger$t.throwArgumentError("from address mismatch","transaction",e),t[0]})),r}},{key:"populateTransaction",value:function(e){return __awaiter$c(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r,n,i,a,o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,resolveProperties(this.checkTransaction(e));case 2:if(null!=(r=t.sent).to&&(r.to=Promise.resolve(r.to).then((function(e){return __awaiter$c(o,void 0,void 0,regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=e){t.next=2;break}return t.abrupt("return",null);case 2:return t.next=4,this.resolveName(e);case 4:return null==(r=t.sent)&&logger$t.throwArgumentError("provided ENS name resolves to null","tx.to",e),t.abrupt("return",r);case 7:case"end":return t.stop()}}),t,this)})))})),r.to.catch((function(e){}))),n=null!=r.maxFeePerGas||null!=r.maxPriorityFeePerGas,null==r.gasPrice||2!==r.type&&!n?0!==r.type&&1!==r.type||!n||logger$t.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e):logger$t.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e),2!==r.type&&null!=r.type||null==r.maxFeePerGas||null==r.maxPriorityFeePerGas){t.next=10;break}r.type=2,t.next=18;break;case 10:if(0!==r.type&&1!==r.type){t.next=14;break}null==r.gasPrice&&(r.gasPrice=this.getGasPrice()),t.next=18;break;case 14:return t.next=16,this.getFeeData();case 16:i=t.sent,null==r.type?null!=i.maxFeePerGas&&null!=i.maxPriorityFeePerGas?(r.type=2,null!=r.gasPrice?(a=r.gasPrice,delete r.gasPrice,r.maxFeePerGas=a,r.maxPriorityFeePerGas=a):(null==r.maxFeePerGas&&(r.maxFeePerGas=i.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))):null!=i.gasPrice?(n&&logger$t.throwError("network does not support EIP-1559",Logger.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==r.gasPrice&&(r.gasPrice=i.gasPrice),r.type=0):logger$t.throwError("failed to get consistent fee data",Logger.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"}):2===r.type&&(null==r.maxFeePerGas&&(r.maxFeePerGas=i.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas));case 18:return null==r.nonce&&(r.nonce=this.getTransactionCount("pending")),null==r.gasLimit&&(r.gasLimit=this.estimateGas(r).catch((function(e){if(forwardErrors.indexOf(e.code)>=0)throw e;return logger$t.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,tx:r})}))),null==r.chainId?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then((function(t){return 0!==t[1]&&t[0]!==t[1]&&logger$t.throwArgumentError("chainId address mismatch","transaction",e),t[0]})),t.next=23,resolveProperties(r);case 23:return t.abrupt("return",t.sent);case 24:case"end":return t.stop()}}),t,this)})))}},{key:"_checkProvider",value:function(e){this.provider||logger$t.throwError("missing provider",Logger.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}}],[{key:"isSigner",value:function(e){return!(!e||!e._isSigner)}}]),e}(),VoidSigner=function(e){_inherits(r,e);var t=_createSuper(r);function r(e,n){var i;return _classCallCheck(this,r),defineReadOnly(_assertThisInitialized(i=t.call(this)),"address",e),defineReadOnly(_assertThisInitialized(i),"provider",n||null),i}return _createClass(r,[{key:"getAddress",value:function(){return Promise.resolve(this.address)}},{key:"_fail",value:function(e,t){return Promise.resolve().then((function(){logger$t.throwError(e,Logger.errors.UNSUPPORTED_OPERATION,{operation:t})}))}},{key:"signMessage",value:function(e){return this._fail("VoidSigner cannot sign messages","signMessage")}},{key:"signTransaction",value:function(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}},{key:"_signTypedData",value:function(e,t,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}},{key:"connect",value:function(e){return new r(this.address,e)}}]),r}(Signer),lib_esm$f=Object.freeze(Object.defineProperty({__proto__:null,Signer,VoidSigner},Symbol.toStringTag,{value:"Module"})),hash$2={},utils$s={},minimalisticAssert$1=assert$b;function assert$b(e,t){if(!e)throw new Error(t||"Assertion failed")}assert$b.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var inherits_browser$1={exports:{}};"function"==typeof Object.create?inherits_browser$1.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser$1.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}};var assert$a=minimalisticAssert$1,inherits$1=inherits_browser$1.exports;function isSurrogatePair(e,t){return 55296==(64512&e.charCodeAt(t))&&!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1))}function toArray$1(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var a=e.charCodeAt(i);a<128?r[n++]=a:a<2048?(r[n++]=a>>6|192,r[n++]=63&a|128):isSurrogatePair(e,i)?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++i)),r[n++]=a>>18|240,r[n++]=a>>12&63|128,r[n++]=a>>6&63|128,r[n++]=63&a|128):(r[n++]=a>>12|224,r[n++]=a>>6&63|128,r[n++]=63&a|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r}function toHex(e){for(var t="",r=0;r<e.length;r++)t+=zero2(e[r].toString(16));return t}function htonl(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function toHex32(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=htonl(i)),r+=zero8(i.toString(16))}return r}function zero2(e){return 1===e.length?"0"+e:e}function zero8(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}function join32(e,t,r,n){var i=r-t;assert$a(i%4==0);for(var a=new Array(i/4),o=0,s=t;o<a.length;o++,s+=4){var u;u="big"===n?e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3]:e[s+3]<<24|e[s+2]<<16|e[s+1]<<8|e[s],a[o]=u>>>0}return a}function split32(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var a=e[n];"big"===t?(r[i]=a>>>24,r[i+1]=a>>>16&255,r[i+2]=a>>>8&255,r[i+3]=255&a):(r[i+3]=a>>>24,r[i+2]=a>>>16&255,r[i+1]=a>>>8&255,r[i]=255&a)}return r}function rotr32$1(e,t){return e>>>t|e<<32-t}function rotl32$2(e,t){return e<<t|e>>>32-t}function sum32$3(e,t){return e+t>>>0}function sum32_3$1(e,t,r){return e+t+r>>>0}function sum32_4$2(e,t,r,n){return e+t+r+n>>>0}function sum32_5$2(e,t,r,n,i){return e+t+r+n+i>>>0}function sum64$1(e,t,r,n){var i=e[t],a=n+e[t+1]>>>0,o=(a<n?1:0)+r+i;e[t]=o>>>0,e[t+1]=a}function sum64_hi$1(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0}function sum64_lo$1(e,t,r,n){return t+n>>>0}function sum64_4_hi$1(e,t,r,n,i,a,o,s){var u=0,c=t;return u+=(c=c+n>>>0)<t?1:0,u+=(c=c+a>>>0)<a?1:0,e+r+i+o+(u+=(c=c+s>>>0)<s?1:0)>>>0}function sum64_4_lo$1(e,t,r,n,i,a,o,s){return t+n+a+s>>>0}function sum64_5_hi$1(e,t,r,n,i,a,o,s,u,c){var l=0,f=t;return l+=(f=f+n>>>0)<t?1:0,l+=(f=f+a>>>0)<a?1:0,l+=(f=f+s>>>0)<s?1:0,e+r+i+o+u+(l+=(f=f+c>>>0)<c?1:0)>>>0}function sum64_5_lo$1(e,t,r,n,i,a,o,s,u,c){return t+n+a+s+c>>>0}function rotr64_hi$1(e,t,r){return(t<<32-r|e>>>r)>>>0}function rotr64_lo$1(e,t,r){return(e<<32-r|t>>>r)>>>0}function shr64_hi$1(e,t,r){return e>>>r}function shr64_lo$1(e,t,r){return(e<<32-r|t>>>r)>>>0}utils$s.inherits=inherits$1,utils$s.toArray=toArray$1,utils$s.toHex=toHex,utils$s.htonl=htonl,utils$s.toHex32=toHex32,utils$s.zero2=zero2,utils$s.zero8=zero8,utils$s.join32=join32,utils$s.split32=split32,utils$s.rotr32=rotr32$1,utils$s.rotl32=rotl32$2,utils$s.sum32=sum32$3,utils$s.sum32_3=sum32_3$1,utils$s.sum32_4=sum32_4$2,utils$s.sum32_5=sum32_5$2,utils$s.sum64=sum64$1,utils$s.sum64_hi=sum64_hi$1,utils$s.sum64_lo=sum64_lo$1,utils$s.sum64_4_hi=sum64_4_hi$1,utils$s.sum64_4_lo=sum64_4_lo$1,utils$s.sum64_5_hi=sum64_5_hi$1,utils$s.sum64_5_lo=sum64_5_lo$1,utils$s.rotr64_hi=rotr64_hi$1,utils$s.rotr64_lo=rotr64_lo$1,utils$s.shr64_hi=shr64_hi$1,utils$s.shr64_lo=shr64_lo$1;var common$5={},utils$r=utils$s,assert$9=minimalisticAssert$1;function BlockHash$4(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}common$5.BlockHash=BlockHash$4,BlockHash$4.prototype.update=function(e,t){if(e=utils$r.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=utils$r.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},BlockHash$4.prototype.digest=function(e){return this.update(this._pad()),assert$9(null===this.pending),this._digest(e)},BlockHash$4.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var a=8;a<this.padLength;a++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,a=8;a<this.padLength;a++)n[i++]=0;return n};var sha$1={},common$4={},utils$q=utils$s,rotr32=utils$q.rotr32;function ft_1$1(e,t,r,n){return 0===e?ch32$1(t,r,n):1===e||3===e?p32(t,r,n):2===e?maj32$1(t,r,n):void 0}function ch32$1(e,t,r){return e&t^~e&r}function maj32$1(e,t,r){return e&t^e&r^t&r}function p32(e,t,r){return e^t^r}function s0_256$1(e){return rotr32(e,2)^rotr32(e,13)^rotr32(e,22)}function s1_256$1(e){return rotr32(e,6)^rotr32(e,11)^rotr32(e,25)}function g0_256$1(e){return rotr32(e,7)^rotr32(e,18)^e>>>3}function g1_256$1(e){return rotr32(e,17)^rotr32(e,19)^e>>>10}common$4.ft_1=ft_1$1,common$4.ch32=ch32$1,common$4.maj32=maj32$1,common$4.p32=p32,common$4.s0_256=s0_256$1,common$4.s1_256=s1_256$1,common$4.g0_256=g0_256$1,common$4.g1_256=g1_256$1;var utils$p=utils$s,common$3=common$5,shaCommon$1=common$4,rotl32$1=utils$p.rotl32,sum32$2=utils$p.sum32,sum32_5$1=utils$p.sum32_5,ft_1=shaCommon$1.ft_1,BlockHash$3=common$3.BlockHash,sha1_K=[1518500249,1859775393,2400959708,3395469782];function SHA1(){if(!(this instanceof SHA1))return new SHA1;BlockHash$3.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}utils$p.inherits(SHA1,BlockHash$3);var _1=SHA1;SHA1.blockSize=512,SHA1.outSize=160,SHA1.hmacStrength=80,SHA1.padLength=64,SHA1.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=rotl32$1(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],a=this.h[1],o=this.h[2],s=this.h[3],u=this.h[4];for(n=0;n<r.length;n++){var c=~~(n/20),l=sum32_5$1(rotl32$1(i,5),ft_1(c,a,o,s),u,r[n],sha1_K[c]);u=s,s=o,o=rotl32$1(a,30),a=i,i=l}this.h[0]=sum32$2(this.h[0],i),this.h[1]=sum32$2(this.h[1],a),this.h[2]=sum32$2(this.h[2],o),this.h[3]=sum32$2(this.h[3],s),this.h[4]=sum32$2(this.h[4],u)},SHA1.prototype._digest=function(e){return"hex"===e?utils$p.toHex32(this.h,"big"):utils$p.split32(this.h,"big")};var utils$o=utils$s,common$2=common$5,shaCommon=common$4,assert$8=minimalisticAssert$1,sum32$1=utils$o.sum32,sum32_4$1=utils$o.sum32_4,sum32_5=utils$o.sum32_5,ch32=shaCommon.ch32,maj32=shaCommon.maj32,s0_256=shaCommon.s0_256,s1_256=shaCommon.s1_256,g0_256=shaCommon.g0_256,g1_256=shaCommon.g1_256,BlockHash$2=common$2.BlockHash,sha256_K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SHA256$1(){if(!(this instanceof SHA256$1))return new SHA256$1;BlockHash$2.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=sha256_K,this.W=new Array(64)}utils$o.inherits(SHA256$1,BlockHash$2);var _256=SHA256$1;SHA256$1.blockSize=512,SHA256$1.outSize=256,SHA256$1.hmacStrength=192,SHA256$1.padLength=64,SHA256$1.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=sum32_4$1(g1_256(r[n-2]),r[n-7],g0_256(r[n-15]),r[n-16]);var i=this.h[0],a=this.h[1],o=this.h[2],s=this.h[3],u=this.h[4],c=this.h[5],l=this.h[6],f=this.h[7];for(assert$8(this.k.length===r.length),n=0;n<r.length;n++){var p=sum32_5(f,s1_256(u),ch32(u,c,l),this.k[n],r[n]),d=sum32$1(s0_256(i),maj32(i,a,o));f=l,l=c,c=u,u=sum32$1(s,p),s=o,o=a,a=i,i=sum32$1(p,d)}this.h[0]=sum32$1(this.h[0],i),this.h[1]=sum32$1(this.h[1],a),this.h[2]=sum32$1(this.h[2],o),this.h[3]=sum32$1(this.h[3],s),this.h[4]=sum32$1(this.h[4],u),this.h[5]=sum32$1(this.h[5],c),this.h[6]=sum32$1(this.h[6],l),this.h[7]=sum32$1(this.h[7],f)},SHA256$1.prototype._digest=function(e){return"hex"===e?utils$o.toHex32(this.h,"big"):utils$o.split32(this.h,"big")};var utils$n=utils$s,SHA256=_256;function SHA224(){if(!(this instanceof SHA224))return new SHA224;SHA256.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}utils$n.inherits(SHA224,SHA256);var _224=SHA224;SHA224.blockSize=512,SHA224.outSize=224,SHA224.hmacStrength=192,SHA224.padLength=64,SHA224.prototype._digest=function(e){return"hex"===e?utils$n.toHex32(this.h.slice(0,7),"big"):utils$n.split32(this.h.slice(0,7),"big")};var utils$m=utils$s,common$1=common$5,assert$7=minimalisticAssert$1,rotr64_hi=utils$m.rotr64_hi,rotr64_lo=utils$m.rotr64_lo,shr64_hi=utils$m.shr64_hi,shr64_lo=utils$m.shr64_lo,sum64=utils$m.sum64,sum64_hi=utils$m.sum64_hi,sum64_lo=utils$m.sum64_lo,sum64_4_hi=utils$m.sum64_4_hi,sum64_4_lo=utils$m.sum64_4_lo,sum64_5_hi=utils$m.sum64_5_hi,sum64_5_lo=utils$m.sum64_5_lo,BlockHash$1=common$1.BlockHash,sha512_K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function SHA512$1(){if(!(this instanceof SHA512$1))return new SHA512$1;BlockHash$1.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=sha512_K,this.W=new Array(160)}utils$m.inherits(SHA512$1,BlockHash$1);var _512=SHA512$1;function ch64_hi(e,t,r,n,i){var a=e&r^~e&i;return a<0&&(a+=4294967296),a}function ch64_lo(e,t,r,n,i,a){var o=t&n^~t&a;return o<0&&(o+=4294967296),o}function maj64_hi(e,t,r,n,i){var a=e&r^e&i^r&i;return a<0&&(a+=4294967296),a}function maj64_lo(e,t,r,n,i,a){var o=t&n^t&a^n&a;return o<0&&(o+=4294967296),o}function s0_512_hi(e,t){var r=rotr64_hi(e,t,28)^rotr64_hi(t,e,2)^rotr64_hi(t,e,7);return r<0&&(r+=4294967296),r}function s0_512_lo(e,t){var r=rotr64_lo(e,t,28)^rotr64_lo(t,e,2)^rotr64_lo(t,e,7);return r<0&&(r+=4294967296),r}function s1_512_hi(e,t){var r=rotr64_hi(e,t,14)^rotr64_hi(e,t,18)^rotr64_hi(t,e,9);return r<0&&(r+=4294967296),r}function s1_512_lo(e,t){var r=rotr64_lo(e,t,14)^rotr64_lo(e,t,18)^rotr64_lo(t,e,9);return r<0&&(r+=4294967296),r}function g0_512_hi(e,t){var r=rotr64_hi(e,t,1)^rotr64_hi(e,t,8)^shr64_hi(e,t,7);return r<0&&(r+=4294967296),r}function g0_512_lo(e,t){var r=rotr64_lo(e,t,1)^rotr64_lo(e,t,8)^shr64_lo(e,t,7);return r<0&&(r+=4294967296),r}function g1_512_hi(e,t){var r=rotr64_hi(e,t,19)^rotr64_hi(t,e,29)^shr64_hi(e,t,6);return r<0&&(r+=4294967296),r}function g1_512_lo(e,t){var r=rotr64_lo(e,t,19)^rotr64_lo(t,e,29)^shr64_lo(e,t,6);return r<0&&(r+=4294967296),r}SHA512$1.blockSize=1024,SHA512$1.outSize=512,SHA512$1.hmacStrength=192,SHA512$1.padLength=128,SHA512$1.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=g1_512_hi(r[n-4],r[n-3]),a=g1_512_lo(r[n-4],r[n-3]),o=r[n-14],s=r[n-13],u=g0_512_hi(r[n-30],r[n-29]),c=g0_512_lo(r[n-30],r[n-29]),l=r[n-32],f=r[n-31];r[n]=sum64_4_hi(i,a,o,s,u,c,l,f),r[n+1]=sum64_4_lo(i,a,o,s,u,c,l,f)}},SHA512$1.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],a=this.h[2],o=this.h[3],s=this.h[4],u=this.h[5],c=this.h[6],l=this.h[7],f=this.h[8],p=this.h[9],d=this.h[10],h=this.h[11],m=this.h[12],y=this.h[13],v=this.h[14],g=this.h[15];assert$7(this.k.length===r.length);for(var b=0;b<r.length;b+=2){var _=v,w=g,k=s1_512_hi(f,p),x=s1_512_lo(f,p),T=ch64_hi(f,p,d,h,m),E=ch64_lo(f,p,d,h,m,y),A=this.k[b],S=this.k[b+1],C=r[b],O=r[b+1],R=sum64_5_hi(_,w,k,x,T,E,A,S,C,O),P=sum64_5_lo(_,w,k,x,T,E,A,S,C,O);_=s0_512_hi(n,i),w=s0_512_lo(n,i),k=maj64_hi(n,i,a,o,s),x=maj64_lo(n,i,a,o,s,u);var I=sum64_hi(_,w,k,x),N=sum64_lo(_,w,k,x);v=m,g=y,m=d,y=h,d=f,h=p,f=sum64_hi(c,l,R,P),p=sum64_lo(l,l,R,P),c=s,l=u,s=a,u=o,a=n,o=i,n=sum64_hi(R,P,I,N),i=sum64_lo(R,P,I,N)}sum64(this.h,0,n,i),sum64(this.h,2,a,o),sum64(this.h,4,s,u),sum64(this.h,6,c,l),sum64(this.h,8,f,p),sum64(this.h,10,d,h),sum64(this.h,12,m,y),sum64(this.h,14,v,g)},SHA512$1.prototype._digest=function(e){return"hex"===e?utils$m.toHex32(this.h,"big"):utils$m.split32(this.h,"big")};var utils$l=utils$s,SHA512=_512;function SHA384(){if(!(this instanceof SHA384))return new SHA384;SHA512.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}utils$l.inherits(SHA384,SHA512);var _384=SHA384;SHA384.blockSize=1024,SHA384.outSize=384,SHA384.hmacStrength=192,SHA384.padLength=128,SHA384.prototype._digest=function(e){return"hex"===e?utils$l.toHex32(this.h.slice(0,12),"big"):utils$l.split32(this.h.slice(0,12),"big")},sha$1.sha1=_1,sha$1.sha224=_224,sha$1.sha256=_256,sha$1.sha384=_384,sha$1.sha512=_512;var ripemd={},utils$k=utils$s,common=common$5,rotl32=utils$k.rotl32,sum32=utils$k.sum32,sum32_3=utils$k.sum32_3,sum32_4=utils$k.sum32_4,BlockHash=common.BlockHash;function RIPEMD160(){if(!(this instanceof RIPEMD160))return new RIPEMD160;BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f$2(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function K$2(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function Kh(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}utils$k.inherits(RIPEMD160,BlockHash),ripemd.ripemd160=RIPEMD160,RIPEMD160.blockSize=512,RIPEMD160.outSize=160,RIPEMD160.hmacStrength=192,RIPEMD160.padLength=64,RIPEMD160.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],a=this.h[3],o=this.h[4],s=r,u=n,c=i,l=a,f=o,p=0;p<80;p++){var d=sum32(rotl32(sum32_4(r,f$2(p,n,i,a),e[r$1[p]+t],K$2(p)),s$1[p]),o);r=o,o=a,a=rotl32(i,10),i=n,n=d,d=sum32(rotl32(sum32_4(s,f$2(79-p,u,c,l),e[rh[p]+t],Kh(p)),sh[p]),f),s=f,f=l,l=rotl32(c,10),c=u,u=d}d=sum32_3(this.h[1],i,l),this.h[1]=sum32_3(this.h[2],a,f),this.h[2]=sum32_3(this.h[3],o,s),this.h[3]=sum32_3(this.h[4],r,u),this.h[4]=sum32_3(this.h[0],n,c),this.h[0]=d},RIPEMD160.prototype._digest=function(e){return"hex"===e?utils$k.toHex32(this.h,"little"):utils$k.split32(this.h,"little")};var r$1=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],rh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],s$1=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],utils$j=utils$s,assert$6=minimalisticAssert$1;function Hmac(e,t,r){if(!(this instanceof Hmac))return new Hmac(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(utils$j.toArray(t,r))}var hmac=Hmac,exports,hash2;Hmac.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),assert$6(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},Hmac.prototype.update=function(e,t){return this.inner.update(e,t),this},Hmac.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},exports=hash$2,hash2=exports,hash2.utils=utils$s,hash2.common=common$5,hash2.sha=sha$1,hash2.ripemd=ripemd,hash2.hmac=hmac,hash2.sha1=hash2.sha.sha1,hash2.sha256=hash2.sha.sha256,hash2.sha224=hash2.sha.sha224,hash2.sha384=hash2.sha.sha384,hash2.sha512=hash2.sha.sha512,hash2.ripemd160=hash2.ripemd.ripemd160;var hash$1=hash$2;function createCommonjsModule(e,t,r){return e(r={path:t,exports:{},require:function(e,t){return commonjsRequire(e,null==t?r.path:t)}},r.exports),r.exports}function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var minimalisticAssert=assert;function assert(e,t){if(!e)throw new Error(t||"Assertion failed")}assert.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var utils_1=createCommonjsModule((function(e,t){var r=t;function n(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16));else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),a=i>>8,o=255&i;a?r.push(a,o):r.push(o)}return r},r.zero2=n,r.toHex=i,r.encode=function(e,t){return"hex"===t?i(e):e}})),utils_1$1=createCommonjsModule((function(e,t){var r=t;r.assert=minimalisticAssert,r.toArray=utils_1.toArray,r.zero2=utils_1.zero2,r.toHex=utils_1.toHex,r.encode=utils_1.encode,r.getNAF=function(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,a=e.clone(),o=0;o<n.length;o++){var s,u=a.andln(i-1);a.isOdd()?(s=u>(i>>1)-1?(i>>1)-u:u,a.isubn(s)):s=0,n[o]=s,a.iushrn(1)}return n},r.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,a=0;e.cmpn(-i)>0||t.cmpn(-a)>0;){var o,s,u=e.andln(3)+i&3,c=t.andln(3)+a&3;3===u&&(u=-1),3===c&&(c=-1),o=0==(1&u)?0:3!=(n=e.andln(7)+i&7)&&5!==n||2!==c?u:-u,r[0].push(o),s=0==(1&c)?0:3!=(n=t.andln(7)+a&7)&&5!==n||2!==u?c:-c,r[1].push(s),2*i===o+1&&(i=1-i),2*a===s+1&&(a=1-a),e.iushrn(1),t.iushrn(1)}return r},r.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(e){return"string"==typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new BN$1(e,"hex","le")}})),getNAF=utils_1$1.getNAF,getJSF=utils_1$1.getJSF,assert$1=utils_1$1.assert;function BaseCurve(e,t){this.type=e,this.p=new BN$1(t.p,16),this.red=t.prime?BN$1.red(t.prime):BN$1.mont(this.p),this.zero=new BN$1(0).toRed(this.red),this.one=new BN$1(1).toRed(this.red),this.two=new BN$1(2).toRed(this.red),this.n=t.n&&new BN$1(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var base$1=BaseCurve;function BasePoint(e,t){this.curve=e,this.type=t,this.precomputed=null}BaseCurve.prototype.point=function(){throw new Error("Not implemented")},BaseCurve.prototype.validate=function(){throw new Error("Not implemented")},BaseCurve.prototype._fixedNafMul=function(e,t){assert$1(e.precomputed);var r=e._getDoubles(),n=getNAF(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var a,o,s=[];for(a=0;a<n.length;a+=r.step){o=0;for(var u=a+r.step-1;u>=a;u--)o=(o<<1)+n[u];s.push(o)}for(var c=this.jpoint(null,null,null),l=this.jpoint(null,null,null),f=i;f>0;f--){for(a=0;a<s.length;a++)(o=s[a])===f?l=l.mixedAdd(r.points[a]):o===-f&&(l=l.mixedAdd(r.points[a].neg()));c=c.add(l)}return c.toP()},BaseCurve.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,a=getNAF(t,r,this._bitLength),o=this.jpoint(null,null,null),s=a.length-1;s>=0;s--){for(var u=0;s>=0&&0===a[s];s--)u++;if(s>=0&&u++,o=o.dblp(u),s<0)break;var c=a[s];assert$1(0!==c),o="affine"===e.type?c>0?o.mixedAdd(i[c-1>>1]):o.mixedAdd(i[-c-1>>1].neg()):c>0?o.add(i[c-1>>1]):o.add(i[-c-1>>1].neg())}return"affine"===e.type?o.toP():o},BaseCurve.prototype._wnafMulAdd=function(e,t,r,n,i){var a,o,s,u=this._wnafT1,c=this._wnafT2,l=this._wnafT3,f=0;for(a=0;a<n;a++){var p=(s=t[a])._getNAFPoints(e);u[a]=p.wnd,c[a]=p.points}for(a=n-1;a>=1;a-=2){var d=a-1,h=a;if(1===u[d]&&1===u[h]){var m=[t[d],null,null,t[h]];0===t[d].y.cmp(t[h].y)?(m[1]=t[d].add(t[h]),m[2]=t[d].toJ().mixedAdd(t[h].neg())):0===t[d].y.cmp(t[h].y.redNeg())?(m[1]=t[d].toJ().mixedAdd(t[h]),m[2]=t[d].add(t[h].neg())):(m[1]=t[d].toJ().mixedAdd(t[h]),m[2]=t[d].toJ().mixedAdd(t[h].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],v=getJSF(r[d],r[h]);for(f=Math.max(v[0].length,f),l[d]=new Array(f),l[h]=new Array(f),o=0;o<f;o++){var g=0|v[0][o],b=0|v[1][o];l[d][o]=y[3*(g+1)+(b+1)],l[h][o]=0,c[d]=m}}else l[d]=getNAF(r[d],u[d],this._bitLength),l[h]=getNAF(r[h],u[h],this._bitLength),f=Math.max(l[d].length,f),f=Math.max(l[h].length,f)}var _=this.jpoint(null,null,null),w=this._wnafT4;for(a=f;a>=0;a--){for(var k=0;a>=0;){var x=!0;for(o=0;o<n;o++)w[o]=0|l[o][a],0!==w[o]&&(x=!1);if(!x)break;k++,a--}if(a>=0&&k++,_=_.dblp(k),a<0)break;for(o=0;o<n;o++){var T=w[o];0!==T&&(T>0?s=c[o][T-1>>1]:T<0&&(s=c[o][-T-1>>1].neg()),_="affine"===s.type?_.mixedAdd(s):_.add(s))}}for(a=0;a<n;a++)c[a]=null;return i?_:_.toP()},BaseCurve.BasePoint=BasePoint,BasePoint.prototype.eq=function(){throw new Error("Not implemented")},BasePoint.prototype.validate=function(){return this.curve.validate(this)},BaseCurve.prototype.decodePoint=function(e,t){e=utils_1$1.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?assert$1(e[e.length-1]%2==0):7===e[0]&&assert$1(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},BasePoint.prototype.encodeCompressed=function(e){return this.encode(e,!0)},BasePoint.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},BasePoint.prototype.encode=function(e,t){return utils_1$1.encode(this._encode(t),e)},BasePoint.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},BasePoint.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},BasePoint.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var a=0;a<e;a++)n=n.dbl();r.push(n)}return{step:e,points:r}},BasePoint.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},BasePoint.prototype._getBeta=function(){return null},BasePoint.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var inherits_browser=createCommonjsModule((function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}})),assert$2=utils_1$1.assert;function ShortCurve(e){base$1.call(this,"short",e),this.a=new BN$1(e.a,16).toRed(this.red),this.b=new BN$1(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}inherits_browser(ShortCurve,base$1);var short_1=ShortCurve;function Point(e,t,r,n){base$1.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new BN$1(t,16),this.y=new BN$1(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function JPoint(e,t,r,n){base$1.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new BN$1(0)):(this.x=new BN$1(t,16),this.y=new BN$1(r,16),this.z=new BN$1(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}ShortCurve.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new BN$1(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new BN$1(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?r=i[0]:(r=i[1],assert$2(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new BN$1(e.a,16),b:new BN$1(e.b,16)}})):this._getEndoBasis(r)}}},ShortCurve.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:BN$1.mont(e),r=new BN$1(2).toRed(t).redInvm(),n=r.redNeg(),i=new BN$1(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},ShortCurve.prototype._getEndoBasis=function(e){for(var t,r,n,i,a,o,s,u,c,l=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=e,p=this.n.clone(),d=new BN$1(1),h=new BN$1(0),m=new BN$1(0),y=new BN$1(1),v=0;0!==f.cmpn(0);){var g=p.div(f);u=p.sub(g.mul(f)),c=m.sub(g.mul(d));var b=y.sub(g.mul(h));if(!n&&u.cmp(l)<0)t=s.neg(),r=d,n=u.neg(),i=c;else if(n&&2==++v)break;s=u,p=f,f=u,m=d,d=c,y=h,h=b}a=u.neg(),o=c;var _=n.sqr().add(i.sqr());return a.sqr().add(o.sqr()).cmp(_)>=0&&(a=t,o=r),n.negative&&(n=n.neg(),i=i.neg()),a.negative&&(a=a.neg(),o=o.neg()),[{a:n,b:i},{a,b:o}]},ShortCurve.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),a=r.b.neg().mul(e).divRound(this.n),o=i.mul(r.a),s=a.mul(n.a),u=i.mul(r.b),c=a.mul(n.b);return{k1:e.sub(o).sub(s),k2:u.add(c).neg()}},ShortCurve.prototype.pointFromX=function(e,t){(e=new BN$1(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},ShortCurve.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},ShortCurve.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,a=0;a<e.length;a++){var o=this._endoSplit(t[a]),s=e[a],u=s._getBeta();o.k1.negative&&(o.k1.ineg(),s=s.neg(!0)),o.k2.negative&&(o.k2.ineg(),u=u.neg(!0)),n[2*a]=s,n[2*a+1]=u,i[2*a]=o.k1,i[2*a+1]=o.k2}for(var c=this._wnafMulAdd(1,n,i,2*a,r),l=0;l<2*a;l++)n[l]=null,i[l]=null;return c},inherits_browser(Point,base$1.BasePoint),ShortCurve.prototype.point=function(e,t,r){return new Point(this,e,t,r)},ShortCurve.prototype.pointFromJSON=function(e,t){return Point.fromJSON(this,e,t)},Point.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},Point.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Point.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var a=t[2];return n.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[n].concat(a.doubles.points.map(i))},naf:a.naf&&{wnd:a.naf.wnd,points:[n].concat(a.naf.points.map(i))}},n},Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function(){return this.inf},Point.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},Point.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),a=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,o)},Point.prototype.getX=function(){return this.x.fromRed()},Point.prototype.getY=function(){return this.y.fromRed()},Point.prototype.mul=function(e){return e=new BN$1(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},Point.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},Point.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},Point.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},Point.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},Point.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},inherits_browser(JPoint,base$1.BasePoint),ShortCurve.prototype.jpoint=function(e,t,r){return new JPoint(this,e,t,r)},JPoint.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},JPoint.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},JPoint.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),a=this.y.redMul(t.redMul(e.z)),o=e.y.redMul(r.redMul(this.z)),s=n.redSub(i),u=a.redSub(o);if(0===s.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),l=c.redMul(s),f=n.redMul(c),p=u.redSqr().redIAdd(l).redISub(f).redISub(f),d=u.redMul(f.redISub(p)).redISub(a.redMul(l)),h=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(p,d,h)},JPoint.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,a=e.y.redMul(t).redMul(this.z),o=r.redSub(n),s=i.redSub(a);if(0===o.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=o.redSqr(),c=u.redMul(o),l=r.redMul(u),f=s.redSqr().redIAdd(c).redISub(l).redISub(l),p=s.redMul(l.redISub(f)).redISub(i.redMul(c)),d=this.z.redMul(o);return this.curve.jpoint(f,p,d)},JPoint.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,a=this.x,o=this.y,s=this.z,u=s.redSqr().redSqr(),c=o.redAdd(o);for(t=0;t<e;t++){var l=a.redSqr(),f=c.redSqr(),p=f.redSqr(),d=l.redAdd(l).redIAdd(l).redIAdd(n.redMul(u)),h=a.redMul(f),m=d.redSqr().redISub(h.redAdd(h)),y=h.redISub(m),v=d.redMul(y);v=v.redIAdd(v).redISub(p);var g=c.redMul(s);t+1<e&&(u=u.redMul(p)),a=m,s=g,c=v}return this.curve.jpoint(a,c.redMul(i),s)},JPoint.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},JPoint.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(a);o=o.redIAdd(o);var s=n.redAdd(n).redIAdd(n),u=s.redSqr().redISub(o).redISub(o),c=a.redIAdd(a);c=(c=c.redIAdd(c)).redIAdd(c),e=u,t=s.redMul(o.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),f=this.y.redSqr(),p=f.redSqr(),d=this.x.redAdd(f).redSqr().redISub(l).redISub(p);d=d.redIAdd(d);var h=l.redAdd(l).redIAdd(l),m=h.redSqr(),y=p.redIAdd(p);y=(y=y.redIAdd(y)).redIAdd(y),e=m.redISub(d).redISub(d),t=h.redMul(d.redISub(e)).redISub(y),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},JPoint.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(a);o=o.redIAdd(o);var s=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=s.redSqr().redISub(o).redISub(o);e=u;var c=a.redIAdd(a);c=(c=c.redIAdd(c)).redIAdd(c),t=s.redMul(o.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),f=this.y.redSqr(),p=this.x.redMul(f),d=this.x.redSub(l).redMul(this.x.redAdd(l));d=d.redAdd(d).redIAdd(d);var h=p.redIAdd(p),m=(h=h.redIAdd(h)).redAdd(h);e=d.redSqr().redISub(m),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(l);var y=f.redSqr();y=(y=(y=y.redIAdd(y)).redIAdd(y)).redIAdd(y),t=d.redMul(h.redISub(e)).redISub(y)}return this.curve.jpoint(e,t,r)},JPoint.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),a=t.redSqr(),o=r.redSqr(),s=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(i)),u=t.redAdd(t),c=(u=u.redIAdd(u)).redMul(o),l=s.redSqr().redISub(c.redAdd(c)),f=c.redISub(l),p=o.redSqr();p=(p=(p=p.redIAdd(p)).redIAdd(p)).redIAdd(p);var d=s.redMul(f).redISub(p),h=r.redAdd(r).redMul(n);return this.curve.jpoint(l,d,h)},JPoint.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),a=i.redSqr(),o=this.x.redAdd(t).redSqr().redISub(e).redISub(n),s=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(a)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var c=i.redIAdd(o).redSqr().redISub(a).redISub(s).redISub(u),l=t.redMul(c);l=(l=l.redIAdd(l)).redIAdd(l);var f=this.x.redMul(s).redISub(l);f=(f=f.redIAdd(f)).redIAdd(f);var p=this.y.redMul(c.redMul(u.redISub(c)).redISub(o.redMul(s)));p=(p=(p=p.redIAdd(p)).redIAdd(p)).redIAdd(p);var d=this.z.redAdd(o).redSqr().redISub(r).redISub(s);return this.curve.jpoint(f,p,d)},JPoint.prototype.mul=function(e,t){return e=new BN$1(e,t),this.curve._wnafMul(this,e)},JPoint.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},JPoint.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},JPoint.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},JPoint.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var curve_1=createCommonjsModule((function(e,t){var r=t;r.base=base$1,r.short=short_1,r.mont=null,r.edwards=null})),curves_1=createCommonjsModule((function(e,t){var r,n=t,i=utils_1$1.assert;function a(e){"short"===e.type?this.curve=new curve_1.short(e):"edwards"===e.type?this.curve=new curve_1.edwards(e):this.curve=new curve_1.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function o(e,t){Object.defineProperty(n,e,{configurable:!0,enumerable:!0,get:function(){var r=new a(t);return Object.defineProperty(n,e,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=a,o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:hash$1.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:hash$1.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:hash$1.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:hash$1.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:hash$1.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash$1.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash$1.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch(e){r=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:hash$1.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function HmacDRBG(e){if(!(this instanceof HmacDRBG))return new HmacDRBG(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=utils_1.toArray(e.entropy,e.entropyEnc||"hex"),r=utils_1.toArray(e.nonce,e.nonceEnc||"hex"),n=utils_1.toArray(e.pers,e.persEnc||"hex");minimalisticAssert(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var hmacDrbg=HmacDRBG;HmacDRBG.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},HmacDRBG.prototype._hmac=function(){return new hash$1.hmac(this.hash,this.K)},HmacDRBG.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},HmacDRBG.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=utils_1.toArray(e,t),r=utils_1.toArray(r,n),minimalisticAssert(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},HmacDRBG.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=utils_1.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var a=i.slice(0,e);return this._update(r),this._reseed++,utils_1.encode(a,t)};var assert$3=utils_1$1.assert;function KeyPair(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var key=KeyPair;KeyPair.fromPublic=function(e,t,r){return t instanceof KeyPair?t:new KeyPair(e,{pub:t,pubEnc:r})},KeyPair.fromPrivate=function(e,t,r){return t instanceof KeyPair?t:new KeyPair(e,{priv:t,privEnc:r})},KeyPair.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},KeyPair.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},KeyPair.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},KeyPair.prototype._importPrivate=function(e,t){this.priv=new BN$1(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},KeyPair.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?assert$3(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||assert$3(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},KeyPair.prototype.derive=function(e){return e.validate()||assert$3(e.validate(),"public point not validated"),e.mul(this.priv).getX()},KeyPair.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},KeyPair.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},KeyPair.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var assert$4=utils_1$1.assert;function Signature(e,t){if(e instanceof Signature)return e;this._importDER(e,t)||(assert$4(e.r&&e.s,"Signature without r or s"),this.r=new BN$1(e.r,16),this.s=new BN$1(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var signature=Signature;function Position(){this.place=0}function getLength(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,a=0,o=t.place;a<n;a++,o++)i<<=8,i|=e[o],i>>>=0;return!(i<=127)&&(t.place=o,i)}function rmPadding(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function constructLength(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}Signature.prototype._importDER=function(e,t){e=utils_1$1.toArray(e,t);var r=new Position;if(48!==e[r.place++])return!1;var n=getLength(e,r);if(!1===n)return!1;if(n+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var i=getLength(e,r);if(!1===i)return!1;var a=e.slice(r.place,i+r.place);if(r.place+=i,2!==e[r.place++])return!1;var o=getLength(e,r);if(!1===o)return!1;if(e.length!==o+r.place)return!1;var s=e.slice(r.place,o+r.place);if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}if(0===s[0]){if(!(128&s[1]))return!1;s=s.slice(1)}return this.r=new BN$1(a),this.s=new BN$1(s),this.recoveryParam=null,!0},Signature.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=rmPadding(t),r=rmPadding(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];constructLength(n,t.length),(n=n.concat(t)).push(2),constructLength(n,r.length);var i=n.concat(r),a=[48];return constructLength(a,i.length),a=a.concat(i),utils_1$1.encode(a,e)};var rand=function(){throw new Error("unsupported")},assert$5=utils_1$1.assert;function EC(e){if(!(this instanceof EC))return new EC(e);"string"==typeof e&&(assert$5(Object.prototype.hasOwnProperty.call(curves_1,e),"Unknown curve "+e),e=curves_1[e]),e instanceof curves_1.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var ec=EC;EC.prototype.keyPair=function(e){return new key(this,e)},EC.prototype.keyFromPrivate=function(e,t){return key.fromPrivate(this,e,t)},EC.prototype.keyFromPublic=function(e,t){return key.fromPublic(this,e,t)},EC.prototype.genKeyPair=function(e){e||(e={});for(var t=new hmacDrbg({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||rand(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new BN$1(2));;){var i=new BN$1(t.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},EC.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},EC.prototype.sign=function(e,t,r,n){"object"===_typeof(r)&&(n=r,r=null),n||(n={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new BN$1(e,16));for(var i=this.n.byteLength(),a=t.getPrivate().toArray("be",i),o=e.toArray("be",i),s=new hmacDrbg({hash:this.hash,entropy:a,nonce:o,pers:n.pers,persEnc:n.persEnc||"utf8"}),u=this.n.sub(new BN$1(1)),c=0;;c++){var l=n.k?n.k(c):new BN$1(s.generate(this.n.byteLength()));if(!((l=this._truncateToN(l,!0)).cmpn(1)<=0||l.cmp(u)>=0)){var f=this.g.mul(l);if(!f.isInfinity()){var p=f.getX(),d=p.umod(this.n);if(0!==d.cmpn(0)){var h=l.invm(this.n).mul(d.mul(t.getPrivate()).iadd(e));if(0!==(h=h.umod(this.n)).cmpn(0)){var m=(f.getY().isOdd()?1:0)|(0!==p.cmp(d)?2:0);return n.canonical&&h.cmp(this.nh)>0&&(h=this.n.sub(h),m^=1),new signature({r:d,s:h,recoveryParam:m})}}}}}},EC.prototype.verify=function(e,t,r,n){e=this._truncateToN(new BN$1(e,16)),r=this.keyFromPublic(r,n);var i=(t=new signature(t,"hex")).r,a=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var o,s=a.invm(this.n),u=s.mul(e).umod(this.n),c=s.mul(i).umod(this.n);return this.curve._maxwellTrick?!(o=this.g.jmulAdd(u,r.getPublic(),c)).isInfinity()&&o.eqXToP(i):!(o=this.g.mulAdd(u,r.getPublic(),c)).isInfinity()&&0===o.getX().umod(this.n).cmp(i)},EC.prototype.recoverPubKey=function(e,t,r,n){assert$5((3&r)===r,"The recovery param is more than two bits"),t=new signature(t,n);var i=this.n,a=new BN$1(e),o=t.r,s=t.s,u=1&r,c=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");o=c?this.curve.pointFromX(o.add(this.curve.n),u):this.curve.pointFromX(o,u);var l=t.r.invm(i),f=i.sub(a).mul(l).umod(i),p=s.mul(l).umod(i);return this.g.mulAdd(f,o,p)},EC.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new signature(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(e,t,i)}catch(e){continue}if(a.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var elliptic_1=createCommonjsModule((function(e,t){var r=t;r.version="6.5.4",r.utils=utils_1$1,r.rand=function(){throw new Error("unsupported")},r.curve=curve_1,r.curves=curves_1,r.ec=ec,r.eddsa=null})),EC$1=elliptic_1.ec,version$f="signing-key/5.6.2",logger$s=new Logger(version$f),_curve=null;function getCurve(){return _curve||(_curve=new EC$1("secp256k1")),_curve}var SigningKey=function(){function e(t){_classCallCheck(this,e),defineReadOnly(this,"curve","secp256k1"),defineReadOnly(this,"privateKey",hexlify(t)),32!==hexDataLength(this.privateKey)&&logger$s.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");var r=getCurve().keyFromPrivate(arrayify(this.privateKey));defineReadOnly(this,"publicKey","0x"+r.getPublic(!1,"hex")),defineReadOnly(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),defineReadOnly(this,"_isSigningKey",!0)}return _createClass(e,[{key:"_addPoint",value:function(e){var t=getCurve().keyFromPublic(arrayify(this.publicKey)),r=getCurve().keyFromPublic(arrayify(e));return"0x"+t.pub.add(r.pub).encodeCompressed("hex")}},{key:"signDigest",value:function(e){var t=getCurve().keyFromPrivate(arrayify(this.privateKey)),r=arrayify(e);32!==r.length&&logger$s.throwArgumentError("bad digest length","digest",e);var n=t.sign(r,{canonical:!0});return splitSignature({recoveryParam:n.recoveryParam,r:hexZeroPad("0x"+n.r.toString(16),32),s:hexZeroPad("0x"+n.s.toString(16),32)})}},{key:"computeSharedSecret",value:function(e){var t=getCurve().keyFromPrivate(arrayify(this.privateKey)),r=getCurve().keyFromPublic(arrayify(computePublicKey(e)));return hexZeroPad("0x"+t.derive(r.getPublic()).toString(16),32)}}],[{key:"isSigningKey",value:function(e){return!(!e||!e._isSigningKey)}}]),e}();function recoverPublicKey(e,t){var r=splitSignature(t),n={r:arrayify(r.r),s:arrayify(r.s)};return"0x"+getCurve().recoverPubKey(arrayify(e),n,r.recoveryParam).encode("hex",!1)}function computePublicKey(e,t){var r=arrayify(e);if(32===r.length){var n=new SigningKey(r);return t?"0x"+getCurve().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}return 33===r.length?t?hexlify(r):"0x"+getCurve().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?t?"0x"+getCurve().keyFromPublic(r).getPublic(!0,"hex"):hexlify(r):logger$s.throwArgumentError("invalid public or private key","key","[REDACTED]")}var lib_esm$e=Object.freeze(Object.defineProperty({__proto__:null,SigningKey,recoverPublicKey,computePublicKey},Symbol.toStringTag,{value:"Module"})),version$e="transactions/5.6.2",logger$r=new Logger(version$e),TransactionTypes,TransactionTypes2;function handleAddress(e){return"0x"===e?null:_getAddress(e)}function handleNumber(e){return"0x"===e?Zero$1:BigNumber.from(e)}TransactionTypes2=TransactionTypes||(TransactionTypes={}),TransactionTypes2[TransactionTypes2.legacy=0]="legacy",TransactionTypes2[TransactionTypes2.eip2930=1]="eip2930",TransactionTypes2[TransactionTypes2.eip1559=2]="eip1559";var transactionFields=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],allowedTransactionKeys$2={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function computeAddress(e){return _getAddress(hexDataSlice(keccak256$1(hexDataSlice(computePublicKey(e),1)),12))}function recoverAddress(e,t){return computeAddress(recoverPublicKey(arrayify(e),t))}function formatNumber(e,t){var r=stripZeros(BigNumber.from(e).toHexString());return r.length>32&&logger$r.throwArgumentError("invalid length for "+t,"transaction:"+t,e),r}function accessSetify(e,t){return{address:_getAddress(e),storageKeys:(t||[]).map((function(t,r){return 32!==hexDataLength(t)&&logger$r.throwArgumentError("invalid access list storageKey","accessList[".concat(e,":").concat(r,"]"),t),t.toLowerCase()}))}}function accessListify(e){if(Array.isArray(e))return e.map((function(e,t){return Array.isArray(e)?(e.length>2&&logger$r.throwArgumentError("access list expected to be [ address, storageKeys[] ]","value[".concat(t,"]"),e),accessSetify(e[0],e[1])):accessSetify(e.address,e.storageKeys)}));var t=Object.keys(e).map((function(t){var r=e[t].reduce((function(e,t){return e[t]=!0,e}),{});return accessSetify(t,Object.keys(r).sort())}));return t.sort((function(e,t){return e.address.localeCompare(t.address)})),t}function formatAccessList(e){return accessListify(e).map((function(e){return[e.address,e.storageKeys]}))}function _serializeEip1559(e,t){if(null!=e.gasPrice){var r=BigNumber.from(e.gasPrice),n=BigNumber.from(e.maxFeePerGas||0);r.eq(n)||logger$r.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:r,maxFeePerGas:n})}var i=[formatNumber(e.chainId||0,"chainId"),formatNumber(e.nonce||0,"nonce"),formatNumber(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),formatNumber(e.maxFeePerGas||0,"maxFeePerGas"),formatNumber(e.gasLimit||0,"gasLimit"),null!=e.to?_getAddress(e.to):"0x",formatNumber(e.value||0,"value"),e.data||"0x",formatAccessList(e.accessList||[])];if(t){var a=splitSignature(t);i.push(formatNumber(a.recoveryParam,"recoveryParam")),i.push(stripZeros(a.r)),i.push(stripZeros(a.s))}return hexConcat(["0x02",encode$c(i)])}function _serializeEip2930(e,t){var r=[formatNumber(e.chainId||0,"chainId"),formatNumber(e.nonce||0,"nonce"),formatNumber(e.gasPrice||0,"gasPrice"),formatNumber(e.gasLimit||0,"gasLimit"),null!=e.to?_getAddress(e.to):"0x",formatNumber(e.value||0,"value"),e.data||"0x",formatAccessList(e.accessList||[])];if(t){var n=splitSignature(t);r.push(formatNumber(n.recoveryParam,"recoveryParam")),r.push(stripZeros(n.r)),r.push(stripZeros(n.s))}return hexConcat(["0x01",encode$c(r)])}function _serialize(e,t){checkProperties(e,allowedTransactionKeys$2);var r=[];transactionFields.forEach((function(t){var n=e[t.name]||[],i={};t.numeric&&(i.hexPad="left"),n=arrayify(hexlify(n,i)),t.length&&n.length!==t.length&&n.length>0&&logger$r.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,n),t.maxLength&&(n=stripZeros(n)).length>t.maxLength&&logger$r.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,n),r.push(hexlify(n))}));var n=0;if(null!=e.chainId?"number"!=typeof(n=e.chainId)&&logger$r.throwArgumentError("invalid transaction.chainId","transaction",e):t&&!isBytesLike(t)&&t.v>28&&(n=Math.floor((t.v-35)/2)),0!==n&&(r.push(hexlify(n)),r.push("0x"),r.push("0x")),!t)return encode$c(r);var i=splitSignature(t),a=27+i.recoveryParam;return 0!==n?(r.pop(),r.pop(),r.pop(),a+=2*n+8,i.v>28&&i.v!==a&&logger$r.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t)):i.v!==a&&logger$r.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t),r.push(hexlify(a)),r.push(stripZeros(arrayify(i.r))),r.push(stripZeros(arrayify(i.s))),encode$c(r)}function serialize$1(e,t){if(null==e.type||0===e.type)return null!=e.accessList&&logger$r.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",e),_serialize(e,t);switch(e.type){case 1:return _serializeEip2930(e,t);case 2:return _serializeEip1559(e,t)}return logger$r.throwError("unsupported transaction type: ".concat(e.type),Logger.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:e.type})}function _parseEipSignature(e,t,r){try{var n=handleNumber(t[0]).toNumber();if(0!==n&&1!==n)throw new Error("bad recid");e.v=n}catch(e){logger$r.throwArgumentError("invalid v for transaction type: 1","v",t[0])}e.r=hexZeroPad(t[1],32),e.s=hexZeroPad(t[2],32);try{var i=keccak256$1(r(e));e.from=recoverAddress(i,{r:e.r,s:e.s,recoveryParam:e.v})}catch(e){}}function _parseEip1559(e){var t=decode$c(e.slice(1));9!==t.length&&12!==t.length&&logger$r.throwArgumentError("invalid component count for transaction type: 2","payload",hexlify(e));var r=handleNumber(t[2]),n=handleNumber(t[3]),i={type:2,chainId:handleNumber(t[0]).toNumber(),nonce:handleNumber(t[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:handleNumber(t[4]),to:handleAddress(t[5]),value:handleNumber(t[6]),data:t[7],accessList:accessListify(t[8])};return 9===t.length||(i.hash=keccak256$1(e),_parseEipSignature(i,t.slice(9),_serializeEip1559)),i}function _parseEip2930(e){var t=decode$c(e.slice(1));8!==t.length&&11!==t.length&&logger$r.throwArgumentError("invalid component count for transaction type: 1","payload",hexlify(e));var r={type:1,chainId:handleNumber(t[0]).toNumber(),nonce:handleNumber(t[1]).toNumber(),gasPrice:handleNumber(t[2]),gasLimit:handleNumber(t[3]),to:handleAddress(t[4]),value:handleNumber(t[5]),data:t[6],accessList:accessListify(t[7])};return 8===t.length||(r.hash=keccak256$1(e),_parseEipSignature(r,t.slice(8),_serializeEip2930)),r}function _parse(e){var t=decode$c(e);9!==t.length&&6!==t.length&&logger$r.throwArgumentError("invalid raw transaction","rawTransaction",e);var r={nonce:handleNumber(t[0]).toNumber(),gasPrice:handleNumber(t[1]),gasLimit:handleNumber(t[2]),to:handleAddress(t[3]),value:handleNumber(t[4]),data:t[5],chainId:0};if(6===t.length)return r;try{r.v=BigNumber.from(t[6]).toNumber()}catch(e){return r}if(r.r=hexZeroPad(t[7],32),r.s=hexZeroPad(t[8],32),BigNumber.from(r.r).isZero()&&BigNumber.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);var n=r.v-27,i=t.slice(0,6);0!==r.chainId&&(i.push(hexlify(r.chainId)),i.push("0x"),i.push("0x"),n-=2*r.chainId+8);var a=keccak256$1(encode$c(i));try{r.from=recoverAddress(a,{r:hexlify(r.r),s:hexlify(r.s),recoveryParam:n})}catch(e){}r.hash=keccak256$1(e)}return r.type=null,r}function parse$1(e){var t=arrayify(e);if(t[0]>127)return _parse(t);switch(t[0]){case 1:return _parseEip2930(t);case 2:return _parseEip1559(t)}return logger$r.throwError("unsupported transaction type: ".concat(t[0]),Logger.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:t[0]})}var lib_esm$d=Object.freeze(Object.defineProperty({__proto__:null,get TransactionTypes(){return TransactionTypes},computeAddress,recoverAddress,accessListify,serialize:serialize$1,parse:parse$1},Symbol.toStringTag,{value:"Module"})),version$d="contracts/5.6.2",__awaiter$b=globalThis&&globalThis.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},logger$q=new Logger(version$d),allowedTransactionKeys$1={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function resolveName(e,t){return __awaiter$b(this,void 0,void 0,regeneratorRuntime.mark((function r(){var n,i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t;case 2:return"string"!=typeof(n=r.sent)&&logger$q.throwArgumentError("invalid address or ENS name","name",n),r.prev=4,r.abrupt("return",_getAddress(n));case 8:r.prev=8,r.t0=r.catch(4);case 10:return e||logger$q.throwError("a provider or signer is needed to resolve ENS names",Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"}),r.next=13,e.resolveName(n);case 13:return null==(i=r.sent)&&logger$q.throwArgumentError("resolver or addr is not configured for ENS name","name",n),r.abrupt("return",i);case 16:case"end":return r.stop()}}),r,null,[[4,8]])})))}function resolveAddresses(e,t,r){return __awaiter$b(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!Array.isArray(r)){n.next=4;break}return n.next=3,Promise.all(r.map((function(r,n){return resolveAddresses(e,Array.isArray(t)?t[n]:t[r.name],r)})));case 3:return n.abrupt("return",n.sent);case 4:if("address"!==r.type){n.next=8;break}return n.next=7,resolveName(e,t);case 7:return n.abrupt("return",n.sent);case 8:if("tuple"!==r.type){n.next=12;break}return n.next=11,resolveAddresses(e,t,r.components);case 11:return n.abrupt("return",n.sent);case 12:if("array"!==r.baseType){n.next=18;break}if(Array.isArray(t)){n.next=15;break}return n.abrupt("return",Promise.reject(logger$q.makeError("invalid value for array",Logger.errors.INVALID_ARGUMENT,{argument:"value",value:t})));case 15:return n.next=17,Promise.all(t.map((function(t){return resolveAddresses(e,t,r.arrayChildren)})));case 17:return n.abrupt("return",n.sent);case 18:return n.abrupt("return",t);case 19:case"end":return n.stop()}}),n)})))}function populateTransaction(e,t,r){return __awaiter$b(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i,a,o,s,u,c,l,f,p,d,h=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i={},r.length===t.inputs.length+1&&"object"===_typeof(r[r.length-1])&&(i=shallowCopy(r.pop())),logger$q.checkArgumentCount(r.length,t.inputs.length,"passed to contract"),e.signer?i.from?i.from=resolveProperties({override:resolveName(e.signer,i.from),signer:e.signer.getAddress()}).then((function(e){return __awaiter$b(h,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return _getAddress(e.signer)!==e.override&&logger$q.throwError("Contract with a Signer cannot override from",Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),t.abrupt("return",e.override);case 2:case"end":return t.stop()}}),t)})))})):i.from=e.signer.getAddress():i.from&&(i.from=resolveName(e.provider,i.from)),n.next=6,resolveProperties({args:resolveAddresses(e.signer||e.provider,r,t.inputs),address:e.resolvedAddress,overrides:resolveProperties(i)||{}});case 6:if(a=n.sent,o=e.interface.encodeFunctionData(t,a.args),s={data:o,to:a.address},null!=(u=a.overrides).nonce&&(s.nonce=BigNumber.from(u.nonce).toNumber()),null!=u.gasLimit&&(s.gasLimit=BigNumber.from(u.gasLimit)),null!=u.gasPrice&&(s.gasPrice=BigNumber.from(u.gasPrice)),null!=u.maxFeePerGas&&(s.maxFeePerGas=BigNumber.from(u.maxFeePerGas)),null!=u.maxPriorityFeePerGas&&(s.maxPriorityFeePerGas=BigNumber.from(u.maxPriorityFeePerGas)),null!=u.from&&(s.from=u.from),null!=u.type&&(s.type=u.type),null!=u.accessList&&(s.accessList=accessListify(u.accessList)),null==s.gasLimit&&null!=t.gas){for(c=21e3,l=arrayify(o),f=0;f<l.length;f++)c+=4,l[f]&&(c+=64);s.gasLimit=BigNumber.from(t.gas).add(c)}return u.value&&((p=BigNumber.from(u.value)).isZero()||t.payable||logger$q.throwError("non-payable method cannot override value",Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:i.value}),s.value=p),u.customData&&(s.customData=shallowCopy(u.customData)),u.ccipReadEnabled&&(s.ccipReadEnabled=!!u.ccipReadEnabled),delete i.nonce,delete i.gasLimit,delete i.gasPrice,delete i.from,delete i.value,delete i.type,delete i.accessList,delete i.maxFeePerGas,delete i.maxPriorityFeePerGas,delete i.customData,delete i.ccipReadEnabled,(d=Object.keys(i).filter((function(e){return null!=i[e]}))).length&&logger$q.throwError("cannot override ".concat(d.map((function(e){return JSON.stringify(e)})).join(",")),Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:d}),n.abrupt("return",s);case 36:case"end":return n.stop()}}),n)})))}function buildPopulate(e,t){return function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return populateTransaction(e,t,n)}}function buildEstimate(e,t){var r=e.signer||e.provider;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return __awaiter$b(this,void 0,void 0,regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r||logger$q.throwError("estimate require a provider or signer",Logger.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"}),n.next=3,populateTransaction(e,t,i);case 3:return a=n.sent,n.next=6,r.estimateGas(a);case 6:return n.abrupt("return",n.sent);case 7:case"end":return n.stop()}}),n)})))}}function addContractWait(e,t){var r=t.wait.bind(t);t.wait=function(t){return r(t).then((function(t){return t.events=t.logs.map((function(r){var n=deepCopy(r),i=null;try{i=e.interface.parseLog(r)}catch(e){}return i&&(n.args=i.args,n.decode=function(t,r){return e.interface.decodeEventLog(i.eventFragment,t,r)},n.event=i.name,n.eventSignature=i.signature),n.removeListener=function(){return e.provider},n.getBlock=function(){return e.provider.getBlock(t.blockHash)},n.getTransaction=function(){return e.provider.getTransaction(t.transactionHash)},n.getTransactionReceipt=function(){return Promise.resolve(t)},n})),t}))}}function buildCall(e,t,r){var n=e.signer||e.provider;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return __awaiter$b(this,void 0,void 0,regeneratorRuntime.mark((function i(){var o,s,u,c,l;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(o=void 0,a.length!==t.inputs.length+1||"object"!==_typeof(a[a.length-1])){i.next=9;break}if(null==(s=shallowCopy(a.pop())).blockTag){i.next=7;break}return i.next=6,s.blockTag;case 6:o=i.sent;case 7:delete s.blockTag,a.push(s);case 9:if(null==e.deployTransaction){i.next=12;break}return i.next=12,e._deployed(o);case 12:return i.next=14,populateTransaction(e,t,a);case 14:return u=i.sent,i.next=17,n.call(u,o);case 17:return c=i.sent,i.prev=18,l=e.interface.decodeFunctionResult(t,c),r&&1===t.outputs.length&&(l=l[0]),i.abrupt("return",l);case 24:throw i.prev=24,i.t0=i.catch(18),i.t0.code===Logger.errors.CALL_EXCEPTION&&(i.t0.address=e.address,i.t0.args=a,i.t0.transaction=u),i.t0;case 28:case"end":return i.stop()}}),i,null,[[18,24]])})))}}function buildSend(e,t){return function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return __awaiter$b(this,void 0,void 0,regeneratorRuntime.mark((function r(){var i,a;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.signer||logger$q.throwError("sending a transaction requires a signer",Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),null==e.deployTransaction){r.next=4;break}return r.next=4,e._deployed();case 4:return r.next=6,populateTransaction(e,t,n);case 6:return i=r.sent,r.next=9,e.signer.sendTransaction(i);case 9:return a=r.sent,addContractWait(e,a),r.abrupt("return",a);case 12:case"end":return r.stop()}}),r)})))}}function buildDefault(e,t,r){return t.constant?buildCall(e,t,r):buildSend(e,t)}function getEventTag$1(e){return!e.address||null!=e.topics&&0!==e.topics.length?(e.address||"*")+"@"+(e.topics?e.topics.map((function(e){return Array.isArray(e)?e.join("|"):e})).join(":"):""):"*"}var RunningEvent=function(){function e(t,r){_classCallCheck(this,e),defineReadOnly(this,"tag",t),defineReadOnly(this,"filter",r),this._listeners=[]}return _createClass(e,[{key:"addListener",value:function(e,t){this._listeners.push({listener:e,once:t})}},{key:"removeListener",value:function(e){var t=!1;this._listeners=this._listeners.filter((function(r){return!(!t&&r.listener===e&&(t=!0,1))}))}},{key:"removeAllListeners",value:function(){this._listeners=[]}},{key:"listeners",value:function(){return this._listeners.map((function(e){return e.listener}))}},{key:"listenerCount",value:function(){return this._listeners.length}},{key:"run",value:function(e){var t=this,r=this.listenerCount();return this._listeners=this._listeners.filter((function(r){var n=e.slice();return setTimeout((function(){r.listener.apply(t,n)}),0),!r.once})),r}},{key:"prepareEvent",value:function(e){}},{key:"getEmit",value:function(e){return[e]}}]),e}(),ErrorRunningEvent=function(e){_inherits(r,e);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.call(this,"error",null)}return r}(RunningEvent),FragmentRunningEvent=function(e){_inherits(r,e);var t=_createSuper(r);function r(e,n,i,a){var o;_classCallCheck(this,r);var s={address:e},u=n.getEventTopic(i);return a?(u!==a[0]&&logger$q.throwArgumentError("topic mismatch","topics",a),s.topics=a.slice()):s.topics=[u],defineReadOnly(_assertThisInitialized(o=t.call(this,getEventTag$1(s),s)),"address",e),defineReadOnly(_assertThisInitialized(o),"interface",n),defineReadOnly(_assertThisInitialized(o),"fragment",i),o}return _createClass(r,[{key:"prepareEvent",value:function(e){var t=this;_get(_getPrototypeOf(r.prototype),"prepareEvent",this).call(this,e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=function(e,r){return t.interface.decodeEventLog(t.fragment,e,r)};try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null,e.decodeError=t}}},{key:"getEmit",value:function(e){var t=checkResultErrors(e.args);if(t.length)throw t[0].error;var r=(e.args||[]).slice();return r.push(e),r}}]),r}(RunningEvent),WildcardRunningEvent=function(e){_inherits(r,e);var t=_createSuper(r);function r(e,n){var i;return _classCallCheck(this,r),defineReadOnly(_assertThisInitialized(i=t.call(this,"*",{address:e})),"address",e),defineReadOnly(_assertThisInitialized(i),"interface",n),i}return _createClass(r,[{key:"prepareEvent",value:function(e){var t=this;_get(_getPrototypeOf(r.prototype),"prepareEvent",this).call(this,e);try{var n=this.interface.parseLog(e);e.event=n.name,e.eventSignature=n.signature,e.decode=function(e,r){return t.interface.decodeEventLog(n.eventFragment,e,r)},e.args=n.args}catch(e){}}}]),r}(RunningEvent),BaseContract=function(){function e(t,r,n){var i=this;_classCallCheck(this,e),defineReadOnly(this,"interface",getStatic(this instanceof e?this.constructor:void 0,"getInterface")(r)),null==n?(defineReadOnly(this,"provider",null),defineReadOnly(this,"signer",null)):Signer.isSigner(n)?(defineReadOnly(this,"provider",n.provider||null),defineReadOnly(this,"signer",n)):Provider.isProvider(n)?(defineReadOnly(this,"provider",n),defineReadOnly(this,"signer",null)):logger$q.throwArgumentError("invalid signer or provider","signerOrProvider",n),defineReadOnly(this,"callStatic",{}),defineReadOnly(this,"estimateGas",{}),defineReadOnly(this,"functions",{}),defineReadOnly(this,"populateTransaction",{}),defineReadOnly(this,"filters",{});var a={};if(Object.keys(this.interface.events).forEach((function(e){var t=i.interface.events[e];defineReadOnly(i.filters,e,(function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return{address:i.address,topics:i.interface.encodeFilterTopics(t,r)}})),a[t.name]||(a[t.name]=[]),a[t.name].push(e)})),Object.keys(a).forEach((function(e){var t=a[e];1===t.length?defineReadOnly(i.filters,e,i.filters[t[0]]):logger$q.warn("Duplicate definition of ".concat(e," (").concat(t.join(", "),")"))})),defineReadOnly(this,"_runningEvents",{}),defineReadOnly(this,"_wrappedEmits",{}),null==t&&logger$q.throwArgumentError("invalid contract address or ENS name","addressOrName",t),defineReadOnly(this,"address",t),this.provider)defineReadOnly(this,"resolvedAddress",resolveName(this.provider,t));else try{defineReadOnly(this,"resolvedAddress",Promise.resolve(_getAddress(t)))}catch(e){logger$q.throwError("provider is required to use ENS name as contract address",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch((function(e){}));var o={},s={};Object.keys(this.interface.functions).forEach((function(e){var t=i.interface.functions[e];if(s[e])logger$q.warn("Duplicate ABI entry for ".concat(JSON.stringify(e)));else{s[e]=!0;var r=t.name;o["%".concat(r)]||(o["%".concat(r)]=[]),o["%".concat(r)].push(e),null==i[e]&&defineReadOnly(i,e,buildDefault(i,t,!0)),null==i.functions[e]&&defineReadOnly(i.functions,e,buildDefault(i,t,!1)),null==i.callStatic[e]&&defineReadOnly(i.callStatic,e,buildCall(i,t,!0)),null==i.populateTransaction[e]&&defineReadOnly(i.populateTransaction,e,buildPopulate(i,t)),null==i.estimateGas[e]&&defineReadOnly(i.estimateGas,e,buildEstimate(i,t))}})),Object.keys(o).forEach((function(e){var t=o[e];if(!(t.length>1)){e=e.substring(1);var r=t[0];try{null==i[e]&&defineReadOnly(i,e,i[r])}catch(e){}null==i.functions[e]&&defineReadOnly(i.functions,e,i.functions[r]),null==i.callStatic[e]&&defineReadOnly(i.callStatic,e,i.callStatic[r]),null==i.populateTransaction[e]&&defineReadOnly(i.populateTransaction,e,i.populateTransaction[r]),null==i.estimateGas[e]&&defineReadOnly(i.estimateGas,e,i.estimateGas[r])}}))}return _createClass(e,[{key:"deployed",value:function(){return this._deployed()}},{key:"_deployed",value:function(e){var t=this;return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then((function(){return t})):this._deployedPromise=this.provider.getCode(this.address,e).then((function(e){return"0x"===e&&logger$q.throwError("contract not deployed",Logger.errors.UNSUPPORTED_OPERATION,{contractAddress:t.address,operation:"getDeployed"}),t}))),this._deployedPromise}},{key:"fallback",value:function(e){var t=this;this.signer||logger$q.throwError("sending a transactions require a signer",Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});var r=shallowCopy(e||{});return["from","to"].forEach((function(e){null!=r[e]&&logger$q.throwError("cannot override "+e,Logger.errors.UNSUPPORTED_OPERATION,{operation:e})})),r.to=this.resolvedAddress,this.deployed().then((function(){return t.signer.sendTransaction(r)}))}},{key:"connect",value:function(e){"string"==typeof e&&(e=new VoidSigner(e,this.provider));var t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&defineReadOnly(t,"deployTransaction",this.deployTransaction),t}},{key:"attach",value:function(e){return new this.constructor(e,this.interface,this.signer||this.provider)}},{key:"_normalizeRunningEvent",value:function(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}},{key:"_getRunningEvent",value:function(e){if("string"==typeof e){if("error"===e)return this._normalizeRunningEvent(new ErrorRunningEvent);if("event"===e)return this._normalizeRunningEvent(new RunningEvent("event",null));if("*"===e)return this._normalizeRunningEvent(new WildcardRunningEvent(this.address,this.interface));var t=this.interface.getEvent(e);return this._normalizeRunningEvent(new FragmentRunningEvent(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{var r=e.topics[0];if("string"!=typeof r)throw new Error("invalid topic");var n=this.interface.getEvent(r);return this._normalizeRunningEvent(new FragmentRunningEvent(this.address,this.interface,n,e.topics))}catch(e){}var i={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new RunningEvent(getEventTag$1(i),i))}return this._normalizeRunningEvent(new WildcardRunningEvent(this.address,this.interface))}},{key:"_checkRunningEvents",value:function(e){if(0===e.listenerCount()){delete this._runningEvents[e.tag];var t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}},{key:"_wrapEvent",value:function(e,t,r){var n=this,i=deepCopy(t);return i.removeListener=function(){r&&(e.removeListener(r),n._checkRunningEvents(e))},i.getBlock=function(){return n.provider.getBlock(t.blockHash)},i.getTransaction=function(){return n.provider.getTransaction(t.transactionHash)},i.getTransactionReceipt=function(){return n.provider.getTransactionReceipt(t.transactionHash)},e.prepareEvent(i),i}},{key:"_addEventListener",value:function(e,t,r){var n=this;if(this.provider||logger$q.throwError("events require a provider or a signer with a provider",Logger.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,r),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){var i=function(r){var i=n._wrapEvent(e,r,t);if(null==i.decodeError)try{var a=e.getEmit(i);n.emit.apply(n,[e.filter].concat(_toConsumableArray(a)))}catch(e){i.decodeError=e.error}null!=e.filter&&n.emit("event",i),null!=i.decodeError&&n.emit("error",i.decodeError,i)};this._wrappedEmits[e.tag]=i,null!=e.filter&&this.provider.on(e.filter,i)}}},{key:"queryFilter",value:function(e,t,r){var n=this,i=this._getRunningEvent(e),a=shallowCopy(i.filter);return"string"==typeof t&&isHexString(t,32)?(null!=r&&logger$q.throwArgumentError("cannot specify toBlock with blockhash","toBlock",r),a.blockHash=t):(a.fromBlock=null!=t?t:0,a.toBlock=null!=r?r:"latest"),this.provider.getLogs(a).then((function(e){return e.map((function(e){return n._wrapEvent(i,e,null)}))}))}},{key:"on",value:function(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}},{key:"once",value:function(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}},{key:"emit",value:function(e){if(!this.provider)return!1;for(var t=this._getRunningEvent(e),r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var a=t.run(n)>0;return this._checkRunningEvents(t),a}},{key:"listenerCount",value:function(e){var t=this;return this.provider?null==e?Object.keys(this._runningEvents).reduce((function(e,r){return e+t._runningEvents[r].listenerCount()}),0):this._getRunningEvent(e).listenerCount():0}},{key:"listeners",value:function(e){var t=this;if(!this.provider)return[];if(null==e){var r=function(){var e=[];for(var r in t._runningEvents)t._runningEvents[r].listeners().forEach((function(t){e.push(t)}));return{v:e}}();if("object"===_typeof(r))return r.v}return this._getRunningEvent(e).listeners()}},{key:"removeAllListeners",value:function(e){if(!this.provider)return this;if(null==e){for(var t in this._runningEvents){var r=this._runningEvents[t];r.removeAllListeners(),this._checkRunningEvents(r)}return this}var n=this._getRunningEvent(e);return n.removeAllListeners(),this._checkRunningEvents(n),this}},{key:"off",value:function(e,t){if(!this.provider)return this;var r=this._getRunningEvent(e);return r.removeListener(t),this._checkRunningEvents(r),this}},{key:"removeListener",value:function(e,t){return this.off(e,t)}}],[{key:"getContractAddress",value:function(e){return _getContractAddress(e)}},{key:"getInterface",value:function(e){return Interface.isInterface(e)?e:new Interface(e)}},{key:"isIndexed",value:function(e){return Indexed.isIndexed(e)}}]),e}(),Contract=function(e){_inherits(r,e);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return r}(BaseContract),ContractFactory=function(){function e(t,r,n){_classCallCheck(this,e);var i=null;"0x"!==(i="string"==typeof r?r:isBytes$2(r)?hexlify(r):r&&"string"==typeof r.object?r.object:"!").substring(0,2)&&(i="0x"+i),(!isHexString(i)||i.length%2)&&logger$q.throwArgumentError("invalid bytecode","bytecode",r),n&&!Signer.isSigner(n)&&logger$q.throwArgumentError("invalid signer","signer",n),defineReadOnly(this,"bytecode",i),defineReadOnly(this,"interface",getStatic(this instanceof e?this.constructor:void 0,"getInterface")(t)),defineReadOnly(this,"signer",n||null)}return _createClass(e,[{key:"getDeployTransaction",value:function(){for(var e={},t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===this.interface.deploy.inputs.length+1&&"object"===_typeof(r[r.length-1]))for(var i in e=shallowCopy(r.pop()))if(!allowedTransactionKeys$1[i])throw new Error("unknown transaction override "+i);if(["data","from","to"].forEach((function(t){null!=e[t]&&logger$q.throwError("cannot override "+t,Logger.errors.UNSUPPORTED_OPERATION,{operation:t})})),e.value){var a=BigNumber.from(e.value);a.isZero()||this.interface.deploy.payable||logger$q.throwError("non-payable constructor cannot override value",Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:e.value})}return logger$q.checkArgumentCount(r.length,this.interface.deploy.inputs.length," in Contract constructor"),e.data=hexlify(concat$3([this.bytecode,this.interface.encodeDeploy(r)])),e}},{key:"deploy",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return __awaiter$b(this,void 0,void 0,regeneratorRuntime.mark((function e(){var r,n,i,a,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},t.length===this.interface.deploy.inputs.length+1&&(r=t.pop()),logger$q.checkArgumentCount(t.length,this.interface.deploy.inputs.length," in Contract constructor"),e.next=5,resolveAddresses(this.signer,t,this.interface.deploy.inputs);case 5:return(n=e.sent).push(r),i=this.getDeployTransaction.apply(this,_toConsumableArray(n)),e.next=10,this.signer.sendTransaction(i);case 10:return a=e.sent,o=getStatic(this.constructor,"getContractAddress")(a),addContractWait(s=getStatic(this.constructor,"getContract")(o,this.interface,this.signer),a),defineReadOnly(s,"deployTransaction",a),e.abrupt("return",s);case 16:case"end":return e.stop()}}),e,this)})))}},{key:"attach",value:function(e){return this.constructor.getContract(e,this.interface,this.signer)}},{key:"connect",value:function(e){return new this.constructor(this.interface,this.bytecode,e)}}],[{key:"fromSolidity",value:function(e,t){null==e&&logger$q.throwError("missing compiler output",Logger.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),"string"==typeof e&&(e=JSON.parse(e));var r=e.abi,n=null;return e.bytecode?n=e.bytecode:e.evm&&e.evm.bytecode&&(n=e.evm.bytecode),new this(r,n,t)}},{key:"getInterface",value:function(e){return Contract.getInterface(e)}},{key:"getContractAddress",value:function(e){return _getContractAddress(e)}},{key:"getContract",value:function(e,t,r){return new Contract(e,t,r)}}]),e}(),lib_esm$c=Object.freeze(Object.defineProperty({__proto__:null,BaseContract,Contract,ContractFactory},Symbol.toStringTag,{value:"Module"})),BaseX=function(){function e(t){_classCallCheck(this,e),defineReadOnly(this,"alphabet",t),defineReadOnly(this,"base",t.length),defineReadOnly(this,"_alphabetMap",{}),defineReadOnly(this,"_leader",t.charAt(0));for(var r=0;r<t.length;r++)this._alphabetMap[t.charAt(r)]=r}return _createClass(e,[{key:"encode",value:function(e){var t=arrayify(e);if(0===t.length)return"";for(var r=[0],n=0;n<t.length;++n){for(var i=t[n],a=0;a<r.length;++a)i+=r[a]<<8,r[a]=i%this.base,i=i/this.base|0;for(;i>0;)r.push(i%this.base),i=i/this.base|0}for(var o="",s=0;0===t[s]&&s<t.length-1;++s)o+=this._leader;for(var u=r.length-1;u>=0;--u)o+=this.alphabet[r[u]];return o}},{key:"decode",value:function(e){if("string"!=typeof e)throw new TypeError("Expected String");var t=[];if(0===e.length)return new Uint8Array(t);t.push(0);for(var r=0;r<e.length;r++){var n=this._alphabetMap[e[r]];if(void 0===n)throw new Error("Non-base"+this.base+" character");for(var i=n,a=0;a<t.length;++a)i+=t[a]*this.base,t[a]=255&i,i>>=8;for(;i>0;)t.push(255&i),i>>=8}for(var o=0;e[o]===this._leader&&o<e.length-1;++o)t.push(0);return arrayify(new Uint8Array(t.reverse()))}}]),e}(),Base32=new BaseX("abcdefghijklmnopqrstuvwxyz234567"),Base58=new BaseX("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),lib_esm$b=Object.freeze(Object.defineProperty({__proto__:null,BaseX,Base32,Base58},Symbol.toStringTag,{value:"Module"})),SupportedAlgorithm,SupportedAlgorithm2;SupportedAlgorithm2=SupportedAlgorithm||(SupportedAlgorithm={}),SupportedAlgorithm2.sha256="sha256",SupportedAlgorithm2.sha512="sha512";var version$c="sha2/5.6.1",logger$p=new Logger(version$c);function ripemd160(e){return"0x"+hash$1.ripemd160().update(arrayify(e)).digest("hex")}function sha256$2(e){return"0x"+hash$1.sha256().update(arrayify(e)).digest("hex")}function sha512$1(e){return"0x"+hash$1.sha512().update(arrayify(e)).digest("hex")}function computeHmac(e,t,r){return SupportedAlgorithm[e]||logger$p.throwError("unsupported algorithm "+e,Logger.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:e}),"0x"+hash$1.hmac(hash$1[e],arrayify(t)).update(arrayify(r)).digest("hex")}var lib_esm$a=Object.freeze(Object.defineProperty({__proto__:null,computeHmac,ripemd160,sha256:sha256$2,sha512:sha512$1,get SupportedAlgorithm(){return SupportedAlgorithm}},Symbol.toStringTag,{value:"Module"}));function pbkdf2$1(e,t,r,n,i){var a;e=arrayify(e),t=arrayify(t);var o,s,u=1,c=new Uint8Array(n),l=new Uint8Array(t.length+4);l.set(t);for(var f=1;f<=u;f++){l[t.length]=f>>24&255,l[t.length+1]=f>>16&255,l[t.length+2]=f>>8&255,l[t.length+3]=255&f;var p=arrayify(computeHmac(i,e,l));a||(a=p.length,s=new Uint8Array(a),o=n-((u=Math.ceil(n/a))-1)*a),s.set(p);for(var d=1;d<r;d++){p=arrayify(computeHmac(i,e,p));for(var h=0;h<a;h++)s[h]^=p[h]}var m=(f-1)*a,y=f===u?o:a;c.set(arrayify(s).slice(0,y),m)}return hexlify(c)}var version$b="wordlists/5.6.1",logger$o=new Logger(version$b),Wordlist=function(){function e(t){_classCallCheck(this,e),logger$o.checkAbstract(this instanceof e?this.constructor:void 0,e),defineReadOnly(this,"locale",t)}return _createClass(e,[{key:"split",value:function(e){return e.toLowerCase().split(/ +/g)}},{key:"join",value:function(e){return e.join(" ")}}],[{key:"check",value:function(e){for(var t=[],r=0;r<2048;r++){var n=e.getWord(r);if(r!==e.getWordIndex(n))return"0x";t.push(n)}return id(t.join("\n")+"\n")}},{key:"register",value:function(e,t){}}]),e}(),words="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo",wordlist=null;function loadWords(e){if(null==wordlist&&(wordlist=words.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),"0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"!==Wordlist.check(e)))throw wordlist=null,new Error("BIP39 Wordlist for en (English) FAILED")}var LangEn=function(e){_inherits(r,e);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.call(this,"en")}return _createClass(r,[{key:"getWord",value:function(e){return loadWords(this),wordlist[e]}},{key:"getWordIndex",value:function(e){return loadWords(this),wordlist.indexOf(e)}}]),r}(Wordlist),langEn=new LangEn;Wordlist.register(langEn);var wordlists={en:langEn},lib_esm$9=Object.freeze(Object.defineProperty({__proto__:null,logger:logger$o,Wordlist,wordlists},Symbol.toStringTag,{value:"Module"})),version$a="hdnode/5.6.2",logger$n=new Logger(version$a),N$2=BigNumber.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),MasterSecret=toUtf8Bytes("Bitcoin seed"),HardenedBit=2147483648;function getUpperMask(e){return(1<<e)-1<<8-e}function getLowerMask(e){return(1<<e)-1}function bytes32(e){return hexZeroPad(hexlify(e),32)}function base58check(e){return Base58.encode(concat$3([e,hexDataSlice(sha256$2(sha256$2(e)),0,4)]))}function getWordlist(e){if(null==e)return wordlists.en;if("string"==typeof e){var t=wordlists[e];return null==t&&logger$n.throwArgumentError("unknown locale","wordlist",e),t}return e}var _constructorGuard$1={},defaultPath="m/44'/60'/0'/0/0",HDNode=function(){function e(t,r,n,i,a,o,s,u){if(_classCallCheck(this,e),t!==_constructorGuard$1)throw new Error("HDNode constructor cannot be called directly");if(r){var c=new SigningKey(r);defineReadOnly(this,"privateKey",c.privateKey),defineReadOnly(this,"publicKey",c.compressedPublicKey)}else defineReadOnly(this,"privateKey",null),defineReadOnly(this,"publicKey",hexlify(n));defineReadOnly(this,"parentFingerprint",i),defineReadOnly(this,"fingerprint",hexDataSlice(ripemd160(sha256$2(this.publicKey)),0,4)),defineReadOnly(this,"address",computeAddress(this.publicKey)),defineReadOnly(this,"chainCode",a),defineReadOnly(this,"index",o),defineReadOnly(this,"depth",s),null==u?(defineReadOnly(this,"mnemonic",null),defineReadOnly(this,"path",null)):"string"==typeof u?(defineReadOnly(this,"mnemonic",null),defineReadOnly(this,"path",u)):(defineReadOnly(this,"mnemonic",u),defineReadOnly(this,"path",u.path))}return _createClass(e,[{key:"extendedKey",get:function(){if(this.depth>=256)throw new Error("Depth too large!");return base58check(concat$3([null!=this.privateKey?"0x0488ADE4":"0x0488B21E",hexlify(this.depth),this.parentFingerprint,hexZeroPad(hexlify(this.index),4),this.chainCode,null!=this.privateKey?concat$3(["0x00",this.privateKey]):this.publicKey]))}},{key:"neuter",value:function(){return new e(_constructorGuard$1,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}},{key:"_derive",value:function(t){if(t>4294967295)throw new Error("invalid index - "+String(t));var r=this.path;r&&(r+="/"+(t&~HardenedBit));var n=new Uint8Array(37);if(t&HardenedBit){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set(arrayify(this.privateKey),1),r&&(r+="'")}else n.set(arrayify(this.publicKey));for(var i=24;i>=0;i-=8)n[33+(i>>3)]=t>>24-i&255;var a=arrayify(computeHmac(SupportedAlgorithm.sha512,this.chainCode,n)),o=a.slice(0,32),s=a.slice(32),u=null,c=null;this.privateKey?u=bytes32(BigNumber.from(o).add(this.privateKey).mod(N$2)):c=new SigningKey(hexlify(o))._addPoint(this.publicKey);var l=r,f=this.mnemonic;return f&&(l=Object.freeze({phrase:f.phrase,path:r,locale:f.locale||"en"})),new e(_constructorGuard$1,u,c,this.fingerprint,bytes32(s),t,this.depth+1,l)}},{key:"derivePath",value:function(e){var t=e.split("/");if(0===t.length||"m"===t[0]&&0!==this.depth)throw new Error("invalid path - "+e);"m"===t[0]&&t.shift();for(var r=this,n=0;n<t.length;n++){var i=t[n];if(i.match(/^[0-9]+'$/)){var a=parseInt(i.substring(0,i.length-1));if(a>=HardenedBit)throw new Error("invalid path index - "+i);r=r._derive(HardenedBit+a)}else{if(!i.match(/^[0-9]+$/))throw new Error("invalid path component - "+i);var o=parseInt(i);if(o>=HardenedBit)throw new Error("invalid path index - "+i);r=r._derive(o)}}return r}}],[{key:"_fromSeed",value:function(t,r){var n=arrayify(t);if(n.length<16||n.length>64)throw new Error("invalid seed");var i=arrayify(computeHmac(SupportedAlgorithm.sha512,MasterSecret,n));return new e(_constructorGuard$1,bytes32(i.slice(0,32)),null,"0x00000000",bytes32(i.slice(32)),0,0,r)}},{key:"fromMnemonic",value:function(t,r,n){return t=entropyToMnemonic(mnemonicToEntropy(t,n=getWordlist(n)),n),e._fromSeed(mnemonicToSeed(t,r),{phrase:t,path:"m",locale:n.locale})}},{key:"fromSeed",value:function(t){return e._fromSeed(t,null)}},{key:"fromExtendedKey",value:function(t){var r=Base58.decode(t);82===r.length&&base58check(r.slice(0,78))===t||logger$n.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");var n=r[4],i=hexlify(r.slice(5,9)),a=parseInt(hexlify(r.slice(9,13)).substring(2),16),o=hexlify(r.slice(13,45)),s=r.slice(45,78);switch(hexlify(r.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new e(_constructorGuard$1,null,hexlify(s),i,o,a,n,null);case"0x0488ade4":case"0x04358394 ":if(0!==s[0])break;return new e(_constructorGuard$1,hexlify(s.slice(1)),null,i,o,a,n,null)}return logger$n.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}]),e}();function mnemonicToSeed(e,t){t||(t="");var r=toUtf8Bytes("mnemonic"+t,UnicodeNormalizationForm.NFKD);return pbkdf2$1(toUtf8Bytes(e,UnicodeNormalizationForm.NFKD),r,2048,64,"sha512")}function mnemonicToEntropy(e,t){t=getWordlist(t),logger$n.checkNormalize();var r=t.split(e);if(r.length%3!=0)throw new Error("invalid mnemonic");for(var n=arrayify(new Uint8Array(Math.ceil(11*r.length/8))),i=0,a=0;a<r.length;a++){var o=t.getWordIndex(r[a].normalize("NFKD"));if(-1===o)throw new Error("invalid mnemonic");for(var s=0;s<11;s++)o&1<<10-s&&(n[i>>3]|=1<<7-i%8),i++}var u=32*r.length/3,c=getUpperMask(r.length/3);if((arrayify(sha256$2(n.slice(0,u/8)))[0]&c)!=(n[n.length-1]&c))throw new Error("invalid checksum");return hexlify(n.slice(0,u/8))}function entropyToMnemonic(e,t){if(t=getWordlist(t),(e=arrayify(e)).length%4!=0||e.length<16||e.length>32)throw new Error("invalid entropy");for(var r=[0],n=11,i=0;i<e.length;i++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=e[i],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=e[i]>>8-n,r.push(e[i]&getLowerMask(8-n)),n+=3);var a=e.length/4,o=arrayify(sha256$2(e))[0]&getUpperMask(a);return r[r.length-1]<<=a,r[r.length-1]|=o>>8-a,t.join(r.map((function(e){return t.getWord(e)})))}function isValidMnemonic(e,t){try{return mnemonicToEntropy(e,t),!0}catch(e){}return!1}function getAccountPath(e){return("number"!=typeof e||e<0||e>=HardenedBit||e%1)&&logger$n.throwArgumentError("invalid account index","index",e),"m/44'/60'/".concat(e,"'/0/0")}var lib_esm$8=Object.freeze(Object.defineProperty({__proto__:null,defaultPath,HDNode,mnemonicToSeed,mnemonicToEntropy,entropyToMnemonic,isValidMnemonic,getAccountPath},Symbol.toStringTag,{value:"Module"})),version$9="random/5.6.1",logger$m=new Logger(version$9);function getGlobal(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==__webpack_require__.g)return __webpack_require__.g;throw new Error("unable to locate global object")}var anyGlobal=getGlobal(),crypto$1=anyGlobal.crypto||anyGlobal.msCrypto;function randomBytes(e){(e<=0||e>1024||e%1||e!=e)&&logger$m.throwArgumentError("invalid length","length",e);var t=new Uint8Array(e);return crypto$1.getRandomValues(t),arrayify(t)}function shuffled(e){for(var t=(e=e.slice()).length-1;t>0;t--){var r=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}return e}crypto$1&&crypto$1.getRandomValues||(logger$m.warn("WARNING: Missing strong random number source"),crypto$1={getRandomValues:function(e){return logger$m.throwError("no secure random source avaialble",Logger.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});var lib_esm$7=Object.freeze(Object.defineProperty({__proto__:null,randomBytes,shuffled},Symbol.toStringTag,{value:"Module"})),aesJs={exports:{}};!function(e,t){!function(t){function r(e){return parseInt(e)===e}function n(e){if(!r(e.length))return!1;for(var t=0;t<e.length;t++)if(!r(e[t])||e[t]<0||e[t]>255)return!1;return!0}function i(e,t){if(e.buffer&&ArrayBuffer.isView(e)&&"Uint8Array"===e.name)return t&&(e=e.slice?e.slice():Array.prototype.slice.call(e)),e;if(Array.isArray(e)){if(!n(e))throw new Error("Array contains invalid value: "+e);return new Uint8Array(e)}if(r(e.length)&&n(e))return new Uint8Array(e);throw new Error("unsupported array-like object")}function a(e){return new Uint8Array(e)}function o(e,t,r,n,i){null==n&&null==i||(e=e.slice?e.slice(n,i):Array.prototype.slice.call(e,n,i)),t.set(e,r)}var s,u={toBytes:function(e){var t=[],r=0;for(e=encodeURI(e);r<e.length;){var n=e.charCodeAt(r++);37===n?(t.push(parseInt(e.substr(r,2),16)),r+=2):t.push(n)}return i(t)},fromBytes:function(e){for(var t=[],r=0;r<e.length;){var n=e[r];n<128?(t.push(String.fromCharCode(n)),r++):n>191&&n<224?(t.push(String.fromCharCode((31&n)<<6|63&e[r+1])),r+=2):(t.push(String.fromCharCode((15&n)<<12|(63&e[r+1])<<6|63&e[r+2])),r+=3)}return t.join("")}},c=(s="0123456789abcdef",{toBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},fromBytes:function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push(s[(240&n)>>4]+s[15&n])}return t.join("")}}),l={16:10,24:12,32:14},f=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],p=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],d=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],h=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],m=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],y=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],v=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],g=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],b=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],_=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],w=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],k=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],x=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],T=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],E=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function A(e){for(var t=[],r=0;r<e.length;r+=4)t.push(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]);return t}var S=function e(t){if(!(this instanceof e))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:i(t,!0)}),this._prepare()};S.prototype._prepare=function(){var e=l[this.key.length];if(null==e)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var t=0;t<=e;t++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);var r,n=4*(e+1),i=this.key.length/4,a=A(this.key);for(t=0;t<i;t++)r=t>>2,this._Ke[r][t%4]=a[t],this._Kd[e-r][t%4]=a[t];for(var o,s=0,u=i;u<n;){if(o=a[i-1],a[0]^=p[o>>16&255]<<24^p[o>>8&255]<<16^p[255&o]<<8^p[o>>24&255]^f[s]<<24,s+=1,8!=i)for(t=1;t<i;t++)a[t]^=a[t-1];else{for(t=1;t<i/2;t++)a[t]^=a[t-1];for(o=a[i/2-1],a[i/2]^=p[255&o]^p[o>>8&255]<<8^p[o>>16&255]<<16^p[o>>24&255]<<24,t=i/2+1;t<i;t++)a[t]^=a[t-1]}for(t=0;t<i&&u<n;)c=u>>2,d=u%4,this._Ke[c][d]=a[t],this._Kd[e-c][d]=a[t++],u++}for(var c=1;c<e;c++)for(var d=0;d<4;d++)o=this._Kd[c][d],this._Kd[c][d]=k[o>>24&255]^x[o>>16&255]^T[o>>8&255]^E[255&o]},S.prototype.encrypt=function(e){if(16!=e.length)throw new Error("invalid plaintext size (must be 16 bytes)");for(var t=this._Ke.length-1,r=[0,0,0,0],n=A(e),i=0;i<4;i++)n[i]^=this._Ke[0][i];for(var o=1;o<t;o++){for(i=0;i<4;i++)r[i]=h[n[i]>>24&255]^m[n[(i+1)%4]>>16&255]^y[n[(i+2)%4]>>8&255]^v[255&n[(i+3)%4]]^this._Ke[o][i];n=r.slice()}var s,u=a(16);for(i=0;i<4;i++)s=this._Ke[t][i],u[4*i]=255&(p[n[i]>>24&255]^s>>24),u[4*i+1]=255&(p[n[(i+1)%4]>>16&255]^s>>16),u[4*i+2]=255&(p[n[(i+2)%4]>>8&255]^s>>8),u[4*i+3]=255&(p[255&n[(i+3)%4]]^s);return u},S.prototype.decrypt=function(e){if(16!=e.length)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var t=this._Kd.length-1,r=[0,0,0,0],n=A(e),i=0;i<4;i++)n[i]^=this._Kd[0][i];for(var o=1;o<t;o++){for(i=0;i<4;i++)r[i]=g[n[i]>>24&255]^b[n[(i+3)%4]>>16&255]^_[n[(i+2)%4]>>8&255]^w[255&n[(i+1)%4]]^this._Kd[o][i];n=r.slice()}var s,u=a(16);for(i=0;i<4;i++)s=this._Kd[t][i],u[4*i]=255&(d[n[i]>>24&255]^s>>24),u[4*i+1]=255&(d[n[(i+3)%4]>>16&255]^s>>16),u[4*i+2]=255&(d[n[(i+2)%4]>>8&255]^s>>8),u[4*i+3]=255&(d[255&n[(i+1)%4]]^s);return u};var C=function e(t){if(!(this instanceof e))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new S(t)};C.prototype.encrypt=function(e){if((e=i(e)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=a(e.length),r=a(16),n=0;n<e.length;n+=16)o(e,r,0,n,n+16),o(r=this._aes.encrypt(r),t,n);return t},C.prototype.decrypt=function(e){if((e=i(e)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=a(e.length),r=a(16),n=0;n<e.length;n+=16)o(e,r,0,n,n+16),o(r=this._aes.decrypt(r),t,n);return t};var O=function e(t,r){if(!(this instanceof e))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",r){if(16!=r.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else r=a(16);this._lastCipherblock=i(r,!0),this._aes=new S(t)};O.prototype.encrypt=function(e){if((e=i(e)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=a(e.length),r=a(16),n=0;n<e.length;n+=16){o(e,r,0,n,n+16);for(var s=0;s<16;s++)r[s]^=this._lastCipherblock[s];this._lastCipherblock=this._aes.encrypt(r),o(this._lastCipherblock,t,n)}return t},O.prototype.decrypt=function(e){if((e=i(e)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=a(e.length),r=a(16),n=0;n<e.length;n+=16){o(e,r,0,n,n+16),r=this._aes.decrypt(r);for(var s=0;s<16;s++)t[n+s]=r[s]^this._lastCipherblock[s];o(e,this._lastCipherblock,0,n,n+16)}return t};var R=function e(t,r,n){if(!(this instanceof e))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",r){if(16!=r.length)throw new Error("invalid initialation vector size (must be 16 size)")}else r=a(16);n||(n=1),this.segmentSize=n,this._shiftRegister=i(r,!0),this._aes=new S(t)};R.prototype.encrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var t,r=i(e,!0),n=0;n<r.length;n+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var a=0;a<this.segmentSize;a++)r[n+a]^=t[a];o(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o(r,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return r},R.prototype.decrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var t,r=i(e,!0),n=0;n<r.length;n+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var a=0;a<this.segmentSize;a++)r[n+a]^=t[a];o(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o(e,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return r};var P=function e(t,r){if(!(this instanceof e))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",r){if(16!=r.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else r=a(16);this._lastPrecipher=i(r,!0),this._lastPrecipherIndex=16,this._aes=new S(t)};P.prototype.encrypt=function(e){for(var t=i(e,!0),r=0;r<t.length;r++)16===this._lastPrecipherIndex&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),t[r]^=this._lastPrecipher[this._lastPrecipherIndex++];return t},P.prototype.decrypt=P.prototype.encrypt;var I=function e(t){if(!(this instanceof e))throw Error("Counter must be instanitated with `new`");0===t||t||(t=1),"number"==typeof t?(this._counter=a(16),this.setValue(t)):this.setBytes(t)};I.prototype.setValue=function(e){if("number"!=typeof e||parseInt(e)!=e)throw new Error("invalid counter value (must be an integer)");for(var t=15;t>=0;--t)this._counter[t]=e%256,e>>=8},I.prototype.setBytes=function(e){if(16!=(e=i(e,!0)).length)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=e},I.prototype.increment=function(){for(var e=15;e>=0;e--){if(255!==this._counter[e]){this._counter[e]++;break}this._counter[e]=0}};var N=function e(t,r){if(!(this instanceof e))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",r instanceof I||(r=new I(r)),this._counter=r,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new S(t)};N.prototype.encrypt=function(e){for(var t=i(e,!0),r=0;r<t.length;r++)16===this._remainingCounterIndex&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),t[r]^=this._remainingCounter[this._remainingCounterIndex++];return t},N.prototype.decrypt=N.prototype.encrypt;var $={AES:S,Counter:I,ModeOfOperation:{ecb:C,cbc:O,cfb:R,ofb:P,ctr:N},utils:{hex:c,utf8:u},padding:{pkcs7:{pad:function(e){var t=16-(e=i(e,!0)).length%16,r=a(e.length+t);o(e,r);for(var n=e.length;n<r.length;n++)r[n]=t;return r},strip:function(e){if((e=i(e,!0)).length<16)throw new Error("PKCS#7 invalid length");var t=e[e.length-1];if(t>16)throw new Error("PKCS#7 padding byte out of range");for(var r=e.length-t,n=0;n<t;n++)if(e[r+n]!==t)throw new Error("PKCS#7 invalid padding byte");var s=a(r);return o(e,s,0,0,r),s}}},_arrayTest:{coerceArray:i,createArray:a,copyArray:o}};e.exports=$}()}(aesJs);var aes=aesJs.exports,version$8="json-wallets/5.6.1";function looseArrayify(e){return"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),arrayify(e)}function zpad(e,t){for(e=String(e);e.length<t;)e="0"+e;return e}function getPassword(e){return"string"==typeof e?toUtf8Bytes(e,UnicodeNormalizationForm.NFKC):arrayify(e)}function searchPath(e,t){for(var r=e,n=t.toLowerCase().split("/"),i=0;i<n.length;i++){var a=null;for(var o in r)if(o.toLowerCase()===n[i]){a=r[o];break}if(null===a)return null;r=a}return r}function uuidV4(e){var t=arrayify(e);t[6]=15&t[6]|64,t[8]=63&t[8]|128;var r=hexlify(t);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}var logger$l=new Logger(version$8),CrowdsaleAccount=function(e){_inherits(r,e);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return _createClass(r,[{key:"isCrowdsaleAccount",value:function(e){return!(!e||!e._isCrowdsaleAccount)}}]),r}(Description);function decrypt$1(e,t){var r=JSON.parse(e);t=getPassword(t);var n=_getAddress(searchPath(r,"ethaddr")),i=looseArrayify(searchPath(r,"encseed"));i&&i.length%16==0||logger$l.throwArgumentError("invalid encseed","json",e);for(var a=arrayify(pbkdf2$1(t,t,2e3,32,"sha256")).slice(0,16),o=i.slice(0,16),s=i.slice(16),u=new aes.ModeOfOperation.cbc(a,o),c=aes.padding.pkcs7.strip(arrayify(u.decrypt(s))),l="",f=0;f<c.length;f++)l+=String.fromCharCode(c[f]);var p=keccak256$1(toUtf8Bytes(l));return new CrowdsaleAccount({_isCrowdsaleAccount:!0,address:n,privateKey:p})}function isCrowdsaleWallet(e){var t=null;try{t=JSON.parse(e)}catch(e){return!1}return t.encseed&&t.ethaddr}function isKeystoreWallet(e){var t=null;try{t=JSON.parse(e)}catch(e){return!1}return!(!t.version||parseInt(t.version)!==t.version||3!==parseInt(t.version))}function getJsonWalletAddress(e){if(isCrowdsaleWallet(e))try{return _getAddress(JSON.parse(e).ethaddr)}catch(e){return null}if(isKeystoreWallet(e))try{return _getAddress(JSON.parse(e).address)}catch(e){return null}return null}var scrypt$1={exports:{}};!function(e,t){!function(t){var r=2147483647;function n(e){var t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),r=1779033703,n=3144134277,i=1013904242,a=2773480762,o=1359893119,s=2600822924,u=528734635,c=1541459225,l=new Uint32Array(64);function f(e){for(var f=0,p=e.length;p>=64;){var d=r,h=n,m=i,y=a,v=o,g=s,b=u,_=c,w=void 0,k=void 0,x=void 0,T=void 0,E=void 0;for(k=0;k<16;k++)x=f+4*k,l[k]=(255&e[x])<<24|(255&e[x+1])<<16|(255&e[x+2])<<8|255&e[x+3];for(k=16;k<64;k++)T=((w=l[k-2])>>>17|w<<15)^(w>>>19|w<<13)^w>>>10,E=((w=l[k-15])>>>7|w<<25)^(w>>>18|w<<14)^w>>>3,l[k]=(T+l[k-7]|0)+(E+l[k-16]|0)|0;for(k=0;k<64;k++)T=(((v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7))+(v&g^~v&b)|0)+(_+(t[k]+l[k]|0)|0)|0,E=((d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10))+(d&h^d&m^h&m)|0,_=b,b=g,g=v,v=y+T|0,y=m,m=h,h=d,d=T+E|0;r=r+d|0,n=n+h|0,i=i+m|0,a=a+y|0,o=o+v|0,s=s+g|0,u=u+b|0,c=c+_|0,f+=64,p-=64}}f(e);var p,d=e.length%64,h=e.length/536870912|0,m=e.length<<3,y=d<56?56:120,v=e.slice(e.length-d,e.length);for(v.push(128),p=d+1;p<y;p++)v.push(0);return v.push(h>>>24&255),v.push(h>>>16&255),v.push(h>>>8&255),v.push(h>>>0&255),v.push(m>>>24&255),v.push(m>>>16&255),v.push(m>>>8&255),v.push(m>>>0&255),f(v),[r>>>24&255,r>>>16&255,r>>>8&255,r>>>0&255,n>>>24&255,n>>>16&255,n>>>8&255,n>>>0&255,i>>>24&255,i>>>16&255,i>>>8&255,i>>>0&255,a>>>24&255,a>>>16&255,a>>>8&255,a>>>0&255,o>>>24&255,o>>>16&255,o>>>8&255,o>>>0&255,s>>>24&255,s>>>16&255,s>>>8&255,s>>>0&255,u>>>24&255,u>>>16&255,u>>>8&255,u>>>0&255,c>>>24&255,c>>>16&255,c>>>8&255,c>>>0&255]}function i(e,t,r){e=e.length<=64?e:n(e);var i,a=64+t.length+4,o=new Array(a),s=new Array(64),u=[];for(i=0;i<64;i++)o[i]=54;for(i=0;i<e.length;i++)o[i]^=e[i];for(i=0;i<t.length;i++)o[64+i]=t[i];for(i=a-4;i<a;i++)o[i]=0;for(i=0;i<64;i++)s[i]=92;for(i=0;i<e.length;i++)s[i]^=e[i];function c(){for(var e=a-1;e>=a-4;e--){if(o[e]++,o[e]<=255)return;o[e]=0}}for(;r>=32;)c(),u=u.concat(n(s.concat(n(o)))),r-=32;return r>0&&(c(),u=u.concat(n(s.concat(n(o))).slice(0,r))),u}function a(e,t,r,n,i){var a;for(c(e,16*(2*r-1),i,0,16),a=0;a<2*r;a++)u(e,16*a,i,16),s(i,n),c(i,0,e,t+16*a,16);for(a=0;a<r;a++)c(e,t+2*a*16,e,16*a,16);for(a=0;a<r;a++)c(e,t+16*(2*a+1),e,16*(a+r),16)}function o(e,t){return e<<t|e>>>32-t}function s(e,t){c(e,0,t,0,16);for(var r=8;r>0;r-=2)t[4]^=o(t[0]+t[12],7),t[8]^=o(t[4]+t[0],9),t[12]^=o(t[8]+t[4],13),t[0]^=o(t[12]+t[8],18),t[9]^=o(t[5]+t[1],7),t[13]^=o(t[9]+t[5],9),t[1]^=o(t[13]+t[9],13),t[5]^=o(t[1]+t[13],18),t[14]^=o(t[10]+t[6],7),t[2]^=o(t[14]+t[10],9),t[6]^=o(t[2]+t[14],13),t[10]^=o(t[6]+t[2],18),t[3]^=o(t[15]+t[11],7),t[7]^=o(t[3]+t[15],9),t[11]^=o(t[7]+t[3],13),t[15]^=o(t[11]+t[7],18),t[1]^=o(t[0]+t[3],7),t[2]^=o(t[1]+t[0],9),t[3]^=o(t[2]+t[1],13),t[0]^=o(t[3]+t[2],18),t[6]^=o(t[5]+t[4],7),t[7]^=o(t[6]+t[5],9),t[4]^=o(t[7]+t[6],13),t[5]^=o(t[4]+t[7],18),t[11]^=o(t[10]+t[9],7),t[8]^=o(t[11]+t[10],9),t[9]^=o(t[8]+t[11],13),t[10]^=o(t[9]+t[8],18),t[12]^=o(t[15]+t[14],7),t[13]^=o(t[12]+t[15],9),t[14]^=o(t[13]+t[12],13),t[15]^=o(t[14]+t[13],18);for(var n=0;n<16;++n)e[n]+=t[n]}function u(e,t,r,n){for(var i=0;i<n;i++)r[i]^=e[t+i]}function c(e,t,r,n,i){for(;i--;)r[n++]=e[t++]}function l(e){if(!e||"number"!=typeof e.length)return!1;for(var t=0;t<e.length;t++){var r=e[t];if("number"!=typeof r||r%1||r<0||r>=256)return!1}return!0}function f(e,t){if("number"!=typeof e||e%1)throw new Error("invalid "+t);return e}function p(e,t,n,o,s,p,d){if(n=f(n,"N"),o=f(o,"r"),s=f(s,"p"),p=f(p,"dkLen"),0===n||0!=(n&n-1))throw new Error("N must be power of 2");if(n>r/128/o)throw new Error("N too large");if(o>r/128/s)throw new Error("r too large");if(!l(e))throw new Error("password must be an array or buffer");if(e=Array.prototype.slice.call(e),!l(t))throw new Error("salt must be an array or buffer");t=Array.prototype.slice.call(t);for(var h=i(e,t,128*s*o),m=new Uint32Array(32*s*o),y=0;y<m.length;y++){var v=4*y;m[y]=(255&h[v+3])<<24|(255&h[v+2])<<16|(255&h[v+1])<<8|(255&h[v+0])<<0}var g,b,_=new Uint32Array(64*o),w=new Uint32Array(32*o*n),k=32*o,x=new Uint32Array(16),T=new Uint32Array(16),E=s*n*2,A=0,S=null,C=!1,O=0,R=0,P=d?parseInt(1e3/o):4294967295,I="undefined"!=typeof setImmediate?setImmediate:setTimeout,N=function t(){if(C)return d(new Error("cancelled"),A/E);var r;switch(O){case 0:c(m,b=32*R*o,_,0,k),O=1,g=0;case 1:(r=n-g)>P&&(r=P);for(var l=0;l<r;l++)c(_,0,w,(g+l)*k,k),a(_,k,o,x,T);if(g+=r,A+=r,d){var f=parseInt(1e3*A/E);if(f!==S){if(C=d(null,A/E))break;S=f}}if(g<n)break;g=0,O=2;case 2:(r=n-g)>P&&(r=P);for(var y=0;y<r;y++){var v=_[16*(2*o-1)]&n-1;u(w,v*k,_,k),a(_,k,o,x,T)}if(g+=r,A+=r,d){var N=parseInt(1e3*A/E);if(N!==S){if(C=d(null,A/E))break;S=N}}if(g<n)break;if(c(_,0,m,b,k),++R<s){O=0;break}h=[];for(var $=0;$<m.length;$++)h.push(m[$]>>0&255),h.push(m[$]>>8&255),h.push(m[$]>>16&255),h.push(m[$]>>24&255);var B=i(e,h,p);return d&&d(null,1,B),B}d&&I(t)};if(!d)for(;;){var $=N();if(null!=$)return $}N()}var d={scrypt:function(e,t,r,n,i,a,o){return new Promise((function(s,u){var c=0;o&&o(0),p(e,t,r,n,i,a,(function(e,t,r){if(e)u(e);else if(r)o&&1!==c&&o(1),s(new Uint8Array(r));else if(o&&t!==c)return c=t,o(t)}))}))},syncScrypt:function(e,t,r,n,i,a){return new Uint8Array(p(e,t,r,n,i,a))}};e.exports=d}()}(scrypt$1);var scrypt=scrypt$1.exports,__awaiter$a=globalThis&&globalThis.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},logger$k=new Logger(version$8);function hasMnemonic$1(e){return null!=e&&e.mnemonic&&e.mnemonic.phrase}var KeystoreAccount=function(e){_inherits(r,e);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return _createClass(r,[{key:"isKeystoreAccount",value:function(e){return!(!e||!e._isKeystoreAccount)}}]),r}(Description);function _decrypt(e,t,r){if("aes-128-ctr"===searchPath(e,"crypto/cipher")){var n=looseArrayify(searchPath(e,"crypto/cipherparams/iv")),i=new aes.Counter(n);return arrayify(new aes.ModeOfOperation.ctr(t,i).decrypt(r))}return null}function _getAccount(e,t){var r=looseArrayify(searchPath(e,"crypto/ciphertext"));if(hexlify(keccak256$1(concat$3([t.slice(16,32),r]))).substring(2)!==searchPath(e,"crypto/mac").toLowerCase())throw new Error("invalid password");var n=_decrypt(e,t.slice(0,16),r);n||logger$k.throwError("unsupported cipher",Logger.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});var i=t.slice(32,64),a=computeAddress(n);if(e.address){var o=e.address.toLowerCase();if("0x"!==o.substring(0,2)&&(o="0x"+o),_getAddress(o)!==a)throw new Error("address mismatch")}var s={_isKeystoreAccount:!0,address:a,privateKey:hexlify(n)};if("0.1"===searchPath(e,"x-ethers/version")){var u=looseArrayify(searchPath(e,"x-ethers/mnemonicCiphertext")),c=looseArrayify(searchPath(e,"x-ethers/mnemonicCounter")),l=new aes.Counter(c),f=new aes.ModeOfOperation.ctr(i,l),p=searchPath(e,"x-ethers/path")||defaultPath,d=searchPath(e,"x-ethers/locale")||"en",h=arrayify(f.decrypt(u));try{var m=entropyToMnemonic(h,d),y=HDNode.fromMnemonic(m,null,d).derivePath(p);if(y.privateKey!=s.privateKey)throw new Error("mnemonic mismatch");s.mnemonic=y.mnemonic}catch(e){if(e.code!==Logger.errors.INVALID_ARGUMENT||"wordlist"!==e.argument)throw e}}return new KeystoreAccount(s)}function pbkdf2Sync(e,t,r,n,i){return arrayify(pbkdf2$1(e,t,r,n,i))}function pbkdf2(e,t,r,n,i){return Promise.resolve(pbkdf2Sync(e,t,r,n,i))}function _computeKdfKey(e,t,r,n,i){var a=getPassword(t),o=searchPath(e,"crypto/kdf");if(o&&"string"==typeof o){var s=function(e,t){return logger$k.throwArgumentError("invalid key-derivation function parameters",e,t)};if("scrypt"===o.toLowerCase()){var u=looseArrayify(searchPath(e,"crypto/kdfparams/salt")),c=parseInt(searchPath(e,"crypto/kdfparams/n")),l=parseInt(searchPath(e,"crypto/kdfparams/r")),f=parseInt(searchPath(e,"crypto/kdfparams/p"));c&&l&&f||s("kdf",o),0!=(c&c-1)&&s("N",c);var p=parseInt(searchPath(e,"crypto/kdfparams/dklen"));return 32!==p&&s("dklen",p),n(a,u,c,l,f,64,i)}if("pbkdf2"===o.toLowerCase()){var d=looseArrayify(searchPath(e,"crypto/kdfparams/salt")),h=null,m=searchPath(e,"crypto/kdfparams/prf");"hmac-sha256"===m?h="sha256":"hmac-sha512"===m?h="sha512":s("prf",m);var y=parseInt(searchPath(e,"crypto/kdfparams/c")),v=parseInt(searchPath(e,"crypto/kdfparams/dklen"));return 32!==v&&s("dklen",v),r(a,d,y,v,h)}}return logger$k.throwArgumentError("unsupported key-derivation function","kdf",o)}function decryptSync(e,t){var r=JSON.parse(e);return _getAccount(r,_computeKdfKey(r,t,pbkdf2Sync,scrypt.syncScrypt))}function decrypt(e,t,r){return __awaiter$a(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=JSON.parse(e),n.next=3,_computeKdfKey(i,t,pbkdf2,scrypt.scrypt,r);case 3:return a=n.sent,n.abrupt("return",_getAccount(i,a));case 5:case"end":return n.stop()}}),n)})))}function _encrypt(e,t,r,n){try{if(_getAddress(e.address)!==computeAddress(e.privateKey))throw new Error("address/privateKey mismatch");if(hasMnemonic$1(e)){var i=e.mnemonic;if(HDNode.fromMnemonic(i.phrase,null,i.locale).derivePath(i.path||defaultPath).privateKey!=e.privateKey)throw new Error("mnemonic mismatch")}}catch(e){return Promise.reject(e)}"function"!=typeof r||n||(n=r,r={}),r||(r={});var a=arrayify(e.privateKey),o=getPassword(t),s=null,u=null,c=null;if(hasMnemonic$1(e)){var l=e.mnemonic;s=arrayify(mnemonicToEntropy(l.phrase,l.locale||"en")),u=l.path||defaultPath,c=l.locale||"en"}var f=r.client;f||(f="ethers.js");var p;p=r.salt?arrayify(r.salt):randomBytes(32);var d=null;if(r.iv){if(16!==(d=arrayify(r.iv)).length)throw new Error("invalid iv")}else d=randomBytes(16);var h=null;if(r.uuid){if(16!==(h=arrayify(r.uuid)).length)throw new Error("invalid uuid")}else h=randomBytes(16);var m=1<<17,y=8,v=1;return r.scrypt&&(r.scrypt.N&&(m=r.scrypt.N),r.scrypt.r&&(y=r.scrypt.r),r.scrypt.p&&(v=r.scrypt.p)),scrypt.scrypt(o,p,m,y,v,64,n).then((function(t){var r=(t=arrayify(t)).slice(0,16),n=t.slice(16,32),i=t.slice(32,64),o=new aes.Counter(d),l=arrayify(new aes.ModeOfOperation.ctr(r,o).encrypt(a)),g=keccak256$1(concat$3([n,l])),b={address:e.address.substring(2).toLowerCase(),id:uuidV4(h),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:hexlify(d).substring(2)},ciphertext:hexlify(l).substring(2),kdf:"scrypt",kdfparams:{salt:hexlify(p).substring(2),n:m,dklen:32,p:v,r:y},mac:g.substring(2)}};if(s){var _=randomBytes(16),w=new aes.Counter(_),k=arrayify(new aes.ModeOfOperation.ctr(i,w).encrypt(s)),x=new Date,T=x.getUTCFullYear()+"-"+zpad(x.getUTCMonth()+1,2)+"-"+zpad(x.getUTCDate(),2)+"T"+zpad(x.getUTCHours(),2)+"-"+zpad(x.getUTCMinutes(),2)+"-"+zpad(x.getUTCSeconds(),2)+".0Z";b["x-ethers"]={client:f,gethFilename:"UTC--"+T+"--"+b.address,mnemonicCounter:hexlify(_).substring(2),mnemonicCiphertext:hexlify(k).substring(2),path:u,locale:c,version:"0.1"}}return JSON.stringify(b)}))}function decryptJsonWallet(e,t,r){if(isCrowdsaleWallet(e)){r&&r(0);var n=decrypt$1(e,t);return r&&r(1),Promise.resolve(n)}return isKeystoreWallet(e)?decrypt(e,t,r):Promise.reject(new Error("invalid JSON wallet"))}function decryptJsonWalletSync(e,t){if(isCrowdsaleWallet(e))return decrypt$1(e,t);if(isKeystoreWallet(e))return decryptSync(e,t);throw new Error("invalid JSON wallet")}var lib_esm$6=Object.freeze(Object.defineProperty({__proto__:null,decryptCrowdsale:decrypt$1,decryptKeystore:decrypt,decryptKeystoreSync:decryptSync,encryptKeystore:_encrypt,isCrowdsaleWallet,isKeystoreWallet,getJsonWalletAddress,decryptJsonWallet,decryptJsonWalletSync},Symbol.toStringTag,{value:"Module"})),version$7="wallet/5.6.2",__awaiter$9=globalThis&&globalThis.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},logger$j=new Logger(version$7);function isAccount(e){return null!=e&&isHexString(e.privateKey,32)&&null!=e.address}function hasMnemonic(e){var t=e.mnemonic;return t&&t.phrase}var Wallet=function(e){_inherits(r,e);var t=_createSuper(r);function r(e,n){var i;if(_classCallCheck(this,r),i=t.call(this),isAccount(e)){var a=new SigningKey(e.privateKey);if(defineReadOnly(_assertThisInitialized(i),"_signingKey",(function(){return a})),defineReadOnly(_assertThisInitialized(i),"address",computeAddress(i.publicKey)),i.address!==_getAddress(e.address)&&logger$j.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),hasMnemonic(e)){var o=e.mnemonic;defineReadOnly(_assertThisInitialized(i),"_mnemonic",(function(){return{phrase:o.phrase,path:o.path||defaultPath,locale:o.locale||"en"}}));var s=i.mnemonic;computeAddress(HDNode.fromMnemonic(s.phrase,null,s.locale).derivePath(s.path).privateKey)!==i.address&&logger$j.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else defineReadOnly(_assertThisInitialized(i),"_mnemonic",(function(){return null}))}else{if(SigningKey.isSigningKey(e))"secp256k1"!==e.curve&&logger$j.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),defineReadOnly(_assertThisInitialized(i),"_signingKey",(function(){return e}));else{"string"==typeof e&&e.match(/^[0-9a-f]*$/i)&&64===e.length&&(e="0x"+e);var u=new SigningKey(e);defineReadOnly(_assertThisInitialized(i),"_signingKey",(function(){return u}))}defineReadOnly(_assertThisInitialized(i),"_mnemonic",(function(){return null})),defineReadOnly(_assertThisInitialized(i),"address",computeAddress(i.publicKey))}return n&&!Provider.isProvider(n)&&logger$j.throwArgumentError("invalid provider","provider",n),defineReadOnly(_assertThisInitialized(i),"provider",n||null),i}return _createClass(r,[{key:"mnemonic",get:function(){return this._mnemonic()}},{key:"privateKey",get:function(){return this._signingKey().privateKey}},{key:"publicKey",get:function(){return this._signingKey().publicKey}},{key:"getAddress",value:function(){return Promise.resolve(this.address)}},{key:"connect",value:function(e){return new r(this,e)}},{key:"signTransaction",value:function(e){var t=this;return resolveProperties(e).then((function(r){null!=r.from&&(_getAddress(r.from)!==t.address&&logger$j.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete r.from);var n=t._signingKey().signDigest(keccak256$1(serialize$1(r)));return serialize$1(r,n)}))}},{key:"signMessage",value:function(e){return __awaiter$9(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",joinSignature(this._signingKey().signDigest(hashMessage(e))));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"_signTypedData",value:function(e,t,r){return __awaiter$9(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i,a=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,TypedDataEncoder.resolveNames(e,t,r,(function(e){return null==a.provider&&logger$j.throwError("cannot resolve ENS names without a provider",Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:e}),a.provider.resolveName(e)}));case 2:return i=n.sent,n.abrupt("return",joinSignature(this._signingKey().signDigest(TypedDataEncoder.hash(i.domain,t,i.value))));case 4:case"end":return n.stop()}}),n,this)})))}},{key:"encrypt",value:function(e,t,r){if("function"!=typeof t||r||(r=t,t={}),r&&"function"!=typeof r)throw new Error("invalid callback");return t||(t={}),_encrypt(this,e,t,r)}}],[{key:"createRandom",value:function(e){var t=randomBytes(16);e||(e={}),e.extraEntropy&&(t=arrayify(hexDataSlice(keccak256$1(concat$3([t,e.extraEntropy])),0,16)));var n=entropyToMnemonic(t,e.locale);return r.fromMnemonic(n,e.path,e.locale)}},{key:"fromEncryptedJson",value:function(e,t,n){return decryptJsonWallet(e,t,n).then((function(e){return new r(e)}))}},{key:"fromEncryptedJsonSync",value:function(e,t){return new r(decryptJsonWalletSync(e,t))}},{key:"fromMnemonic",value:function(e,t,n){return t||(t=defaultPath),new r(HDNode.fromMnemonic(e,null,n).derivePath(t))}}]),r}(Signer);function verifyMessage(e,t){return recoverAddress(hashMessage(e),t)}function verifyTypedData(e,t,r,n){return recoverAddress(TypedDataEncoder.hash(e,t,r),n)}var lib_esm$5=Object.freeze(Object.defineProperty({__proto__:null,Wallet,verifyMessage,verifyTypedData},Symbol.toStringTag,{value:"Module"})),version$6="networks/5.6.3",logger$i=new Logger(version$6);function isRenetworkable(e){return e&&"function"==typeof e.renetwork}function ethDefaultProvider(e){var t=function(t,r){null==r&&(r={});var n=[];if(t.InfuraProvider&&"-"!==r.infura)try{n.push(new t.InfuraProvider(e,r.infura))}catch(e){}if(t.EtherscanProvider&&"-"!==r.etherscan)try{n.push(new t.EtherscanProvider(e,r.etherscan))}catch(e){}if(t.AlchemyProvider&&"-"!==r.alchemy)try{n.push(new t.AlchemyProvider(e,r.alchemy))}catch(e){}if(t.PocketProvider&&"-"!==r.pocket)try{var i=new t.PocketProvider(e,r.pocket);i.network&&-1===["goerli","ropsten","rinkeby"].indexOf(i.network.name)&&n.push(i)}catch(e){}if(t.CloudflareProvider&&"-"!==r.cloudflare)try{n.push(new t.CloudflareProvider(e))}catch(e){}if(t.AnkrProvider&&"-"!==r.ankr)try{n.push(new t.AnkrProvider(e,r.ankr))}catch(e){}if(0===n.length)return null;if(t.FallbackProvider){var a=1;return null!=r.quorum?a=r.quorum:"homestead"===e&&(a=2),new t.FallbackProvider(n,a)}return n[0]};return t.renetwork=function(e){return ethDefaultProvider(e)},t}function etcDefaultProvider(e,t){var r=function(r,n){return r.JsonRpcProvider?new r.JsonRpcProvider(e,t):null};return r.renetwork=function(t){return etcDefaultProvider(e,t)},r}var homestead={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:ethDefaultProvider("homestead")},ropsten={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:ethDefaultProvider("ropsten")},classicMordor={chainId:63,name:"classicMordor",_defaultProvider:etcDefaultProvider("https://www.ethercluster.com/mordor","classicMordor")},networks={unspecified:{chainId:0,name:"unspecified"},homestead,mainnet:homestead,morden:{chainId:2,name:"morden"},ropsten,testnet:ropsten,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:ethDefaultProvider("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:ethDefaultProvider("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:ethDefaultProvider("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},classic:{chainId:61,name:"classic",_defaultProvider:etcDefaultProvider("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor,classicTestnet:classicMordor,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:etcDefaultProvider("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:ethDefaultProvider("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:ethDefaultProvider("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function _getNetwork(e){if(null==e)return null;if("number"==typeof e){for(var t in networks){var r=networks[t];if(r.chainId===e)return{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress||null,_defaultProvider:r._defaultProvider||null}}return{chainId:e,name:"unknown"}}if("string"==typeof e){var n=networks[e];return null==n?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}var i=networks[e.name];if(!i)return"number"!=typeof e.chainId&&logger$i.throwArgumentError("invalid network chainId","network",e),e;0!==e.chainId&&e.chainId!==i.chainId&&logger$i.throwArgumentError("network chainId mismatch","network",e);var a=e._defaultProvider||null;return null==a&&i._defaultProvider&&(a=isRenetworkable(i._defaultProvider)?i._defaultProvider.renetwork(e):i._defaultProvider),{name:e.name,chainId:i.chainId,ensAddress:e.ensAddress||i.ensAddress||null,_defaultProvider:a}}function decode$b(e){e=atob(e);for(var t=[],r=0;r<e.length;r++)t.push(e.charCodeAt(r));return arrayify(t)}function encode$b(e){e=arrayify(e);for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}var lib_esm$4=Object.freeze(Object.defineProperty({__proto__:null,decode:decode$b,encode:encode$b},Symbol.toStringTag,{value:"Module"})),version$5="web/5.6.1",__awaiter$8=globalThis&&globalThis.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};function getUrl(e,t){return __awaiter$8(this,void 0,void 0,regeneratorRuntime.mark((function r(){var n,i,a,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return null==t&&(t={}),n={method:t.method||"GET",headers:t.headers||{},body:t.body||void 0},!0!==t.skipFetchSetup&&(n.mode="cors",n.cache="no-cache",n.credentials="same-origin",n.redirect="follow",n.referrer="client"),r.next=5,fetch(e,n);case 5:return i=r.sent,r.next=8,i.arrayBuffer();case 8:return a=r.sent,o={},i.headers.forEach?i.headers.forEach((function(e,t){o[t.toLowerCase()]=e})):i.headers.keys().forEach((function(e){o[e.toLowerCase()]=i.headers.get(e)})),r.abrupt("return",{headers:o,statusCode:i.status,statusMessage:i.statusText,body:arrayify(new Uint8Array(a))});case 12:case"end":return r.stop()}}),r)})))}var __awaiter$7=globalThis&&globalThis.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},logger$h=new Logger(version$5);function staller(e){return new Promise((function(t){setTimeout(t,e)}))}function bodyify(e,t){if(null==e)return null;if("string"==typeof e)return e;if(isBytesLike(e)){if(t&&("text"===t.split("/")[0]||"application/json"===t.split(";")[0].trim()))try{return toUtf8String(e)}catch(e){}return hexlify(e)}return e}function _fetchData(e,t,r){var n="object"===_typeof(e)&&null!=e.throttleLimit?e.throttleLimit:12;logger$h.assertArgument(n>0&&n%1==0,"invalid connection throttle limit","connection.throttleLimit",n);var i="object"===_typeof(e)?e.throttleCallback:null,a="object"===_typeof(e)&&"number"==typeof e.throttleSlotInterval?e.throttleSlotInterval:100;logger$h.assertArgument(a>0&&a%1==0,"invalid connection throttle slot interval","connection.throttleSlotInterval",a);var o="object"===_typeof(e)&&!!e.errorPassThrough,s={},u=null,c={method:"GET"},l=!1,f=12e4;if("string"==typeof e)u=e;else if("object"===_typeof(e)){if(null!=e&&null!=e.url||logger$h.throwArgumentError("missing URL","connection.url",e),u=e.url,"number"==typeof e.timeout&&e.timeout>0&&(f=e.timeout),e.headers)for(var p in e.headers)s[p.toLowerCase()]={key:p,value:String(e.headers[p])},["if-none-match","if-modified-since"].indexOf(p.toLowerCase())>=0&&(l=!0);if(c.allowGzip=!!e.allowGzip,null!=e.user&&null!=e.password){"https:"!==u.substring(0,6)&&!0!==e.allowInsecureAuthentication&&logger$h.throwError("basic authentication requires a secure https url",Logger.errors.INVALID_ARGUMENT,{argument:"url",url:u,user:e.user,password:"[REDACTED]"});var d=e.user+":"+e.password;s.authorization={key:"Authorization",value:"Basic "+encode$b(toUtf8Bytes(d))}}null!=e.skipFetchSetup&&(c.skipFetchSetup=!!e.skipFetchSetup)}var h=new RegExp("^data:([a-z0-9-]+/[a-z0-9-]+);base64,(.*)$","i"),m=u?u.match(h):null;if(m)try{var y={statusCode:200,statusMessage:"OK",headers:{"content-type":m[1]},body:decode$b(m[2])},v=y.body;return r&&(v=r(y.body,y)),Promise.resolve(v)}catch(e){logger$h.throwError("processing response error",Logger.errors.SERVER_ERROR,{body:bodyify(m[1],m[2]),error:e,requestBody:null,requestMethod:"GET",url:u})}t&&(c.method="POST",c.body=t,null==s["content-type"]&&(s["content-type"]={key:"Content-Type",value:"application/octet-stream"}),null==s["content-length"]&&(s["content-length"]={key:"Content-Length",value:String(t.length)}));var g={};Object.keys(s).forEach((function(e){var t=s[e];g[t.key]=t.value})),c.headers=g;var b,_=(b=null,{promise:new Promise((function(e,t){f&&(b=setTimeout((function(){null!=b&&(b=null,t(logger$h.makeError("timeout",Logger.errors.TIMEOUT,{requestBody:bodyify(c.body,g["content-type"]),requestMethod:c.method,timeout:f,url:u})))}),f))})),cancel:function(){null!=b&&(clearTimeout(b),b=null)}}),w=function(){return __awaiter$7(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,s,f,p,d,h,m,y,v,b;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<n)){e.next=65;break}return s=null,e.prev=3,e.next=6,getUrl(u,c);case 6:if(s=e.sent,!(t<n)){e.next=28;break}if(301!==s.statusCode&&302!==s.statusCode){e.next=15;break}if(f=s.headers.location||"","GET"!==c.method||!f.match(/^https:/)){e.next=13;break}return u=s.headers.location,e.abrupt("continue",62);case 13:e.next=28;break;case 15:if(429!==s.statusCode){e.next=28;break}if(p=!0,!i){e.next=21;break}return e.next=20,i(t,u);case 20:p=e.sent;case 21:if(!p){e.next=28;break}return 0,h=s.headers["retry-after"],d="string"==typeof h&&h.match(/^[1-9][0-9]*$/)?1e3*parseInt(h):a*parseInt(String(Math.random()*Math.pow(2,t))),e.next=27,staller(d);case 27:return e.abrupt("continue",62);case 28:e.next=34;break;case 30:e.prev=30,e.t0=e.catch(3),null==(s=e.t0.response)&&(_.cancel(),logger$h.throwError("missing response",Logger.errors.SERVER_ERROR,{requestBody:bodyify(c.body,g["content-type"]),requestMethod:c.method,serverError:e.t0,url:u}));case 34:if(m=s.body,l&&304===s.statusCode?m=null:!o&&(s.statusCode<200||s.statusCode>=300)&&(_.cancel(),logger$h.throwError("bad response",Logger.errors.SERVER_ERROR,{status:s.statusCode,headers:s.headers,body:bodyify(m,s.headers?s.headers["content-type"]:null),requestBody:bodyify(c.body,g["content-type"]),requestMethod:c.method,url:u})),!r){e.next=60;break}return e.prev=37,e.next=40,r(m,s);case 40:return y=e.sent,_.cancel(),e.abrupt("return",y);case 45:if(e.prev=45,e.t1=e.catch(37),!(e.t1.throttleRetry&&t<n)){e.next=58;break}if(v=!0,!i){e.next=53;break}return e.next=52,i(t,u);case 52:v=e.sent;case 53:if(!v){e.next=58;break}return b=a*parseInt(String(Math.random()*Math.pow(2,t))),e.next=57,staller(b);case 57:return e.abrupt("continue",62);case 58:_.cancel(),logger$h.throwError("processing response error",Logger.errors.SERVER_ERROR,{body:bodyify(m,s.headers?s.headers["content-type"]:null),error:e.t1,requestBody:bodyify(c.body,g["content-type"]),requestMethod:c.method,url:u});case 60:return _.cancel(),e.abrupt("return",m);case 62:t++,e.next=1;break;case 65:return e.abrupt("return",logger$h.throwError("failed response",Logger.errors.SERVER_ERROR,{requestBody:bodyify(c.body,g["content-type"]),requestMethod:c.method,url:u}));case 66:case"end":return e.stop()}}),e,null,[[3,30],[37,45]])})))}();return Promise.race([_.promise,w])}function fetchJson(e,t,r){var n=null;if(null!=t){n=toUtf8Bytes(t);var i="string"==typeof e?{url:e}:shallowCopy(e);i.headers?0!==Object.keys(i.headers).filter((function(e){return"content-type"===e.toLowerCase()})).length||(i.headers=shallowCopy(i.headers),i.headers["content-type"]="application/json"):i.headers={"content-type":"application/json"},e=i}return _fetchData(e,n,(function(e,t){var n=null;if(null!=e)try{n=JSON.parse(toUtf8String(e))}catch(t){logger$h.throwError("invalid JSON",Logger.errors.SERVER_ERROR,{body:e,error:t})}return r&&(n=r(n,t)),n}))}function poll(e,t){return t||(t={}),null==(t=shallowCopy(t)).floor&&(t.floor=0),null==t.ceiling&&(t.ceiling=1e4),null==t.interval&&(t.interval=250),new Promise((function(r,n){var i=null,a=!1,o=function(){return!a&&(a=!0,i&&clearTimeout(i),!0)};t.timeout&&(i=setTimeout((function(){o()&&n(new Error("timeout"))}),t.timeout));var s=t.retryLimit,u=0;!function i(){return e().then((function(e){if(void 0!==e)o()&&r(e);else if(t.oncePoll)t.oncePoll.once("poll",i);else if(t.onceBlock)t.onceBlock.once("block",i);else if(!a){if(++u>s)return void(o()&&n(new Error("retry limit reached")));var c=t.interval*parseInt(String(Math.random()*Math.pow(2,u)));c<t.floor&&(c=t.floor),c>t.ceiling&&(c=t.ceiling),setTimeout(i,c)}return null}),(function(e){o()&&n(e)}))}()}))}for(var lib_esm$3=Object.freeze(Object.defineProperty({__proto__:null,_fetchData,fetchJson,poll},Symbol.toStringTag,{value:"Module"})),ALPHABET="qpzry9x8gf2tvdw0s3jn54khce6mua7l",ALPHABET_MAP={},z$1=0;z$1<ALPHABET.length;z$1++){var x=ALPHABET.charAt(z$1);if(void 0!==ALPHABET_MAP[x])throw new TypeError(x+" is ambiguous");ALPHABET_MAP[x]=z$1}function polymodStep(e){var t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function prefixChk(e){for(var t=1,r=0;r<e.length;++r){var n=e.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+e+")";t=polymodStep(t)^n>>5}for(t=polymodStep(t),r=0;r<e.length;++r){var i=e.charCodeAt(r);t=polymodStep(t)^31&i}return t}function encode$a(e,t,r){if(r=r||90,e.length+7+t.length>r)throw new TypeError("Exceeds length limit");var n=prefixChk(e=e.toLowerCase());if("string"==typeof n)throw new Error(n);for(var i=e+"1",a=0;a<t.length;++a){var o=t[a];if(o>>5!=0)throw new Error("Non 5-bit word");n=polymodStep(n)^o,i+=ALPHABET.charAt(o)}for(a=0;a<6;++a)n=polymodStep(n);for(n^=1,a=0;a<6;++a){var s=n>>5*(5-a)&31;i+=ALPHABET.charAt(s)}return i}function __decode(e,t){if(t=t||90,e.length<8)return e+" too short";if(e.length>t)return"Exceeds length limit";var r=e.toLowerCase(),n=e.toUpperCase();if(e!==r&&e!==n)return"Mixed-case string "+e;var i=(e=r).lastIndexOf("1");if(-1===i)return"No separator character for "+e;if(0===i)return"Missing prefix for "+e;var a=e.slice(0,i),o=e.slice(i+1);if(o.length<6)return"Data too short";var s=prefixChk(a);if("string"==typeof s)return s;for(var u=[],c=0;c<o.length;++c){var l=o.charAt(c),f=ALPHABET_MAP[l];if(void 0===f)return"Unknown character "+l;s=polymodStep(s)^f,c+6>=o.length||u.push(f)}return 1!==s?"Invalid checksum for "+e:{prefix:a,words:u}}function decodeUnsafe(){var e=__decode.apply(null,arguments);if("object"===_typeof(e))return e}function decode$a(e){var t=__decode.apply(null,arguments);if("object"===_typeof(t))return t;throw new Error(t)}function convert(e,t,r,n){for(var i=0,a=0,o=(1<<r)-1,s=[],u=0;u<e.length;++u)for(i=i<<t|e[u],a+=t;a>=r;)a-=r,s.push(i>>a&o);if(n)a>0&&s.push(i<<r-a&o);else{if(a>=t)return"Excess padding";if(i<<r-a&o)return"Non-zero padding"}return s}function toWordsUnsafe(e){var t=convert(e,8,5,!0);if(Array.isArray(t))return t}function toWords(e){var t=convert(e,8,5,!0);if(Array.isArray(t))return t;throw new Error(t)}function fromWordsUnsafe(e){var t=convert(e,5,8,!1);if(Array.isArray(t))return t}function fromWords(e){var t=convert(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}var bech32={decodeUnsafe,decode:decode$a,encode:encode$a,toWordsUnsafe,toWords,fromWordsUnsafe,fromWords},version$4="providers/5.6.8",logger$g=new Logger(version$4),Formatter=function(){function e(){_classCallCheck(this,e),this.formats=this.getDefaultFormats()}return _createClass(e,[{key:"getDefaultFormats",value:function(){var t=this,r={},n=this.address.bind(this),i=this.bigNumber.bind(this),a=this.blockTag.bind(this),o=this.data.bind(this),s=this.hash.bind(this),u=this.hex.bind(this),c=this.number.bind(this),l=this.type.bind(this);return r.transaction={hash:s,type:l,accessList:e.allowNull(this.accessList.bind(this),null),blockHash:e.allowNull(s,null),blockNumber:e.allowNull(c,null),transactionIndex:e.allowNull(c,null),confirmations:e.allowNull(c,null),from:n,gasPrice:e.allowNull(i),maxPriorityFeePerGas:e.allowNull(i),maxFeePerGas:e.allowNull(i),gasLimit:i,to:e.allowNull(n,null),value:i,nonce:c,data:o,r:e.allowNull(this.uint256),s:e.allowNull(this.uint256),v:e.allowNull(c),creates:e.allowNull(n,null),raw:e.allowNull(o)},r.transactionRequest={from:e.allowNull(n),nonce:e.allowNull(c),gasLimit:e.allowNull(i),gasPrice:e.allowNull(i),maxPriorityFeePerGas:e.allowNull(i),maxFeePerGas:e.allowNull(i),to:e.allowNull(n),value:e.allowNull(i),data:e.allowNull((function(e){return t.data(e,!0)})),type:e.allowNull(c),accessList:e.allowNull(this.accessList.bind(this),null)},r.receiptLog={transactionIndex:c,blockNumber:c,transactionHash:s,address:n,topics:e.arrayOf(s),data:o,logIndex:c,blockHash:s},r.receipt={to:e.allowNull(this.address,null),from:e.allowNull(this.address,null),contractAddress:e.allowNull(n,null),transactionIndex:c,root:e.allowNull(u),gasUsed:i,logsBloom:e.allowNull(o),blockHash:s,transactionHash:s,logs:e.arrayOf(this.receiptLog.bind(this)),blockNumber:c,confirmations:e.allowNull(c,null),cumulativeGasUsed:i,effectiveGasPrice:e.allowNull(i),status:e.allowNull(c),type:l},r.block={hash:e.allowNull(s),parentHash:s,number:c,timestamp:c,nonce:e.allowNull(u),difficulty:this.difficulty.bind(this),gasLimit:i,gasUsed:i,miner:e.allowNull(n),extraData:o,transactions:e.allowNull(e.arrayOf(s)),baseFeePerGas:e.allowNull(i)},r.blockWithTransactions=shallowCopy(r.block),r.blockWithTransactions.transactions=e.allowNull(e.arrayOf(this.transactionResponse.bind(this))),r.filter={fromBlock:e.allowNull(a,void 0),toBlock:e.allowNull(a,void 0),blockHash:e.allowNull(s,void 0),address:e.allowNull(n,void 0),topics:e.allowNull(this.topics.bind(this),void 0)},r.filterLog={blockNumber:e.allowNull(c),blockHash:e.allowNull(s),transactionIndex:c,removed:e.allowNull(this.boolean.bind(this)),address:n,data:e.allowFalsish(o,"0x"),topics:e.arrayOf(s),transactionHash:s,logIndex:c},r}},{key:"accessList",value:function(e){return accessListify(e||[])}},{key:"number",value:function(e){return"0x"===e?0:BigNumber.from(e).toNumber()}},{key:"type",value:function(e){return"0x"===e||null==e?0:BigNumber.from(e).toNumber()}},{key:"bigNumber",value:function(e){return BigNumber.from(e)}},{key:"boolean",value:function(e){if("boolean"==typeof e)return e;if("string"==typeof e){if("true"===(e=e.toLowerCase()))return!0;if("false"===e)return!1}throw new Error("invalid boolean - "+e)}},{key:"hex",value:function(e,t){return"string"==typeof e&&(t||"0x"===e.substring(0,2)||(e="0x"+e),isHexString(e))?e.toLowerCase():logger$g.throwArgumentError("invalid hash","value",e)}},{key:"data",value:function(e,t){var r=this.hex(e,t);if(r.length%2!=0)throw new Error("invalid data; odd-length - "+e);return r}},{key:"address",value:function(e){return _getAddress(e)}},{key:"callAddress",value:function(e){if(!isHexString(e,32))return null;var t=_getAddress(hexDataSlice(e,12));return t===AddressZero?null:t}},{key:"contractAddress",value:function(e){return _getContractAddress(e)}},{key:"blockTag",value:function(e){if(null==e)return"latest";if("earliest"===e)return"0x0";if("latest"===e||"pending"===e)return e;if("number"==typeof e||isHexString(e))return hexValue(e);throw new Error("invalid blockTag")}},{key:"hash",value:function(e,t){var r=this.hex(e,t);return 32!==hexDataLength(r)?logger$g.throwArgumentError("invalid hash","value",e):r}},{key:"difficulty",value:function(e){if(null==e)return null;var t=BigNumber.from(e);try{return t.toNumber()}catch(e){}return null}},{key:"uint256",value:function(e){if(!isHexString(e))throw new Error("invalid uint256");return hexZeroPad(e,32)}},{key:"_block",value:function(t,r){null!=t.author&&null==t.miner&&(t.miner=t.author);var n=null!=t._difficulty?t._difficulty:t.difficulty,i=e.check(r,t);return i._difficulty=null==n?null:BigNumber.from(n),i}},{key:"block",value:function(e){return this._block(e,this.formats.block)}},{key:"blockWithTransactions",value:function(e){return this._block(e,this.formats.blockWithTransactions)}},{key:"transactionRequest",value:function(t){return e.check(this.formats.transactionRequest,t)}},{key:"transactionResponse",value:function(t){null!=t.gas&&null==t.gasLimit&&(t.gasLimit=t.gas),t.to&&BigNumber.from(t.to).isZero()&&(t.to="0x0000000000000000000000000000000000000000"),null!=t.input&&null==t.data&&(t.data=t.input),null==t.to&&null==t.creates&&(t.creates=this.contractAddress(t)),1!==t.type&&2!==t.type||null!=t.accessList||(t.accessList=[]);var r=e.check(this.formats.transaction,t);if(null!=t.chainId){var n=t.chainId;isHexString(n)&&(n=BigNumber.from(n).toNumber()),r.chainId=n}else{var i=t.networkId;null==i&&null==r.v&&(i=t.chainId),isHexString(i)&&(i=BigNumber.from(i).toNumber()),"number"!=typeof i&&null!=r.v&&((i=(r.v-35)/2)<0&&(i=0),i=parseInt(i)),"number"!=typeof i&&(i=0),r.chainId=i}return r.blockHash&&"x"===r.blockHash.replace(/0/g,"")&&(r.blockHash=null),r}},{key:"transaction",value:function(e){return parse$1(e)}},{key:"receiptLog",value:function(t){return e.check(this.formats.receiptLog,t)}},{key:"receipt",value:function(t){var r=e.check(this.formats.receipt,t);if(null!=r.root)if(r.root.length<=4){var n=BigNumber.from(r.root).toNumber();0===n||1===n?(null!=r.status&&r.status!==n&&logger$g.throwArgumentError("alt-root-status/status mismatch","value",{root:r.root,status:r.status}),r.status=n,delete r.root):logger$g.throwArgumentError("invalid alt-root-status","value.root",r.root)}else 66!==r.root.length&&logger$g.throwArgumentError("invalid root hash","value.root",r.root);return null!=r.status&&(r.byzantium=!0),r}},{key:"topics",value:function(e){var t=this;return Array.isArray(e)?e.map((function(e){return t.topics(e)})):null!=e?this.hash(e,!0):null}},{key:"filter",value:function(t){return e.check(this.formats.filter,t)}},{key:"filterLog",value:function(t){return e.check(this.formats.filterLog,t)}}],[{key:"check",value:function(e,t){var r={};for(var n in e)try{var i=e[n](t[n]);void 0!==i&&(r[n]=i)}catch(e){throw e.checkKey=n,e.checkValue=t[n],e}return r}},{key:"allowNull",value:function(e,t){return function(r){return null==r?t:e(r)}}},{key:"allowFalsish",value:function(e,t){return function(r){return r?e(r):t}}},{key:"arrayOf",value:function(e){return function(t){if(!Array.isArray(t))throw new Error("not an array");var r=[];return t.forEach((function(t){r.push(e(t))})),r}}}]),e}();function isCommunityResourcable(e){return e&&"function"==typeof e.isCommunityResource}function isCommunityResource(e){return isCommunityResourcable(e)&&e.isCommunityResource()}var throttleMessage=!1;function showThrottleMessage(){throttleMessage||(throttleMessage=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var __awaiter$6=globalThis&&globalThis.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},logger$f=new Logger(version$4),MAX_CCIP_REDIRECTS=10;function checkTopic(e){return null==e?"null":(32!==hexDataLength(e)&&logger$f.throwArgumentError("invalid topic","topic",e),e.toLowerCase())}function serializeTopics(e){for(e=e.slice();e.length>0&&null==e[e.length-1];)e.pop();return e.map((function(e){if(Array.isArray(e)){var t={};e.forEach((function(e){t[checkTopic(e)]=!0}));var r=Object.keys(t);return r.sort(),r.join("|")}return checkTopic(e)})).join("&")}function deserializeTopics(e){return""===e?[]:e.split(/&/g).map((function(e){if(""===e)return[];var t=e.split("|").map((function(e){return"null"===e?null:e}));return 1===t.length?t[0]:t}))}function getEventTag(e){if("string"==typeof e){if(32===hexDataLength(e=e.toLowerCase()))return"tx:"+e;if(-1===e.indexOf(":"))return e}else{if(Array.isArray(e))return"filter:*:"+serializeTopics(e);if(ForkEvent.isForkEvent(e))throw logger$f.warn("not implemented"),new Error("not implemented");if(e&&"object"===_typeof(e))return"filter:"+(e.address||"*")+":"+serializeTopics(e.topics||[])}throw new Error("invalid event - "+e)}function getTime(){return(new Date).getTime()}function stall$1(e){return new Promise((function(t){setTimeout(t,e)}))}var PollableEvents=["block","network","pending","poll"],Event=function(){function e(t,r,n){_classCallCheck(this,e),defineReadOnly(this,"tag",t),defineReadOnly(this,"listener",r),defineReadOnly(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}return _createClass(e,[{key:"event",get:function(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}},{key:"type",get:function(){return this.tag.split(":")[0]}},{key:"hash",get:function(){var e=this.tag.split(":");return"tx"!==e[0]?null:e[1]}},{key:"filter",get:function(){var e=this.tag.split(":");if("filter"!==e[0])return null;var t=e[1],r=deserializeTopics(e[2]),n={};return r.length>0&&(n.topics=r),t&&"*"!==t&&(n.address=t),n}},{key:"pollable",value:function(){return this.tag.indexOf(":")>=0||PollableEvents.indexOf(this.tag)>=0}}]),e}(),coinInfos={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function bytes32ify(e){return hexZeroPad(BigNumber.from(e).toHexString(),32)}function base58Encode(e){return Base58.encode(concat$3([e,hexDataSlice(sha256$2(sha256$2(e)),0,4)]))}var matcherIpfs=new RegExp("^(ipfs)://(.*)$","i"),matchers=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),matcherIpfs,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function _parseString(e,t){try{return toUtf8String(_parseBytes(e,t))}catch(e){}return null}function _parseBytes(e,t){if("0x"===e)return null;var r=BigNumber.from(hexDataSlice(e,t,t+32)).toNumber(),n=BigNumber.from(hexDataSlice(e,r,r+32)).toNumber();return hexDataSlice(e,r+32,r+32+n)}function getIpfsLink(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):logger$f.throwArgumentError("unsupported IPFS format","link",e),"https://gateway.ipfs.io/ipfs/".concat(e)}function numPad(e){var t=arrayify(e);if(t.length>32)throw new Error("internal; should not happen");var r=new Uint8Array(32);return r.set(t,32-t.length),r}function bytesPad(e){if(e.length%32==0)return e;var t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}function encodeBytes$1(e){for(var t=[],r=0,n=0;n<e.length;n++)t.push(null),r+=32;for(var i=0;i<e.length;i++){var a=arrayify(e[i]);t[i]=numPad(r),t.push(numPad(a.length)),t.push(bytesPad(a)),r+=32+32*Math.ceil(a.length/32)}return hexConcat(t)}var Resolver=function(){function e(t,r,n,i){_classCallCheck(this,e),defineReadOnly(this,"provider",t),defineReadOnly(this,"name",n),defineReadOnly(this,"address",t.formatter.address(r)),defineReadOnly(this,"_resolvedAddress",i)}return _createClass(e,[{key:"supportsWildcard",value:function(){var e=this;return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then((function(e){return BigNumber.from(e).eq(1)})).catch((function(t){if(t.code===Logger.errors.CALL_EXCEPTION)return!1;throw e._supportsEip2544=null,t}))),this._supportsEip2544}},{key:"_fetch",value:function(e,t){return __awaiter$6(this,void 0,void 0,regeneratorRuntime.mark((function r(){var n,i,a;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n={to:this.address,ccipReadEnabled:!0,data:hexConcat([e,namehash(this.name),t||"0x"])},i=!1,r.next=4,this.supportsWildcard();case 4:if(!r.sent){r.next=7;break}i=!0,n.data=hexConcat(["0x9061b923",encodeBytes$1([dnsEncode(this.name),n.data])]);case 7:return r.prev=7,r.next=10,this.provider.call(n);case 10:return arrayify(a=r.sent).length%32==4&&logger$f.throwError("resolver threw error",Logger.errors.CALL_EXCEPTION,{transaction:n,data:a}),i&&(a=_parseBytes(a,0)),r.abrupt("return",a);case 16:if(r.prev=16,r.t0=r.catch(7),r.t0.code!==Logger.errors.CALL_EXCEPTION){r.next=20;break}return r.abrupt("return",null);case 20:throw r.t0;case 21:case"end":return r.stop()}}),r,this,[[7,16]])})))}},{key:"_fetchBytes",value:function(e,t){return __awaiter$6(this,void 0,void 0,regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this._fetch(e,t);case 2:if(null==(n=r.sent)){r.next=5;break}return r.abrupt("return",_parseBytes(n,0));case 5:return r.abrupt("return",null);case 6:case"end":return r.stop()}}),r,this)})))}},{key:"_getAddress",value:function(e,t){var r=coinInfos[String(e)];if(null==r&&logger$f.throwError("unsupported coin type: ".concat(e),Logger.errors.UNSUPPORTED_OPERATION,{operation:"getAddress(".concat(e,")")}),"eth"===r.ilk)return this.provider.formatter.address(t);var n=arrayify(t);if(null!=r.p2pkh){var i=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(i){var a=parseInt(i[1],16);if(i[2].length===2*a&&a>=1&&a<=75)return base58Encode(concat$3([[r.p2pkh],"0x"+i[2]]))}}if(null!=r.p2sh){var o=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(o){var s=parseInt(o[1],16);if(o[2].length===2*s&&s>=1&&s<=75)return base58Encode(concat$3([[r.p2sh],"0x"+o[2]]))}}if(null!=r.prefix){var u=n[1],c=n[0];if(0===c?20!==u&&32!==u&&(c=-1):c=-1,c>=0&&n.length===2+u&&u>=1&&u<=75){var l=bech32.toWords(n.slice(2));return l.unshift(c),bech32.encode(r.prefix,l)}}return null}},{key:"getAddress",value:function(e){return __awaiter$6(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r,n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==e&&(e=60),60!==e){t.next=16;break}return t.prev=2,t.next=5,this._fetch("0x3b3b57de");case 5:if("0x"!==(r=t.sent)&&r!==HashZero){t.next=8;break}return t.abrupt("return",null);case 8:return t.abrupt("return",this.provider.formatter.callAddress(r));case 11:if(t.prev=11,t.t0=t.catch(2),t.t0.code!==Logger.errors.CALL_EXCEPTION){t.next=15;break}return t.abrupt("return",null);case 15:throw t.t0;case 16:return t.next=18,this._fetchBytes("0xf1cb7e06",bytes32ify(e));case 18:if(null!=(n=t.sent)&&"0x"!==n){t.next=21;break}return t.abrupt("return",null);case 21:return null==(i=this._getAddress(e,n))&&logger$f.throwError("invalid or unsupported coin data",Logger.errors.UNSUPPORTED_OPERATION,{operation:"getAddress(".concat(e,")"),coinType:e,data:n}),t.abrupt("return",i);case 24:case"end":return t.stop()}}),t,this,[[2,11]])})))}},{key:"getAvatar",value:function(){return __awaiter$6(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,r,n,i,a,o,s,u,c,l,f,p,d,h,m,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[{type:"name",content:this.name}],e.prev=1,e.next=4,this.getText("avatar");case 4:if(null!=(r=e.sent)){e.next=7;break}return e.abrupt("return",null);case 7:n=0;case 8:if(!(n<matchers.length)){e.next=91;break}if(null!=(i=r.match(matchers[n]))){e.next=12;break}return e.abrupt("continue",88);case 12:a=i[1].toLowerCase(),e.t0=a,e.next="https"===e.t0?16:"data"===e.t0?18:"ipfs"===e.t0?20:"erc721"===e.t0||"erc1155"===e.t0?22:88;break;case 16:return t.push({type:"url",content:r}),e.abrupt("return",{linkage:t,url:r});case 18:return t.push({type:"data",content:r}),e.abrupt("return",{linkage:t,url:r});case 20:return t.push({type:"ipfs",content:r}),e.abrupt("return",{linkage:t,url:getIpfsLink(r)});case 22:if(o="erc721"===a?"0xc87b56dd":"0x0e89341c",t.push({type:a,content:r}),e.t1=this._resolvedAddress,e.t1){e.next=29;break}return e.next=28,this.getAddress();case 28:e.t1=e.sent;case 29:if(s=e.t1,2===(u=(i[2]||"").split("/")).length){e.next=33;break}return e.abrupt("return",null);case 33:return e.next=35,this.provider.formatter.address(u[0]);case 35:if(c=e.sent,l=hexZeroPad(BigNumber.from(u[1]).toHexString(),32),"erc721"!==a){e.next=48;break}return e.t2=this.provider.formatter,e.next=41,this.provider.call({to:c,data:hexConcat(["0x6352211e",l])});case 41:if(e.t3=e.sent,f=e.t2.callAddress.call(e.t2,e.t3),s===f){e.next=45;break}return e.abrupt("return",null);case 45:t.push({type:"owner",content:f}),e.next=57;break;case 48:if("erc1155"!==a){e.next=57;break}return e.t4=BigNumber,e.next=52,this.provider.call({to:c,data:hexConcat(["0x00fdd58e",hexZeroPad(s,32),l])});case 52:if(e.t5=e.sent,!(p=e.t4.from.call(e.t4,e.t5)).isZero()){e.next=56;break}return e.abrupt("return",null);case 56:t.push({type:"balance",content:p.toString()});case 57:return d={to:this.provider.formatter.address(u[0]),data:hexConcat([o,l])},e.t6=_parseString,e.next=61,this.provider.call(d);case 61:if(e.t7=e.sent,null!=(h=(0,e.t6)(e.t7,0))){e.next=65;break}return e.abrupt("return",null);case 65:return t.push({type:"metadata-url-base",content:h}),"erc1155"===a&&(h=h.replace("{id}",l.substring(2)),t.push({type:"metadata-url-expanded",content:h})),h.match(/^ipfs:/i)&&(h=getIpfsLink(h)),t.push({type:"metadata-url",content:h}),e.next=71,fetchJson(h);case 71:if(m=e.sent){e.next=74;break}return e.abrupt("return",null);case 74:if(t.push({type:"metadata",content:JSON.stringify(m)}),"string"==typeof(y=m.image)){e.next=78;break}return e.abrupt("return",null);case 78:if(!y.match(/^(https:\/\/|data:)/i)){e.next=81;break}e.next=86;break;case 81:if(null!=y.match(matcherIpfs)){e.next=84;break}return e.abrupt("return",null);case 84:t.push({type:"url-ipfs",content:y}),y=getIpfsLink(y);case 86:return t.push({type:"url",content:y}),e.abrupt("return",{linkage:t,url:y});case 88:n++,e.next=8;break;case 91:e.next=95;break;case 93:e.prev=93,e.t8=e.catch(1);case 95:return e.abrupt("return",null);case 96:case"end":return e.stop()}}),e,this,[[1,93]])})))}},{key:"getContentHash",value:function(){return __awaiter$6(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,r,n,i,a,o,s,u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._fetchBytes("0xbc1c58d1");case 2:if(null!=(t=e.sent)&&"0x"!==t){e.next=5;break}return e.abrupt("return",null);case 5:if(!(r=t.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/))){e.next=10;break}if(n=parseInt(r[3],16),r[4].length!==2*n){e.next=10;break}return e.abrupt("return","ipfs://"+Base58.encode("0x"+r[1]));case 10:if(!(i=t.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/))){e.next=15;break}if(a=parseInt(i[3],16),i[4].length!==2*a){e.next=15;break}return e.abrupt("return","ipns://"+Base58.encode("0x"+i[1]));case 15:if(!(o=t.match(/^0xe40101fa011b20([0-9a-f]*)$/))){e.next=19;break}if(64!==o[1].length){e.next=19;break}return e.abrupt("return","bzz://"+o[1]);case 19:if(!(s=t.match(/^0x90b2c605([0-9a-f]*)$/))){e.next=25;break}if(68!==s[1].length){e.next=25;break}return u={"=":"","+":"-","/":"_"},c=encode$b("0x"+s[1]).replace(/[=+\/]/g,(function(e){return u[e]})),e.abrupt("return","sia://"+c);case 25:return e.abrupt("return",logger$f.throwError("invalid or unsupported content hash data",Logger.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:t}));case 26:case"end":return e.stop()}}),e,this)})))}},{key:"getText",value:function(e){return __awaiter$6(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=toUtf8Bytes(e),(r=concat$3([bytes32ify(64),bytes32ify(r.length),r])).length%32!=0&&(r=concat$3([r,hexZeroPad("0x",32-e.length%32)])),t.next=5,this._fetchBytes("0x59d1d43c",hexlify(r));case 5:if(null!=(n=t.sent)&&"0x"!==n){t.next=8;break}return t.abrupt("return",null);case 8:return t.abrupt("return",toUtf8String(n));case 9:case"end":return t.stop()}}),t,this)})))}}]),e}(),defaultFormatter=null,nextPollId=1,BaseProvider=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){var n;if(_classCallCheck(this,r),(n=t.call(this))._events=[],n._emitted={block:-2},n.disableCcipRead=!1,n.formatter=(this instanceof r?this.constructor:void 0).getFormatter(),defineReadOnly(_assertThisInitialized(n),"anyNetwork","any"===e),n.anyNetwork&&(e=n.detectNetwork()),e instanceof Promise)n._networkPromise=e,e.catch((function(e){})),n._ready().catch((function(e){}));else{var i=getStatic(this instanceof r?this.constructor:void 0,"getNetwork")(e);i?(defineReadOnly(_assertThisInitialized(n),"_network",i),n.emit("network",i,null)):logger$f.throwArgumentError("invalid network","network",e)}return n._maxInternalBlockNumber=-1024,n._lastBlockNumber=-2,n._maxFilterBlockRange=10,n._pollingInterval=4e3,n._fastQueryDate=0,n}return _createClass(r,[{key:"_ready",value:function(){return __awaiter$6(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this._network){e.next=17;break}if(t=null,!this._networkPromise){e.next=11;break}return e.prev=3,e.next=6,this._networkPromise;case 6:t=e.sent,e.next=11;break;case 9:e.prev=9,e.t0=e.catch(3);case 11:if(null!=t){e.next=15;break}return e.next=14,this.detectNetwork();case 14:t=e.sent;case 15:t||logger$f.throwError("no network detected",Logger.errors.UNKNOWN_ERROR,{}),null==this._network&&(this.anyNetwork?this._network=t:defineReadOnly(this,"_network",t),this.emit("network",t,null));case 17:return e.abrupt("return",this._network);case 18:case"end":return e.stop()}}),e,this,[[3,9]])})))}},{key:"ready",get:function(){var e=this;return poll((function(){return e._ready().then((function(e){return e}),(function(e){if(e.code!==Logger.errors.NETWORK_ERROR||"noNetwork"!==e.event)throw e}))}))}},{key:"ccipReadFetch",value:function(e,t,r){return __awaiter$6(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i,a,o,s,u,c,l,f,p;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.disableCcipRead&&0!==r.length){n.next=2;break}return n.abrupt("return",null);case 2:i=e.to.toLowerCase(),a=t.toLowerCase(),o=[],s=0;case 6:if(!(s<r.length)){n.next=22;break}return u=r[s],c=u.replace("{sender}",i).replace("{data}",a),l=u.indexOf("{data}")>=0?null:JSON.stringify({data:a,sender:i}),n.next=12,fetchJson({url:c,errorPassThrough:!0},l,(function(e,t){return e.status=t.statusCode,e}));case 12:if(!(f=n.sent).data){n.next=15;break}return n.abrupt("return",f.data);case 15:if(p=f.message||"unknown error",!(f.status>=400&&f.status<500)){n.next=18;break}return n.abrupt("return",logger$f.throwError("response not found during CCIP fetch: ".concat(p),Logger.errors.SERVER_ERROR,{url:u,errorMessage:p}));case 18:o.push(p);case 19:s++,n.next=6;break;case 22:return n.abrupt("return",logger$f.throwError("error encountered during CCIP fetch: ".concat(o.map((function(e){return JSON.stringify(e)})).join(", ")),Logger.errors.SERVER_ERROR,{urls:r,errorMessages:o}));case 23:case"end":return n.stop()}}),n,this)})))}},{key:"_getInternalBlockNumber",value:function(e){return __awaiter$6(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r,n,i,a,o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._ready();case 2:if(!(e>0)){t.next=20;break}case 3:if(!this._internalBlockNumber){t.next=20;break}return r=this._internalBlockNumber,t.prev=5,t.next=8,r;case 8:if(n=t.sent,!(getTime()-n.respTime<=e)){t.next=11;break}return t.abrupt("return",n.blockNumber);case 11:return t.abrupt("break",20);case 14:if(t.prev=14,t.t0=t.catch(5),this._internalBlockNumber!==r){t.next=18;break}return t.abrupt("break",20);case 18:t.next=3;break;case 20:return i=getTime(),a=resolveProperties({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then((function(e){return null}),(function(e){return e}))}).then((function(e){var t=e.blockNumber,r=e.networkError;if(r)throw o._internalBlockNumber===a&&(o._internalBlockNumber=null),r;var n=getTime();return(t=BigNumber.from(t).toNumber())<o._maxInternalBlockNumber&&(t=o._maxInternalBlockNumber),o._maxInternalBlockNumber=t,o._setFastBlockNumber(t),{blockNumber:t,reqTime:i,respTime:n}})),this._internalBlockNumber=a,a.catch((function(e){o._internalBlockNumber===a&&(o._internalBlockNumber=null)})),t.next=26,a;case 26:return t.abrupt("return",t.sent.blockNumber);case 27:case"end":return t.stop()}}),t,this,[[5,14]])})))}},{key:"poll",value:function(){return __awaiter$6(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,r,n,i,a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=nextPollId++,r=[],n=null,e.prev=3,e.next=6,this._getInternalBlockNumber(100+this.pollingInterval/2);case 6:n=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),this.emit("error",e.t0),e.abrupt("return");case 13:if(this._setFastBlockNumber(n),this.emit("poll",t,n),n!==this._lastBlockNumber){e.next=18;break}return this.emit("didPoll",t),e.abrupt("return");case 18:if(-2===this._emitted.block&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)logger$f.warn("network block skew detected; skipping block events (emitted=".concat(this._emitted.block," blockNumber").concat(n,")")),this.emit("error",logger$f.makeError("network block skew detected",Logger.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(i=this._emitted.block+1;i<=n;i++)this.emit("block",i);return this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach((function(e){if("block"!==e){var t=a._emitted[e];"pending"!==t&&n-t>12&&delete a._emitted[e]}}))),-2===this._lastBlockNumber&&(this._lastBlockNumber=n-1),this._events.forEach((function(e){switch(e.type){case"tx":var t=e.hash,i=a.getTransactionReceipt(t).then((function(e){return e&&null!=e.blockNumber?(a._emitted["t:"+t]=e.blockNumber,a.emit(t,e),null):null})).catch((function(e){a.emit("error",e)}));r.push(i);break;case"filter":if(!e._inflight){e._inflight=!0;var o=e.filter;o.fromBlock=e._lastBlockNumber+1,o.toBlock=n,o.toBlock-a._maxFilterBlockRange>o.fromBlock&&(o.fromBlock=o.toBlock-a._maxFilterBlockRange);var s=a.getLogs(o).then((function(t){e._inflight=!1,0!==t.length&&t.forEach((function(t){t.blockNumber>e._lastBlockNumber&&(e._lastBlockNumber=t.blockNumber),a._emitted["b:"+t.blockHash]=t.blockNumber,a._emitted["t:"+t.transactionHash]=t.blockNumber,a.emit(o,t)}))})).catch((function(t){a.emit("error",t),e._inflight=!1}));r.push(s)}}})),this._lastBlockNumber=n,Promise.all(r).then((function(){a.emit("didPoll",t)})).catch((function(e){a.emit("error",e)})),e.abrupt("return");case 26:case"end":return e.stop()}}),e,this,[[3,9]])})))}},{key:"resetEventsBlock",value:function(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}},{key:"network",get:function(){return this._network}},{key:"detectNetwork",value:function(){return __awaiter$6(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",logger$f.throwError("provider does not support network detection",Logger.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"}));case 1:case"end":return e.stop()}}),e)})))}},{key:"getNetwork",value:function(){return __awaiter$6(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ready();case 2:return t=e.sent,e.next=5,this.detectNetwork();case 5:if(r=e.sent,t.chainId===r.chainId){e.next=23;break}if(!this.anyNetwork){e.next=20;break}return this._network=r,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",r,t),e.next=19,stall$1(0);case 19:return e.abrupt("return",this._network);case 20:throw n=logger$f.makeError("underlying network changed",Logger.errors.NETWORK_ERROR,{event:"changed",network:t,detectedNetwork:r}),this.emit("error",n),n;case 23:return e.abrupt("return",t);case 24:case"end":return e.stop()}}),e,this)})))}},{key:"blockNumber",get:function(){var e=this;return this._getInternalBlockNumber(100+this.pollingInterval/2).then((function(t){e._setFastBlockNumber(t)}),(function(e){})),null!=this._fastBlockNumber?this._fastBlockNumber:-1}},{key:"polling",get:function(){return null!=this._poller},set:function(e){var t=this;e&&!this._poller?(this._poller=setInterval((function(){t.poll()}),this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout((function(){t.poll(),t._bootstrapPoll=setTimeout((function(){t._poller||t.poll(),t._bootstrapPoll=null}),t.pollingInterval)}),0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}},{key:"pollingInterval",get:function(){return this._pollingInterval},set:function(e){var t=this;if("number"!=typeof e||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval((function(){t.poll()}),this._pollingInterval))}},{key:"_getFastBlockNumber",value:function(){var e=this,t=getTime();return t-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=t,this._fastBlockNumberPromise=this.getBlockNumber().then((function(t){return(null==e._fastBlockNumber||t>e._fastBlockNumber)&&(e._fastBlockNumber=t),e._fastBlockNumber}))),this._fastBlockNumberPromise}},{key:"_setFastBlockNumber",value:function(e){null!=this._fastBlockNumber&&e<this._fastBlockNumber||(this._fastQueryDate=getTime(),(null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}},{key:"waitForTransaction",value:function(e,t,r){return __awaiter$6(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this._waitForTransaction(e,null==t?1:t,r||0,null));case 1:case"end":return n.stop()}}),n,this)})))}},{key:"_waitForTransaction",value:function(e,t,r,n){return __awaiter$6(this,void 0,void 0,regeneratorRuntime.mark((function i(){var a,o=this;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.getTransactionReceipt(e);case 2:if(!(((a=i.sent)?a.confirmations:0)>=t)){i.next=5;break}return i.abrupt("return",a);case 5:return i.abrupt("return",new Promise((function(i,a){var s=[],u=!1,c=function(){return!!u||(u=!0,s.forEach((function(e){e()})),!1)},l=function(e){e.confirmations<t||c()||i(e)};if(o.on(e,l),s.push((function(){o.removeListener(e,l)})),n){var f=n.startBlock,p=null,d=function r(i){return __awaiter$6(o,void 0,void 0,regeneratorRuntime.mark((function o(){var s=this;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!u){o.next=2;break}return o.abrupt("return");case 2:return o.next=4,stall$1(1e3);case 4:this.getTransactionCount(n.from).then((function(o){return __awaiter$6(s,void 0,void 0,regeneratorRuntime.mark((function s(){var l,d,h,m,y,v;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!u){s.next=2;break}return s.abrupt("return");case 2:if(!(o<=n.nonce)){s.next=6;break}f=i,s.next=41;break;case 6:return s.next=8,this.getTransaction(e);case 8:if(!(l=s.sent)||null==l.blockNumber){s.next=11;break}return s.abrupt("return");case 11:null==p&&(p=f-3)<n.startBlock&&(p=n.startBlock);case 12:if(!(p<=i)){s.next=41;break}if(!u){s.next=15;break}return s.abrupt("return");case 15:return s.next=17,this.getBlockWithTransactions(p);case 17:d=s.sent,h=0;case 19:if(!(h<d.transactions.length)){s.next=38;break}if((m=d.transactions[h]).hash!==e){s.next=23;break}return s.abrupt("return");case 23:if(m.from!==n.from||m.nonce!==n.nonce){s.next=35;break}if(!u){s.next=26;break}return s.abrupt("return");case 26:return s.next=28,this.waitForTransaction(m.hash,t);case 28:if(y=s.sent,!c()){s.next=31;break}return s.abrupt("return");case 31:return v="replaced",m.data===n.data&&m.to===n.to&&m.value.eq(n.value)?v="repriced":"0x"===m.data&&m.from===m.to&&m.value.isZero()&&(v="cancelled"),a(logger$f.makeError("transaction was replaced",Logger.errors.TRANSACTION_REPLACED,{cancelled:"replaced"===v||"cancelled"===v,reason:v,replacement:this._wrapTransaction(m),hash:e,receipt:y})),s.abrupt("return");case 35:h++,s.next=19;break;case 38:p++,s.next=12;break;case 41:if(!u){s.next=43;break}return s.abrupt("return");case 43:this.once("block",r);case 44:case"end":return s.stop()}}),s,this)})))}),(function(e){u||s.once("block",r)}));case 5:case"end":return o.stop()}}),o,this)})))};if(u)return;o.once("block",d),s.push((function(){o.removeListener("block",d)}))}if("number"==typeof r&&r>0){var h=setTimeout((function(){c()||a(logger$f.makeError("timeout exceeded",Logger.errors.TIMEOUT,{timeout:r}))}),r);h.unref&&h.unref(),s.push((function(){clearTimeout(h)}))}})));case 6:case"end":return i.stop()}}),i,this)})))}},{key:"getBlockNumber",value:function(){return __awaiter$6(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._getInternalBlockNumber(0));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"getGasPrice",value:function(){return __awaiter$6(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getNetwork();case 2:return e.next=4,this.perform("getGasPrice",{});case 4:return t=e.sent,e.prev=5,e.abrupt("return",BigNumber.from(t));case 9:return e.prev=9,e.t0=e.catch(5),e.abrupt("return",logger$f.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"getGasPrice",result:t,error:e.t0}));case 12:case"end":return e.stop()}}),e,this,[[5,9]])})))}},{key:"getBalance",value:function(e,t){return __awaiter$6(this,void 0,void 0,regeneratorRuntime.mark((function r(){var n,i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.getNetwork();case 2:return r.next=4,resolveProperties({address:this._getAddress(e),blockTag:this._getBlockTag(t)});case 4:return n=r.sent,r.next=7,this.perform("getBalance",n);case 7:return i=r.sent,r.prev=8,r.abrupt("return",BigNumber.from(i));case 12:return r.prev=12,r.t0=r.catch(8),r.abrupt("return",logger$f.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"getBalance",params:n,result:i,error:r.t0}));case 15:case"end":return r.stop()}}),r,this,[[8,12]])})))}},{key:"getTransactionCount",value:function(e,t){return __awaiter$6(this,void 0,void 0,regeneratorRuntime.mark((function r(){var n,i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.getNetwork();case 2:return r.next=4,resolveProperties({address:this._getAddress(e),blockTag:this._getBlockTag(t)});case 4:return n=r.sent,r.next=7,this.perform("getTransactionCount",n);case 7:return i=r.sent,r.prev=8,r.abrupt("return",BigNumber.from(i).toNumber());case 12:return r.prev=12,r.t0=r.catch(8),r.abrupt("return",logger$f.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:i,error:r.t0}));case 15:case"end":return r.stop()}}),r,this,[[8,12]])})))}},{key:"getCode",value:function(e,t){return __awaiter$6(this,void 0,void 0,regeneratorRuntime.mark((function r(){var n,i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.getNetwork();case 2:return r.next=4,resolveProperties({address:this._getAddress(e),blockTag:this._getBlockTag(t)});case 4:return n=r.sent,r.next=7,this.perform("getCode",n);case 7:return i=r.sent,r.prev=8,r.abrupt("return",hexlify(i));case 12:return r.prev=12,r.t0=r.catch(8),r.abrupt("return",logger$f.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"getCode",params:n,result:i,error:r.t0}));case 15:case"end":return r.stop()}}),r,this,[[8,12]])})))}},{key:"getStorageAt",value:function(e,t,r){return __awaiter$6(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.getNetwork();case 2:return n.next=4,resolveProperties({address:this._getAddress(e),blockTag:this._getBlockTag(r),position:Promise.resolve(t).then((function(e){return hexValue(e)}))});case 4:return i=n.sent,n.next=7,this.perform("getStorageAt",i);case 7:return a=n.sent,n.prev=8,n.abrupt("return",hexlify(a));case 12:return n.prev=12,n.t0=n.catch(8),n.abrupt("return",logger$f.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:a,error:n.t0}));case 15:case"end":return n.stop()}}),n,this,[[8,12]])})))}},{key:"_wrapTransaction",value:function(e,t,r){var n=this;if(null!=t&&32!==hexDataLength(t))throw new Error("invalid response - sendTransaction");var i=e;return null!=t&&e.hash!==t&&logger$f.throwError("Transaction hash mismatch from Provider.sendTransaction.",Logger.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t}),i.wait=function(t,i){return __awaiter$6(n,void 0,void 0,regeneratorRuntime.mark((function n(){var a,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return null==t&&(t=1),null==i&&(i=0),a=void 0,0!==t&&null!=r&&(a={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:r}),n.next=6,this._waitForTransaction(e.hash,t,i,a);case 6:if(null!=(o=n.sent)||0!==t){n.next=9;break}return n.abrupt("return",null);case 9:return this._emitted["t:"+e.hash]=o.blockNumber,0===o.status&&logger$f.throwError("transaction failed",Logger.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:o}),n.abrupt("return",o);case 12:case"end":return n.stop()}}),n,this)})))},i}},{key:"sendTransaction",value:function(e){return __awaiter$6(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r,n,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getNetwork();case 2:return t.next=4,Promise.resolve(e).then((function(e){return hexlify(e)}));case 4:return r=t.sent,null==(n=this.formatter.transaction(e)).confirmations&&(n.confirmations=0),t.next=9,this._getInternalBlockNumber(100+2*this.pollingInterval);case 9:return i=t.sent,t.prev=10,t.next=13,this.perform("sendTransaction",{signedTransaction:r});case 13:return a=t.sent,t.abrupt("return",this._wrapTransaction(n,a,i));case 17:throw t.prev=17,t.t0=t.catch(10),t.t0.transaction=n,t.t0.transactionHash=n.hash,t.t0;case 22:case"end":return t.stop()}}),t,this,[[10,17]])})))}},{key:"_getTransactionRequest",value:function(e){return __awaiter$6(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r,n,i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:return r=t.sent,n={},["from","to"].forEach((function(e){null!=r[e]&&(n[e]=Promise.resolve(r[e]).then((function(e){return e?i._getAddress(e):null})))})),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach((function(e){null!=r[e]&&(n[e]=Promise.resolve(r[e]).then((function(e){return e?BigNumber.from(e):null})))})),["type"].forEach((function(e){null!=r[e]&&(n[e]=Promise.resolve(r[e]).then((function(e){return null!=e?e:null})))})),r.accessList&&(n.accessList=this.formatter.accessList(r.accessList)),["data"].forEach((function(e){null!=r[e]&&(n[e]=Promise.resolve(r[e]).then((function(e){return e?hexlify(e):null})))})),t.t0=this.formatter,t.next=12,resolveProperties(n);case 12:return t.t1=t.sent,t.abrupt("return",t.t0.transactionRequest.call(t.t0,t.t1));case 14:case"end":return t.stop()}}),t,this)})))}},{key:"_getFilter",value:function(e){return __awaiter$6(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:return e=t.sent,r={},null!=e.address&&(r.address=this._getAddress(e.address)),["blockHash","topics"].forEach((function(t){null!=e[t]&&(r[t]=e[t])})),["fromBlock","toBlock"].forEach((function(t){null!=e[t]&&(r[t]=n._getBlockTag(e[t]))})),t.t0=this.formatter,t.next=10,resolveProperties(r);case 10:return t.t1=t.sent,t.abrupt("return",t.t0.filter.call(t.t0,t.t1));case 12:case"end":return t.stop()}}),t,this)})))}},{key:"_call",value:function(e,t,r){return __awaiter$6(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i,a,o,s,u,c,l,f,p,d,h,m,y,v,g;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r>=MAX_CCIP_REDIRECTS&&logger$f.throwError("CCIP read exceeded maximum redirections",Logger.errors.SERVER_ERROR,{redirects:r,transaction:e}),i=e.to,n.next=4,this.perform("call",{transaction:e,blockTag:t});case 4:if(a=n.sent,!(r>=0&&"latest"===t&&null!=i&&"0x556f1830"===a.substring(0,10)&&hexDataLength(a)%32==4)){n.next=31;break}for(n.prev=6,o=hexDataSlice(a,4),s=hexDataSlice(o,0,32),BigNumber.from(s).eq(i)||logger$f.throwError("CCIP Read sender did not match",Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a}),u=[],c=BigNumber.from(hexDataSlice(o,32,64)).toNumber(),l=BigNumber.from(hexDataSlice(o,c,c+32)).toNumber(),f=hexDataSlice(o,c+32),p=0;p<l;p++)null==(d=_parseString(f,32*p))&&logger$f.throwError("CCIP Read contained corrupt URL string",Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a}),u.push(d);return h=_parseBytes(o,64),BigNumber.from(hexDataSlice(o,100,128)).isZero()||logger$f.throwError("CCIP Read callback selector included junk",Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a}),m=hexDataSlice(o,96,100),y=_parseBytes(o,128),n.next=21,this.ccipReadFetch(e,h,u);case 21:return null==(v=n.sent)&&logger$f.throwError("CCIP Read disabled or provided no URLs",Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a}),g={to:i,data:hexConcat([m,encodeBytes$1([v,y])])},n.abrupt("return",this._call(g,t,r+1));case 27:if(n.prev=27,n.t0=n.catch(6),n.t0.code!==Logger.errors.SERVER_ERROR){n.next=31;break}throw n.t0;case 31:return n.prev=31,n.abrupt("return",hexlify(a));case 35:return n.prev=35,n.t1=n.catch(31),n.abrupt("return",logger$f.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:t},result:a,error:n.t1}));case 38:case"end":return n.stop()}}),n,this,[[6,27],[31,35]])})))}},{key:"call",value:function(e,t){return __awaiter$6(this,void 0,void 0,regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.getNetwork();case 2:return r.next=4,resolveProperties({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});case 4:return n=r.sent,r.abrupt("return",this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1));case 6:case"end":return r.stop()}}),r,this)})))}},{key:"estimateGas",value:function(e){return __awaiter$6(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getNetwork();case 2:return t.next=4,resolveProperties({transaction:this._getTransactionRequest(e)});case 4:return r=t.sent,t.next=7,this.perform("estimateGas",r);case 7:return n=t.sent,t.prev=8,t.abrupt("return",BigNumber.from(n));case 12:return t.prev=12,t.t0=t.catch(8),t.abrupt("return",logger$f.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"estimateGas",params:r,result:n,error:t.t0}));case 15:case"end":return t.stop()}}),t,this,[[8,12]])})))}},{key:"_getAddress",value:function(e){return __awaiter$6(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:return"string"!=typeof(e=t.sent)&&logger$f.throwArgumentError("invalid address or ENS name","name",e),t.next=6,this.resolveName(e);case 6:return null==(r=t.sent)&&logger$f.throwError("ENS name not configured",Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName(".concat(JSON.stringify(e),")")}),t.abrupt("return",r);case 9:case"end":return t.stop()}}),t,this)})))}},{key:"_getBlock",value:function(e,t){return __awaiter$6(this,void 0,void 0,regeneratorRuntime.mark((function r(){var n,i,a=this;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.getNetwork();case 2:return r.next=4,e;case 4:if(e=r.sent,n=-128,i={includeTransactions:!!t},!isHexString(e,32)){r.next=11;break}i.blockHash=e,r.next=21;break;case 11:return r.prev=11,r.next=14,this._getBlockTag(e);case 14:i.blockTag=r.sent,isHexString(i.blockTag)&&(n=parseInt(i.blockTag.substring(2),16)),r.next=21;break;case 18:r.prev=18,r.t0=r.catch(11),logger$f.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e);case 21:return r.abrupt("return",poll((function(){return __awaiter$6(a,void 0,void 0,regeneratorRuntime.mark((function e(){var r,a,o,s,u,c,l=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.perform("getBlock",i);case 2:if(null!=(r=e.sent)){e.next=11;break}if(null==i.blockHash){e.next=7;break}if(null!=this._emitted["b:"+i.blockHash]){e.next=7;break}return e.abrupt("return",null);case 7:if(null==i.blockTag){e.next=10;break}if(!(n>this._emitted.block)){e.next=10;break}return e.abrupt("return",null);case 10:return e.abrupt("return",void 0);case 11:if(!t){e.next=34;break}a=null,o=0;case 14:if(!(o<r.transactions.length)){e.next=31;break}if(null!=(s=r.transactions[o]).blockNumber){e.next=20;break}s.confirmations=0,e.next=28;break;case 20:if(null!=s.confirmations){e.next=28;break}if(null!=a){e.next=25;break}return e.next=24,this._getInternalBlockNumber(100+2*this.pollingInterval);case 24:a=e.sent;case 25:(u=a-s.blockNumber+1)<=0&&(u=1),s.confirmations=u;case 28:o++,e.next=14;break;case 31:return(c=this.formatter.blockWithTransactions(r)).transactions=c.transactions.map((function(e){return l._wrapTransaction(e)})),e.abrupt("return",c);case 34:return e.abrupt("return",this.formatter.block(r));case 35:case"end":return e.stop()}}),e,this)})))}),{oncePoll:this}));case 22:case"end":return r.stop()}}),r,this,[[11,18]])})))}},{key:"getBlock",value:function(e){return this._getBlock(e,!1)}},{key:"getBlockWithTransactions",value:function(e){return this._getBlock(e,!0)}},{key:"getTransaction",value:function(e){return __awaiter$6(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getNetwork();case 2:return t.next=4,e;case 4:return e=t.sent,r={transactionHash:this.formatter.hash(e,!0)},t.abrupt("return",poll((function(){return __awaiter$6(n,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i,a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.perform("getTransaction",r);case 2:if(null!=(n=t.sent)){t.next=7;break}if(null!=this._emitted["t:"+e]){t.next=6;break}return t.abrupt("return",null);case 6:return t.abrupt("return",void 0);case 7:if(null!=(i=this.formatter.transactionResponse(n)).blockNumber){t.next=12;break}i.confirmations=0,t.next=19;break;case 12:if(null!=i.confirmations){t.next=19;break}return t.next=15,this._getInternalBlockNumber(100+2*this.pollingInterval);case 15:a=t.sent,(o=a-i.blockNumber+1)<=0&&(o=1),i.confirmations=o;case 19:return t.abrupt("return",this._wrapTransaction(i));case 20:case"end":return t.stop()}}),t,this)})))}),{oncePoll:this}));case 7:case"end":return t.stop()}}),t,this)})))}},{key:"getTransactionReceipt",value:function(e){return __awaiter$6(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getNetwork();case 2:return t.next=4,e;case 4:return e=t.sent,r={transactionHash:this.formatter.hash(e,!0)},t.abrupt("return",poll((function(){return __awaiter$6(n,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i,a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.perform("getTransactionReceipt",r);case 2:if(null!=(n=t.sent)){t.next=7;break}if(null!=this._emitted["t:"+e]){t.next=6;break}return t.abrupt("return",null);case 6:return t.abrupt("return",void 0);case 7:if(null!=n.blockHash){t.next=9;break}return t.abrupt("return",void 0);case 9:if(null!=(i=this.formatter.receipt(n)).blockNumber){t.next=14;break}i.confirmations=0,t.next=21;break;case 14:if(null!=i.confirmations){t.next=21;break}return t.next=17,this._getInternalBlockNumber(100+2*this.pollingInterval);case 17:a=t.sent,(o=a-i.blockNumber+1)<=0&&(o=1),i.confirmations=o;case 21:return t.abrupt("return",i);case 22:case"end":return t.stop()}}),t,this)})))}),{oncePoll:this}));case 7:case"end":return t.stop()}}),t,this)})))}},{key:"getLogs",value:function(e){return __awaiter$6(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getNetwork();case 2:return t.next=4,resolveProperties({filter:this._getFilter(e)});case 4:return r=t.sent,t.next=7,this.perform("getLogs",r);case 7:return(n=t.sent).forEach((function(e){null==e.removed&&(e.removed=!1)})),t.abrupt("return",Formatter.arrayOf(this.formatter.filterLog.bind(this.formatter))(n));case 10:case"end":return t.stop()}}),t,this)})))}},{key:"getEtherPrice",value:function(){return __awaiter$6(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getNetwork();case 2:return e.abrupt("return",this.perform("getEtherPrice",{}));case 3:case"end":return e.stop()}}),e,this)})))}},{key:"_getBlockTag",value:function(e){return __awaiter$6(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:if(!("number"==typeof(e=t.sent)&&e<0)){t.next=11;break}return e%1&&logger$f.throwArgumentError("invalid BlockTag","blockTag",e),t.next=7,this._getInternalBlockNumber(100+2*this.pollingInterval);case 7:return r=t.sent,(r+=e)<0&&(r=0),t.abrupt("return",this.formatter.blockTag(r));case 11:return t.abrupt("return",this.formatter.blockTag(e));case 12:case"end":return t.stop()}}),t,this)})))}},{key:"getResolver",value:function(e){return __awaiter$6(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r,n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e;case 1:if(""!==r&&"."!==r){t.next=4;break}return t.abrupt("return",null);case 4:if("eth"===e||"eth"!==r){t.next=6;break}return t.abrupt("return",null);case 6:return t.next=8,this._getResolver(r,"getResolver");case 8:if(null==(n=t.sent)){t.next=19;break}if(i=new Resolver(this,n,e),t.t0=r!==e,!t.t0){t.next=16;break}return t.next=15,i.supportsWildcard();case 15:t.t0=!t.sent;case 16:if(!t.t0){t.next=18;break}return t.abrupt("return",null);case 18:return t.abrupt("return",i);case 19:r=r.split(".").slice(1).join("."),t.next=1;break;case 22:case"end":return t.stop()}}),t,this)})))}},{key:"_getResolver",value:function(e,t){return __awaiter$6(this,void 0,void 0,regeneratorRuntime.mark((function r(){var n,i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return null==t&&(t="ENS"),r.next=3,this.getNetwork();case 3:return(n=r.sent).ensAddress||logger$f.throwError("network does not support ENS",Logger.errors.UNSUPPORTED_OPERATION,{operation:t,network:n.name}),r.prev=5,r.next=8,this.call({to:n.ensAddress,data:"0x0178b8bf"+namehash(e).substring(2)});case 8:return i=r.sent,r.abrupt("return",this.formatter.callAddress(i));case 12:r.prev=12,r.t0=r.catch(5);case 14:return r.abrupt("return",null);case 15:case"end":return r.stop()}}),r,this,[[5,12]])})))}},{key:"resolveName",value:function(e){return __awaiter$6(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:return e=t.sent,t.prev=3,t.abrupt("return",Promise.resolve(this.formatter.address(e)));case 7:if(t.prev=7,t.t0=t.catch(3),!isHexString(e)){t.next=11;break}throw t.t0;case 11:return"string"!=typeof e&&logger$f.throwArgumentError("invalid ENS name","name",e),t.next=14,this.getResolver(e);case 14:if(r=t.sent){t.next=17;break}return t.abrupt("return",null);case 17:return t.next=19,r.getAddress();case 19:return t.abrupt("return",t.sent);case 20:case"end":return t.stop()}}),t,this,[[3,7]])})))}},{key:"lookupAddress",value:function(e){return __awaiter$6(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r,n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:return e=t.sent,e=this.formatter.address(e),r=e.substring(2).toLowerCase()+".addr.reverse",t.next=7,this._getResolver(r,"lookupAddress");case 7:if(null!=(n=t.sent)){t.next=10;break}return t.abrupt("return",null);case 10:return t.t0=_parseString,t.next=13,this.call({to:n,data:"0x691f3431"+namehash(r).substring(2)});case 13:return t.t1=t.sent,i=(0,t.t0)(t.t1,0),t.next=17,this.resolveName(i);case 17:if(t.sent==e){t.next=20;break}return t.abrupt("return",null);case 20:return t.abrupt("return",i);case 21:case"end":return t.stop()}}),t,this)})))}},{key:"getAvatar",value:function(e){return __awaiter$6(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r,n,i,a,o,s,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=null,!isHexString(e)){t.next=40;break}return n=this.formatter.address(e),i=n.substring(2).toLowerCase()+".addr.reverse",t.next=6,this._getResolver(i,"getAvatar");case 6:if(a=t.sent){t.next=9;break}return t.abrupt("return",null);case 9:return r=new Resolver(this,a,i),t.prev=10,t.next=13,r.getAvatar();case 13:if(!(o=t.sent)){t.next=16;break}return t.abrupt("return",o.url);case 16:t.next=22;break;case 18:if(t.prev=18,t.t0=t.catch(10),t.t0.code===Logger.errors.CALL_EXCEPTION){t.next=22;break}throw t.t0;case 22:return t.prev=22,t.t1=_parseString,t.next=26,this.call({to:a,data:"0x691f3431"+namehash(i).substring(2)});case 26:return t.t2=t.sent,s=(0,t.t1)(t.t2,0),t.next=30,this.getResolver(s);case 30:r=t.sent,t.next=38;break;case 33:if(t.prev=33,t.t3=t.catch(22),t.t3.code===Logger.errors.CALL_EXCEPTION){t.next=37;break}throw t.t3;case 37:return t.abrupt("return",null);case 38:t.next=45;break;case 40:return t.next=42,this.getResolver(e);case 42:if(r=t.sent){t.next=45;break}return t.abrupt("return",null);case 45:return t.next=47,r.getAvatar();case 47:if(null!=(u=t.sent)){t.next=50;break}return t.abrupt("return",null);case 50:return t.abrupt("return",u.url);case 51:case"end":return t.stop()}}),t,this,[[10,18],[22,33]])})))}},{key:"perform",value:function(e,t){return logger$f.throwError(e+" not implemented",Logger.errors.NOT_IMPLEMENTED,{operation:e})}},{key:"_startEvent",value:function(e){this.polling=this._events.filter((function(e){return e.pollable()})).length>0}},{key:"_stopEvent",value:function(e){this.polling=this._events.filter((function(e){return e.pollable()})).length>0}},{key:"_addEventListener",value:function(e,t,r){var n=new Event(getEventTag(e),t,r);return this._events.push(n),this._startEvent(n),this}},{key:"on",value:function(e,t){return this._addEventListener(e,t,!1)}},{key:"once",value:function(e,t){return this._addEventListener(e,t,!0)}},{key:"emit",value:function(e){for(var t=this,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var a=!1,o=[],s=getEventTag(e);return this._events=this._events.filter((function(e){return e.tag!==s||(setTimeout((function(){e.listener.apply(t,n)}),0),a=!0,!e.once||(o.push(e),!1))})),o.forEach((function(e){t._stopEvent(e)})),a}},{key:"listenerCount",value:function(e){if(!e)return this._events.length;var t=getEventTag(e);return this._events.filter((function(e){return e.tag===t})).length}},{key:"listeners",value:function(e){if(null==e)return this._events.map((function(e){return e.listener}));var t=getEventTag(e);return this._events.filter((function(e){return e.tag===t})).map((function(e){return e.listener}))}},{key:"off",value:function(e,t){var r=this;if(null==t)return this.removeAllListeners(e);var n=[],i=!1,a=getEventTag(e);return this._events=this._events.filter((function(e){return e.tag!==a||e.listener!=t||!!i||(i=!0,n.push(e),!1)})),n.forEach((function(e){r._stopEvent(e)})),this}},{key:"removeAllListeners",value:function(e){var t=this,r=[];if(null==e)r=this._events,this._events=[];else{var n=getEventTag(e);this._events=this._events.filter((function(e){return e.tag!==n||(r.push(e),!1)}))}return r.forEach((function(e){t._stopEvent(e)})),this}}],[{key:"getFormatter",value:function(){return null==defaultFormatter&&(defaultFormatter=new Formatter),defaultFormatter}},{key:"getNetwork",value:function(e){return _getNetwork(null==e?"homestead":e)}}]),r}(Provider),__awaiter$5=globalThis&&globalThis.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},logger$e=new Logger(version$4),errorGas=["call","estimateGas"];function spelunk(e,t){if(null==e)return null;if("string"==typeof e.message&&e.message.match("reverted")){var r=isHexString(e.data)?e.data:null;if(!t||r)return{message:e.message,data:r}}if("object"===_typeof(e)){for(var n in e){var i=spelunk(e[n],t);if(i)return i}return null}if("string"==typeof e)try{return spelunk(JSON.parse(e),t)}catch(e){}return null}function checkError$1(e,t,r){var n=r.transaction||r.signedTransaction;if("call"===e){var i=spelunk(t,!0);if(i)return i.data;logger$e.throwError("missing revert data in call exception; Transaction reverted without a reason string",Logger.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:t})}if("estimateGas"===e){var a=spelunk(t.body,!1);null==a&&(a=spelunk(t,!1)),a&&logger$e.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger.errors.UNPREDICTABLE_GAS_LIMIT,{reason:a.message,method:e,transaction:n,error:t})}var o=t.message;throw t.code===Logger.errors.SERVER_ERROR&&t.error&&"string"==typeof t.error.message?o=t.error.message:"string"==typeof t.body?o=t.body:"string"==typeof t.responseText&&(o=t.responseText),(o=(o||"").toLowerCase()).match(/insufficient funds|base fee exceeds gas limit/i)&&logger$e.throwError("insufficient funds for intrinsic transaction cost",Logger.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:n}),o.match(/nonce (is )?too low/i)&&logger$e.throwError("nonce has already been used",Logger.errors.NONCE_EXPIRED,{error:t,method:e,transaction:n}),o.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&logger$e.throwError("replacement fee too low",Logger.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:n}),o.match(/only replay-protected/i)&&logger$e.throwError("legacy pre-eip-155 transactions not supported",Logger.errors.UNSUPPORTED_OPERATION,{error:t,method:e,transaction:n}),errorGas.indexOf(e)>=0&&o.match(/gas required exceeds allowance|always failing transaction|execution reverted/)&&logger$e.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:n}),t}function timer(e){return new Promise((function(t){setTimeout(t,e)}))}function getResult$1(e){if(e.error){var t=new Error(e.error.message);throw t.code=e.error.code,t.data=e.error.data,t}return e.result}function getLowerCase(e){return e?e.toLowerCase():e}var _constructorGuard={},JsonRpcSigner=function(e){_inherits(r,e);var t=_createSuper(r);function r(e,n,i){var a;if(_classCallCheck(this,r),a=t.call(this),e!==_constructorGuard)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");return defineReadOnly(_assertThisInitialized(a),"provider",n),null==i&&(i=0),"string"==typeof i?(defineReadOnly(_assertThisInitialized(a),"_address",a.provider.formatter.address(i)),defineReadOnly(_assertThisInitialized(a),"_index",null)):"number"==typeof i?(defineReadOnly(_assertThisInitialized(a),"_index",i),defineReadOnly(_assertThisInitialized(a),"_address",null)):logger$e.throwArgumentError("invalid address or index","addressOrIndex",i),a}return _createClass(r,[{key:"connect",value:function(e){return logger$e.throwError("cannot alter JSON-RPC Signer connection",Logger.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}},{key:"connectUnchecked",value:function(){return new UncheckedJsonRpcSigner(_constructorGuard,this.provider,this._address||this._index)}},{key:"getAddress",value:function(){var e=this;return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then((function(t){return t.length<=e._index&&logger$e.throwError("unknown account #"+e._index,Logger.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),e.provider.formatter.address(t[e._index])}))}},{key:"sendUncheckedTransaction",value:function(e){var t=this;e=shallowCopy(e);var r=this.getAddress().then((function(e){return e&&(e=e.toLowerCase()),e}));if(null==e.gasLimit){var n=shallowCopy(e);n.from=r,e.gasLimit=this.provider.estimateGas(n)}return null!=e.to&&(e.to=Promise.resolve(e.to).then((function(e){return __awaiter$5(t,void 0,void 0,regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=e){t.next=2;break}return t.abrupt("return",null);case 2:return t.next=4,this.provider.resolveName(e);case 4:return null==(r=t.sent)&&logger$e.throwArgumentError("provided ENS name resolves to null","tx.to",e),t.abrupt("return",r);case 7:case"end":return t.stop()}}),t,this)})))}))),resolveProperties({tx:resolveProperties(e),sender:r}).then((function(r){var n=r.tx,i=r.sender;null!=n.from?n.from.toLowerCase()!==i&&logger$e.throwArgumentError("from address mismatch","transaction",e):n.from=i;var a=t.provider.constructor.hexlifyTransaction(n,{from:!0});return t.provider.send("eth_sendTransaction",[a]).then((function(e){return e}),(function(e){return checkError$1("sendTransaction",e,a)}))}))}},{key:"signTransaction",value:function(e){return logger$e.throwError("signing transactions is unsupported",Logger.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}},{key:"sendTransaction",value:function(e){return __awaiter$5(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r,n,i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval);case 2:return r=t.sent,t.next=5,this.sendUncheckedTransaction(e);case 5:return n=t.sent,t.prev=6,t.next=9,poll((function(){return __awaiter$5(i,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.getTransaction(n);case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",void 0);case 5:return e.abrupt("return",this.provider._wrapTransaction(t,n,r));case 6:case"end":return e.stop()}}),e,this)})))}),{oncePoll:this.provider});case 9:return t.abrupt("return",t.sent);case 12:throw t.prev=12,t.t0=t.catch(6),t.t0.transactionHash=n,t.t0;case 16:case"end":return t.stop()}}),t,this,[[6,12]])})))}},{key:"signMessage",value:function(e){return __awaiter$5(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="string"==typeof e?toUtf8Bytes(e):e,t.next=3,this.getAddress();case 3:return n=t.sent,t.next=6,this.provider.send("personal_sign",[hexlify(r),n.toLowerCase()]);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"_legacySignMessage",value:function(e){return __awaiter$5(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="string"==typeof e?toUtf8Bytes(e):e,t.next=3,this.getAddress();case 3:return n=t.sent,t.next=6,this.provider.send("eth_sign",[n.toLowerCase(),hexlify(r)]);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"_signTypedData",value:function(e,t,r){return __awaiter$5(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i,a,o=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,TypedDataEncoder.resolveNames(e,t,r,(function(e){return o.provider.resolveName(e)}));case 2:return i=n.sent,n.next=5,this.getAddress();case 5:return a=n.sent,n.next=8,this.provider.send("eth_signTypedData_v4",[a.toLowerCase(),JSON.stringify(TypedDataEncoder.getPayload(i.domain,t,i.value))]);case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}}),n,this)})))}},{key:"unlock",value:function(e){return __awaiter$5(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.provider,t.next=3,this.getAddress();case 3:return n=t.sent,t.abrupt("return",r.send("personal_unlockAccount",[n.toLowerCase(),e,null]));case 5:case"end":return t.stop()}}),t,this)})))}}]),r}(Signer),UncheckedJsonRpcSigner=function(e){_inherits(r,e);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return _createClass(r,[{key:"sendTransaction",value:function(e){var t=this;return this.sendUncheckedTransaction(e).then((function(e){return{hash:e,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:function(r){return t.provider.waitForTransaction(e,r)}}}))}}]),r}(JsonRpcSigner),allowedTransactionKeys={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0},JsonRpcProvider=function(e){_inherits(r,e);var t=_createSuper(r);function r(e,n){var i;_classCallCheck(this,r);var a=n;return null==a&&(a=new Promise((function(e,t){setTimeout((function(){i.detectNetwork().then((function(t){e(t)}),(function(e){t(e)}))}),0)}))),i=t.call(this,a),e||(e=getStatic(i.constructor,"defaultUrl")()),defineReadOnly(_assertThisInitialized(i),"connection","string"==typeof e?Object.freeze({url:e}):Object.freeze(shallowCopy(e))),i._nextId=42,i}return _createClass(r,[{key:"_cache",get:function(){return null==this._eventLoopCache&&(this._eventLoopCache={}),this._eventLoopCache}},{key:"detectNetwork",value:function(){var e=this;return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout((function(){e._cache.detectNetwork=null}),0)),this._cache.detectNetwork}},{key:"_uncachedDetectNetwork",value:function(){return __awaiter$5(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,timer(0);case 2:return t=null,e.prev=3,e.next=6,this.send("eth_chainId",[]);case 6:t=e.sent,e.next=19;break;case 9:return e.prev=9,e.t0=e.catch(3),e.prev=11,e.next=14,this.send("net_version",[]);case 14:t=e.sent,e.next=19;break;case 17:e.prev=17,e.t1=e.catch(11);case 19:if(null==t){e.next=28;break}return r=getStatic(this.constructor,"getNetwork"),e.prev=21,e.abrupt("return",r(BigNumber.from(t).toNumber()));case 25:return e.prev=25,e.t2=e.catch(21),e.abrupt("return",logger$e.throwError("could not detect network",Logger.errors.NETWORK_ERROR,{chainId:t,event:"invalidNetwork",serverError:e.t2}));case 28:return e.abrupt("return",logger$e.throwError("could not detect network",Logger.errors.NETWORK_ERROR,{event:"noNetwork"}));case 29:case"end":return e.stop()}}),e,this,[[3,9],[11,17],[21,25]])})))}},{key:"getSigner",value:function(e){return new JsonRpcSigner(_constructorGuard,this,e)}},{key:"getUncheckedSigner",value:function(e){return this.getSigner(e).connectUnchecked()}},{key:"listAccounts",value:function(){var e=this;return this.send("eth_accounts",[]).then((function(t){return t.map((function(t){return e.formatter.address(t)}))}))}},{key:"send",value:function(e,t){var r=this,n={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:deepCopy(n),provider:this});var i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];var a=fetchJson(this.connection,JSON.stringify(n),getResult$1).then((function(e){return r.emit("debug",{action:"response",request:n,response:e,provider:r}),e}),(function(e){throw r.emit("debug",{action:"response",error:e,request:n,provider:r}),e}));return i&&(this._cache[e]=a,setTimeout((function(){r._cache[e]=null}),0)),a}},{key:"prepareRequest",value:function(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[getLowerCase(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[getLowerCase(t.address),t.blockTag]];case"getCode":return["eth_getCode",[getLowerCase(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[getLowerCase(t.address),hexZeroPad(t.position,32),t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":return t.blockTag?["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]]:t.blockHash?["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":return["eth_call",[getStatic(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0}),t.blockTag]];case"estimateGas":return["eth_estimateGas",[getStatic(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0})]];case"getLogs":return t.filter&&null!=t.filter.address&&(t.filter.address=getLowerCase(t.filter.address)),["eth_getLogs",[t.filter]]}return null}},{key:"perform",value:function(e,t){return __awaiter$5(this,void 0,void 0,regeneratorRuntime.mark((function r(){var n,i,a;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("call"!==e&&"estimateGas"!==e){r.next=8;break}if(!(n=t.transaction)||null==n.type||!BigNumber.from(n.type).isZero()){r.next=8;break}if(null!=n.maxFeePerGas||null!=n.maxPriorityFeePerGas){r.next=8;break}return r.next=6,this.getFeeData();case 6:null==(i=r.sent).maxFeePerGas&&null==i.maxPriorityFeePerGas&&((t=shallowCopy(t)).transaction=shallowCopy(n),delete t.transaction.type);case 8:return null==(a=this.prepareRequest(e,t))&&logger$e.throwError(e+" not implemented",Logger.errors.NOT_IMPLEMENTED,{operation:e}),r.prev=10,r.next=13,this.send(a[0],a[1]);case 13:return r.abrupt("return",r.sent);case 16:return r.prev=16,r.t0=r.catch(10),r.abrupt("return",checkError$1(e,r.t0,t));case 19:case"end":return r.stop()}}),r,this,[[10,16]])})))}},{key:"_startEvent",value:function(e){"pending"===e.tag&&this._startPending(),_get(_getPrototypeOf(r.prototype),"_startEvent",this).call(this,e)}},{key:"_startPending",value:function(){if(null==this._pendingFilter){var e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then((function(r){return function n(){e.send("eth_getFilterChanges",[r]).then((function(r){if(e._pendingFilter!=t)return null;var n=Promise.resolve();return r.forEach((function(t){e._emitted["t:"+t.toLowerCase()]="pending",n=n.then((function(){return e.getTransaction(t).then((function(t){return e.emit("pending",t),null}))}))})),n.then((function(){return timer(1e3)}))})).then((function(){if(e._pendingFilter==t)return setTimeout((function(){n()}),0),null;e.send("eth_uninstallFilter",[r])})).catch((function(e){}))}(),r})).catch((function(e){}))}}},{key:"_stopEvent",value:function(e){"pending"===e.tag&&0===this.listenerCount("pending")&&(this._pendingFilter=null),_get(_getPrototypeOf(r.prototype),"_stopEvent",this).call(this,e)}}],[{key:"defaultUrl",value:function(){return"http://localhost:8545"}},{key:"hexlifyTransaction",value:function(e,t){var r=shallowCopy(allowedTransactionKeys);if(t)for(var n in t)t[n]&&(r[n]=!0);checkProperties(e,r);var i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((function(t){if(null!=e[t]){var r=hexValue(BigNumber.from(e[t]));"gasLimit"===t&&(t="gas"),i[t]=r}})),["from","to","data"].forEach((function(t){null!=e[t]&&(i[t]=hexlify(e[t]))})),e.accessList&&(i.accessList=accessListify(e.accessList)),i}}]),r}(BaseProvider),WS=null;try{if(WS=WebSocket,null==WS)throw new Error("inject please")}catch(e){var logger2=new Logger(version$4);WS=function(){logger2.throwError("WebSockets not supported in this environment",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var __awaiter$4=globalThis&&globalThis.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},logger$d=new Logger(version$4),NextId=1,WebSocketProvider=function(e){_inherits(r,e);var t=_createSuper(r);function r(e,n){var i,a;_classCallCheck(this,r),"any"===n&&logger$d.throwError("WebSocketProvider does not support 'any' network yet",Logger.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),(a="string"==typeof e?t.call(this,e,n):t.call(this,"_websocket",n))._pollingInterval=-1,a._wsReady=!1,defineReadOnly(_assertThisInitialized(a),"_websocket","string"==typeof e?new WS(a.connection.url):e),defineReadOnly(_assertThisInitialized(a),"_requests",{}),defineReadOnly(_assertThisInitialized(a),"_subs",{}),defineReadOnly(_assertThisInitialized(a),"_subIds",{}),defineReadOnly(_assertThisInitialized(a),"_detectNetwork",_get((i=_assertThisInitialized(a),_getPrototypeOf(r.prototype)),"detectNetwork",i).call(i)),a.websocket.onopen=function(){a._wsReady=!0,Object.keys(a._requests).forEach((function(e){a.websocket.send(a._requests[e].payload)}))},a.websocket.onmessage=function(e){var t=e.data,r=JSON.parse(t);if(null!=r.id){var n=String(r.id),i=a._requests[n];if(delete a._requests[n],void 0!==r.result)i.callback(null,r.result),a.emit("debug",{action:"response",request:JSON.parse(i.payload),response:r.result,provider:_assertThisInitialized(a)});else{var o=null;r.error?(defineReadOnly(o=new Error(r.error.message||"unknown error"),"code",r.error.code||null),defineReadOnly(o,"response",t)):o=new Error("unknown error"),i.callback(o,void 0),a.emit("debug",{action:"response",error:o,request:JSON.parse(i.payload),provider:_assertThisInitialized(a)})}}else if("eth_subscription"===r.method){var s=a._subs[r.params.subscription];s&&s.processFunc(r.params.result)}else console.warn("this should not happen")};var o=setInterval((function(){a.emit("poll")}),1e3);return o.unref&&o.unref(),_possibleConstructorReturn(a)}return _createClass(r,[{key:"websocket",get:function(){return this._websocket}},{key:"detectNetwork",value:function(){return this._detectNetwork}},{key:"pollingInterval",get:function(){return 0},set:function(e){logger$d.throwError("cannot set polling interval on WebSocketProvider",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}},{key:"resetEventsBlock",value:function(e){logger$d.throwError("cannot reset events block on WebSocketProvider",Logger.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}},{key:"poll",value:function(){return __awaiter$4(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)})))}},{key:"polling",set:function(e){e&&logger$d.throwError("cannot set polling on WebSocketProvider",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}},{key:"send",value:function(e,t){var r=this,n=NextId++;return new Promise((function(i,a){var o=JSON.stringify({method:e,params:t,id:n,jsonrpc:"2.0"});r.emit("debug",{action:"request",request:JSON.parse(o),provider:r}),r._requests[String(n)]={callback:function(e,t){return e?a(e):i(t)},payload:o},r._wsReady&&r.websocket.send(o)}))}},{key:"_subscribe",value:function(e,t,r){return __awaiter$4(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i,a,o=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return null==(i=this._subIds[e])&&(i=Promise.all(t).then((function(e){return o.send("eth_subscribe",e)})),this._subIds[e]=i),n.next=4,i;case 4:a=n.sent,this._subs[a]={tag:e,processFunc:r};case 6:case"end":return n.stop()}}),n,this)})))}},{key:"_startEvent",value:function(e){var t=this;switch(e.type){case"block":this._subscribe("block",["newHeads"],(function(e){var r=BigNumber.from(e.number).toNumber();t._emitted.block=r,t.emit("block",r)}));break;case"pending":this._subscribe("pending",["newPendingTransactions"],(function(e){t.emit("pending",e)}));break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],(function(r){null==r.removed&&(r.removed=!1),t.emit(e.filter,t.formatter.filterLog(r))}));break;case"tx":var r=function(e){var r=e.hash;t.getTransactionReceipt(r).then((function(e){e&&t.emit(r,e)}))};r(e),this._subscribe("tx",["newHeads"],(function(e){t._events.filter((function(e){return"tx"===e.type})).forEach(r)}));break;case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e)}}},{key:"_stopEvent",value:function(e){var t=this,r=e.tag;if("tx"===e.type){if(this._events.filter((function(e){return"tx"===e.type})).length)return;r="tx"}else if(this.listenerCount(e.event))return;var n=this._subIds[r];n&&(delete this._subIds[r],n.then((function(e){t._subs[e]&&(delete t._subs[e],t.send("eth_unsubscribe",[e]))})))}},{key:"destroy",value:function(){return __awaiter$4(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.websocket.readyState!==WS.CONNECTING){e.next=3;break}return e.next=3,new Promise((function(e){t.websocket.onopen=function(){e(!0)},t.websocket.onerror=function(){e(!1)}}));case 3:this.websocket.close(1e3);case 4:case"end":return e.stop()}}),e,this)})))}}],[{key:"defaultUrl",value:function(){return"ws://localhost:8546"}}]),r}(JsonRpcProvider),__awaiter$3=globalThis&&globalThis.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},logger$c=new Logger(version$4),StaticJsonRpcProvider=function(e){_inherits(r,e);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return _createClass(r,[{key:"detectNetwork",value:function(){var e=this,t=Object.create(null,{detectNetwork:{get:function(){return _get(_getPrototypeOf(r.prototype),"detectNetwork",e)}}});return __awaiter$3(this,void 0,void 0,regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(r=this.network)){e.next=7;break}return e.next=4,t.detectNetwork.call(this);case 4:(r=e.sent)||logger$c.throwError("no network detected",Logger.errors.UNKNOWN_ERROR,{}),null==this._network&&(defineReadOnly(this,"_network",r),this.emit("network",r,null));case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})))}}]),r}(JsonRpcProvider),UrlJsonRpcProvider=function(e){_inherits(r,e);var t=_createSuper(r);function r(e,n){var i;_classCallCheck(this,r),logger$c.checkAbstract(this instanceof r?this.constructor:void 0,r),e=getStatic(this instanceof r?this.constructor:void 0,"getNetwork")(e),n=getStatic(this instanceof r?this.constructor:void 0,"getApiKey")(n);var a=getStatic(this instanceof r?this.constructor:void 0,"getUrl")(e,n);return i=t.call(this,a,e),"string"==typeof n?defineReadOnly(_assertThisInitialized(i),"apiKey",n):null!=n&&Object.keys(n).forEach((function(e){defineReadOnly(_assertThisInitialized(i),e,n[e])})),i}return _createClass(r,[{key:"_startPending",value:function(){logger$c.warn("WARNING: API provider does not support pending filters")}},{key:"isCommunityResource",value:function(){return!1}},{key:"getSigner",value:function(e){return logger$c.throwError("API provider does not support signing",Logger.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}},{key:"listAccounts",value:function(){return Promise.resolve([])}}],[{key:"getApiKey",value:function(e){return e}},{key:"getUrl",value:function(e,t){return logger$c.throwError("not implemented; sub-classes must override getUrl",Logger.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}]),r}(StaticJsonRpcProvider),logger$b=new Logger(version$4),defaultApiKey$3="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC",AlchemyWebSocketProvider=function(e){_inherits(r,e);var t=_createSuper(r);function r(e,n){var i;_classCallCheck(this,r);var a=new AlchemyProvider(e,n),o=a.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi.");return defineReadOnly(_assertThisInitialized(i=t.call(this,o,a.network)),"apiKey",a.apiKey),i}return _createClass(r,[{key:"isCommunityResource",value:function(){return this.apiKey===defaultApiKey$3}}]),r}(WebSocketProvider),AlchemyProvider=function(e){_inherits(r,e);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return _createClass(r,[{key:"isCommunityResource",value:function(){return this.apiKey===defaultApiKey$3}}],[{key:"getWebSocketProvider",value:function(e,t){return new AlchemyWebSocketProvider(e,t)}},{key:"getApiKey",value:function(e){return null==e?defaultApiKey$3:(e&&"string"!=typeof e&&logger$b.throwArgumentError("invalid apiKey","apiKey",e),e)}},{key:"getUrl",value:function(e,t){var r=null;switch(e.name){case"homestead":r="eth-mainnet.alchemyapi.io/v2/";break;case"ropsten":r="eth-ropsten.alchemyapi.io/v2/";break;case"rinkeby":r="eth-rinkeby.alchemyapi.io/v2/";break;case"goerli":r="eth-goerli.alchemyapi.io/v2/";break;case"kovan":r="eth-kovan.alchemyapi.io/v2/";break;case"matic":r="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":r="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":r="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-rinkeby":r="arb-rinkeby.g.alchemy.com/v2/";break;case"optimism":r="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-kovan":r="opt-kovan.g.alchemy.com/v2/";break;default:logger$b.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+r+t,throttleCallback:function(e,r){return t===defaultApiKey$3&&showThrottleMessage(),Promise.resolve(!0)}}}}]),r}(UrlJsonRpcProvider),logger$a=new Logger(version$4),defaultApiKey$2="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function getHost(e){switch(e){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"matic":return"rpc.ankr.com/polygon/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return logger$a.throwArgumentError("unsupported network","name",e)}var AnkrProvider=function(e){_inherits(r,e);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return _createClass(r,[{key:"isCommunityResource",value:function(){return this.apiKey===defaultApiKey$2}}],[{key:"getApiKey",value:function(e){return null==e?defaultApiKey$2:e}},{key:"getUrl",value:function(e,t){null==t&&(t=defaultApiKey$2);var r={allowGzip:!0,url:"https://"+getHost(e.name)+t,throttleCallback:function(e,r){return t.apiKey===defaultApiKey$2&&showThrottleMessage(),Promise.resolve(!0)}};return null!=t.projectSecret&&(r.user="",r.password=t.projectSecret),r}}]),r}(UrlJsonRpcProvider),__awaiter$2=globalThis&&globalThis.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},logger$9=new Logger(version$4),CloudflareProvider=function(e){_inherits(r,e);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return _createClass(r,[{key:"perform",value:function(e,t){var n=this,i=Object.create(null,{perform:{get:function(){return _get(_getPrototypeOf(r.prototype),"perform",n)}}});return __awaiter$2(this,void 0,void 0,regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("getBlockNumber"!==e){r.next=5;break}return r.next=3,i.perform.call(this,"getBlock",{blockTag:"latest"});case 3:return n=r.sent,r.abrupt("return",n.number);case 5:return r.abrupt("return",i.perform.call(this,e,t));case 6:case"end":return r.stop()}}),r,this)})))}}],[{key:"getApiKey",value:function(e){return null!=e&&logger$9.throwArgumentError("apiKey not supported for cloudflare","apiKey",e),null}},{key:"getUrl",value:function(e,t){var r=null;switch(e.name){case"homestead":r="https://cloudflare-eth.com/";break;default:logger$9.throwArgumentError("unsupported network","network",arguments[0])}return r}}]),r}(UrlJsonRpcProvider),__awaiter$1=globalThis&&globalThis.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},logger$8=new Logger(version$4);function getTransactionPostData(e){var t={};for(var r in e)if(null!=e[r]){var n=e[r];"type"===r&&0===n||(n={type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[r]?hexValue(hexlify(n)):"accessList"===r?"["+accessListify(n).map((function(e){return'{address:"'.concat(e.address,'",storageKeys:["').concat(e.storageKeys.join('","'),'"]}')})).join(",")+"]":hexlify(n),t[r]=n)}return t}function getResult(e){if(0==e.status&&("No records found"===e.message||"No transactions found"===e.message))return e.result;if(1!=e.status||"OK"!=e.message){var t=new Error("invalid response");throw t.result=JSON.stringify(e),(e.result||"").toLowerCase().indexOf("rate limit")>=0&&(t.throttleRetry=!0),t}return e.result}function getJsonResult(e){if(e&&0==e.status&&"NOTOK"==e.message&&(e.result||"").toLowerCase().indexOf("rate limit")>=0){var t=new Error("throttled response");throw t.result=JSON.stringify(e),t.throttleRetry=!0,t}if("2.0"!=e.jsonrpc){var r=new Error("invalid response");throw r.result=JSON.stringify(e),r}if(e.error){var n=new Error(e.error.message||"unknown error");throw e.error.code&&(n.code=e.error.code),e.error.data&&(n.data=e.error.data),n}return e.result}function checkLogTag(e){if("pending"===e)throw new Error("pending not supported");return"latest"===e?e:parseInt(e.substring(2),16)}var defaultApiKey$1="9D13ZE7XSBTJ94N9BNJ2MA33VMAY2YPIRB";function checkError(e,t,r){if("call"===e&&t.code===Logger.errors.SERVER_ERROR){var n=t.error;if(n&&(n.message.match(/reverted/i)||n.message.match(/VM execution error/i))){var i=n.data;if(i&&(i="0x"+i.replace(/^.*0x/i,"")),isHexString(i))return i;logger$8.throwError("missing revert data in call exception",Logger.errors.CALL_EXCEPTION,{error:t,data:"0x"})}}var a=t.message;throw t.code===Logger.errors.SERVER_ERROR&&(t.error&&"string"==typeof t.error.message?a=t.error.message:"string"==typeof t.body?a=t.body:"string"==typeof t.responseText&&(a=t.responseText)),(a=(a||"").toLowerCase()).match(/insufficient funds/)&&logger$8.throwError("insufficient funds for intrinsic transaction cost",Logger.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:r}),a.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&logger$8.throwError("nonce has already been used",Logger.errors.NONCE_EXPIRED,{error:t,method:e,transaction:r}),a.match(/another transaction with same nonce/)&&logger$8.throwError("replacement fee too low",Logger.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:r}),a.match(/execution failed due to an exception|execution reverted/)&&logger$8.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:r}),t}var EtherscanProvider=function(e){_inherits(r,e);var t=_createSuper(r);function r(e,n){var i;return _classCallCheck(this,r),defineReadOnly(_assertThisInitialized(i=t.call(this,e)),"baseUrl",i.getBaseUrl()),defineReadOnly(_assertThisInitialized(i),"apiKey",n||defaultApiKey$1),i}return _createClass(r,[{key:"getBaseUrl",value:function(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"ropsten":return"https://api-ropsten.etherscan.io";case"rinkeby":return"https://api-rinkeby.etherscan.io";case"kovan":return"https://api-kovan.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"optimism":return"https://api-optimistic.etherscan.io"}return logger$8.throwArgumentError("unsupported network","network",this.network.name)}},{key:"getUrl",value:function(e,t){var r=Object.keys(t).reduce((function(e,r){var n=t[r];return null!=n&&(e+="&".concat(r,"=").concat(n)),e}),""),n=this.apiKey?"&apikey=".concat(this.apiKey):"";return"".concat(this.baseUrl,"/api?module=").concat(e).concat(r).concat(n)}},{key:"getPostUrl",value:function(){return"".concat(this.baseUrl,"/api")}},{key:"getPostData",value:function(e,t){return t.module=e,t.apikey=this.apiKey,t}},{key:"fetch",value:function(e,t,r){return __awaiter$1(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i,a,o,s,u,c,l=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=r?this.getPostUrl():this.getUrl(e,t),a=r?this.getPostData(e,t):null,o="proxy"===e?getJsonResult:getResult,this.emit("debug",{action:"request",request:i,provider:this}),s={url:i,throttleSlotInterval:1e3,throttleCallback:function(e,t){return l.isCommunityResource()&&showThrottleMessage(),Promise.resolve(!0)}},u=null,a&&(s.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},u=Object.keys(a).map((function(e){return"".concat(e,"=").concat(a[e])})).join("&")),n.next=9,fetchJson(s,u,o||getJsonResult);case 9:return c=n.sent,this.emit("debug",{action:"response",request:i,response:deepCopy(c),provider:this}),n.abrupt("return",c);case 12:case"end":return n.stop()}}),n,this)})))}},{key:"detectNetwork",value:function(){return __awaiter$1(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.network);case 1:case"end":return e.stop()}}),e,this)})))}},{key:"perform",value:function(e,t){var n=this,i=Object.create(null,{perform:{get:function(){return _get(_getPrototypeOf(r.prototype),"perform",n)}}});return __awaiter$1(this,void 0,void 0,regeneratorRuntime.mark((function r(){var n,a,o,s,u,c,l,f,p;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.t0=e,r.next="getBlockNumber"===r.t0?3:"getGasPrice"===r.t0?4:"getBalance"===r.t0?5:"getTransactionCount"===r.t0?6:"getCode"===r.t0?7:"getStorageAt"===r.t0?8:"sendTransaction"===r.t0?9:"getBlock"===r.t0?10:"getTransaction"===r.t0?13:"getTransactionReceipt"===r.t0?14:"call"===r.t0?15:"estimateGas"===r.t0?29:"getLogs"===r.t0?41:"getEtherPrice"===r.t0?65:72;break;case 3:return r.abrupt("return",this.fetch("proxy",{action:"eth_blockNumber"}));case 4:return r.abrupt("return",this.fetch("proxy",{action:"eth_gasPrice"}));case 5:return r.abrupt("return",this.fetch("account",{action:"balance",address:t.address,tag:t.blockTag}));case 6:return r.abrupt("return",this.fetch("proxy",{action:"eth_getTransactionCount",address:t.address,tag:t.blockTag}));case 7:return r.abrupt("return",this.fetch("proxy",{action:"eth_getCode",address:t.address,tag:t.blockTag}));case 8:return r.abrupt("return",this.fetch("proxy",{action:"eth_getStorageAt",address:t.address,position:t.position,tag:t.blockTag}));case 9:return r.abrupt("return",this.fetch("proxy",{action:"eth_sendRawTransaction",hex:t.signedTransaction},!0).catch((function(e){return checkError("sendTransaction",e,t.signedTransaction)})));case 10:if(!t.blockTag){r.next=12;break}return r.abrupt("return",this.fetch("proxy",{action:"eth_getBlockByNumber",tag:t.blockTag,boolean:t.includeTransactions?"true":"false"}));case 12:throw new Error("getBlock by blockHash not implemented");case 13:return r.abrupt("return",this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:t.transactionHash}));case 14:return r.abrupt("return",this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:t.transactionHash}));case 15:if("latest"===t.blockTag){r.next=17;break}throw new Error("EtherscanProvider does not support blockTag for call");case 17:return(n=getTransactionPostData(t.transaction)).module="proxy",n.action="eth_call",r.prev=20,r.next=23,this.fetch("proxy",n,!0);case 23:return r.abrupt("return",r.sent);case 26:return r.prev=26,r.t1=r.catch(20),r.abrupt("return",checkError("call",r.t1,t.transaction));case 29:return(a=getTransactionPostData(t.transaction)).module="proxy",a.action="eth_estimateGas",r.prev=32,r.next=35,this.fetch("proxy",a,!0);case 35:return r.abrupt("return",r.sent);case 38:return r.prev=38,r.t2=r.catch(32),r.abrupt("return",checkError("estimateGas",r.t2,t.transaction));case 41:return o={action:"getLogs"},t.filter.fromBlock&&(o.fromBlock=checkLogTag(t.filter.fromBlock)),t.filter.toBlock&&(o.toBlock=checkLogTag(t.filter.toBlock)),t.filter.address&&(o.address=t.filter.address),t.filter.topics&&t.filter.topics.length>0&&(t.filter.topics.length>1&&logger$8.throwError("unsupported topic count",Logger.errors.UNSUPPORTED_OPERATION,{topics:t.filter.topics}),1===t.filter.topics.length&&("string"==typeof(s=t.filter.topics[0])&&66===s.length||logger$8.throwError("unsupported topic format",Logger.errors.UNSUPPORTED_OPERATION,{topic0:s}),o.topic0=s)),r.next=48,this.fetch("logs",o);case 48:u=r.sent,c={},l=0;case 51:if(!(l<u.length)){r.next=64;break}if(null==(f=u[l]).blockHash){r.next=55;break}return r.abrupt("continue",61);case 55:if(null!=c[f.blockNumber]){r.next=60;break}return r.next=58,this.getBlock(f.blockNumber);case 58:(p=r.sent)&&(c[f.blockNumber]=p.hash);case 60:f.blockHash=c[f.blockNumber];case 61:l++,r.next=51;break;case 64:return r.abrupt("return",u);case 65:if("homestead"===this.network.name){r.next=67;break}return r.abrupt("return",0);case 67:return r.t3=parseFloat,r.next=70,this.fetch("stats",{action:"ethprice"});case 70:return r.t4=r.sent.ethusd,r.abrupt("return",(0,r.t3)(r.t4));case 72:return r.abrupt("return",i.perform.call(this,e,t));case 73:case"end":return r.stop()}}),r,this,[[20,26],[32,38]])})))}},{key:"getHistory",value:function(e,t,r){return __awaiter$1(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i,a,o=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.resolveName(e);case 2:return n.t0=n.sent,n.t1=null==t?0:t,n.t2=null==r?99999999:r,i={action:"txlist",address:n.t0,startblock:n.t1,endblock:n.t2,sort:"asc"},n.next=8,this.fetch("account",i);case 8:return a=n.sent,n.abrupt("return",a.map((function(e){["contractAddress","to"].forEach((function(t){""==e[t]&&delete e[t]})),null==e.creates&&null!=e.contractAddress&&(e.creates=e.contractAddress);var t=o.formatter.transactionResponse(e);return e.timeStamp&&(t.timestamp=parseInt(e.timeStamp)),t})));case 10:case"end":return n.stop()}}),n,this)})))}},{key:"isCommunityResource",value:function(){return this.apiKey===defaultApiKey$1}}]),r}(BaseProvider),__awaiter=globalThis&&globalThis.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},logger$7=new Logger(version$4);function now(){return(new Date).getTime()}function checkNetworks(e){for(var t=null,r=0;r<e.length;r++){var n=e[r];if(null==n)return null;t?t.name===n.name&&t.chainId===n.chainId&&(t.ensAddress===n.ensAddress||null==t.ensAddress&&null==n.ensAddress)||logger$7.throwArgumentError("provider mismatch","networks",e):t=n}return t}function median(e,t){e=e.slice().sort();var r=Math.floor(e.length/2);if(e.length%2)return e[r];var n=e[r-1],i=e[r];return null!=t&&Math.abs(n-i)>t?null:(n+i)/2}function serialize(e){if(null===e)return"null";if("number"==typeof e||"boolean"==typeof e)return JSON.stringify(e);if("string"==typeof e)return e;if(BigNumber.isBigNumber(e))return e.toString();if(Array.isArray(e))return JSON.stringify(e.map((function(e){return serialize(e)})));if("object"===_typeof(e)){var t=Object.keys(e);return t.sort(),"{"+t.map((function(t){var r=e[t];return r="function"==typeof r?"[function]":serialize(r),JSON.stringify(t)+":"+r})).join(",")+"}"}throw new Error("unknown value type: "+_typeof(e))}var nextRid=1;function stall(e){var t=null,r=null,n=new Promise((function(n){t=function(){r&&(clearTimeout(r),r=null),n()},r=setTimeout(t,e)}));return{cancel:t,getPromise:function(){return n},wait:function(e){return n=n.then(e)}}}var ForwardErrors=[Logger.errors.CALL_EXCEPTION,Logger.errors.INSUFFICIENT_FUNDS,Logger.errors.NONCE_EXPIRED,Logger.errors.REPLACEMENT_UNDERPRICED,Logger.errors.UNPREDICTABLE_GAS_LIMIT],ForwardProperties=["address","args","errorArgs","errorSignature","method","transaction"];function exposeDebugConfig(e,t){var r={weight:e.weight};return Object.defineProperty(r,"provider",{get:function(){return e.provider}}),e.start&&(r.start=e.start),t&&(r.duration=t-e.start),e.done&&(e.error?r.error=e.error:r.result=e.result||null),r}function normalizedTally(e,t){return function(r){var n={};r.forEach((function(t){var r=e(t.result);n[r]||(n[r]={count:0,result:t.result}),n[r].count++}));for(var i=Object.keys(n),a=0;a<i.length;a++){var o=n[i[a]];if(o.count>=t)return o.result}}}function getProcessFunc(e,t,r){var n=serialize;switch(t){case"getBlockNumber":return function(t){var r=t.map((function(e){return e.result})),n=median(t.map((function(e){return e.result})),2);if(null!=n)return n=Math.ceil(n),r.indexOf(n+1)>=0&&n++,n>=e._highestBlockNumber&&(e._highestBlockNumber=n),e._highestBlockNumber};case"getGasPrice":return function(e){var t=e.map((function(e){return e.result}));return t.sort(),t[Math.floor(t.length/2)]};case"getEtherPrice":return function(e){return median(e.map((function(e){return e.result})))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":n=function(e){return null==e?null:((e=shallowCopy(e)).confirmations=-1,serialize(e))};break;case"getBlock":n=r.includeTransactions?function(e){return null==e?null:((e=shallowCopy(e)).transactions=e.transactions.map((function(e){return(e=shallowCopy(e)).confirmations=-1,e})),serialize(e))}:function(e){return null==e?null:serialize(e)};break;default:throw new Error("unknown method: "+t)}return normalizedTally(n,e.quorum)}function waitForSync(e,t){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(null!=(n=e.provider).blockNumber&&n.blockNumber>=t||-1===t)){r.next=3;break}return r.abrupt("return",n);case 3:return r.abrupt("return",poll((function(){return new Promise((function(r,i){setTimeout((function(){return n.blockNumber>=t?r(n):e.cancelled?r(null):r(void 0)}),0)}))}),{oncePoll:n}));case 4:case"end":return r.stop()}}),r)})))}function getRunner(e,t,r,n){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark((function i(){var a,o;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:a=e.provider,i.t0=r,i.next="getBlockNumber"===i.t0||"getGasPrice"===i.t0?4:"getEtherPrice"===i.t0?5:"getBalance"===i.t0||"getTransactionCount"===i.t0||"getCode"===i.t0?8:"getStorageAt"===i.t0?13:"getBlock"===i.t0?18:"call"===i.t0||"estimateGas"===i.t0?23:"getTransaction"===i.t0||"getTransactionReceipt"===i.t0?28:"getLogs"===i.t0?29:35;break;case 4:return i.abrupt("return",a[r]());case 5:if(!a.getEtherPrice){i.next=7;break}return i.abrupt("return",a.getEtherPrice());case 7:return i.abrupt("break",35);case 8:if(!n.blockTag||!isHexString(n.blockTag)){i.next=12;break}return i.next=11,waitForSync(e,t);case 11:a=i.sent;case 12:return i.abrupt("return",a[r](n.address,n.blockTag||"latest"));case 13:if(!n.blockTag||!isHexString(n.blockTag)){i.next=17;break}return i.next=16,waitForSync(e,t);case 16:a=i.sent;case 17:return i.abrupt("return",a.getStorageAt(n.address,n.position,n.blockTag||"latest"));case 18:if(!n.blockTag||!isHexString(n.blockTag)){i.next=22;break}return i.next=21,waitForSync(e,t);case 21:a=i.sent;case 22:return i.abrupt("return",a[n.includeTransactions?"getBlockWithTransactions":"getBlock"](n.blockTag||n.blockHash));case 23:if(!n.blockTag||!isHexString(n.blockTag)){i.next=27;break}return i.next=26,waitForSync(e,t);case 26:a=i.sent;case 27:return i.abrupt("return",a[r](n.transaction));case 28:return i.abrupt("return",a[r](n.transactionHash));case 29:if(!((o=n.filter).fromBlock&&isHexString(o.fromBlock)||o.toBlock&&isHexString(o.toBlock))){i.next=34;break}return i.next=33,waitForSync(e,t);case 33:a=i.sent;case 34:return i.abrupt("return",a.getLogs(o));case 35:return i.abrupt("return",logger$7.throwError("unknown method error",Logger.errors.UNKNOWN_ERROR,{method:r,params:n}));case 36:case"end":return i.stop()}}),i)})))}var FallbackProvider=function(e){_inherits(r,e);var t=_createSuper(r);function r(e,n){var i;_classCallCheck(this,r),0===e.length&&logger$7.throwArgumentError("missing providers","providers",e);var a=e.map((function(e,t){if(Provider.isProvider(e)){var r=isCommunityResource(e)?2e3:750;return Object.freeze({provider:e,weight:1,stallTimeout:r,priority:1})}var n=shallowCopy(e);null==n.priority&&(n.priority=1),null==n.stallTimeout&&(n.stallTimeout=isCommunityResource(e)?2e3:750),null==n.weight&&(n.weight=1);var i=n.weight;return(i%1||i>512||i<1)&&logger$7.throwArgumentError("invalid weight; must be integer in [1, 512]","providers[".concat(t,"].weight"),i),Object.freeze(n)})),o=a.reduce((function(e,t){return e+t.weight}),0);null==n?n=o/2:n>o&&logger$7.throwArgumentError("quorum will always fail; larger than total weight","quorum",n);var s=checkNetworks(a.map((function(e){return e.provider.network})));return null==s&&(s=new Promise((function(e,t){setTimeout((function(){i.detectNetwork().then(e,t)}),0)}))),defineReadOnly(_assertThisInitialized(i=t.call(this,s)),"providerConfigs",Object.freeze(a)),defineReadOnly(_assertThisInitialized(i),"quorum",n),i._highestBlockNumber=-1,i}return _createClass(r,[{key:"detectNetwork",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this.providerConfigs.map((function(e){return e.provider.getNetwork()})));case 2:return t=e.sent,e.abrupt("return",checkNetworks(t));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"perform",value:function(e,t){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark((function r(){var n,i,a,o,s,u,c,l,f,p,d=this;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("sendTransaction"!==e){r.next=13;break}return r.next=3,Promise.all(this.providerConfigs.map((function(e){return e.provider.sendTransaction(t.signedTransaction).then((function(e){return e.hash}),(function(e){return e}))})));case 3:n=r.sent,i=0;case 5:if(!(i<n.length)){r.next=12;break}if("string"!=typeof(a=n[i])){r.next=9;break}return r.abrupt("return",a);case 9:i++,r.next=5;break;case 12:throw n[0];case 13:if(-1!==this._highestBlockNumber||"getBlockNumber"===e){r.next=16;break}return r.next=16,this.getBlockNumber();case 16:o=getProcessFunc(this,e,t),(s=shuffled(this.providerConfigs.map(shallowCopy))).sort((function(e,t){return e.priority-t.priority})),u=this._highestBlockNumber,c=0,l=!0,f=regeneratorRuntime.mark((function r(){var n,i,a,f,p,h,m;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(n=now(),i=s.filter((function(e){return e.runner&&n-e.start<e.stallTimeout})).reduce((function(e,t){return e+t.weight}),0),a=function(){var r=s[c++],n=nextRid++;r.start=now(),r.staller=stall(r.stallTimeout),r.staller.wait((function(){r.staller=null})),r.runner=getRunner(r,u,e,t).then((function(i){r.done=!0,r.result=i,d.listenerCount("debug")&&d.emit("debug",{action:"request",rid:n,backend:exposeDebugConfig(r,now()),request:{method:e,params:deepCopy(t)},provider:d})}),(function(i){r.done=!0,r.error=i,d.listenerCount("debug")&&d.emit("debug",{action:"request",rid:n,backend:exposeDebugConfig(r,now()),request:{method:e,params:deepCopy(t)},provider:d})})),d.listenerCount("debug")&&d.emit("debug",{action:"request",rid:n,backend:exposeDebugConfig(r,null),request:{method:e,params:deepCopy(t)},provider:d}),i+=r.weight};i<d.quorum&&c<s.length;)a();if(f=[],s.forEach((function(e){!e.done&&e.runner&&(f.push(e.runner),e.staller&&f.push(e.staller.getPromise()))})),!f.length){r.next=9;break}return r.next=9,Promise.race(f);case 9:if(!((p=s.filter((function(e){return e.done&&null==e.error}))).length>=d.quorum)){r.next=19;break}if(void 0===(h=o(p))){r.next=15;break}return s.forEach((function(e){e.staller&&e.staller.cancel(),e.cancelled=!0})),r.abrupt("return",{v:h});case 15:if(l){r.next=18;break}return r.next=18,stall(100).getPromise();case 18:l=!1;case 19:if(m=s.reduce((function(e,t){if(!t.done||null==t.error)return e;var r=t.error.code;return ForwardErrors.indexOf(r)>=0&&(e[r]||(e[r]={error:t.error,weight:0}),e[r].weight+=t.weight),e}),{}),Object.keys(m).forEach((function(e){var t=m[e];if(!(t.weight<d.quorum)){s.forEach((function(e){e.staller&&e.staller.cancel(),e.cancelled=!0}));var r=t.error,n={};ForwardProperties.forEach((function(e){null!=r[e]&&(n[e]=r[e])})),logger$7.throwError(r.reason||r.message,e,n)}})),0!==s.filter((function(e){return!e.done})).length){r.next=23;break}return r.abrupt("return","break");case 23:case"end":return r.stop()}}),r)}));case 23:return r.delegateYield(f(),"t0",25);case 25:if("break"!==(p=r.t0)){r.next=28;break}return r.abrupt("break",32);case 28:if("object"!==_typeof(p)){r.next=30;break}return r.abrupt("return",p.v);case 30:r.next=23;break;case 32:return s.forEach((function(e){e.staller&&e.staller.cancel(),e.cancelled=!0})),r.abrupt("return",logger$7.throwError("failed to meet quorum",Logger.errors.SERVER_ERROR,{method:e,params:t,results:s.map((function(e){return exposeDebugConfig(e)})),provider:this}));case 34:case"end":return r.stop()}}),r,this)})))}}]),r}(BaseProvider),IpcProvider=null,logger$6=new Logger(version$4),defaultProjectId="84842078b09946638c03157f83405213",InfuraWebSocketProvider=function(e){_inherits(r,e);var t=_createSuper(r);function r(e,n){var i;_classCallCheck(this,r);var a=new InfuraProvider(e,n),o=a.connection;o.password&&logger$6.throwError("INFURA WebSocket project secrets unsupported",Logger.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});var s=o.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");return defineReadOnly(_assertThisInitialized(i=t.call(this,s,e)),"apiKey",a.projectId),defineReadOnly(_assertThisInitialized(i),"projectId",a.projectId),defineReadOnly(_assertThisInitialized(i),"projectSecret",a.projectSecret),i}return _createClass(r,[{key:"isCommunityResource",value:function(){return this.projectId===defaultProjectId}}]),r}(WebSocketProvider),InfuraProvider=function(e){_inherits(r,e);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return _createClass(r,[{key:"isCommunityResource",value:function(){return this.projectId===defaultProjectId}}],[{key:"getWebSocketProvider",value:function(e,t){return new InfuraWebSocketProvider(e,t)}},{key:"getApiKey",value:function(e){var t={apiKey:defaultProjectId,projectId:defaultProjectId,projectSecret:null};return null==e||("string"==typeof e?t.projectId=e:null!=e.projectSecret?(logger$6.assertArgument("string"==typeof e.projectId,"projectSecret requires a projectId","projectId",e.projectId),logger$6.assertArgument("string"==typeof e.projectSecret,"invalid projectSecret","projectSecret","[REDACTED]"),t.projectId=e.projectId,t.projectSecret=e.projectSecret):e.projectId&&(t.projectId=e.projectId),t.apiKey=t.projectId),t}},{key:"getUrl",value:function(e,t){var r=null;switch(e?e.name:"unknown"){case"homestead":r="mainnet.infura.io";break;case"ropsten":r="ropsten.infura.io";break;case"rinkeby":r="rinkeby.infura.io";break;case"kovan":r="kovan.infura.io";break;case"goerli":r="goerli.infura.io";break;case"matic":r="polygon-mainnet.infura.io";break;case"maticmum":r="polygon-mumbai.infura.io";break;case"optimism":r="optimism-mainnet.infura.io";break;case"optimism-kovan":r="optimism-kovan.infura.io";break;case"arbitrum":r="arbitrum-mainnet.infura.io";break;case"arbitrum-rinkeby":r="arbitrum-rinkeby.infura.io";break;default:logger$6.throwError("unsupported network",Logger.errors.INVALID_ARGUMENT,{argument:"network",value:e})}var n={allowGzip:!0,url:"https://"+r+"/v3/"+t.projectId,throttleCallback:function(e,r){return t.projectId===defaultProjectId&&showThrottleMessage(),Promise.resolve(!0)}};return null!=t.projectSecret&&(n.user="",n.password=t.projectSecret),n}}]),r}(UrlJsonRpcProvider),JsonRpcBatchProvider=function(e){_inherits(r,e);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return _createClass(r,[{key:"send",value:function(e,t){var r=this,n={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};null==this._pendingBatch&&(this._pendingBatch=[]);var i={request:n,resolve:null,reject:null},a=new Promise((function(e,t){i.resolve=e,i.reject=t}));return this._pendingBatch.push(i),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout((function(){var e=r._pendingBatch;r._pendingBatch=null,r._pendingBatchAggregator=null;var t=e.map((function(e){return e.request}));return r.emit("debug",{action:"requestBatch",request:deepCopy(t),provider:r}),fetchJson(r.connection,JSON.stringify(t)).then((function(n){r.emit("debug",{action:"response",request:t,response:n,provider:r}),e.forEach((function(e,t){var r=n[t];if(r.error){var i=new Error(r.error.message);i.code=r.error.code,i.data=r.error.data,e.reject(i)}else e.resolve(r.result)}))}),(function(n){r.emit("debug",{action:"response",error:n,request:t,provider:r}),e.forEach((function(e){e.reject(n)}))}))}),10)),a}}]),r}(JsonRpcProvider),logger$5=new Logger(version$4),defaultApiKey="ETHERS_JS_SHARED",NodesmithProvider=function(e){_inherits(r,e);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return _createClass(r,null,[{key:"getApiKey",value:function(e){return e&&"string"!=typeof e&&logger$5.throwArgumentError("invalid apiKey","apiKey",e),e||defaultApiKey}},{key:"getUrl",value:function(e,t){logger$5.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");var r=null;switch(e.name){case"homestead":r="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":r="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":r="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":r="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":r="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:logger$5.throwArgumentError("unsupported network","network",arguments[0])}return r+"?apiKey="+t}}]),r}(UrlJsonRpcProvider),logger$4=new Logger(version$4),defaultApplicationIds={homestead:"6004bcd10040261633ade990",ropsten:"6004bd4d0040261633ade991",rinkeby:"6004bda20040261633ade994",goerli:"6004bd860040261633ade992"},PocketProvider=function(e){_inherits(r,e);var t=_createSuper(r);function r(e,n){if(_classCallCheck(this,r),null==n){var i=getStatic(this instanceof r?this.constructor:void 0,"getNetwork")(e);if(i){var a=defaultApplicationIds[i.name];a&&(n={applicationId:a,loadBalancer:!0})}null==n&&logger$4.throwError("unsupported network",Logger.errors.INVALID_ARGUMENT,{argument:"network",value:e})}return t.call(this,e,n)}return _createClass(r,[{key:"isCommunityResource",value:function(){return this.applicationId===defaultApplicationIds[this.network.name]}}],[{key:"getApiKey",value:function(e){null==e&&logger$4.throwArgumentError("PocketProvider.getApiKey does not support null apiKey","apiKey",e);var t={applicationId:null,loadBalancer:!1,applicationSecretKey:null};return"string"==typeof e?t.applicationId=e:null!=e.applicationSecretKey?(logger$4.assertArgument("string"==typeof e.applicationId,"applicationSecretKey requires an applicationId","applicationId",e.applicationId),logger$4.assertArgument("string"==typeof e.applicationSecretKey,"invalid applicationSecretKey","applicationSecretKey","[REDACTED]"),t.applicationId=e.applicationId,t.applicationSecretKey=e.applicationSecretKey,t.loadBalancer=!!e.loadBalancer):e.applicationId?(logger$4.assertArgument("string"==typeof e.applicationId,"apiKey.applicationId must be a string","apiKey.applicationId",e.applicationId),t.applicationId=e.applicationId,t.loadBalancer=!!e.loadBalancer):logger$4.throwArgumentError("unsupported PocketProvider apiKey","apiKey",e),t}},{key:"getUrl",value:function(e,t){var r=null;switch(e?e.name:"unknown"){case"homestead":r="eth-mainnet.gateway.pokt.network";break;case"ropsten":r="eth-ropsten.gateway.pokt.network";break;case"rinkeby":r="eth-rinkeby.gateway.pokt.network";break;case"goerli":r="eth-goerli.gateway.pokt.network";break;default:logger$4.throwError("unsupported network",Logger.errors.INVALID_ARGUMENT,{argument:"network",value:e})}var n={url:t.loadBalancer?"https://".concat(r,"/v1/lb/").concat(t.applicationId):"https://".concat(r,"/v1/").concat(t.applicationId),headers:{}};return null!=t.applicationSecretKey&&(n.user="",n.password=t.applicationSecretKey),n}}]),r}(UrlJsonRpcProvider),logger$3=new Logger(version$4),_nextId=1;function buildWeb3LegacyFetcher(e,t){var r="Web3LegacyFetcher";return function(e,n){var i=this,a={method:e,params:n,id:_nextId++,jsonrpc:"2.0"};return new Promise((function(e,n){i.emit("debug",{action:"request",fetcher:r,request:deepCopy(a),provider:i}),t(a,(function(t,o){if(t)return i.emit("debug",{action:"response",fetcher:r,error:t,request:a,provider:i}),n(t);if(i.emit("debug",{action:"response",fetcher:r,request:a,response:o,provider:i}),o.error){var s=new Error(o.error.message);return s.code=o.error.code,s.data=o.error.data,n(s)}e(o.result)}))}))}}function buildEip1193Fetcher(e){return function(t,r){var n=this;null==r&&(r=[]);var i={method:t,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:deepCopy(i),provider:this}),e.request(i).then((function(e){return n.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:i,response:e,provider:n}),e}),(function(e){throw n.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:i,error:e,provider:n}),e}))}}var Web3Provider=function(e){_inherits(r,e);var t=_createSuper(r);function r(e,n){var i;_classCallCheck(this,r),null==e&&logger$3.throwArgumentError("missing provider","provider",e);var a=null,o=null,s=null;return"function"==typeof e?(a="unknown:",o=e):(!(a=e.host||e.path||"")&&e.isMetaMask&&(a="metamask"),s=e,e.request?(""===a&&(a="eip-1193:"),o=buildEip1193Fetcher(e)):e.sendAsync?o=buildWeb3LegacyFetcher(e,e.sendAsync.bind(e)):e.send?o=buildWeb3LegacyFetcher(e,e.send.bind(e)):logger$3.throwArgumentError("unsupported provider","provider",e),a||(a="unknown:")),defineReadOnly(_assertThisInitialized(i=t.call(this,a,n)),"jsonRpcFetchFunc",o),defineReadOnly(_assertThisInitialized(i),"provider",s),i}return _createClass(r,[{key:"send",value:function(e,t){return this.jsonRpcFetchFunc(e,t)}}]),r}(JsonRpcProvider),logger$2=new Logger(version$4);function getDefaultProvider(e,t){if(null==e&&(e="homestead"),"string"==typeof e){var r=e.match(/^(ws|http)s?:/i);if(r)switch(r[1].toLowerCase()){case"http":case"https":return new JsonRpcProvider(e);case"ws":case"wss":return new WebSocketProvider(e);default:logger$2.throwArgumentError("unsupported URL scheme","network",e)}}var n=_getNetwork(e);return n&&n._defaultProvider||logger$2.throwError("unsupported getDefaultProvider network",Logger.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:e}),n._defaultProvider({FallbackProvider,AlchemyProvider,AnkrProvider,CloudflareProvider,EtherscanProvider,InfuraProvider,JsonRpcProvider,NodesmithProvider,PocketProvider,Web3Provider,IpcProvider},t)}var lib_esm$2=Object.freeze(Object.defineProperty({__proto__:null,Provider,BaseProvider,Resolver,UrlJsonRpcProvider,FallbackProvider,AlchemyProvider,AlchemyWebSocketProvider,AnkrProvider,CloudflareProvider,EtherscanProvider,InfuraProvider,InfuraWebSocketProvider,JsonRpcProvider,JsonRpcBatchProvider,NodesmithProvider,PocketProvider,StaticJsonRpcProvider,Web3Provider,WebSocketProvider,IpcProvider,JsonRpcSigner,getDefaultProvider,getNetwork:_getNetwork,isCommunityResource,isCommunityResourcable,showThrottleMessage,Formatter},Symbol.toStringTag,{value:"Module"})),version$3="solidity/5.6.1",regexBytes=new RegExp("^bytes([0-9]+)$"),regexNumber=new RegExp("^(u?int)([0-9]*)$"),regexArray=new RegExp("^(.*)\\[([0-9]*)\\]$"),Zeros="0000000000000000000000000000000000000000000000000000000000000000",logger$1=new Logger(version$3);function _pack(e,t,r){switch(e){case"address":return r?zeroPad(t,32):arrayify(t);case"string":return toUtf8Bytes(t);case"bytes":return arrayify(t);case"bool":return t=t?"0x01":"0x00",r?zeroPad(t,32):arrayify(t)}var n=e.match(regexNumber);if(n){var i=parseInt(n[2]||"256");return(n[2]&&String(i)!==n[2]||i%8!=0||0===i||i>256)&&logger$1.throwArgumentError("invalid number type","type",e),r&&(i=256),zeroPad(t=BigNumber.from(t).toTwos(i),i/8)}if(n=e.match(regexBytes)){var a=parseInt(n[1]);return(String(a)!==n[1]||0===a||a>32)&&logger$1.throwArgumentError("invalid bytes type","type",e),arrayify(t).byteLength!==a&&logger$1.throwArgumentError("invalid value for ".concat(e),"value",t),r?arrayify((t+Zeros).substring(0,66)):t}if((n=e.match(regexArray))&&Array.isArray(t)){var o=n[1];parseInt(n[2]||String(t.length))!=t.length&&logger$1.throwArgumentError("invalid array length for ".concat(e),"value",t);var s=[];return t.forEach((function(e){s.push(_pack(o,e,!0))})),concat$3(s)}return logger$1.throwArgumentError("invalid type","type",e)}function pack$1(e,t){e.length!=t.length&&logger$1.throwArgumentError("wrong number of values; expected ${ types.length }","values",t);var r=[];return e.forEach((function(e,n){r.push(_pack(e,t[n]))})),hexlify(concat$3(r))}function keccak256(e,t){return keccak256$1(pack$1(e,t))}function sha256$1(e,t){return sha256$2(pack$1(e,t))}var lib_esm$1=Object.freeze(Object.defineProperty({__proto__:null,pack:pack$1,keccak256,sha256:sha256$1},Symbol.toStringTag,{value:"Module"})),version$2="units/5.6.1",logger=new Logger(version$2),names=["wei","kwei","mwei","gwei","szabo","finney","ether"];function commify(e){var t=String(e).split(".");(t.length>2||!t[0].match(/^-?[0-9]*$/)||t[1]&&!t[1].match(/^[0-9]*$/)||"."===e||"-."===e)&&logger.throwArgumentError("invalid value","value",e);var r=t[0],n="";for("-"===r.substring(0,1)&&(n="-",r=r.substring(1));"0"===r.substring(0,1);)r=r.substring(1);""===r&&(r="0");var i="";for(2===t.length&&(i="."+(t[1]||"0"));i.length>2&&"0"===i[i.length-1];)i=i.substring(0,i.length-1);for(var a=[];r.length;){if(r.length<=3){a.unshift(r);break}var o=r.length-3;a.unshift(r.substring(o)),r=r.substring(0,o)}return n+a.join(",")+i}function formatUnits(e,t){if("string"==typeof t){var r=names.indexOf(t);-1!==r&&(t=3*r)}return formatFixed(e,null!=t?t:18)}function parseUnits(e,t){if("string"!=typeof e&&logger.throwArgumentError("value must be a string","value",e),"string"==typeof t){var r=names.indexOf(t);-1!==r&&(t=3*r)}return parseFixed(e,null!=t?t:18)}function formatEther(e){return formatUnits(e,18)}function parseEther(e){return parseUnits(e,18)}var lib_esm=Object.freeze(Object.defineProperty({__proto__:null,commify,formatUnits,parseUnits,formatEther,parseEther},Symbol.toStringTag,{value:"Module"})),version$1="ethers/5.6.8";new Logger(version$1);var copyProps=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=Object.getOwnPropertyDescriptors(t),a=_createForOfIteratorHelper(n);try{for(a.s();!(r=a.n()).done;){var o=r.value;delete i[o]}}catch(e){a.e(e)}finally{a.f()}Object.defineProperties(e,i)},protoChain=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[t],n=Object.getPrototypeOf(t);return null===n?r:e(n,[].concat(_toConsumableArray(r),[n]))},nearestCommonProto=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0!==t.length){for(var n=void 0,i=t.map((function(e){return protoChain(e)})),a=function(){var e=i.map((function(e){return e.pop()})),t=e[0];if(!e.every((function(e){return e===t})))return"break";n=t};i.every((function(e){return e.length>0}));){var o=a();if("break"===o)break}return n}},hardMixProtos=function(e,t){var r,n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=null!==(r=nearestCommonProto.apply(void 0,_toConsumableArray(e)))&&void 0!==r?r:Object.prototype,o=Object.create(a),s=protoChain(a),u=_createForOfIteratorHelper(e);try{for(u.s();!(n=u.n()).done;)for(var c=n.value,l=protoChain(c),f=l.length-1;f>=0;f--){var p=l[f];-1===s.indexOf(p)&&(copyProps(o,p,["constructor"].concat(_toConsumableArray(i))),s.push(p))}}catch(e){u.e(e)}finally{u.f()}return o.constructor=t,o},unique=function(e){return e.filter((function(t,r){return e.indexOf(t)==r}))},mixins=new Map,getMixinsForClass=function(e){return mixins.get(e)},registerMixins=function(e,t){return mixins.set(e,t)},mergeObjectsOfDecorators=function(e,t){var r,n,i,a={},o=_createForOfIteratorHelper(unique([].concat(_toConsumableArray(Object.getOwnPropertyNames(e)),_toConsumableArray(Object.getOwnPropertyNames(t)))));try{for(o.s();!(i=o.n()).done;){var s=i.value;a[s]=unique([].concat(_toConsumableArray(null!==(r=null==e?void 0:e[s])&&void 0!==r?r:[]),_toConsumableArray(null!==(n=null==t?void 0:t[s])&&void 0!==n?n:[])))}}catch(e){o.e(e)}finally{o.f()}return a},mergePropertyAndMethodDecorators=function(e,t){var r,n,i,a;return{property:mergeObjectsOfDecorators(null!==(r=null==e?void 0:e.property)&&void 0!==r?r:{},null!==(n=null==t?void 0:t.property)&&void 0!==n?n:{}),method:mergeObjectsOfDecorators(null!==(i=null==e?void 0:e.method)&&void 0!==i?i:{},null!==(a=null==t?void 0:t.method)&&void 0!==a?a:{})}},mergeDecorators=function(e,t){var r,n,i,a,o,s;return{class:unique([].concat(_toConsumableArray(null!==(r=null==e?void 0:e.class)&&void 0!==r?r:[]),_toConsumableArray(null!==(n=null==t?void 0:t.class)&&void 0!==n?n:[]))),static:mergePropertyAndMethodDecorators(null!==(i=null==e?void 0:e.static)&&void 0!==i?i:{},null!==(a=null==t?void 0:t.static)&&void 0!==a?a:{}),instance:mergePropertyAndMethodDecorators(null!==(o=null==e?void 0:e.instance)&&void 0!==o?o:{},null!==(s=null==t?void 0:t.instance)&&void 0!==s?s:{})}},decorators=new Map,findAllConstituentClasses=function(){for(var e,t=new Set,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];for(var a=new Set([].concat(n));a.size>0;){var o,s=_createForOfIteratorHelper(a);try{for(s.s();!(o=s.n()).done;){var u,c=o.value,l=protoChain(c.prototype).map((function(e){return e.constructor})),f=null!==(e=getMixinsForClass(c))&&void 0!==e?e:[],p=[].concat(_toConsumableArray(l),_toConsumableArray(f)),d=p.filter((function(e){return!t.has(e)})),h=_createForOfIteratorHelper(d);try{for(h.s();!(u=h.n()).done;){var m=u.value;a.add(m)}}catch(e){h.e(e)}finally{h.f()}t.add(c),a.delete(c)}}catch(e){s.e(e)}finally{s.f()}}return _toConsumableArray(t)},deepDecoratorSearch=function(){var e=findAllConstituentClasses.apply(void 0,arguments).map((function(e){return decorators.get(e)})).filter((function(e){return!!e}));return 0==e.length?{}:1==e.length?e[0]:e.reduce((function(e,t){return mergeDecorators(e,t)}))};function Mixin(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i,a,o=t.map((function(e){return e.prototype}));function s(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i,a=_createForOfIteratorHelper(t);try{for(a.s();!(i=a.n()).done;){var o=i.value;copyProps(this,_construct(o,r))}}catch(e){a.e(e)}finally{a.f()}}s.prototype=hardMixProtos(o,s),Object.setPrototypeOf(s,hardMixProtos(t,null,["prototype"]));var u,c=s,l=deepDecoratorSearch.apply(void 0,t),f=_createForOfIteratorHelper(null!==(n=null==l?void 0:l.class)&&void 0!==n?n:[]);try{for(f.s();!(u=f.n()).done;){var p=u.value;c=p(c)}}catch(e){f.e(e)}finally{f.f()}return applyPropAndMethodDecorators(null!==(i=null==l?void 0:l.static)&&void 0!==i?i:{},c),applyPropAndMethodDecorators(null!==(a=null==l?void 0:l.instance)&&void 0!==a?a:{},c.prototype),registerMixins(c,t),c}var applyPropAndMethodDecorators=function(e,t){var r=e.property,n=e.method;if(r)for(var i in r){var a,o=_createForOfIteratorHelper(r[i]);try{for(o.s();!(a=o.n()).done;)(0,a.value)(t,i)}catch(e){o.e(e)}finally{o.f()}}if(n)for(var s in n){var u,c=_createForOfIteratorHelper(n[s]);try{for(c.s();!(u=c.n()).done;)(0,u.value)(t,s,Object.getOwnPropertyDescriptor(t,s))}catch(e){c.e(e)}finally{c.f()}}},q=Object.defineProperty,Z=Object.getOwnPropertyDescriptor,ee=__webpack_require__(9380),te=function(e,t){for(var r in t)q(e,r,{get:t[r],enumerable:!0})},o$1=function(e,t,r,n){for(var i,a=n>1?void 0:n?Z(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(a=(n?i(t,r,a):i(a))||a);return n&&a&&q(t,r,a),a},z=function(e,t,r){if(!t.has(e))throw TypeError("Cannot "+r)},P=function(e,t,r){return z(e,t,"read from private field"),r?r.call(e):t.get(e)},w=function(e,t,r){if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},$=function(e,t,r,n){return z(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r},V,Y,N$1,C$1,F$1,A,R,y=function(){function e(){_classCallCheck(this,e)}var t,r;return _createClass(e,null,[{key:"getNetwork",value:function(){return P(this,A)}},{key:"setNetwork",value:function(e){if(!P(this,F$1).includes(e))throw new Error("Network ".concat(e," is not available"));$(this,A,e)}},{key:"getJsonRpcAddress",value:function(){return this.jsonRpcAddress}},{key:"getContractAddress",value:function(){return P(this,N$1)}},{key:"getPeripheryContractAddress",value:function(){return P(this,C$1)}},{key:"getIpfsGateway",value:function(){return P(this,R)}},{key:"setIpfsGateway",value:function(e){$(this,R,e)}},{key:"getCrossbellMainnetInfo",value:function(){return{chainName:"Crossbell",network:"crossbell",chainId:3737,tokenName:"CSB",tokenSymbol:"CSB",chainIdHex:"0x"+3737..toString(16),rpc:"https://rpc.crossbell.io",explorer:"https://scan.crossbell.io",contract:P(this,N$1)}}},{key:"isCrossbellMainnet",value:(r=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.getCrossbellMainnetInfo(),n=r.chainId,!(t instanceof Web3Provider||t instanceof Provider)){e.next=9;break}return e.next=4,t.getNetwork();case 4:e.t1=e.sent.chainId,e.t2=n,e.t0=e.t1===e.t2,e.next=15;break;case 9:return t=new Web3Provider(t),e.next=12,t.getNetwork();case 12:e.t3=e.sent.chainId,e.t4=n,e.t0=e.t3===e.t4;case 15:return e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"switchToCrossbellMainnet",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof Web3Provider&&(t=t.provider),"function"==typeof t.request){e.next=2;break}throw new Error("this provider does not follow EIP-1193 API signature. It does not have the provider.request function");case 2:return r=this.getCrossbellMainnetInfo(),n=r.chainIdHex,i=r.chainName,a=r.tokenName,o=r.tokenSymbol,s=r.rpc,u=r.explorer,e.prev=3,e.next=6,t.request({method:"wallet_switchEthereumChain",params:[{chainId:n}]});case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(3),e.next=12,t.request({method:"wallet_addEthereumChain",params:[{chainId:n,chainName:i,nativeCurrency:{name:a,symbol:o,decimals:18},rpcUrls:[s],blockExplorerUrls:[u]}]});case 12:case"end":return e.stop()}}),e,this,[[3,8]])}))),function(e){return t.apply(this,arguments)})}]),e}();N$1=new WeakMap,C$1=new WeakMap,F$1=new WeakMap,A=new WeakMap,R=new WeakMap,w(y,N$1,"0xa6f969045641Cf486a747A2688F3a5A6d43cd0D8"),w(y,C$1,"0x96e96b7af62d628ce7eb2016d2c1d2786614ea73"),w(y,F$1,["crossbell"]),w(y,A,"crossbell"),w(y,R,"https://gateway.ipfs.io/ipfs/"),y.jsonRpcAddress=null!=(Y=null==(V=globalThis.process)?void 0:V.env.CROSSBELL_RPC_ADDRESS)?Y:"https://rpc.crossbell.io";var G=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"linklistId",type:"uint256"},{internalType:"uint256",name:"profileId",type:"uint256"}],name:"attachLinklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"handle",type:"string"},{internalType:"address",name:"account",type:"address"}],name:"canCreate",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"handle",type:"string"},{internalType:"string",name:"uri",type:"string"},{internalType:"address",name:"linkModule",type:"address"},{internalType:"bytes",name:"linkModuleInitData",type:"bytes"}],internalType:"struct DataTypes.CreateProfileData",name:"vars",type:"tuple"}],name:"createProfile",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"fromProfileId",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],internalType:"struct DataTypes.createThenLinkProfileData",name:"vars",type:"tuple"}],name:"createThenLinkProfile",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"profileId",type:"uint256"},{internalType:"uint256",name:"noteId",type:"uint256"}],name:"deleteNote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"linklistId",type:"uint256"},{internalType:"uint256",name:"profileId",type:"uint256"}],name:"detachLinklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"profileId",type:"uint256"}],name:"getDispatcher",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"profileId",type:"uint256"}],name:"getHandle",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"getLinkModule4Address",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getLinkModule4ERC721",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getLinkModule4Linklist",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLinklistContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"profileId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],name:"getLinklistId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"linkListId",type:"uint256"}],name:"getLinklistType",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getLinklistUri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"profileId",type:"uint256"},{internalType:"uint256",name:"noteId",type:"uint256"}],name:"getNote",outputs:[{components:[{internalType:"bytes32",name:"linkItemType",type:"bytes32"},{internalType:"bytes32",name:"linkKey",type:"bytes32"},{internalType:"string",name:"contentUri",type:"string"},{internalType:"address",name:"linkModule",type:"address"},{internalType:"address",name:"mintModule",type:"address"},{internalType:"address",name:"mintNFT",type:"address"},{internalType:"bool",name:"deleted",type:"bool"},{internalType:"bool",name:"locked",type:"bool"}],internalType:"struct DataTypes.Note",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"profileId",type:"uint256"},{internalType:"uint256",name:"offset",type:"uint256"},{internalType:"uint256",name:"limit",type:"uint256"}],name:"getNotesByProfileId",outputs:[{components:[{internalType:"bytes32",name:"linkItemType",type:"bytes32"},{internalType:"bytes32",name:"linkKey",type:"bytes32"},{internalType:"string",name:"contentUri",type:"string"},{internalType:"address",name:"linkModule",type:"address"},{internalType:"address",name:"mintModule",type:"address"},{internalType:"address",name:"mintNFT",type:"address"},{internalType:"bool",name:"deleted",type:"bool"},{internalType:"bool",name:"locked",type:"bool"}],internalType:"struct DataTypes.Note[]",name:"results",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPeriphery",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"getPrimaryProfileId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"profileId",type:"uint256"}],name:"getProfile",outputs:[{components:[{internalType:"uint256",name:"profileId",type:"uint256"},{internalType:"string",name:"handle",type:"string"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"noteCount",type:"uint256"},{internalType:"address",name:"socialToken",type:"address"},{internalType:"address",name:"linkModule",type:"address"}],internalType:"struct DataTypes.Profile",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"handle",type:"string"}],name:"getProfileByHandle",outputs:[{components:[{internalType:"uint256",name:"profileId",type:"uint256"},{internalType:"string",name:"handle",type:"string"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"noteCount",type:"uint256"},{internalType:"address",name:"socialToken",type:"address"},{internalType:"address",name:"linkModule",type:"address"}],internalType:"struct DataTypes.Profile",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"profileId",type:"uint256"}],name:"getProfileUri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"getResolver",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getRevision",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"string",name:"_name",type:"string"},{internalType:"string",name:"_symbol",type:"string"},{internalType:"address",name:"_linklistContract",type:"address"},{internalType:"address",name:"_mintNFTImpl",type:"address"},{internalType:"address",name:"_periphery",type:"address"},{internalType:"address",name:"_resolver",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"profileId",type:"uint256"}],name:"isPrimaryProfile",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"fromProfileId",type:"uint256"},{internalType:"address",name:"ethAddress",type:"address"},{internalType:"bytes32",name:"linkType",type:"bytes32"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct DataTypes.linkAddressData",name:"vars",type:"tuple"}],name:"linkAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"fromProfileId",type:"uint256"},{internalType:"string",name:"toUri",type:"string"},{internalType:"bytes32",name:"linkType",type:"bytes32"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct DataTypes.linkAnyUriData",name:"vars",type:"tuple"}],name:"linkAnyUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"fromProfileId",type:"uint256"},{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct DataTypes.linkERC721Data",name:"vars",type:"tuple"}],name:"linkERC721",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"fromProfileId",type:"uint256"},{internalType:"uint256",name:"toLinkListId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct DataTypes.linkLinklistData",name:"vars",type:"tuple"}],name:"linkLinklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"fromProfileId",type:"uint256"},{internalType:"uint256",name:"toProfileId",type:"uint256"},{internalType:"uint256",name:"toNoteId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct DataTypes.linkNoteData",name:"vars",type:"tuple"}],name:"linkNote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"fromProfileId",type:"uint256"},{internalType:"uint256",name:"toProfileId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct DataTypes.linkProfileData",name:"vars",type:"tuple"}],name:"linkProfile",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"fromProfileId",type:"uint256"},{components:[{internalType:"uint256",name:"fromProfileId",type:"uint256"},{internalType:"uint256",name:"toProfileId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],internalType:"struct DataTypes.ProfileLinkStruct",name:"linkData",type:"tuple"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],name:"linkProfileLink",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"profileId",type:"uint256"},{internalType:"uint256",name:"noteId",type:"uint256"}],name:"lockNote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"profileId",type:"uint256"},{internalType:"uint256",name:"noteId",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"mintModuleData",type:"bytes"}],internalType:"struct DataTypes.MintNoteData",name:"vars",type:"tuple"}],name:"mintNote",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"profileId",type:"uint256"},{internalType:"string",name:"contentUri",type:"string"},{internalType:"address",name:"linkModule",type:"address"},{internalType:"bytes",name:"linkModuleInitData",type:"bytes"},{internalType:"address",name:"mintModule",type:"address"},{internalType:"bytes",name:"mintModuleInitData",type:"bytes"},{internalType:"bool",name:"locked",type:"bool"}],internalType:"struct DataTypes.PostNoteData",name:"vars",type:"tuple"}],name:"postNote",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"profileId",type:"uint256"},{internalType:"string",name:"contentUri",type:"string"},{internalType:"address",name:"linkModule",type:"address"},{internalType:"bytes",name:"linkModuleInitData",type:"bytes"},{internalType:"address",name:"mintModule",type:"address"},{internalType:"bytes",name:"mintModuleInitData",type:"bytes"},{internalType:"bool",name:"locked",type:"bool"}],internalType:"struct DataTypes.PostNoteData",name:"noteData",type:"tuple"},{internalType:"address",name:"ethAddress",type:"address"}],name:"postNote4Address",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"profileId",type:"uint256"},{internalType:"string",name:"contentUri",type:"string"},{internalType:"address",name:"linkModule",type:"address"},{internalType:"bytes",name:"linkModuleInitData",type:"bytes"},{internalType:"address",name:"mintModule",type:"address"},{internalType:"bytes",name:"mintModuleInitData",type:"bytes"},{internalType:"bool",name:"locked",type:"bool"}],internalType:"struct DataTypes.PostNoteData",name:"postNoteData",type:"tuple"},{internalType:"string",name:"uri",type:"string"}],name:"postNote4AnyUri",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"profileId",type:"uint256"},{internalType:"string",name:"contentUri",type:"string"},{internalType:"address",name:"linkModule",type:"address"},{internalType:"bytes",name:"linkModuleInitData",type:"bytes"},{internalType:"address",name:"mintModule",type:"address"},{internalType:"bytes",name:"mintModuleInitData",type:"bytes"},{internalType:"bool",name:"locked",type:"bool"}],internalType:"struct DataTypes.PostNoteData",name:"postNoteData",type:"tuple"},{components:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"uint256",name:"erc721TokenId",type:"uint256"}],internalType:"struct DataTypes.ERC721Struct",name:"erc721",type:"tuple"}],name:"postNote4ERC721",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"profileId",type:"uint256"},{internalType:"string",name:"contentUri",type:"string"},{internalType:"address",name:"linkModule",type:"address"},{internalType:"bytes",name:"linkModuleInitData",type:"bytes"},{internalType:"address",name:"mintModule",type:"address"},{internalType:"bytes",name:"mintModuleInitData",type:"bytes"},{internalType:"bool",name:"locked",type:"bool"}],internalType:"struct DataTypes.PostNoteData",name:"noteData",type:"tuple"},{internalType:"uint256",name:"toLinklistId",type:"uint256"}],name:"postNote4Linklist",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"profileId",type:"uint256"},{internalType:"string",name:"contentUri",type:"string"},{internalType:"address",name:"linkModule",type:"address"},{internalType:"bytes",name:"linkModuleInitData",type:"bytes"},{internalType:"address",name:"mintModule",type:"address"},{internalType:"bytes",name:"mintModuleInitData",type:"bytes"},{internalType:"bool",name:"locked",type:"bool"}],internalType:"struct DataTypes.PostNoteData",name:"postNoteData",type:"tuple"},{components:[{internalType:"uint256",name:"profileId",type:"uint256"},{internalType:"uint256",name:"noteId",type:"uint256"}],internalType:"struct DataTypes.NoteStruct",name:"note",type:"tuple"}],name:"postNote4Note",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"profileId",type:"uint256"},{internalType:"string",name:"contentUri",type:"string"},{internalType:"address",name:"linkModule",type:"address"},{internalType:"bytes",name:"linkModuleInitData",type:"bytes"},{internalType:"address",name:"mintModule",type:"address"},{internalType:"bytes",name:"mintModuleInitData",type:"bytes"},{internalType:"bool",name:"locked",type:"bool"}],internalType:"struct DataTypes.PostNoteData",name:"postNoteData",type:"tuple"},{internalType:"uint256",name:"toProfileId",type:"uint256"}],name:"postNote4Profile",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"resolver",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"profileId",type:"uint256"},{internalType:"address",name:"dispatcher",type:"address"}],name:"setDispatcher",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"profileId",type:"uint256"},{internalType:"string",name:"newHandle",type:"string"}],name:"setHandle",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"linkModule",type:"address"},{internalType:"bytes",name:"linkModuleInitData",type:"bytes"}],internalType:"struct DataTypes.setLinkModule4AddressData",name:"vars",type:"tuple"}],name:"setLinkModule4Address",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"linkModule",type:"address"},{internalType:"bytes",name:"linkModuleInitData",type:"bytes"}],internalType:"struct DataTypes.setLinkModule4ERC721Data",name:"vars",type:"tuple"}],name:"setLinkModule4ERC721",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"linklistId",type:"uint256"},{internalType:"address",name:"linkModule",type:"address"},{internalType:"bytes",name:"linkModuleInitData",type:"bytes"}],internalType:"struct DataTypes.setLinkModule4LinklistData",name:"vars",type:"tuple"}],name:"setLinkModule4Linklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"profileId",type:"uint256"},{internalType:"uint256",name:"noteId",type:"uint256"},{internalType:"address",name:"linkModule",type:"address"},{internalType:"bytes",name:"linkModuleInitData",type:"bytes"}],internalType:"struct DataTypes.setLinkModule4NoteData",name:"vars",type:"tuple"}],name:"setLinkModule4Note",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"profileId",type:"uint256"},{internalType:"address",name:"linkModule",type:"address"},{internalType:"bytes",name:"linkModuleInitData",type:"bytes"}],internalType:"struct DataTypes.setLinkModule4ProfileData",name:"vars",type:"tuple"}],name:"setLinkModule4Profile",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"linklistId",type:"uint256"},{internalType:"string",name:"uri",type:"string"}],name:"setLinklistUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"profileId",type:"uint256"},{internalType:"uint256",name:"noteId",type:"uint256"},{internalType:"address",name:"mintModule",type:"address"},{internalType:"bytes",name:"mintModuleInitData",type:"bytes"}],internalType:"struct DataTypes.setMintModule4NoteData",name:"vars",type:"tuple"}],name:"setMintModule4Note",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"profileId",type:"uint256"},{internalType:"uint256",name:"noteId",type:"uint256"},{internalType:"string",name:"newUri",type:"string"}],name:"setNoteUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"profileId",type:"uint256"}],name:"setPrimaryProfileId",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"profileId",type:"uint256"},{internalType:"string",name:"newUri",type:"string"}],name:"setProfileUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"profileId",type:"uint256"},{internalType:"address",name:"tokenAddress",type:"address"}],name:"setSocialToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"profileId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"fromProfileId",type:"uint256"},{internalType:"address",name:"ethAddress",type:"address"},{internalType:"bytes32",name:"linkType",type:"bytes32"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct DataTypes.linkAddressData",name:"vars",type:"tuple"}],name:"unlinkAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"fromProfileId",type:"uint256"},{internalType:"string",name:"toUri",type:"string"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],internalType:"struct DataTypes.unlinkAnyUriData",name:"vars",type:"tuple"}],name:"unlinkAnyUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"fromProfileId",type:"uint256"},{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],internalType:"struct DataTypes.unlinkERC721Data",name:"vars",type:"tuple"}],name:"unlinkERC721",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"fromProfileId",type:"uint256"},{internalType:"uint256",name:"toLinkListId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct DataTypes.linkLinklistData",name:"vars",type:"tuple"}],name:"unlinkLinklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"fromProfileId",type:"uint256"},{internalType:"uint256",name:"toProfileId",type:"uint256"},{internalType:"uint256",name:"toNoteId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],internalType:"struct DataTypes.unlinkNoteData",name:"vars",type:"tuple"}],name:"unlinkNote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"fromProfileId",type:"uint256"},{internalType:"uint256",name:"toProfileId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],internalType:"struct DataTypes.unlinkProfileData",name:"vars",type:"tuple"}],name:"unlinkProfile",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"fromProfileId",type:"uint256"},{components:[{internalType:"uint256",name:"fromProfileId",type:"uint256"},{internalType:"uint256",name:"toProfileId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],internalType:"struct DataTypes.ProfileLinkStruct",name:"linkData",type:"tuple"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],name:"unlinkProfileLink",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"linklistId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"profileId",type:"uint256"},{indexed:!0,internalType:"bytes32",name:"linkType",type:"bytes32"}],name:"AttachLinklist",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"name",type:"string"},{indexed:!1,internalType:"string",name:"symbol",type:"string"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"BaseInitialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"linklistId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"profileId",type:"uint256"},{indexed:!0,internalType:"bytes32",name:"linkType",type:"bytes32"}],name:"DetachLinklist",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fromProfileId",type:"uint256"},{indexed:!0,internalType:"address",name:"ethAddress",type:"address"},{indexed:!1,internalType:"bytes32",name:"linkType",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"linklistId",type:"uint256"}],name:"LinkAddress",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fromProfileId",type:"uint256"},{indexed:!1,internalType:"string",name:"toUri",type:"string"},{indexed:!1,internalType:"bytes32",name:"linkType",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"linklistId",type:"uint256"}],name:"LinkAnyUri",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fromProfileId",type:"uint256"},{indexed:!0,internalType:"address",name:"tokenAddress",type:"address"},{indexed:!0,internalType:"uint256",name:"toNoteId",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"linkType",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"linklistId",type:"uint256"}],name:"LinkERC721",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fromProfileId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"toLinklistId",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"linkType",type:"bytes32"},{indexed:!0,internalType:"uint256",name:"linklistId",type:"uint256"}],name:"LinkLinklist",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fromProfileId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"toProfileId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"toNoteId",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"linkType",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"linklistId",type:"uint256"}],name:"LinkNote",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"uint256",name:"fromProfileId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"toProfileId",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"linkType",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"linklistId",type:"uint256"}],name:"LinkProfile",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fromProfileId",type:"uint256"},{indexed:!0,internalType:"bytes32",name:"linkType",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"plFromProfileId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"plToProfileId",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"plLinkType",type:"bytes32"}],name:"LinkProfileLink",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"LinklistNFTInitialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"profileId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"noteId",type:"uint256"}],name:"LockNote",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"profileId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"noteId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"MintNFTInitialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"profileId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"noteId",type:"uint256"},{indexed:!1,internalType:"address",name:"tokenAddress",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"MintNote",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"profileId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"noteId",type:"uint256"},{indexed:!0,internalType:"bytes32",name:"linkKey",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"linkItemType",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"}],name:"PostNote",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"profileId",type:"uint256"},{indexed:!0,internalType:"address",name:"creator",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"string",name:"handle",type:"string"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"ProfileCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"profileId",type:"uint256"},{indexed:!0,internalType:"address",name:"dispatcher",type:"address"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"SetDispatcher",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"uint256",name:"profileId",type:"uint256"},{indexed:!1,internalType:"string",name:"newHandle",type:"string"}],name:"SetHandle",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"linkModule",type:"address"},{indexed:!1,internalType:"bytes",name:"returnData",type:"bytes"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"SetLinkModule4Address",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"tokenAddress",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"linkModule",type:"address"},{indexed:!1,internalType:"bytes",name:"returnData",type:"bytes"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"SetLinkModule4ERC721",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"linklistId",type:"uint256"},{indexed:!0,internalType:"address",name:"linkModule",type:"address"},{indexed:!1,internalType:"bytes",name:"returnData",type:"bytes"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"SetLinkModule4Linklist",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"profileId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"noteId",type:"uint256"},{indexed:!0,internalType:"address",name:"linkModule",type:"address"},{indexed:!1,internalType:"bytes",name:"returnData",type:"bytes"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"SetLinkModule4Note",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"profileId",type:"uint256"},{indexed:!0,internalType:"address",name:"linkModule",type:"address"},{indexed:!1,internalType:"bytes",name:"returnData",type:"bytes"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"SetLinkModule4Profile",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"profileId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"noteId",type:"uint256"},{indexed:!0,internalType:"address",name:"mintModule",type:"address"},{indexed:!1,internalType:"bytes",name:"returnData",type:"bytes"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"SetMintModule4Note",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"profileId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"noteId",type:"uint256"},{indexed:!1,internalType:"string",name:"newUri",type:"string"}],name:"SetNoteUri",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"uint256",name:"profileId",type:"uint256"}],name:"SetPrimaryProfileId",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"profileId",type:"uint256"},{indexed:!1,internalType:"string",name:"newUri",type:"string"}],name:"SetProfileUri",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"uint256",name:"profileId",type:"uint256"},{indexed:!0,internalType:"address",name:"tokenAddress",type:"address"}],name:"SetSocialToken",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fromProfileId",type:"uint256"},{indexed:!0,internalType:"address",name:"ethAddress",type:"address"},{indexed:!1,internalType:"bytes32",name:"linkType",type:"bytes32"}],name:"UnlinkAddress",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fromProfileId",type:"uint256"},{indexed:!1,internalType:"string",name:"toUri",type:"string"},{indexed:!1,internalType:"bytes32",name:"linkType",type:"bytes32"}],name:"UnlinkAnyUri",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fromProfileId",type:"uint256"},{indexed:!0,internalType:"address",name:"tokenAddress",type:"address"},{indexed:!0,internalType:"uint256",name:"toNoteId",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"linkType",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"linklistId",type:"uint256"}],name:"UnlinkERC721",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fromProfileId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"toLinklistId",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"linkType",type:"bytes32"},{indexed:!0,internalType:"uint256",name:"linklistId",type:"uint256"}],name:"UnlinkLinklist",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fromProfileId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"toProfileId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"toNoteId",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"linkType",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"linklistId",type:"uint256"}],name:"UnlinkNote",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"uint256",name:"fromProfileId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"toProfileId",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"linkType",type:"bytes32"}],name:"UnlinkProfile",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fromProfileId",type:"uint256"},{indexed:!0,internalType:"bytes32",name:"linkType",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"plFromProfileId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"plToProfileId",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"plLinkType",type:"bytes32"}],name:"UnlinkProfileLink",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"Web3EntryInitialized",type:"event"}],v=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"createInterface",value:function(){return new Interface(G)}},{key:"connect",value:function(e,t){return new Contract(e,G,t)}}]),e}();v.abi=G;var W$1=[{inputs:[{components:[{internalType:"string",name:"handle",type:"string"},{internalType:"string",name:"uri",type:"string"},{internalType:"address",name:"profileLinkModule",type:"address"},{internalType:"bytes",name:"profileLinkModuleInitData",type:"bytes"},{internalType:"string",name:"contentUri",type:"string"},{internalType:"address",name:"noteLinkModule",type:"address"},{internalType:"bytes",name:"noteLinkModuleInitData",type:"bytes"},{internalType:"address",name:"mintModule",type:"address"},{internalType:"bytes",name:"mintModuleInitData",type:"bytes"},{internalType:"bool",name:"locked",type:"bool"}],internalType:"struct DataTypes.createProfileThenPostNoteData",name:"vars",type:"tuple"}],name:"createProfileThenPostNote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"linkKey",type:"bytes32"}],name:"getLinkingAnyUri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"fromProfileId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],name:"getLinkingAnyUris",outputs:[{internalType:"string[]",name:"results",type:"string[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"linkKey",type:"bytes32"}],name:"getLinkingERC721",outputs:[{components:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"uint256",name:"erc721TokenId",type:"uint256"}],internalType:"struct DataTypes.ERC721Struct",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"fromProfileId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],name:"getLinkingERC721s",outputs:[{components:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"uint256",name:"erc721TokenId",type:"uint256"}],internalType:"struct DataTypes.ERC721Struct[]",name:"results",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"linkKey",type:"bytes32"}],name:"getLinkingNote",outputs:[{components:[{internalType:"uint256",name:"profileId",type:"uint256"},{internalType:"uint256",name:"noteId",type:"uint256"}],internalType:"struct DataTypes.NoteStruct",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"fromProfileId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],name:"getLinkingNotes",outputs:[{components:[{internalType:"bytes32",name:"linkItemType",type:"bytes32"},{internalType:"bytes32",name:"linkKey",type:"bytes32"},{internalType:"string",name:"contentUri",type:"string"},{internalType:"address",name:"linkModule",type:"address"},{internalType:"address",name:"mintModule",type:"address"},{internalType:"address",name:"mintNFT",type:"address"},{internalType:"bool",name:"deleted",type:"bool"},{internalType:"bool",name:"locked",type:"bool"}],internalType:"struct DataTypes.Note[]",name:"results",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"fromProfileId",type:"uint256"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],name:"getLinkingProfileIds",outputs:[{internalType:"uint256[]",name:"results",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_web3Entry",type:"address"},{internalType:"address",name:"_linklist",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"fromProfileId",type:"uint256"},{internalType:"uint256[]",name:"toProfileIds",type:"uint256[]"},{internalType:"bytes[]",name:"data",type:"bytes[]"},{internalType:"address[]",name:"toAddresses",type:"address[]"},{internalType:"bytes32",name:"linkType",type:"bytes32"}],internalType:"struct DataTypes.linkProfilesInBatchData",name:"vars",type:"tuple"}],name:"linkProfilesInBatch",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"linklist",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"web3Entry",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],M=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"createInterface",value:function(){return new Interface(W$1)}},{key:"connect",value:function(e,t){return new Contract(e,W$1,t)}}]),e}();M.abi=W$1;var pe={createProfile:"ProfileCreated(uint256,address,address,string,uint256)",linkProfile:"LinkProfile(address,uint256,uint256,bytes32,uint256)",postNote:"PostNote(uint256,uint256,bytes32,bytes32,bytes)",mintNote:"MintNote(address,uint256,uint256,address,uint256)"},f$1=function(){function e(t){_classCallCheck(this,e),this._hasConnected=!1,this._providerOrPrivateKey=t}var t;return _createClass(e,[{key:"contract",get:function(){return this.checkConnection(),this._contract},set:function(e){this._contract=e}},{key:"peripheryContract",get:function(){return this.checkConnection(),this._peripheryContract},set:function(e){this._peripheryContract=e}},{key:"connect",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(){var t,r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(_typeof(this._providerOrPrivateKey)>"u")){e.next=5;break}t=this.getDefaultProvider(),this._signerOrProvider=t,e.next=25;break;case 5:if("string"!=typeof this._providerOrPrivateKey){e.next=10;break}r=this.getDefaultProvider(),n=new Wallet(this._providerOrPrivateKey,r),this._signerOrProvider=n,e.next=25;break;case 10:return i=this.getExternalProvider(this._providerOrPrivateKey),e.prev=11,e.next=14,i.send("eth_requestAccounts",[]);case 14:e.next=24;break;case 16:if(e.prev=16,e.t0=e.catch(11),console.warn("Provider may not support eth_requestAccounts. Fallback to provider.enable()",e.t0),"function"!=typeof this._providerOrPrivateKey.enable){e.next=23;break}return e.next=21,this._providerOrPrivateKey.enable();case 21:e.next=24;break;case 23:throw new Error("Provider does not support eth_requestAccounts and does not support enable()");case 24:this._signerOrProvider=i.getSigner();case 25:this.contract=v.connect(y.getContractAddress(),this._signerOrProvider),this.peripheryContract=M.connect(y.getPeripheryContractAddress(),this._signerOrProvider),this._hasConnected=!0;case 26:case"end":return e.stop()}}),e,this,[[11,16]])}))),function(){return t.apply(this,arguments)})},{key:"parseLog",value:function(e,t){var r=keccak256$1(toUtf8Bytes(pe[t])),n=e.filter((function(e){return e.topics[0]===r}));if(0===n.length)throw new Error("Log with topic ".concat(t," not found"));if(n.length>1)throw new Error("More than one log with topic ".concat(t," found"));var i=n[0];return this.contract.interface.parseLog(i)}},{key:"getDefaultProvider",value:function(){var e=y.getJsonRpcAddress();if(e.startsWith("ws"))return new WebSocketProvider(e);var t=new JsonRpcProvider(e);return t.pollingInterval=100,t}},{key:"getExternalProvider",value:function(e){var t=new Web3Provider(e);return t.pollingInterval=100,t}},{key:"checkConnection",value:function(){if(!this._hasConnected)throw new Error("Contract not connected. Please call contract.connect() first.")}}]),e}();function p$2(){return function(e,t,r){var n=r.value;return r.value=_asyncToGenerator(regeneratorRuntime.mark((function e(){var t,r,i,a,o=this,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.contract.provider,e.next=3,y.isCrossbellMainnet(t);case 3:if(e.t0=e.sent,e.t0){e.next=10;break}return console.warn("You're not on the mainnet. Switching to mainnet."),e.next=8,y.switchToCrossbellMainnet(t);case 8:return e.next=10,o.connect();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),!this._hasConnected){e.next=13;break}return e.prev=2,e.next=5,t();case 5:e.next=13;break;case 7:return e.prev=7,e.t0=e.catch(2),e.next=11,this.connect();case 11:return e.next=13,t();case 13:for(r=s.length,i=new Array(r),a=0;a<r;a++)i[a]=s[a];return e.abrupt("return",n.apply(this,i));case 15:case"end":return e.stop()}}),e,this,[[2,7]])}))),r}}var S=function(e){_inherits(n,e);var t,r=_createSuper(n);function n(){return _classCallCheck(this,n),r.apply(this,arguments)}return _createClass(n,[{key:"getBalance",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.provider.getBalance(t);case 2:return e.t0=e.sent.toString(),e.abrupt("return",{data:e.t0});case 4:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),n}(f$1);o$1([p$2()],S.prototype,"getBalance",1);var c$1="0x0000000000000000000000000000000000000000",b=function(e){_inherits(c,e);var t,r,n,i,a,o,s,u=_createSuper(c);function c(){return _classCallCheck(this,c),u.apply(this,arguments)}return _createClass(c,[{key:"linkProfile",value:(s=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r,n,i){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.linkProfile({fromProfileId:t,toProfileId:r,linkType:formatBytes32String(n),data:null!=i?i:c$1});case 2:return e.next=4,e.sent.wait();case 4:return a=e.sent,e.abrupt("return",{data:this.parseLog(a.logs,"linkProfile").args.linklistId.toString(),transactionHash:a.transactionHash});case 6:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return s.apply(this,arguments)})},{key:"linkProfilesInBatch",value:(o=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r,n,i,a){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.peripheryContract.linkProfilesInBatch({fromProfileId:t,toProfileIds:r,toAddresses:n,linkType:formatBytes32String(i),data:null!=a?a:r.map((function(){return c$1}))});case 2:return e.next=4,e.sent.wait();case 4:return o=e.sent,e.abrupt("return",{data:this.parseLog(o.logs,"linkProfile").args.linklistId.toString(),transactionHash:o.transactionHash});case 6:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n,i){return o.apply(this,arguments)})},{key:"getLinklistIdByTransaction",value:(a=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.provider.getTransactionReceipt(t);case 2:return r=e.sent,e.abrupt("return",{data:this.parseLog(r.logs,"linkProfile").args.linklistId.toString()});case 4:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"createThenLinkProfile",value:(i=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r,n){var i,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.createThenLinkProfile({fromProfileId:t,to:r,linkType:formatBytes32String(n)});case 2:return e.next=4,e.sent.wait();case 4:return i=e.sent,a=this.parseLog(i.logs,"createProfile"),o=this.parseLog(i.logs,"linkProfile"),e.abrupt("return",{data:{toProfileId:a.args.profileId.toString(),linklistId:o.args.linklistId.toString()},transactionHash:i.transactionHash});case 8:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return i.apply(this,arguments)})},{key:"unlinkProfile",value:(n=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r,n){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.unlinkProfile({fromProfileId:t,toProfileId:r,linkType:formatBytes32String(n)});case 2:return e.next=4,e.sent.wait();case 4:return i=e.sent,e.abrupt("return",{data:void 0,transactionHash:i.transactionHash});case 6:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"getLinkingProfileIds",value:(r=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.peripheryContract.getLinkingProfileIds(t,formatBytes32String(r));case 2:return e.t0=function(e){return e.toNumber().toString()},e.t1=e.sent.map(e.t0),e.abrupt("return",{data:e.t1});case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"getLinkingProfiles",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r){var n,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.peripheryContract.getLinkingProfileIds(t,formatBytes32String(r));case 2:return n=e.sent,e.next=5,Promise.all(n.map((function(e){return i.getProfile(e.toString())})));case 5:return e.t0=function(e){return e.data},e.t1=e.sent.map(e.t0),e.abrupt("return",{data:e.t1});case 8:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),c}(f$1);o$1([p$2()],b.prototype,"linkProfile",1),o$1([p$2()],b.prototype,"linkProfilesInBatch",1),o$1([p$2()],b.prototype,"getLinklistIdByTransaction",1),o$1([p$2()],b.prototype,"createThenLinkProfile",1),o$1([p$2()],b.prototype,"unlinkProfile",1),o$1([p$2()],b.prototype,"getLinkingProfileIds",1),o$1([p$2()],b.prototype,"getLinkingProfiles",1),_typeof(globalThis.fetch)>"u"&&(globalThis.fetch=ee("undici").fetch);var u$1=function(){function e(){_classCallCheck(this,e)}var t,r,n,i;return _createClass(e,null,[{key:"uploadJson",value:(i=_asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://ipfs-relay.crossbell.io/json",{method:"POST",body:JSON.stringify(t)}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)})},{key:"metadataToUri",value:(n=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.uploadJson(t);case 2:if(n=e.sent,null!=(r=null==n?void 0:n.url)&&r.startsWith("ipfs://")){e.next=5;break}throw new Error("upload to IPFS failed");case 5:return e.abrupt("return",n.url);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"uriToMetadata",value:(r=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.startsWith("ipfs://")&&(t=t.replace("ipfs://",y.getIpfsGateway())),e.prev=1,e.next=4,fetch(t).then((function(e){return e.text()}));case 4:return r=e.sent,r=JSON.parse(r),e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e.catch(1),new Error("Failed to fetch metadata from uri: ".concat(t,". Response: ")+r);case 12:case"end":return e.stop()}}),e,null,[[1,9]])}))),function(e){return r.apply(this,arguments)})},{key:"parseMetadataOrUri",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function t(r,n){var i,a,o,s=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=s.length>2&&void 0!==s[2]&&s[2],""!==n){t.next=3;break}return t.abrupt("return",{uri:"",metadata:void 0});case 3:if("string"!=typeof n){t.next=15;break}if(a=n,!i){t.next=11;break}return t.next=8,e.uriToMetadata(a);case 8:t.t0=t.sent,t.next=12;break;case 11:t.t0=void 0;case 12:o=t.t0,t.next=20;break;case 15:return(o=n).type||(o.type=r),t.next=19,e.metadataToUri(o);case 19:a=t.sent;case 20:return t.abrupt("return",{metadata:o,uri:a});case 21:case"end":return t.stop()}}),t)}))),function(e,r){return t.apply(this,arguments)})}]),e}(),T=function(e){_inherits(f,e);var t,r,n,i,a,o,s,u,c,l=_createSuper(f);function f(){return _classCallCheck(this,f),l.apply(this,arguments)}return _createClass(f,[{key:"postNote",value:(c=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r){var n,i,a,o,s,u,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>2&&void 0!==c[2]?c[2]:{},i=n.locked,a=void 0!==i&&i,e.next=3,u$1.parseMetadataOrUri("note",r);case 3:return o=e.sent,s=o.uri,e.next=7,this.contract.postNote({profileId:t,contentUri:s,linkModule:c$1,linkModuleInitData:c$1,mintModule:c$1,mintModuleInitData:c$1,locked:a});case 7:return e.next=9,e.sent.wait();case 9:return u=e.sent,e.abrupt("return",{data:{noteId:this.parseLog(u.logs,"postNote").args.noteId.toNumber().toString()},transactionHash:u.transactionHash});case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return c.apply(this,arguments)})},{key:"postNoteForAnyUri",value:(u=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r,n){var i,a,o,s,u,c,l=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=l.length>3&&void 0!==l[3]?l[3]:{},a=i.locked,o=void 0!==a&&a,e.next=3,u$1.parseMetadataOrUri("note",r);case 3:return s=e.sent,u=s.uri,e.next=7,this.contract.postNote4AnyUri({profileId:t,contentUri:u,linkModule:c$1,linkModuleInitData:c$1,mintModule:c$1,mintModuleInitData:c$1,locked:o},n);case 7:return e.next=9,e.sent.wait();case 9:return c=e.sent,e.abrupt("return",{data:{noteId:this.parseLog(c.logs,"postNote").args.noteId.toNumber().toString()},transactionHash:c.transactionHash});case 11:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return u.apply(this,arguments)})},{key:"setNoteUri",value:(s=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r,n){var i,a,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u$1.parseMetadataOrUri("note",n,!0);case 2:return i=e.sent,a=i.uri,o=i.metadata,e.next=7,this.contract.setNoteUri(t,r,a);case 7:return e.next=9,e.sent.wait();case 9:return s=e.sent,e.abrupt("return",{data:{uri:a,metadata:o},transactionHash:s.transactionHash});case 11:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return s.apply(this,arguments)})},{key:"changeNoteMetadata",value:(o=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r,n){var i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getNote(t,r);case 2:if(i=e.sent,!(_typeof(a=n(i.data.metadata))>"u")){e.next=6;break}throw new Error("The modified metadata is undefined. Did you return it?");case 6:return e.abrupt("return",(a.type||(a.type="note"),this.setNoteMetadata(t,r,a)));case 7:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return o.apply(this,arguments)})},{key:"setNoteMetadata",value:(a=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.setNoteUri(t,r,n));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return a.apply(this,arguments)})},{key:"getNote",value:(i=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r,n){var i,a,o,s,u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.getNote(t,r);case 2:if(i=e.sent,a=parseBytes32String(i.linkItemType),o=""===a?void 0:a,!i.contentUri){e.next=11;break}return e.next=8,u$1.uriToMetadata(i.contentUri);case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=void 0;case 12:if(s=e.t0,"AnyUri"!==n){e.next=20;break}return e.next=16,this.peripheryContract.getLinkingAnyUri(i.linkKey);case 16:e.t1=e.sent,u={uri:e.t1},e.next=28;break;case 20:if("ERC721"!==n){e.next=27;break}return e.next=23,this.peripheryContract.getLinkingERC721(i.linkKey);case 23:c=e.sent,u={contractAddress:c.tokenAddress.toString(),tokenId:c.erc721TokenId.toString()},e.next=28;break;case 27:u=void 0;case 28:return e.abrupt("return",{data:{profileId:t,noteId:r,contentUri:i.contentUri,metadata:s,linkItemType:i.linkItemType,linkItemTypeString:o,linkItem:u,linkKey:i.linkKey,linkModule:i.linkModule,contractAddress:i.mintNFT,mintModule:i.mintModule,deleted:i.deleted,locked:i.locked}});case 29:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return i.apply(this,arguments)})},{key:"deleteNote",value:(n=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.deleteNote(t,r);case 2:return e.next=4,e.sent.wait();case 4:return n=e.sent,e.abrupt("return",{data:void 0,transactionHash:n.transactionHash});case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"lockNote",value:(r=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.lockNote(t,r);case 2:return e.next=4,e.sent.wait();case 4:return n=e.sent,e.abrupt("return",{data:void 0,transactionHash:n.transactionHash});case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"mintNote",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r,n){var i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.mintNote({profileId:t,noteId:r,to:n,mintModuleData:c$1});case 2:return e.next=4,e.sent.wait();case 4:return i=e.sent,a=this.parseLog(i.logs,"mintNote"),e.abrupt("return",{data:{contractAddress:a.args.tokenAddress,tokenId:a.args.tokenId.toNumber().toString()},transactionHash:i.transactionHash});case 7:case"end":return e.stop()}}),e,this)}))),function(e,r,n){return t.apply(this,arguments)})},{key:"getLinkKeyForProfile",value:function(e){return keccak256(["string","uint"],["Profile",e])}},{key:"getLinkKeyForAddress",value:function(e){return keccak256(["string","address"],["Address",e])}},{key:"getLinkKeyForNote",value:function(e,t){return keccak256(["string","uint","uint"],["Note",e,t])}},{key:"getLinkKeyForERC721",value:function(e,t){return keccak256(["string","address","uint"],["ERC721",e,t])}},{key:"getLinkKeyForLinklist",value:function(e){return keccak256(["string","uint"],["Linklist",e])}},{key:"getLinkKeyForAnyUri",value:function(e){return keccak256(["string","string"],["AnyUri",e])}}]),f}(f$1);o$1([p$2()],T.prototype,"postNote",1),o$1([p$2()],T.prototype,"postNoteForAnyUri",1),o$1([p$2()],T.prototype,"setNoteUri",1),o$1([p$2()],T.prototype,"changeNoteMetadata",1),o$1([p$2()],T.prototype,"getNote",1),o$1([p$2()],T.prototype,"deleteNote",1),o$1([p$2()],T.prototype,"lockNote",1),o$1([p$2()],T.prototype,"mintNote",1);var d$1=function(e){_inherits(g,e);var t,r,n,i,a,o,s,u,c,l,f,p,d,h,m,y,v=_createSuper(g);function g(){return _classCallCheck(this,g),v.apply(this,arguments)}return _createClass(g,[{key:"createProfile",value:(y=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r,n){var i,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.validateHandleFormat(r),e.next=3,u$1.parseMetadataOrUri("profile",n);case 3:return i=e.sent,a=i.uri,e.next=7,this.contract.createProfile({to:t,handle:r,uri:a,linkModule:c$1,linkModuleInitData:c$1});case 7:return e.next=9,e.sent.wait();case 9:return o=e.sent,e.abrupt("return",{data:this.parseLog(o.logs,"createProfile").args.profileId.toString(),transactionHash:o.transactionHash});case 11:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return y.apply(this,arguments)})},{key:"setHandle",value:(m=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.validateHandleFormat(r),e.next=3,this.contract.setHandle(t,r);case 3:return e.next=5,e.sent.wait();case 5:return n=e.sent,e.abrupt("return",{data:void 0,transactionHash:n.transactionHash});case 7:case"end":return e.stop()}}),e,this)}))),function(e,t){return m.apply(this,arguments)})},{key:"setProfileUri",value:(h=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r){var n,i,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u$1.parseMetadataOrUri("profile",r,!0);case 2:return n=e.sent,i=n.uri,a=n.metadata,e.next=7,this.contract.setProfileUri(t,i);case 7:return e.next=9,e.sent.wait();case 9:return o=e.sent,e.abrupt("return",{data:{uri:i,metadata:a},transactionHash:o.transactionHash});case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return h.apply(this,arguments)})},{key:"setProfileMetadata",value:(d=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.setProfileUri(t,r));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return d.apply(this,arguments)})},{key:"changeProfileMetadata",value:(p=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r){var n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getProfile(t);case 2:if(n=e.sent,!(_typeof(i=r(n.data.metadata))>"u")){e.next=6;break}throw new Error("The modified metadata is undefined. Did you return it?");case 6:return e.abrupt("return",(i.type||(i.type="profile"),this.setProfileMetadata(t,i)));case 7:case"end":return e.stop()}}),e,this)}))),function(e,t){return p.apply(this,arguments)})},{key:"setSocialToken",value:(f=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.setSocialToken(t,r);case 2:return e.next=4,e.sent.wait();case 4:return n=e.sent,e.abrupt("return",{data:void 0,transactionHash:n.transactionHash});case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return f.apply(this,arguments)})},{key:"setPrimaryProfileId",value:(l=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.setPrimaryProfileId(t);case 2:return e.next=4,e.sent.wait();case 4:return r=e.sent,e.abrupt("return",{data:void 0,transactionHash:r.transactionHash});case 6:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"getPrimaryProfileId",value:(c=_asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.getPrimaryProfileId(t);case 2:return e.t0=e.sent.toNumber().toString(),e.abrupt("return",{data:e.t0});case 4:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"isPrimaryProfileId",value:(u=_asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.isPrimaryProfile(t);case 2:return e.t0=e.sent,e.abrupt("return",{data:e.t0});case 4:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"getProfileByHandle",value:(s=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=t.toLowerCase(),e.next=3,this.contract.getProfileByHandle(t);case 3:if(!(r=e.sent).uri){e.next=10;break}return e.next=7,u$1.uriToMetadata(r.uri);case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=void 0;case 11:return n=e.t0,e.abrupt("return",{data:{profileId:r.profileId.toNumber().toString(),handle:r.handle,uri:r.uri,metadata:n,socialToken:r.socialToken,noteCount:r.noteCount.toNumber()}});case 13:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"getProfile",value:(o=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.getProfile(t);case 2:return r=e.sent,e.next=5,u$1.parseMetadataOrUri("profile",r.uri,!0);case 5:return n=e.sent,i=n.metadata,e.abrupt("return",{data:{profileId:r.profileId.toNumber().toString(),handle:r.handle,uri:r.uri,socialToken:r.socialToken,noteCount:r.noteCount.toNumber(),metadata:i}});case 8:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"getHandle",value:(a=_asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.getHandle(t);case 2:return e.t0=e.sent,e.abrupt("return",{data:e.t0});case 4:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"getProfileUri",value:(i=_asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.getProfileUri(t);case 2:return e.t0=e.sent,e.abrupt("return",{data:e.t0});case 4:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"getProfileByTransaction",value:(n=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.provider.getTransactionReceipt(t);case 2:return r=e.sent,n=this.parseLog(r.logs,"createProfile").args.profileId.toString(),e.next=6,this.getProfile(n);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"existsProfileForAddress",value:(r=_asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.getPrimaryProfileId(t);case 2:return e.t0=e.sent.toString(),e.t1="0"!==e.t0,e.abrupt("return",{data:e.t1});case 5:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"existsProfileForHandle",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.getProfileByHandle(t);case 2:return e.t0=e.sent.handle,e.t1=""!==e.t0,e.abrupt("return",{data:e.t1});case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"validateHandleFormat",value:function(e){if(e.length>=32||e.length<=2)throw new Error("Invalid handle: handle must be between 3 and 31 characters.");if(!/^[a-z0-9\-\_]+$/.test(e))throw new Error("Invalid handle: handle must only contain [a-z0-9-_].")}}]),g}(f$1);o$1([p$2()],d$1.prototype,"createProfile",1),o$1([p$2()],d$1.prototype,"setHandle",1),o$1([p$2()],d$1.prototype,"setProfileUri",1),o$1([p$2()],d$1.prototype,"changeProfileMetadata",1),o$1([p$2()],d$1.prototype,"setSocialToken",1),o$1([p$2()],d$1.prototype,"setPrimaryProfileId",1),o$1([p$2()],d$1.prototype,"getPrimaryProfileId",1),o$1([p$2()],d$1.prototype,"isPrimaryProfileId",1),o$1([p$2()],d$1.prototype,"getProfileByHandle",1),o$1([p$2()],d$1.prototype,"getProfile",1),o$1([p$2()],d$1.prototype,"getHandle",1),o$1([p$2()],d$1.prototype,"getProfileUri",1),o$1([p$2()],d$1.prototype,"getProfileByTransaction",1),o$1([p$2()],d$1.prototype,"existsProfileForAddress",1),o$1([p$2()],d$1.prototype,"existsProfileForHandle",1);var U=function(e){_inherits(a,e);var t,r,n,i=_createSuper(a);function a(){var e;return _classCallCheck(this,a),(e=i.apply(this,arguments)).CURRENT_SDK_REVISION=2,e}return _createClass(a,[{key:"getLatestRevision",value:(n=_asyncToGenerator(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.getRevision();case 2:return e.t0=e.sent.toNumber(),e.abrupt("return",{data:e.t0});case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getCurrentRevision",value:(r=_asyncToGenerator(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{data:this.CURRENT_SDK_REVISION});case 1:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"checkRevision",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getLatestRevision();case 2:return t=e.sent,r=t.data,n=this.CURRENT_SDK_REVISION,e.abrupt("return",{data:{isUpToDate:r===n,currentRevision:n,latestRevision:r}});case 6:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),a}(f$1);o$1([p$2()],U.prototype,"getLatestRevision",1);var ye=Mixin(d$1,b,T,S,U),E$1=function(e){_inherits(r,e);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return r}(ye),I=function e(t){_classCallCheck(this,e),this.endpoint="https://test-indexer.crossbell.io/api/v0.1.0",t&&(this.endpoint=t)},B=function(e){_inherits(p,e);var t,r,n,i,a,o,s,u,c,l,f=_createSuper(p);function p(){return _classCallCheck(this,p),f.apply(this,arguments)}return _createClass(p,[{key:"getLinklists",value:(l=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},n=r.limit,i=void 0===n?20:n,a="".concat(this.endpoint,"/addresses/").concat(t,"/linklists?"),(o=new URLSearchParams).append("limit",i.toString()),a+=o.toString(),e.next=6,fetch(a).then((function(e){return e.json()}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"_getLinkingOrBacklinkingItems",value:(c=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r,n){var i,a,o,s,u,c,l,f,p,d,h,m,y,v,g,b,_,w=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=w.length>3&&void 0!==w[3]?w[3]:{},a=i.linkTypes,o=void 0===a?[]:a,s=i.fromTypes,u=void 0===s?[]:s,c=i.toTypes,l=void 0===c?[]:c,f=i.from,p=void 0===f?[]:f,d=i.to,h=void 0===d?[]:d,m=i.limit,y=void 0===m?20:m,v=i.attached,g=void 0===v||v,"string"==typeof o&&(o=[o]),"string"==typeof u&&(u=[u]),"string"==typeof l&&(l=[l]),"string"==typeof p&&(p=[p]),"string"==typeof h&&(h=[h]),b="".concat(this.endpoint,"/").concat(t,"/").concat(n,"/").concat(r,"?"),_=new URLSearchParams,o.forEach((function(e){return _.append("link_types",e)})),u.forEach((function(e){return _.append("from_types",e)})),l.forEach((function(e){return _.append("to_types",e)})),p.forEach((function(e){return _.append("from",e)})),h.forEach((function(e){return _.append("to",e)})),_.append("limit",y.toString()),_.append("attached",g.toString()),b+=_.toString(),e.next=13,fetch(b).then((function(e){return e.json()}));case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return c.apply(this,arguments)})},{key:"getLinkingItems",value:(u=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getLinkingOrBacklinkingItems("addresses","links",t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return u.apply(this,arguments)})},{key:"getBacklinkingItems",value:(s=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getLinkingOrBacklinkingItems("addresses","backlinks",t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return s.apply(this,arguments)})},{key:"getLinkingItemsByProfileId",value:(o=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getLinkingOrBacklinkingItems("profiles","links",t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"getBacklinkingItemsByProfileId",value:(a=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getLinkingOrBacklinkingItems("profiles","backlinks",t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"getLinkingProfiles",value:(i=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getLinkingOrBacklinkingItems("addresses","links",t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"getBacklinkingProfiles",value:(n=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getLinkingOrBacklinkingItems("addresses","backlinks",t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"getLinkingProfilesByProfileId",value:(r=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getLinkingOrBacklinkingItems("profiles","links",t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"getBacklinkingProfilesByProfileId",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getLinkingOrBacklinkingItems("profiles","backlinks",t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),p}(I),H$1=function(e){_inherits(i,e);var t,r,n=_createSuper(i);function i(){return _classCallCheck(this,i),n.apply(this,arguments)}return _createClass(i,[{key:"getProfiles",value:(r=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,s,u,c,l=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:{},n=r.primary,i=void 0!==n&&n,a=r.limit,o=void 0===a?20:a,s=r.lastIdentifier,u="".concat(this.endpoint,"/addresses/").concat(t,"/profiles?"),(c=new URLSearchParams).append("limit",o.toString()),_typeof(s)<"u"&&c.append("last_identifier",s),i&&c.append("primary","true"),u+=c.toString(),e.next=8,fetch(u).then((function(e){return e.json()}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"getPrimaryProfile",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getProfiles(t,{limit:1,primary:!0}).then((function(e){var t,r;return null!=(r=null==(t=e.list)?void 0:t[0])?r:null})));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),i}(I),K$1=function(e){_inherits(n,e);var t,r=_createSuper(n);function n(){return _classCallCheck(this,n),r.apply(this,arguments)}return _createClass(n,[{key:"search",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r){var n,i,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.type,i=r.limit,a=void 0===i?50:i,o="".concat(this.endpoint,"/search?query=").concat(t,"&limit=").concat(a,"&type=").concat(n),e.next=4,fetch(o).then((function(e){return e.json()}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),n}(I),ue=Mixin(H$1,B,K$1),_=function(e){_inherits(r,e);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return r}(ue),Q={};te(Q,{parseCsbUri:function(){return me}});var j="csb://";function me(e){if(!e.startsWith(j))throw new Error("Invalid csb uri. It should start with csb://");e=e.replace(j,"http://");var t=new URL(e),r=j,n=t.username,i=t.password,a=t.host,o="account"===n?a:void 0,s="asset"===n?a:void 0,u="asset"===n?i.split("-")[0]:void 0,c="asset"===n?i.split("-")[1]:void 0;return{scheme:r,scope:n,identity:i,host:a,platform:o,network:s,contract_address:u,token_id:c}}function Mime$1(){this._types=Object.create(null),this._extensions=Object.create(null);for(var e=0;e<arguments.length;e++)this.define(arguments[e]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}Mime$1.prototype.define=function(e,t){for(var r in e){var n=e[r].map((function(e){return e.toLowerCase()}));r=r.toLowerCase();for(var i=0;i<n.length;i++){var a=n[i];if("*"!==a[0]){if(!t&&a in this._types)throw new Error('Attempt to change mapping for "'+a+'" extension from "'+this._types[a]+'" to "'+r+'". Pass `force=true` to allow this, otherwise remove "'+a+'" from the list of extensions for "'+r+'".');this._types[a]=r}}if(t||!this._extensions[r]){var o=n[0];this._extensions[r]="*"!==o[0]?o:o.substr(1)}}},Mime$1.prototype.getType=function(e){var t=(e=String(e)).replace(/^.*[/\\]/,"").toLowerCase(),r=t.replace(/^.*\./,"").toLowerCase(),n=t.length<e.length;return(r.length<t.length-1||!n)&&this._types[r]||null},Mime$1.prototype.getExtension=function(e){return(e=/^\s*([^;\s]*)/.test(e)&&RegExp.$1)&&this._extensions[e.toLowerCase()]||null};var Mime_1=Mime$1,standard={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]},other={"application/prs.cww":["cww"],"application/vnd.1000minds.decision-model+xml":["1km"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.keynote":["key"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.numbers":["numbers"],"application/vnd.apple.pages":["pages"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.balsamiq.bmml+xml":["bmml"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.citationstyles.style+xml":["csl"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dbf":["dbf"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mapbox-vector-tile":["mvt"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["*stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.ac+xml":["*ac"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openblox.game+xml":["obgx"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openstreetmap.data+xml":["osm"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.rar":["rar"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.software602.filler.form+xml":["fo"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.syncml.dmddf+xml":["ddf"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["*dmg"],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":["*bdoc"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["*deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["*iso"],"application/x-iwork-keynote-sffkey":["*key"],"application/x-iwork-numbers-sffnumbers":["*numbers"],"application/x-iwork-pages-sffpages":["*pages"],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-keepass2":["kdbx"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":["*exe"],"application/x-msdownload":["*exe","*dll","com","bat","*msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["*wmf","*wmz","*emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":["*prc","*pdb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["*rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["*obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["*xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":["*m4a"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":["*ra"],"audio/x-wav":["*wav"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif"],"image/prs.pti":["pti"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["*sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-dds":["dds"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.pco.b16":["b16"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["*ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["*bmp"],"image/x-pcx":["*pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/vnd.wfa.wsc":["wsc"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.opengex":["ogex"],"model/vnd.parasolid.transmit.binary":["x_b"],"model/vnd.parasolid.transmit.text":["x_t"],"model/vnd.sap.vds":["vds"],"model/vnd.usdz+zip":["usdz"],"model/vnd.valve.source.compiled-map":["bsp"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":["*org"],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]},Mime=Mime_1,mime=new Mime(standard,other),Utils=function(){function e(t){_classCallCheck(this,e),this.main=t}var t;return _createClass(e,[{key:"replaceIPFS",value:function(e){return/^[a-zA-Z0-9]{46}$/.test(e)&&(e="ipfs://"+e),e.replace("ipfs://ipfs/","ipfs://").replace("ipfs://",this.main.options.ipfsGateway)}},{key:"replaceIPFSs",value:function(e){var t=this;return e.map((function(e){return t.replaceIPFS(e)}))}},{key:"getCrossbellProfileId",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.contract){e.next=4;break}return this.contract=new E$1,e.next=4,this.contract.connect();case 4:e.t0=t.platform,e.next="Ethereum"===e.t0?7:"Crossbell"===e.t0?12:16;break;case 7:return this.indexer||(this.indexer=new _),e.next=10,this.indexer.getProfiles(t.identity,{primary:!0});case 10:return r=e.sent.list[0].token_id,e.abrupt("break",17);case 12:return e.next=14,this.contract.getProfileByHandle(t.identity);case 14:return r=e.sent.data.profileId,e.abrupt("break",17);case 16:throw new Error("Unsupported platform: ".concat(t.platform));case 17:return e.abrupt("return",r);case 18:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"removeEmpty",value:function(e,t){for(var r in e)"object"===_typeof(e[r])?e[r]&&0!==Object.keys(e[r]).length?this.removeEmpty(e[r],{obj:e,key:r}):delete e[r]:e[r]||delete e[r];0===Object.keys(e).length&&t&&delete t.obj[t.key]}},{key:"getMimeType",value:function(e){e=this.main.utils.replaceIPFS(e);var t=mime.getType(e);if(t)return t}}]),e}(),Base$3=function e(t){_classCallCheck(this,e),this.main=t};function devAssert(e,t){if(!Boolean(e))throw new Error(t)}var MAX_ARRAY_LENGTH=10,MAX_RECURSIVE_DEPTH=2;function inspect(e){return formatValue(e,[])}function formatValue(e,t){switch(_typeof(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return formatObjectValue(e,t);default:return String(e)}}function formatObjectValue(e,t){if(null===e)return"null";if(t.includes(e))return"[Circular]";var r=[].concat(_toConsumableArray(t),[e]);if(isJSONable(e)){var n=e.toJSON();if(n!==e)return"string"==typeof n?n:formatValue(n,r)}else if(Array.isArray(e))return formatArray(e,r);return formatObject(e,r)}function isJSONable(e){return"function"==typeof e.toJSON}function formatObject(e,t){var r=Object.entries(e);return 0===r.length?"{}":t.length>MAX_RECURSIVE_DEPTH?"["+getObjectTag(e)+"]":"{ "+r.map((function(e){var r=_slicedToArray(e,2);return r[0]+": "+formatValue(r[1],t)})).join(", ")+" }"}function formatArray(e,t){if(0===e.length)return"[]";if(t.length>MAX_RECURSIVE_DEPTH)return"[Array]";for(var r=Math.min(MAX_ARRAY_LENGTH,e.length),n=e.length-r,i=[],a=0;a<r;++a)i.push(formatValue(e[a],t));return 1===n?i.push("... 1 more item"):n>1&&i.push("... ".concat(n," more items")),"["+i.join(", ")+"]"}function getObjectTag(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var r=e.constructor.name;if("string"==typeof r&&""!==r)return r}return t}var Location=function(){function e(t,r,n){_classCallCheck(this,e),this.start=t.start,this.end=r.end,this.startToken=t,this.endToken=r,this.source=n}return _createClass(e,[{key:Symbol.toStringTag,get:function(){return"Location"}},{key:"toJSON",value:function(){return{start:this.start,end:this.end}}}]),e}(),Token$1=function(){function e(t,r,n,i,a,o){_classCallCheck(this,e),this.kind=t,this.start=r,this.end=n,this.line=i,this.column=a,this.value=o,this.prev=null,this.next=null}return _createClass(e,[{key:Symbol.toStringTag,get:function(){return"Token"}},{key:"toJSON",value:function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}]),e}(),QueryDocumentKeys={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},kindValues=new Set(Object.keys(QueryDocumentKeys)),OperationTypeNode,OperationTypeNode2,Kind,Kind2;function isNode(e){var t=null==e?void 0:e.kind;return"string"==typeof t&&kindValues.has(t)}OperationTypeNode2=OperationTypeNode||(OperationTypeNode={}),OperationTypeNode2.QUERY="query",OperationTypeNode2.MUTATION="mutation",OperationTypeNode2.SUBSCRIPTION="subscription",Kind2=Kind||(Kind={}),Kind2.NAME="Name",Kind2.DOCUMENT="Document",Kind2.OPERATION_DEFINITION="OperationDefinition",Kind2.VARIABLE_DEFINITION="VariableDefinition",Kind2.SELECTION_SET="SelectionSet",Kind2.FIELD="Field",Kind2.ARGUMENT="Argument",Kind2.FRAGMENT_SPREAD="FragmentSpread",Kind2.INLINE_FRAGMENT="InlineFragment",Kind2.FRAGMENT_DEFINITION="FragmentDefinition",Kind2.VARIABLE="Variable",Kind2.INT="IntValue",Kind2.FLOAT="FloatValue",Kind2.STRING="StringValue",Kind2.BOOLEAN="BooleanValue",Kind2.NULL="NullValue",Kind2.ENUM="EnumValue",Kind2.LIST="ListValue",Kind2.OBJECT="ObjectValue",Kind2.OBJECT_FIELD="ObjectField",Kind2.DIRECTIVE="Directive",Kind2.NAMED_TYPE="NamedType",Kind2.LIST_TYPE="ListType",Kind2.NON_NULL_TYPE="NonNullType",Kind2.SCHEMA_DEFINITION="SchemaDefinition",Kind2.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",Kind2.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",Kind2.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",Kind2.FIELD_DEFINITION="FieldDefinition",Kind2.INPUT_VALUE_DEFINITION="InputValueDefinition",Kind2.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",Kind2.UNION_TYPE_DEFINITION="UnionTypeDefinition",Kind2.ENUM_TYPE_DEFINITION="EnumTypeDefinition",Kind2.ENUM_VALUE_DEFINITION="EnumValueDefinition",Kind2.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",Kind2.DIRECTIVE_DEFINITION="DirectiveDefinition",Kind2.SCHEMA_EXTENSION="SchemaExtension",Kind2.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",Kind2.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",Kind2.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",Kind2.UNION_TYPE_EXTENSION="UnionTypeExtension",Kind2.ENUM_TYPE_EXTENSION="EnumTypeExtension",Kind2.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension";var BREAK$1=Object.freeze({});function visit(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:QueryDocumentKeys,n=new Map,i=0,a=Object.values(Kind);i<a.length;i++){var o=a[i];n.set(o,getEnterLeaveForKind(t,o))}var s=void 0,u=Array.isArray(e),c=[e],l=-1,f=[],p=e,d=void 0,h=void 0,m=[],y=[];do{var v=++l===c.length,g=v&&0!==f.length;if(v){if(d=0===y.length?void 0:m[m.length-1],p=h,h=y.pop(),g)if(u){p=p.slice();var b,_=0,w=_createForOfIteratorHelper(f);try{for(w.s();!(b=w.n()).done;){var k=_slicedToArray(b.value,2),x=k[0],T=k[1],E=x-_;null===T?(p.splice(E,1),_++):p[E]=T}}catch(e){w.e(e)}finally{w.f()}}else{p=Object.defineProperties({},Object.getOwnPropertyDescriptors(p));var A,S=_createForOfIteratorHelper(f);try{for(S.s();!(A=S.n()).done;){var C=_slicedToArray(A.value,2),O=C[0],R=C[1];p[O]=R}}catch(e){S.e(e)}finally{S.f()}}l=s.index,c=s.keys,f=s.edits,u=s.inArray,s=s.prev}else if(h){if(null==(p=h[d=u?l:c[l]]))continue;m.push(d)}var P,I=void 0;if(!Array.isArray(p)){var N,$;isNode(p)||devAssert(!1,"Invalid AST Node: ".concat(inspect(p),"."));var B=v?null===(N=n.get(p.kind))||void 0===N?void 0:N.leave:null===($=n.get(p.kind))||void 0===$?void 0:$.enter;if((I=null==B?void 0:B.call(t,p,d,h,m,y))===BREAK$1)break;if(!1===I){if(!v){m.pop();continue}}else if(void 0!==I&&(f.push([d,I]),!v)){if(!isNode(I)){m.pop();continue}p=I}}void 0===I&&g&&f.push([d,p]),v?m.pop():(s={inArray:u,index:l,keys:c,edits:f,prev:s},c=(u=Array.isArray(p))?p:null!==(P=r[p.kind])&&void 0!==P?P:[],l=-1,f=[],h&&y.push(h),h=p)}while(void 0!==s);return 0!==f.length?f[f.length-1][1]:e}function getEnterLeaveForKind(e,t){var r=e[t];return"object"===_typeof(r)?r:"function"==typeof r?{enter:r,leave:void 0}:{enter:e.enter,leave:e.leave}}function isWhiteSpace(e){return 9===e||32===e}function isDigit(e){return e>=48&&e<=57}function isLetter(e){return e>=97&&e<=122||e>=65&&e<=90}function isNameStart(e){return isLetter(e)||95===e}function isNameContinue(e){return isLetter(e)||isDigit(e)||95===e}function dedentBlockStringLines(e){for(var t,r=Number.MAX_SAFE_INTEGER,n=null,i=-1,a=0;a<e.length;++a){var o,s=e[a],u=leadingWhitespace(s);u!==s.length&&(n=null!==(o=n)&&void 0!==o?o:a,i=a,0!==a&&u<r&&(r=u))}return e.map((function(e,t){return 0===t?e:e.slice(r)})).slice(null!==(t=n)&&void 0!==t?t:0,i+1)}function leadingWhitespace(e){for(var t=0;t<e.length&&isWhiteSpace(e.charCodeAt(t));)++t;return t}function printBlockString(e,t){var r=e.replace(/"""/g,'\\"""'),n=r.split(/\r\n|[\n\r]/g),i=1===n.length,a=n.length>1&&n.slice(1).every((function(e){return 0===e.length||isWhiteSpace(e.charCodeAt(0))})),o=r.endsWith('\\"""'),s=e.endsWith('"')&&!o,u=e.endsWith("\\"),c=s||u,l=!(null!=t&&t.minimize)&&(!i||e.length>70||c||a||o),f="",p=i&&isWhiteSpace(e.charCodeAt(0));return(l&&!p||a)&&(f+="\n"),f+=r,(l||c)&&(f+="\n"),'"""'+f+'"""'}function printString(e){return'"'.concat(e.replace(escapedRegExp,escapedReplacer),'"')}var escapedRegExp=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function escapedReplacer(e){return escapeSequences[e.charCodeAt(0)]}var escapeSequences=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"];function print(e){return visit(e,printDocASTReducer)}var MAX_LINE_LENGTH=80,printDocASTReducer={Name:{leave:function(e){return e.value}},Variable:{leave:function(e){return"$"+e.name}},Document:{leave:function(e){return join(e.definitions,"\n\n")}},OperationDefinition:{leave:function(e){var t=wrap("(",join(e.variableDefinitions,", "),")"),r=join([e.operation,join([e.name,t]),join(e.directives," ")]," ");return("query"===r?"":r+" ")+e.selectionSet}},VariableDefinition:{leave:function(e){var t=e.variable,r=e.type,n=e.defaultValue,i=e.directives;return t+": "+r+wrap(" = ",n)+wrap(" ",join(i," "))}},SelectionSet:{leave:function(e){return block(e.selections)}},Field:{leave:function(e){var t=e.alias,r=e.name,n=e.arguments,i=e.directives,a=e.selectionSet,o=wrap("",t,": ")+r,s=o+wrap("(",join(n,", "),")");return s.length>MAX_LINE_LENGTH&&(s=o+wrap("(\n",indent(join(n,"\n")),"\n)")),join([s,join(i," "),a]," ")}},Argument:{leave:function(e){return e.name+": "+e.value}},FragmentSpread:{leave:function(e){return"..."+e.name+wrap(" ",join(e.directives," "))}},InlineFragment:{leave:function(e){var t=e.typeCondition,r=e.directives,n=e.selectionSet;return join(["...",wrap("on ",t),join(r," "),n]," ")}},FragmentDefinition:{leave:function(e){var t=e.name,r=e.typeCondition,n=e.variableDefinitions,i=e.directives,a=e.selectionSet;return"fragment ".concat(t).concat(wrap("(",join(n,", "),")")," on ").concat(r," ").concat(wrap("",join(i," ")," "))+a}},IntValue:{leave:function(e){return e.value}},FloatValue:{leave:function(e){return e.value}},StringValue:{leave:function(e){var t=e.value;return e.block?printBlockString(t):printString(t)}},BooleanValue:{leave:function(e){return e.value?"true":"false"}},NullValue:{leave:function(){return"null"}},EnumValue:{leave:function(e){return e.value}},ListValue:{leave:function(e){return"["+join(e.values,", ")+"]"}},ObjectValue:{leave:function(e){return"{"+join(e.fields,", ")+"}"}},ObjectField:{leave:function(e){return e.name+": "+e.value}},Directive:{leave:function(e){return"@"+e.name+wrap("(",join(e.arguments,", "),")")}},NamedType:{leave:function(e){return e.name}},ListType:{leave:function(e){return"["+e.type+"]"}},NonNullType:{leave:function(e){return e.type+"!"}},SchemaDefinition:{leave:function(e){var t=e.description,r=e.directives,n=e.operationTypes;return wrap("",t,"\n")+join(["schema",join(r," "),block(n)]," ")}},OperationTypeDefinition:{leave:function(e){return e.operation+": "+e.type}},ScalarTypeDefinition:{leave:function(e){var t=e.description,r=e.name,n=e.directives;return wrap("",t,"\n")+join(["scalar",r,join(n," ")]," ")}},ObjectTypeDefinition:{leave:function(e){var t=e.description,r=e.name,n=e.interfaces,i=e.directives,a=e.fields;return wrap("",t,"\n")+join(["type",r,wrap("implements ",join(n," & ")),join(i," "),block(a)]," ")}},FieldDefinition:{leave:function(e){var t=e.description,r=e.name,n=e.arguments,i=e.type,a=e.directives;return wrap("",t,"\n")+r+(hasMultilineItems(n)?wrap("(\n",indent(join(n,"\n")),"\n)"):wrap("(",join(n,", "),")"))+": "+i+wrap(" ",join(a," "))}},InputValueDefinition:{leave:function(e){var t=e.description,r=e.name,n=e.type,i=e.defaultValue,a=e.directives;return wrap("",t,"\n")+join([r+": "+n,wrap("= ",i),join(a," ")]," ")}},InterfaceTypeDefinition:{leave:function(e){var t=e.description,r=e.name,n=e.interfaces,i=e.directives,a=e.fields;return wrap("",t,"\n")+join(["interface",r,wrap("implements ",join(n," & ")),join(i," "),block(a)]," ")}},UnionTypeDefinition:{leave:function(e){var t=e.description,r=e.name,n=e.directives,i=e.types;return wrap("",t,"\n")+join(["union",r,join(n," "),wrap("= ",join(i," | "))]," ")}},EnumTypeDefinition:{leave:function(e){var t=e.description,r=e.name,n=e.directives,i=e.values;return wrap("",t,"\n")+join(["enum",r,join(n," "),block(i)]," ")}},EnumValueDefinition:{leave:function(e){var t=e.description,r=e.name,n=e.directives;return wrap("",t,"\n")+join([r,join(n," ")]," ")}},InputObjectTypeDefinition:{leave:function(e){var t=e.description,r=e.name,n=e.directives,i=e.fields;return wrap("",t,"\n")+join(["input",r,join(n," "),block(i)]," ")}},DirectiveDefinition:{leave:function(e){var t=e.description,r=e.name,n=e.arguments,i=e.repeatable,a=e.locations;return wrap("",t,"\n")+"directive @"+r+(hasMultilineItems(n)?wrap("(\n",indent(join(n,"\n")),"\n)"):wrap("(",join(n,", "),")"))+(i?" repeatable":"")+" on "+join(a," | ")}},SchemaExtension:{leave:function(e){var t=e.directives,r=e.operationTypes;return join(["extend schema",join(t," "),block(r)]," ")}},ScalarTypeExtension:{leave:function(e){return join(["extend scalar",e.name,join(e.directives," ")]," ")}},ObjectTypeExtension:{leave:function(e){var t=e.name,r=e.interfaces,n=e.directives,i=e.fields;return join(["extend type",t,wrap("implements ",join(r," & ")),join(n," "),block(i)]," ")}},InterfaceTypeExtension:{leave:function(e){var t=e.name,r=e.interfaces,n=e.directives,i=e.fields;return join(["extend interface",t,wrap("implements ",join(r," & ")),join(n," "),block(i)]," ")}},UnionTypeExtension:{leave:function(e){var t=e.name,r=e.directives,n=e.types;return join(["extend union",t,join(r," "),wrap("= ",join(n," | "))]," ")}},EnumTypeExtension:{leave:function(e){var t=e.name,r=e.directives,n=e.values;return join(["extend enum",t,join(r," "),block(n)]," ")}},InputObjectTypeExtension:{leave:function(e){var t=e.name,r=e.directives,n=e.fields;return join(["extend input",t,join(r," "),block(n)]," ")}}};function join(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(t=null==e?void 0:e.filter((function(e){return e})).join(r))&&void 0!==t?t:""}function block(e){return wrap("{\n",indent(join(e,"\n")),"\n}")}function wrap(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return null!=t&&""!==t?e+t+r:""}function indent(e){return wrap("  ",e.replace(/\n/g,"\n  "))}function hasMultilineItems(e){var t;return null!==(t=null==e?void 0:e.some((function(e){return e.includes("\n")})))&&void 0!==t&&t}function isObjectLike(e){return"object"==_typeof(e)&&null!==e}function invariant(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}var LineRegExp=/\r\n|[\n\r]/g;function getLocation(e,t){var r,n=0,i=1,a=_createForOfIteratorHelper(e.body.matchAll(LineRegExp));try{for(a.s();!(r=a.n()).done;){var o=r.value;if("number"==typeof o.index||invariant(!1),o.index>=t)break;n=o.index+o[0].length,i+=1}}catch(e){a.e(e)}finally{a.f()}return{line:i,column:t+1-n}}function printLocation(e){return printSourceLocation(e.source,getLocation(e.source,e.start))}function printSourceLocation(e,t){var r=e.locationOffset.column-1,n="".padStart(r)+e.body,i=t.line-1,a=e.locationOffset.line-1,o=t.line+a,s=1===t.line?r:0,u=t.column+s,c="".concat(e.name,":").concat(o,":").concat(u,"\n"),l=n.split(/\r\n|[\n\r]/g),f=l[i];if(f.length>120){for(var p=Math.floor(u/80),d=u%80,h=[],m=0;m<f.length;m+=80)h.push(f.slice(m,m+80));return c+printPrefixedLines([["".concat(o," |"),h[0]]].concat(_toConsumableArray(h.slice(1,p+1).map((function(e){return["|",e]}))),[["|","^".padStart(d)],["|",h[p+1]]]))}return c+printPrefixedLines([["".concat(o-1," |"),l[i-1]],["".concat(o," |"),f],["|","^".padStart(u)],["".concat(o+1," |"),l[i+1]]])}function printPrefixedLines(e){var t=e.filter((function(e){var t=_slicedToArray(e,2);return t[0],void 0!==t[1]})),r=Math.max.apply(Math,_toConsumableArray(t.map((function(e){return _slicedToArray(e,1)[0].length}))));return t.map((function(e){var t=_slicedToArray(e,2),n=t[0],i=t[1];return n.padStart(r)+(i?" "+i:"")})).join("\n")}function toNormalizedOptions(e){var t=e[0];return null==t||"kind"in t||"length"in t?{nodes:t,source:e[1],positions:e[2],path:e[3],originalError:e[4],extensions:e[5]}:t}var GraphQLError=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){var n,i,a,o;_classCallCheck(this,r);for(var s=arguments.length,u=new Array(s>1?s-1:0),c=1;c<s;c++)u[c-1]=arguments[c];var l=toNormalizedOptions(u),f=l.nodes,p=l.source,d=l.positions,h=l.path,m=l.originalError,y=l.extensions;(n=t.call(this,e)).name="GraphQLError",n.path=null!=h?h:void 0,n.originalError=null!=m?m:void 0,n.nodes=undefinedIfEmpty(Array.isArray(f)?f:f?[f]:void 0);var v=undefinedIfEmpty(null===(i=n.nodes)||void 0===i?void 0:i.map((function(e){return e.loc})).filter((function(e){return null!=e})));n.source=null!=p?p:null==v||null===(a=v[0])||void 0===a?void 0:a.source,n.positions=null!=d?d:null==v?void 0:v.map((function(e){return e.start})),n.locations=d&&p?d.map((function(e){return getLocation(p,e)})):null==v?void 0:v.map((function(e){return getLocation(e.source,e.start)}));var g=isObjectLike(null==m?void 0:m.extensions)?null==m?void 0:m.extensions:void 0;return n.extensions=null!==(o=null!=y?y:g)&&void 0!==o?o:Object.create(null),Object.defineProperties(_assertThisInitialized(n),{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!=m&&m.stack?Object.defineProperty(_assertThisInitialized(n),"stack",{value:m.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(_assertThisInitialized(n),r):Object.defineProperty(_assertThisInitialized(n),"stack",{value:Error().stack,writable:!0,configurable:!0}),n}return _createClass(r,[{key:Symbol.toStringTag,get:function(){return"GraphQLError"}},{key:"toString",value:function(){var e=this.message;if(this.nodes){var t,r=_createForOfIteratorHelper(this.nodes);try{for(r.s();!(t=r.n()).done;){var n=t.value;n.loc&&(e+="\n\n"+printLocation(n.loc))}}catch(e){r.e(e)}finally{r.f()}}else if(this.source&&this.locations){var i,a=_createForOfIteratorHelper(this.locations);try{for(a.s();!(i=a.n()).done;){var o=i.value;e+="\n\n"+printSourceLocation(this.source,o)}}catch(e){a.e(e)}finally{a.f()}}return e}},{key:"toJSON",value:function(){var e={message:this.message};return null!=this.locations&&(e.locations=this.locations),null!=this.path&&(e.path=this.path),null!=this.extensions&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}]),r}(_wrapNativeSuper(Error)),DirectiveLocation,DirectiveLocation2,TokenKind,TokenKind2;function undefinedIfEmpty(e){return void 0===e||0===e.length?void 0:e}function syntaxError(e,t,r){return new GraphQLError("Syntax Error: ".concat(r),{source:e,positions:[t]})}DirectiveLocation2=DirectiveLocation||(DirectiveLocation={}),DirectiveLocation2.QUERY="QUERY",DirectiveLocation2.MUTATION="MUTATION",DirectiveLocation2.SUBSCRIPTION="SUBSCRIPTION",DirectiveLocation2.FIELD="FIELD",DirectiveLocation2.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",DirectiveLocation2.FRAGMENT_SPREAD="FRAGMENT_SPREAD",DirectiveLocation2.INLINE_FRAGMENT="INLINE_FRAGMENT",DirectiveLocation2.VARIABLE_DEFINITION="VARIABLE_DEFINITION",DirectiveLocation2.SCHEMA="SCHEMA",DirectiveLocation2.SCALAR="SCALAR",DirectiveLocation2.OBJECT="OBJECT",DirectiveLocation2.FIELD_DEFINITION="FIELD_DEFINITION",DirectiveLocation2.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",DirectiveLocation2.INTERFACE="INTERFACE",DirectiveLocation2.UNION="UNION",DirectiveLocation2.ENUM="ENUM",DirectiveLocation2.ENUM_VALUE="ENUM_VALUE",DirectiveLocation2.INPUT_OBJECT="INPUT_OBJECT",DirectiveLocation2.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION",TokenKind2=TokenKind||(TokenKind={}),TokenKind2.SOF="<SOF>",TokenKind2.EOF="<EOF>",TokenKind2.BANG="!",TokenKind2.DOLLAR="$",TokenKind2.AMP="&",TokenKind2.PAREN_L="(",TokenKind2.PAREN_R=")",TokenKind2.SPREAD="...",TokenKind2.COLON=":",TokenKind2.EQUALS="=",TokenKind2.AT="@",TokenKind2.BRACKET_L="[",TokenKind2.BRACKET_R="]",TokenKind2.BRACE_L="{",TokenKind2.PIPE="|",TokenKind2.BRACE_R="}",TokenKind2.NAME="Name",TokenKind2.INT="Int",TokenKind2.FLOAT="Float",TokenKind2.STRING="String",TokenKind2.BLOCK_STRING="BlockString",TokenKind2.COMMENT="Comment";var Lexer=function(){function e(t){_classCallCheck(this,e);var r=new Token$1(TokenKind.SOF,0,0,0,0);this.source=t,this.lastToken=r,this.token=r,this.line=1,this.lineStart=0}return _createClass(e,[{key:Symbol.toStringTag,get:function(){return"Lexer"}},{key:"advance",value:function(){return this.lastToken=this.token,this.token=this.lookahead()}},{key:"lookahead",value:function(){var e=this.token;if(e.kind!==TokenKind.EOF)do{if(e.next)e=e.next;else{var t=readNextToken(this,e.end);e.next=t,t.prev=e,e=t}}while(e.kind===TokenKind.COMMENT);return e}}]),e}();function isPunctuatorTokenKind(e){return e===TokenKind.BANG||e===TokenKind.DOLLAR||e===TokenKind.AMP||e===TokenKind.PAREN_L||e===TokenKind.PAREN_R||e===TokenKind.SPREAD||e===TokenKind.COLON||e===TokenKind.EQUALS||e===TokenKind.AT||e===TokenKind.BRACKET_L||e===TokenKind.BRACKET_R||e===TokenKind.BRACE_L||e===TokenKind.PIPE||e===TokenKind.BRACE_R}function isUnicodeScalarValue(e){return e>=0&&e<=55295||e>=57344&&e<=1114111}function isSupplementaryCodePoint(e,t){return isLeadingSurrogate(e.charCodeAt(t))&&isTrailingSurrogate(e.charCodeAt(t+1))}function isLeadingSurrogate(e){return e>=55296&&e<=56319}function isTrailingSurrogate(e){return e>=56320&&e<=57343}function printCodePointAt(e,t){var r=e.source.body.codePointAt(t);if(void 0===r)return TokenKind.EOF;if(r>=32&&r<=126){var n=String.fromCodePoint(r);return'"'===n?"'\"'":'"'.concat(n,'"')}return"U+"+r.toString(16).toUpperCase().padStart(4,"0")}function createToken$1(e,t,r,n,i){var a=e.line,o=1+r-e.lineStart;return new Token$1(t,r,n,a,o,i)}function readNextToken(e,t){for(var r=e.source.body,n=r.length,i=t;i<n;){var a=r.charCodeAt(i);switch(a){case 65279:case 9:case 32:case 44:++i;continue;case 10:++i,++e.line,e.lineStart=i;continue;case 13:10===r.charCodeAt(i+1)?i+=2:++i,++e.line,e.lineStart=i;continue;case 35:return readComment(e,i);case 33:return createToken$1(e,TokenKind.BANG,i,i+1);case 36:return createToken$1(e,TokenKind.DOLLAR,i,i+1);case 38:return createToken$1(e,TokenKind.AMP,i,i+1);case 40:return createToken$1(e,TokenKind.PAREN_L,i,i+1);case 41:return createToken$1(e,TokenKind.PAREN_R,i,i+1);case 46:if(46===r.charCodeAt(i+1)&&46===r.charCodeAt(i+2))return createToken$1(e,TokenKind.SPREAD,i,i+3);break;case 58:return createToken$1(e,TokenKind.COLON,i,i+1);case 61:return createToken$1(e,TokenKind.EQUALS,i,i+1);case 64:return createToken$1(e,TokenKind.AT,i,i+1);case 91:return createToken$1(e,TokenKind.BRACKET_L,i,i+1);case 93:return createToken$1(e,TokenKind.BRACKET_R,i,i+1);case 123:return createToken$1(e,TokenKind.BRACE_L,i,i+1);case 124:return createToken$1(e,TokenKind.PIPE,i,i+1);case 125:return createToken$1(e,TokenKind.BRACE_R,i,i+1);case 34:return 34===r.charCodeAt(i+1)&&34===r.charCodeAt(i+2)?readBlockString(e,i):readString(e,i)}if(isDigit(a)||45===a)return readNumber(e,i,a);if(isNameStart(a))return readName(e,i);throw syntaxError(e.source,i,39===a?"Unexpected single quote character ('), did you mean to use a double quote (\")?":isUnicodeScalarValue(a)||isSupplementaryCodePoint(r,i)?"Unexpected character: ".concat(printCodePointAt(e,i),"."):"Invalid character: ".concat(printCodePointAt(e,i),"."))}return createToken$1(e,TokenKind.EOF,n,n)}function readComment(e,t){for(var r=e.source.body,n=r.length,i=t+1;i<n;){var a=r.charCodeAt(i);if(10===a||13===a)break;if(isUnicodeScalarValue(a))++i;else{if(!isSupplementaryCodePoint(r,i))break;i+=2}}return createToken$1(e,TokenKind.COMMENT,t,i,r.slice(t+1,i))}function readNumber(e,t,r){var n=e.source.body,i=t,a=r,o=!1;if(45===a&&(a=n.charCodeAt(++i)),48===a){if(isDigit(a=n.charCodeAt(++i)))throw syntaxError(e.source,i,"Invalid number, unexpected digit after 0: ".concat(printCodePointAt(e,i),"."))}else i=readDigits(e,i,a),a=n.charCodeAt(i);if(46===a&&(o=!0,a=n.charCodeAt(++i),i=readDigits(e,i,a),a=n.charCodeAt(i)),69!==a&&101!==a||(o=!0,43!==(a=n.charCodeAt(++i))&&45!==a||(a=n.charCodeAt(++i)),i=readDigits(e,i,a),a=n.charCodeAt(i)),46===a||isNameStart(a))throw syntaxError(e.source,i,"Invalid number, expected digit but got: ".concat(printCodePointAt(e,i),"."));return createToken$1(e,o?TokenKind.FLOAT:TokenKind.INT,t,i,n.slice(t,i))}function readDigits(e,t,r){if(!isDigit(r))throw syntaxError(e.source,t,"Invalid number, expected digit but got: ".concat(printCodePointAt(e,t),"."));for(var n=e.source.body,i=t+1;isDigit(n.charCodeAt(i));)++i;return i}function readString(e,t){for(var r=e.source.body,n=r.length,i=t+1,a=i,o="";i<n;){var s=r.charCodeAt(i);if(34===s)return o+=r.slice(a,i),createToken$1(e,TokenKind.STRING,t,i+1,o);if(92!==s){if(10===s||13===s)break;if(isUnicodeScalarValue(s))++i;else{if(!isSupplementaryCodePoint(r,i))throw syntaxError(e.source,i,"Invalid character within String: ".concat(printCodePointAt(e,i),"."));i+=2}}else{o+=r.slice(a,i);var u=117===r.charCodeAt(i+1)?123===r.charCodeAt(i+2)?readEscapedUnicodeVariableWidth(e,i):readEscapedUnicodeFixedWidth(e,i):readEscapedCharacter(e,i);o+=u.value,a=i+=u.size}}throw syntaxError(e.source,i,"Unterminated string.")}function readEscapedUnicodeVariableWidth(e,t){for(var r=e.source.body,n=0,i=3;i<12;){var a=r.charCodeAt(t+i++);if(125===a){if(i<5||!isUnicodeScalarValue(n))break;return{value:String.fromCodePoint(n),size:i}}if((n=n<<4|readHexDigit(a))<0)break}throw syntaxError(e.source,t,'Invalid Unicode escape sequence: "'.concat(r.slice(t,t+i),'".'))}function readEscapedUnicodeFixedWidth(e,t){var r=e.source.body,n=read16BitHexCode(r,t+2);if(isUnicodeScalarValue(n))return{value:String.fromCodePoint(n),size:6};if(isLeadingSurrogate(n)&&92===r.charCodeAt(t+6)&&117===r.charCodeAt(t+7)){var i=read16BitHexCode(r,t+8);if(isTrailingSurrogate(i))return{value:String.fromCodePoint(n,i),size:12}}throw syntaxError(e.source,t,'Invalid Unicode escape sequence: "'.concat(r.slice(t,t+6),'".'))}function read16BitHexCode(e,t){return readHexDigit(e.charCodeAt(t))<<12|readHexDigit(e.charCodeAt(t+1))<<8|readHexDigit(e.charCodeAt(t+2))<<4|readHexDigit(e.charCodeAt(t+3))}function readHexDigit(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function readEscapedCharacter(e,t){var r=e.source.body;switch(r.charCodeAt(t+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:"\n",size:2};case 114:return{value:"\r",size:2};case 116:return{value:"\t",size:2}}throw syntaxError(e.source,t,'Invalid character escape sequence: "'.concat(r.slice(t,t+2),'".'))}function readBlockString(e,t){for(var r=e.source.body,n=r.length,i=e.lineStart,a=t+3,o=a,s="",u=[];a<n;){var c=r.charCodeAt(a);if(34===c&&34===r.charCodeAt(a+1)&&34===r.charCodeAt(a+2)){s+=r.slice(o,a),u.push(s);var l=createToken$1(e,TokenKind.BLOCK_STRING,t,a+3,dedentBlockStringLines(u).join("\n"));return e.line+=u.length-1,e.lineStart=i,l}if(92!==c||34!==r.charCodeAt(a+1)||34!==r.charCodeAt(a+2)||34!==r.charCodeAt(a+3))if(10!==c&&13!==c)if(isUnicodeScalarValue(c))++a;else{if(!isSupplementaryCodePoint(r,a))throw syntaxError(e.source,a,"Invalid character within String: ".concat(printCodePointAt(e,a),"."));a+=2}else s+=r.slice(o,a),u.push(s),13===c&&10===r.charCodeAt(a+1)?a+=2:++a,s="",o=a,i=a;else s+=r.slice(o,a),o=a+1,a+=4}throw syntaxError(e.source,a,"Unterminated string.")}function readName(e,t){for(var r=e.source.body,n=r.length,i=t+1;i<n&&isNameContinue(r.charCodeAt(i));)++i;return createToken$1(e,TokenKind.NAME,t,i,r.slice(t,i))}var instanceOf=function(e,t){return e instanceof t},Source=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GraphQL request",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{line:1,column:1};_classCallCheck(this,e),"string"==typeof t||devAssert(!1,"Body must be a string. Received: ".concat(inspect(t),".")),this.body=t,this.name=r,this.locationOffset=n,this.locationOffset.line>0||devAssert(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||devAssert(!1,"column in locationOffset is 1-indexed and must be positive.")}return _createClass(e,[{key:Symbol.toStringTag,get:function(){return"Source"}}]),e}();function isSource(e){return instanceOf(e,Source)}function parse(e,t){return new Parser(e,t).parseDocument()}var Parser=function(){function e(t,r){_classCallCheck(this,e);var n=isSource(t)?t:new Source(t);this._lexer=new Lexer(n),this._options=r}return _createClass(e,[{key:"parseName",value:function(){var e=this.expectToken(TokenKind.NAME);return this.node(e,{kind:Kind.NAME,value:e.value})}},{key:"parseDocument",value:function(){return this.node(this._lexer.token,{kind:Kind.DOCUMENT,definitions:this.many(TokenKind.SOF,this.parseDefinition,TokenKind.EOF)})}},{key:"parseDefinition",value:function(){if(this.peek(TokenKind.BRACE_L))return this.parseOperationDefinition();var e=this.peekDescription(),t=e?this._lexer.lookahead():this._lexer.token;if(t.kind===TokenKind.NAME){switch(t.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw syntaxError(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(t.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(t)}},{key:"parseOperationDefinition",value:function(){var e=this._lexer.token;if(this.peek(TokenKind.BRACE_L))return this.node(e,{kind:Kind.OPERATION_DEFINITION,operation:OperationTypeNode.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});var t,r=this.parseOperationType();return this.peek(TokenKind.NAME)&&(t=this.parseName()),this.node(e,{kind:Kind.OPERATION_DEFINITION,operation:r,name:t,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}},{key:"parseOperationType",value:function(){var e=this.expectToken(TokenKind.NAME);switch(e.value){case"query":return OperationTypeNode.QUERY;case"mutation":return OperationTypeNode.MUTATION;case"subscription":return OperationTypeNode.SUBSCRIPTION}throw this.unexpected(e)}},{key:"parseVariableDefinitions",value:function(){return this.optionalMany(TokenKind.PAREN_L,this.parseVariableDefinition,TokenKind.PAREN_R)}},{key:"parseVariableDefinition",value:function(){return this.node(this._lexer.token,{kind:Kind.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(TokenKind.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(TokenKind.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}},{key:"parseVariable",value:function(){var e=this._lexer.token;return this.expectToken(TokenKind.DOLLAR),this.node(e,{kind:Kind.VARIABLE,name:this.parseName()})}},{key:"parseSelectionSet",value:function(){return this.node(this._lexer.token,{kind:Kind.SELECTION_SET,selections:this.many(TokenKind.BRACE_L,this.parseSelection,TokenKind.BRACE_R)})}},{key:"parseSelection",value:function(){return this.peek(TokenKind.SPREAD)?this.parseFragment():this.parseField()}},{key:"parseField",value:function(){var e,t,r=this._lexer.token,n=this.parseName();return this.expectOptionalToken(TokenKind.COLON)?(e=n,t=this.parseName()):t=n,this.node(r,{kind:Kind.FIELD,alias:e,name:t,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(TokenKind.BRACE_L)?this.parseSelectionSet():void 0})}},{key:"parseArguments",value:function(e){var t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(TokenKind.PAREN_L,t,TokenKind.PAREN_R)}},{key:"parseArgument",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._lexer.token,r=this.parseName();return this.expectToken(TokenKind.COLON),this.node(t,{kind:Kind.ARGUMENT,name:r,value:this.parseValueLiteral(e)})}},{key:"parseConstArgument",value:function(){return this.parseArgument(!0)}},{key:"parseFragment",value:function(){var e=this._lexer.token;this.expectToken(TokenKind.SPREAD);var t=this.expectOptionalKeyword("on");return!t&&this.peek(TokenKind.NAME)?this.node(e,{kind:Kind.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:Kind.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}},{key:"parseFragmentDefinition",value:function(){var e,t=this._lexer.token;return this.expectKeyword("fragment"),!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacyFragmentVariables)?this.node(t,{kind:Kind.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(t,{kind:Kind.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}},{key:"parseFragmentName",value:function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()}},{key:"parseValueLiteral",value:function(e){var t=this._lexer.token;switch(t.kind){case TokenKind.BRACKET_L:return this.parseList(e);case TokenKind.BRACE_L:return this.parseObject(e);case TokenKind.INT:return this._lexer.advance(),this.node(t,{kind:Kind.INT,value:t.value});case TokenKind.FLOAT:return this._lexer.advance(),this.node(t,{kind:Kind.FLOAT,value:t.value});case TokenKind.STRING:case TokenKind.BLOCK_STRING:return this.parseStringLiteral();case TokenKind.NAME:switch(this._lexer.advance(),t.value){case"true":return this.node(t,{kind:Kind.BOOLEAN,value:!0});case"false":return this.node(t,{kind:Kind.BOOLEAN,value:!1});case"null":return this.node(t,{kind:Kind.NULL});default:return this.node(t,{kind:Kind.ENUM,value:t.value})}case TokenKind.DOLLAR:if(e){if(this.expectToken(TokenKind.DOLLAR),this._lexer.token.kind===TokenKind.NAME){var r=this._lexer.token.value;throw syntaxError(this._lexer.source,t.start,'Unexpected variable "$'.concat(r,'" in constant value.'))}throw this.unexpected(t)}return this.parseVariable();default:throw this.unexpected()}}},{key:"parseConstValueLiteral",value:function(){return this.parseValueLiteral(!0)}},{key:"parseStringLiteral",value:function(){var e=this._lexer.token;return this._lexer.advance(),this.node(e,{kind:Kind.STRING,value:e.value,block:e.kind===TokenKind.BLOCK_STRING})}},{key:"parseList",value:function(e){var t=this;return this.node(this._lexer.token,{kind:Kind.LIST,values:this.any(TokenKind.BRACKET_L,(function(){return t.parseValueLiteral(e)}),TokenKind.BRACKET_R)})}},{key:"parseObject",value:function(e){var t=this;return this.node(this._lexer.token,{kind:Kind.OBJECT,fields:this.any(TokenKind.BRACE_L,(function(){return t.parseObjectField(e)}),TokenKind.BRACE_R)})}},{key:"parseObjectField",value:function(e){var t=this._lexer.token,r=this.parseName();return this.expectToken(TokenKind.COLON),this.node(t,{kind:Kind.OBJECT_FIELD,name:r,value:this.parseValueLiteral(e)})}},{key:"parseDirectives",value:function(e){for(var t=[];this.peek(TokenKind.AT);)t.push(this.parseDirective(e));return t}},{key:"parseConstDirectives",value:function(){return this.parseDirectives(!0)}},{key:"parseDirective",value:function(e){var t=this._lexer.token;return this.expectToken(TokenKind.AT),this.node(t,{kind:Kind.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}},{key:"parseTypeReference",value:function(){var e,t=this._lexer.token;if(this.expectOptionalToken(TokenKind.BRACKET_L)){var r=this.parseTypeReference();this.expectToken(TokenKind.BRACKET_R),e=this.node(t,{kind:Kind.LIST_TYPE,type:r})}else e=this.parseNamedType();return this.expectOptionalToken(TokenKind.BANG)?this.node(t,{kind:Kind.NON_NULL_TYPE,type:e}):e}},{key:"parseNamedType",value:function(){return this.node(this._lexer.token,{kind:Kind.NAMED_TYPE,name:this.parseName()})}},{key:"peekDescription",value:function(){return this.peek(TokenKind.STRING)||this.peek(TokenKind.BLOCK_STRING)}},{key:"parseDescription",value:function(){if(this.peekDescription())return this.parseStringLiteral()}},{key:"parseSchemaDefinition",value:function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");var r=this.parseConstDirectives(),n=this.many(TokenKind.BRACE_L,this.parseOperationTypeDefinition,TokenKind.BRACE_R);return this.node(e,{kind:Kind.SCHEMA_DEFINITION,description:t,directives:r,operationTypes:n})}},{key:"parseOperationTypeDefinition",value:function(){var e=this._lexer.token,t=this.parseOperationType();this.expectToken(TokenKind.COLON);var r=this.parseNamedType();return this.node(e,{kind:Kind.OPERATION_TYPE_DEFINITION,operation:t,type:r})}},{key:"parseScalarTypeDefinition",value:function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");var r=this.parseName(),n=this.parseConstDirectives();return this.node(e,{kind:Kind.SCALAR_TYPE_DEFINITION,description:t,name:r,directives:n})}},{key:"parseObjectTypeDefinition",value:function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");var r=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),a=this.parseFieldsDefinition();return this.node(e,{kind:Kind.OBJECT_TYPE_DEFINITION,description:t,name:r,interfaces:n,directives:i,fields:a})}},{key:"parseImplementsInterfaces",value:function(){return this.expectOptionalKeyword("implements")?this.delimitedMany(TokenKind.AMP,this.parseNamedType):[]}},{key:"parseFieldsDefinition",value:function(){return this.optionalMany(TokenKind.BRACE_L,this.parseFieldDefinition,TokenKind.BRACE_R)}},{key:"parseFieldDefinition",value:function(){var e=this._lexer.token,t=this.parseDescription(),r=this.parseName(),n=this.parseArgumentDefs();this.expectToken(TokenKind.COLON);var i=this.parseTypeReference(),a=this.parseConstDirectives();return this.node(e,{kind:Kind.FIELD_DEFINITION,description:t,name:r,arguments:n,type:i,directives:a})}},{key:"parseArgumentDefs",value:function(){return this.optionalMany(TokenKind.PAREN_L,this.parseInputValueDef,TokenKind.PAREN_R)}},{key:"parseInputValueDef",value:function(){var e=this._lexer.token,t=this.parseDescription(),r=this.parseName();this.expectToken(TokenKind.COLON);var n,i=this.parseTypeReference();this.expectOptionalToken(TokenKind.EQUALS)&&(n=this.parseConstValueLiteral());var a=this.parseConstDirectives();return this.node(e,{kind:Kind.INPUT_VALUE_DEFINITION,description:t,name:r,type:i,defaultValue:n,directives:a})}},{key:"parseInterfaceTypeDefinition",value:function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");var r=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),a=this.parseFieldsDefinition();return this.node(e,{kind:Kind.INTERFACE_TYPE_DEFINITION,description:t,name:r,interfaces:n,directives:i,fields:a})}},{key:"parseUnionTypeDefinition",value:function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");var r=this.parseName(),n=this.parseConstDirectives(),i=this.parseUnionMemberTypes();return this.node(e,{kind:Kind.UNION_TYPE_DEFINITION,description:t,name:r,directives:n,types:i})}},{key:"parseUnionMemberTypes",value:function(){return this.expectOptionalToken(TokenKind.EQUALS)?this.delimitedMany(TokenKind.PIPE,this.parseNamedType):[]}},{key:"parseEnumTypeDefinition",value:function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");var r=this.parseName(),n=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();return this.node(e,{kind:Kind.ENUM_TYPE_DEFINITION,description:t,name:r,directives:n,values:i})}},{key:"parseEnumValuesDefinition",value:function(){return this.optionalMany(TokenKind.BRACE_L,this.parseEnumValueDefinition,TokenKind.BRACE_R)}},{key:"parseEnumValueDefinition",value:function(){var e=this._lexer.token,t=this.parseDescription(),r=this.parseEnumValueName(),n=this.parseConstDirectives();return this.node(e,{kind:Kind.ENUM_VALUE_DEFINITION,description:t,name:r,directives:n})}},{key:"parseEnumValueName",value:function(){if("true"===this._lexer.token.value||"false"===this._lexer.token.value||"null"===this._lexer.token.value)throw syntaxError(this._lexer.source,this._lexer.token.start,"".concat(getTokenDesc(this._lexer.token)," is reserved and cannot be used for an enum value."));return this.parseName()}},{key:"parseInputObjectTypeDefinition",value:function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");var r=this.parseName(),n=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();return this.node(e,{kind:Kind.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:r,directives:n,fields:i})}},{key:"parseInputFieldsDefinition",value:function(){return this.optionalMany(TokenKind.BRACE_L,this.parseInputValueDef,TokenKind.BRACE_R)}},{key:"parseTypeSystemExtension",value:function(){var e=this._lexer.lookahead();if(e.kind===TokenKind.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}},{key:"parseSchemaExtension",value:function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var t=this.parseConstDirectives(),r=this.optionalMany(TokenKind.BRACE_L,this.parseOperationTypeDefinition,TokenKind.BRACE_R);if(0===t.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:Kind.SCHEMA_EXTENSION,directives:t,operationTypes:r})}},{key:"parseScalarTypeExtension",value:function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var t=this.parseName(),r=this.parseConstDirectives();if(0===r.length)throw this.unexpected();return this.node(e,{kind:Kind.SCALAR_TYPE_EXTENSION,name:t,directives:r})}},{key:"parseObjectTypeExtension",value:function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var t=this.parseName(),r=this.parseImplementsInterfaces(),n=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(0===r.length&&0===n.length&&0===i.length)throw this.unexpected();return this.node(e,{kind:Kind.OBJECT_TYPE_EXTENSION,name:t,interfaces:r,directives:n,fields:i})}},{key:"parseInterfaceTypeExtension",value:function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var t=this.parseName(),r=this.parseImplementsInterfaces(),n=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(0===r.length&&0===n.length&&0===i.length)throw this.unexpected();return this.node(e,{kind:Kind.INTERFACE_TYPE_EXTENSION,name:t,interfaces:r,directives:n,fields:i})}},{key:"parseUnionTypeExtension",value:function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var t=this.parseName(),r=this.parseConstDirectives(),n=this.parseUnionMemberTypes();if(0===r.length&&0===n.length)throw this.unexpected();return this.node(e,{kind:Kind.UNION_TYPE_EXTENSION,name:t,directives:r,types:n})}},{key:"parseEnumTypeExtension",value:function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var t=this.parseName(),r=this.parseConstDirectives(),n=this.parseEnumValuesDefinition();if(0===r.length&&0===n.length)throw this.unexpected();return this.node(e,{kind:Kind.ENUM_TYPE_EXTENSION,name:t,directives:r,values:n})}},{key:"parseInputObjectTypeExtension",value:function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var t=this.parseName(),r=this.parseConstDirectives(),n=this.parseInputFieldsDefinition();if(0===r.length&&0===n.length)throw this.unexpected();return this.node(e,{kind:Kind.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:r,fields:n})}},{key:"parseDirectiveDefinition",value:function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(TokenKind.AT);var r=this.parseName(),n=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var a=this.parseDirectiveLocations();return this.node(e,{kind:Kind.DIRECTIVE_DEFINITION,description:t,name:r,arguments:n,repeatable:i,locations:a})}},{key:"parseDirectiveLocations",value:function(){return this.delimitedMany(TokenKind.PIPE,this.parseDirectiveLocation)}},{key:"parseDirectiveLocation",value:function(){var e=this._lexer.token,t=this.parseName();if(Object.prototype.hasOwnProperty.call(DirectiveLocation,t.value))return t;throw this.unexpected(e)}},{key:"node",value:function(e,t){var r;return!0!==(null===(r=this._options)||void 0===r?void 0:r.noLocation)&&(t.loc=new Location(e,this._lexer.lastToken,this._lexer.source)),t}},{key:"peek",value:function(e){return this._lexer.token.kind===e}},{key:"expectToken",value:function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t;throw syntaxError(this._lexer.source,t.start,"Expected ".concat(getTokenKindDesc(e),", found ").concat(getTokenDesc(t),"."))}},{key:"expectOptionalToken",value:function(e){return this._lexer.token.kind===e&&(this._lexer.advance(),!0)}},{key:"expectKeyword",value:function(e){var t=this._lexer.token;if(t.kind!==TokenKind.NAME||t.value!==e)throw syntaxError(this._lexer.source,t.start,'Expected "'.concat(e,'", found ').concat(getTokenDesc(t),"."));this._lexer.advance()}},{key:"expectOptionalKeyword",value:function(e){var t=this._lexer.token;return t.kind===TokenKind.NAME&&t.value===e&&(this._lexer.advance(),!0)}},{key:"unexpected",value:function(e){var t=null!=e?e:this._lexer.token;return syntaxError(this._lexer.source,t.start,"Unexpected ".concat(getTokenDesc(t),"."))}},{key:"any",value:function(e,t,r){this.expectToken(e);for(var n=[];!this.expectOptionalToken(r);)n.push(t.call(this));return n}},{key:"optionalMany",value:function(e,t,r){if(this.expectOptionalToken(e)){var n=[];do{n.push(t.call(this))}while(!this.expectOptionalToken(r));return n}return[]}},{key:"many",value:function(e,t,r){this.expectToken(e);var n=[];do{n.push(t.call(this))}while(!this.expectOptionalToken(r));return n}},{key:"delimitedMany",value:function(e,t){this.expectOptionalToken(e);var r=[];do{r.push(t.call(this))}while(this.expectOptionalToken(e));return r}}]),e}();function getTokenDesc(e){var t=e.value;return getTokenKindDesc(e.kind)+(null!=t?' "'.concat(t,'"'):"")}function getTokenKindDesc(e){return isPunctuatorTokenKind(e)?'"'.concat(e,'"'):e}function l$1(e,t){return t.tag=e,t}function m(){}function p$1(e){return function(t){var r=e.length,n=!1,i=!1,a=!1,o=0;t(l$1(0,[function(s){if(s)n=!0;else if(i)a=!0;else{for(i=a=!0;a&&!n;)o<r?(s=e[o],o=o+1|0,a=!1,t(l$1(1,[s]))):(n=!0,t(0));i=!1}}]))}}function r(){}function t(e){e(0)}function C(e){return e(0)}function D(e){return function(t){return function(r){var n=m,i=!1,a=[],o=!1;t((function(t){"number"==typeof t?o||(o=!0,0===a.length&&r(0)):t.tag?o||(i=!1,function(e){function t(e){"number"==typeof e?0!==a.length&&(e=0===(a=a.filter(s)).length,o&&e?r(0):!i&&e&&(i=!0,n(0))):e.tag?0!==a.length&&(r(l$1(1,[e[0]])),u(0)):(u=e=e[0],a=a.concat(e),e(0))}function s(e){return e!==u}var u=m;1===e.length?e(t):e.bind(null,t)}(e(t[0])),i||(i=!0,n(0))):n=t[0]})),r(l$1(0,[function(e){e?(o||(o=!0,n(e)),a.forEach((function(t){return t(e)})),a=[]):(i||o?i=!1:(i=!0,n(0)),a.forEach(C))}]))}}}function E(e){return e}function H(e){return function(t){return function(r){var n=!1;return t((function(t){if("number"==typeof t)n||(n=!0,r(t));else if(t.tag)n||(e(t[0]),r(t));else{var i=t[0];r(l$1(0,[function(e){if(!n)return e&&(n=!0),i(e)}]))}}))}}}function J$1(e){e(0)}function K(e){return function(t){return function(r){function n(e){s&&("number"==typeof e?(s=!1,c?r(e):a||(a=!0,i(0))):e.tag?(r(e),u?u=!1:o(0)):(o=e=e[0],u=!1,e(0)))}var i=m,a=!1,o=m,s=!1,u=!1,c=!1;t((function(t){"number"==typeof t?c||(c=!0,s||r(0)):t.tag?c||(s&&(o(1),o=m),a?a=!1:(a=!0,i(0)),t=e(t[0]),s=!0,t(n)):i=t[0]})),r(l$1(0,[function(e){if(e){if(c||(c=!0,i(1)),s)return s=!1,o(1)}else c||a||(a=!0,i(0)),s&&!u&&(u=!0,o(0))}]))}}}function N(e){return function(t){var r=m,n=!1;return t((function(t){"number"==typeof t?n=!0:t.tag?n||(e(t[0]),r(0)):(r=t=t[0],t(0))})),{unsubscribe:function(){if(!n)return n=!0,r(1)}}}}function O(){}function filter$1(e){return function(t){return function(r){var n=m;return t((function(t){"number"==typeof t?r(t):t.tag?e(t[0])?r(t):n(0):(n=t[0],r(t))}))}}}function fromValue$1(e){return function(t){var r=!1;t(l$1(0,[function(n){n?r=!0:r||(r=!0,t(l$1(1,[e])),t(0))}]))}}function make$1(e){return function(t){var n=r,i=!1;n=e({next:function(e){i||t(l$1(1,[e]))},complete:function(){i||(i=!0,t(0))}}),t(l$1(0,[function(e){if(e&&!i)return i=!0,n()}]))}}function makeSubject$1(){var e=[],r=!1;return{source:function(t){function r(e){return e!==t}e=e.concat(t),t(l$1(0,[function(t){t&&(e=e.filter(r))}]))},next:function(t){r||e.forEach((function(e){e(l$1(1,[t]))}))},complete:function(){r||(r=!0,e.forEach(t))}}}function map$1(e){return function(t){return function(r){return t((function(t){t="number"==typeof t?0:t.tag?l$1(1,[e(t[0])]):l$1(0,[t[0]]),r(t)}))}}}function merge$1$1(e){return D(E)(p$1(e))}function onEnd$1(e){return function(t){return function(r){var n=!1;return t((function(t){if("number"==typeof t){if(n)return;return n=!0,r(t),e()}if(t.tag)n||r(t);else{var i=t[0];r(l$1(0,[function(t){if(!n)return t?(n=!0,i(t),e()):i(t)}]))}}))}}}function onStart$1(e){return function(t){return function(r){return t((function(t){"number"==typeof t||t.tag?r(t):(r(t),e())}))}}}function publish$1(e){return N(O)(e)}function share$1(e){function t(e){"number"==typeof e?(r.forEach(J$1),r=[]):e.tag?(i=!1,r.forEach((function(t){t(e)}))):n=e[0]}var r=[],n=m,i=!1;return function(a){function o(e){return e!==a}1===(r=r.concat(a)).length&&e(t),a(l$1(0,[function(e){if(e){if(0===(r=r.filter(o)).length)return n(1)}else i||(i=!0,n(e))}]))}}function take$1(e){return function(t){return function(r){var n=!1,i=0,a=m;t((function(t){"number"==typeof t?n||(n=!0,r(0)):t.tag?i<e&&!n&&(i=i+1|0,r(t),!n&&i>=e&&(n=!0,r(0),a(1))):(t=t[0],0>=e?(n=!0,r(0),t(1)):a=t)})),r(l$1(0,[function(t){if(!n){if(t)return n=!0,a(1);if(i<e)return a(0)}}]))}}}function takeUntil$1(e){return function(t){return function(r){function n(e){"number"!=typeof e&&(e.tag?(i=!0,a(1),r(0)):(o=e=e[0],e(0)))}var i=!1,a=m,o=m;t((function(t){"number"==typeof t?i||(i=!0,o(1),r(0)):t.tag?i||r(t):(a=t[0],e(n))})),r(l$1(0,[function(e){if(!i)return e?(i=!0,a(1),o(1)):a(0)}]))}}}function rehydrateGraphQlError(e){return"string"==typeof e?new GraphQLError(e):"object"==_typeof(e)&&e.message?new GraphQLError(e.message,e.nodes,e.source,e.positions,e.path,e,e.extensions||{}):e}"function"!=typeof Symbol||Symbol.observable||(Symbol.observable=Symbol("observable"));var o=function(e){function t(t){var r,n,i,a=t.networkError,o=t.response,s=(t.graphQLErrors||[]).map(rehydrateGraphQlError),u=(n=s,i="",void 0!==(r=a)?i="[Network] "+r.message:(void 0!==n&&n.forEach((function(e){i+="[GraphQL] "+e.message+"\n"})),i.trim()));e.call(this,u),this.name="CombinedError",this.message=u,this.graphQLErrors=s,this.networkError=a,this.response=o}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.toString=function(){return this.message},t}(Error);function phash(e,t){e|=0;for(var r=0,n=0|t.length;r<n;r++)e=(e<<5)+e+t.charCodeAt(r);return e}function hash(e){return phash(5381,e)>>>0}var i$1=new Set,s=new WeakMap;function stringify(e){if(null===e||i$1.has(e))return"null";if("object"!=_typeof(e))return JSON.stringify(e)||"";if(e.toJSON)return stringify(e.toJSON());if(Array.isArray(e)){for(var t="[",r=0,n=e.length;r<n;r++){r>0&&(t+=",");var i=stringify(e[r]);t+=i.length>0?i:"null"}return t+"]"}var a=Object.keys(e).sort();if(!a.length&&e.constructor&&e.constructor!==Object){var o=s.get(e)||Math.random().toString(36).slice(2);return s.set(e,o),'{"__key":"'+o+'"}'}i$1.add(e);for(var u="{",c=0,l=a.length;c<l;c++){var f=a[c],p=stringify(e[f]);p&&(u.length>1&&(u+=","),u+=stringify(f)+":"+p)}return i$1.delete(e),u+"}"}function stringifyVariables(e){return i$1.clear(),stringify(e)}var u=/("{3}[\s\S]*"{3}|"(?:\\.|[^"])*")/g,f=/([\s,]|#[^\n\r]+)+/g;function replaceOutsideStrings(e,t){return t%2==0?e.replace(f," ").trim():e}function stringifyDocument(e){var t=("string"!=typeof e?e.loc&&e.loc.source.body||print(e):e).split(u).map(replaceOutsideStrings).join("");if("string"!=typeof e){var r="definitions"in e&&getOperationName(e);r&&(t="# "+r+"\n"+t),e.loc||(e.loc={start:0,end:t.length,source:{body:t,name:"gql",locationOffset:{line:1,column:1}}})}return t}var c=new Map;function keyDocument(e){var t,r;return"string"==typeof e?(t=hash(stringifyDocument(e)),r=c.get(t)||parse(e,{noLocation:!0})):(t=e.__key||hash(stringifyDocument(e)),r=c.get(t)||e),r.loc||stringifyDocument(r),r.__key=t,c.set(t,r),r}function createRequest(e,t){t||(t={});var r=keyDocument(e);return{key:phash(r.__key,stringifyVariables(t))>>>0,query:r,variables:t}}function getOperationName(e){for(var t=0,r=e.definitions.length;t<r;t++){var n=e.definitions[t];if(n.kind===Kind.OPERATION_DEFINITION&&n.name)return n.name.value}}function getOperationType(e){for(var t=0,r=e.definitions.length;t<r;t++){var n=e.definitions[t];if(n.kind===Kind.OPERATION_DEFINITION)return n.operation}}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function makeResult(e,t,r){if(!("data"in t)&&!("errors"in t)||"path"in t)throw new Error("No Content");return{operation:e,data:t.data,error:Array.isArray(t.errors)?new o({graphQLErrors:t.errors,response:r}):void 0,extensions:"object"==_typeof(t.extensions)&&t.extensions||void 0,hasNext:!!t.hasNext}}function mergeResultPatch(e,t,r){var n=_extends({},e);if(n.hasNext=!!t.hasNext,!("path"in t))return"data"in t&&(n.data=t.data),n;Array.isArray(t.errors)&&(n.error=new o({graphQLErrors:n.error?n.error.graphQLErrors.concat(t.errors):t.errors,response:r}));for(var i,a=n.data=_extends({},n.data),s=0;s<t.path.length;)a=a[i=t.path[s++]]=Array.isArray(a[i])?[].concat(a[i]):_extends({},a[i]);return _extends(a,t.data),n}function makeErrorResult(e,t,r){return{operation:e,data:void 0,error:new o({networkError:t,response:r}),extensions:void 0}}function shouldUseGet(e){return"query"===e.kind&&!!e.context.preferGetMethod}function makeFetchBody(e){return{query:print(e.query),operationName:getOperationName(e.query),variables:e.variables||void 0,extensions:void 0}}function makeFetchURL(e,t){var r=shouldUseGet(e),n=e.context.url;if(!r||!t)return n;var i=[];t.operationName&&i.push("operationName="+encodeURIComponent(t.operationName)),t.query&&i.push("query="+encodeURIComponent(t.query.replace(/#[^\n\r]+/g," ").trim())),t.variables&&i.push("variables="+encodeURIComponent(stringifyVariables(t.variables))),t.extensions&&i.push("extensions="+encodeURIComponent(stringifyVariables(t.extensions)));var a=n+"?"+i.join("&");return a.length>2047?(e.context.preferGetMethod=!1,n):a}function makeFetchOptions(e,t){var r=shouldUseGet(e),n={accept:"application/graphql+json, application/json"};r||(n["content-type"]="application/json");var i=("function"==typeof e.context.fetchOptions?e.context.fetchOptions():e.context.fetchOptions)||{};if(i.headers)for(var a in i.headers)n[a.toLowerCase()]=i.headers[a];return _extends({},i,{body:!r&&t?JSON.stringify(t):void 0,method:r?"GET":"POST",headers:n})}var l="undefined"!=typeof Symbol?Symbol.asyncIterator:null,p="undefined"!=typeof TextDecoder?new TextDecoder:null,h=/content-type:[^\r\n]*application\/json/i,d=/boundary="?([^=";]+)"?/i;function makeFetchSource(e,t,r){var n="manual"===r.redirect?400:300,i=e.context.fetch;return make$1((function(a){var o=a.next,s=a.complete,u="undefined"!=typeof AbortController?new AbortController:null;u&&(r.signal=u.signal);var c,f=!1,m=!1,y=!1;return Promise.resolve().then((function(){if(!m)return(i||fetch)(t,r)})).then((function(t){if(t)return y=(c=t).status<200||c.status>=n,function(e,t,r){var n=r.headers&&r.headers.get("Content-Type")||"";if(/text\//i.test(n))return r.text().then((function(n){e(makeErrorResult(t,new Error(n),r))}));if(!/multipart\/mixed/i.test(n))return r.text().then((function(n){e(makeResult(t,JSON.parse(n),r))}));var i,a="---",o=n.match(d);o&&(a="--"+o[1]);var s=function(){};if(l&&r[l]){var u=r[l]();i=u.next.bind(u)}else{if(!("body"in r)||!r.body)throw new TypeError("Streaming requests unsupported");var c=r.body.getReader();s=c.cancel.bind(c),i=c.read.bind(c)}var m="",y=!0,v=null,g=null;return i().then((function n(o){if(o.done)f=!0;else{var s="Buffer"===(k=o.value).constructor.name?k.toString():p.decode(k),u=s.indexOf(a);for(u>-1?u+=m.length:u=m.indexOf(a),m+=s;u>-1;){var c=m.slice(0,u),l=m.slice(u+a.length);if(y)y=!1;else{var d=c.indexOf("\r\n\r\n")+4,b=c.slice(0,d),_=c.slice(d,c.lastIndexOf("\r\n")),w=void 0;if(h.test(b))try{w=JSON.parse(_),v=g=g?mergeResultPatch(g,w,r):makeResult(t,w,r)}catch(k){}if("--"===l.slice(0,2)||w&&!w.hasNext){if(!g)return e(makeResult(t,{},r));break}}u=(m=l).indexOf(a)}}var k;if(v&&(e(v),v=null),!o.done&&(!g||g.hasNext))return i().then(n)})).finally(s)}(o,e,c)})).then(s).catch((function(t){if(f)throw t;var r=makeErrorResult(e,y&&c.statusText?new Error(c.statusText):t,c);o(r),s()})),function(){m=!0,u&&u.abort()}}))}function collectTypes(e,t){if(Array.isArray(e))for(var r=0;r<e.length;r++)collectTypes(e[r],t);else if("object"==_typeof(e)&&null!==e)for(var n in e)"__typename"===n&&"string"==typeof e[n]?t[e[n]]=0:collectTypes(e[n],t);return t}function collectTypesFromResponse(e){return Object.keys(collectTypes(e,{}))}var formatNode=function(e){if(e.selectionSet&&!e.selectionSet.selections.some((function(e){return e.kind===Kind.FIELD&&"__typename"===e.name.value&&!e.alias})))return _extends({},e,{selectionSet:_extends({},e.selectionSet,{selections:e.selectionSet.selections.concat([{kind:Kind.FIELD,name:{kind:Kind.NAME,value:"__typename"}}])})})},F=new Map;function formatDocument(e){var t=keyDocument(e),r=F.get(t.__key);return r||(r=visit(t,{Field:formatNode,InlineFragment:formatNode}),Object.defineProperty(r,"__key",{value:t.__key,enumerable:!1}),F.set(t.__key,r)),r}function maskTypename(e){return e&&"object"==_typeof(e)?Object.keys(e).reduce((function(t,r){var n=e[r];return"__typename"===r?Object.defineProperty(t,"__typename",{enumerable:!1,value:n}):Array.isArray(n)?t[r]=n.map(maskTypename):n&&"object"==_typeof(n)&&"__typename"in n?t[r]=maskTypename(n):t[r]=n,t}),Array.isArray(e)?[]:{}):e}function withPromise(e){return e.toPromise=function(){return new Promise((function(t){var r=N((function(e){e.stale||e.hasNext||Promise.resolve().then((function(){r.unsubscribe(),t(e)}))}))(e)}))},e}function makeOperation(e,t,r){return r||(r=t.context),{key:t.key,query:t.query,variables:t.variables,kind:e,context:r}}function addMetadata(e,t){return makeOperation(e.kind,e,_extends({},e.context,{meta:_extends({},e.context.meta,t)}))}function noop$2(){}function shouldSkip(e){var t=e.kind;return"mutation"!==t&&"query"!==t}function cacheExchange(e){var t=e.forward,r=e.client;e.dispatchDebug;var n=new Map,i=Object.create(null);function a(e){var t=makeOperation(e.kind,e);return t.query=formatDocument(e.query),t}function o(e){var t=e.context.requestPolicy;return"query"===e.kind&&"network-only"!==t&&("cache-only"===t||n.has(e.key))}return function(e){var s=share$1(e),u=map$1((function(e){var t=n.get(e.key),i=_extends({},t,{operation:addMetadata(e,{cacheOutcome:t?"hit":"miss"})});return"cache-and-network"===e.context.requestPolicy&&(i.stale=!0,reexecuteOperation(r,e)),i}))(filter$1((function(e){return!shouldSkip(e)&&o(e)}))(s)),c=H((function(e){var t=e.operation;if(t){var a=collectTypesFromResponse(e.data).concat(t.context.additionalTypenames||[]);if("mutation"===e.operation.kind){for(var o=new Set,s=0;s<a.length;s++){var u=a[s],c=i[u]||(i[u]=new Set);c.forEach((function(e){o.add(e)})),c.clear()}o.forEach((function(e){n.has(e)&&(t=n.get(e).operation,n.delete(e),reexecuteOperation(r,t))}))}else if("query"===t.kind&&e.data){n.set(t.key,e);for(var l=0;l<a.length;l++){var f=a[l];(i[f]||(i[f]=new Set)).add(t.key)}}}}))(t(filter$1((function(e){return"query"!==e.kind||"cache-only"!==e.context.requestPolicy}))(map$1((function(e){return addMetadata(e,{cacheOutcome:"miss"})}))(merge$1$1([map$1(a)(filter$1((function(e){return!shouldSkip(e)&&!o(e)}))(s)),filter$1((function(e){return shouldSkip(e)}))(s)])))));return merge$1$1([u,c])}}function reexecuteOperation(e,t){return e.reexecuteOperation(makeOperation(t.kind,t,_extends({},t.context,{requestPolicy:"network-only"})))}function dedupExchange(e){var t=e.forward;e.dispatchDebug;var r=new Set;function n(e){var t=e.key,n=e.kind;if("teardown"===n)return r.delete(t),!0;if("query"!==n&&"subscription"!==n)return!0;var i=r.has(t);return r.add(t),!i}function i(e){e.hasNext||r.delete(e.operation.key)}return function(e){var r=filter$1(n)(e);return H(i)(t(r))}}function fetchExchange(e){var t=e.forward;return e.dispatchDebug,function(e){var r=share$1(e);return merge$1$1([D((function(e){var t=e.key,n=filter$1((function(e){return"teardown"===e.kind&&e.key===t}))(r),i=makeFetchBody(e),a=makeFetchURL(e,i),o=makeFetchOptions(e,i);return H((function(e){e.data||e.error}))(takeUntil$1(n)(makeFetchSource(e,a,o)))}))(filter$1((function(e){return"query"===e.kind||"mutation"===e.kind}))(r)),t(filter$1((function(e){return"query"!==e.kind&&"mutation"!==e.kind}))(r))])}}function fallbackExchange(e){return e.dispatchDebug,function(e){return filter$1((function(){return!1}))(H((function(e){e.kind}))(e))}}function composeExchanges(e){return function(t){var r=t.client;return t.dispatchDebug,e.reduceRight((function(e,t){return t({client:r,forward:e,dispatchDebug:function(e){}})}),t.forward)}}fallbackExchange({dispatchDebug:noop$2});var L=[dedupExchange,cacheExchange,fetchExchange],J=function e(t){var r=new Map,n=new Map,i=[],a=makeSubject$1(),o=a.source,s=a.next,u=!1;function c(e){for(u=!0,e&&s(e);e=i.shift();)s(e);u=!1}function l(e){var t=filter$1((function(t){return t.operation.kind===e.kind&&t.operation.key===e.key&&(!t.operation.context._instance||t.operation.context._instance===e.context._instance)}))(d);return f.maskTypename&&(t=map$1((function(e){return _extends({},e,{data:maskTypename(e.data)})}))(t)),"mutation"===e.kind?take$1(1)(onStart$1((function(){return c(e)}))(t)):share$1(onEnd$1((function(){r.delete(e.key),n.delete(e.key);for(var t=i.length-1;t>=0;t--)i[t].key===e.key&&i.splice(t,1);c(makeOperation("teardown",e,e.context))}))(H((function(t){r.set(e.key,t)}))(K((function(t){return"query"!==e.kind||t.stale?fromValue$1(t):merge$1$1([fromValue$1(t),map$1((function(){return _extends({},t,{stale:!0})}))(take$1(1)(filter$1((function(t){return"query"===t.kind&&t.key===e.key&&"cache-only"!==t.context.requestPolicy}))(o)))])}))(takeUntil$1(filter$1((function(t){return"teardown"===t.kind&&t.key===e.key}))(o))(t)))))}var f=_extends(this instanceof e?this:Object.create(e.prototype),{url:t.url,fetchOptions:t.fetchOptions,fetch:t.fetch,suspense:!!t.suspense,requestPolicy:t.requestPolicy||"cache-first",preferGetMethod:!!t.preferGetMethod,maskTypename:!!t.maskTypename,operations$:o,reexecuteOperation:function(e){("mutation"===e.kind||n.has(e.key))&&(i.push(e),u||Promise.resolve().then(c))},createOperationContext:function(e){return e||(e={}),_extends({},{_instance:void 0,url:f.url,fetchOptions:f.fetchOptions,fetch:f.fetch,preferGetMethod:f.preferGetMethod},e,{suspense:e.suspense||!1!==e.suspense&&f.suspense,requestPolicy:e.requestPolicy||f.requestPolicy})},createRequestOperation:function(e,t,r){getOperationType(t.query);var n=f.createOperationContext(r);return"mutation"===e&&(n._instance=[]),makeOperation(e,t,n)},executeRequestOperation:function(e){return"mutation"===e.kind?l(e):make$1((function(t){var i=n.get(e.key);i||n.set(e.key,i=l(e));var a="cache-and-network"===e.context.requestPolicy||"network-only"===e.context.requestPolicy;return N(t.next)(onEnd$1(t.complete)(onStart$1((function(){var n=r.get(e.key);if("subscription"===e.kind)return c(e);a&&c(e),null!=n&&n===r.get(e.key)?t.next(a?_extends({},n,{stale:!0}):n):a||c(e)}))(i))).unsubscribe}))},executeQuery:function(e,t){var r=f.createRequestOperation("query",e,t);return f.executeRequestOperation(r)},executeSubscription:function(e,t){var r=f.createRequestOperation("subscription",e,t);return f.executeRequestOperation(r)},executeMutation:function(e,t){var r=f.createRequestOperation("mutation",e,t);return f.executeRequestOperation(r)},query:function(e,t,r){return r&&"boolean"==typeof r.suspense||(r=_extends({},r,{suspense:!1})),withPromise(f.executeQuery(createRequest(e,t),r))},readQuery:function(e,t,r){var n=null;return N((function(e){n=e}))(f.query(e,t,r)).unsubscribe(),n},subscription:function(e,t,r){return f.executeSubscription(createRequest(e,t),r)},mutation:function(e,t,r){return withPromise(f.executeMutation(createRequest(e,t),r))}}),p=noop$2,d=share$1(composeExchanges(void 0!==t.exchanges?t.exchanges:L)({client:f,dispatchDebug:p,forward:fallbackExchange({dispatchDebug:p})})(o));return publish$1(d),f},W=J,ENS=function(e){_inherits(i,e);var t,r,n=_createSuper(i);function i(e){return _classCallCheck(this,i),n.call(this,e)}return _createClass(i,[{key:"init",value:(r=_asyncToGenerator(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.ethersProvider=new InfuraProvider("homestead",this.main.options.infuraProjectID),this.urqlClient=W({url:"https://api.thegraph.com/subgraphs/name/ensdomains/ens",maskTypename:!1}),this.inited=!0;case 3:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"get",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,s=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.inited){e.next=3;break}return e.next=3,this.init();case 3:return e.next=5,this.urqlClient.query('\n                query getRegistrations($identity: ID!, $limit: Int, $cursor: Int) {\n                    account(id: $identity) {\n                    domains(orderBy: createdAt, orderDirection: "desc", skip: $cursor, first: $limit) {\n                        id\n                        name\n                        createdAt\n                        labelhash\n                        resolver {\n                            texts\n                            id\n                                address\n                            }\n                        }\n                    }\n                }',{identity:t.identity.toLowerCase(),cursor:t.cursor||0,limit:t.limit}).toPromise();case 5:return a=e.sent,e.next=8,Promise.all(null==(i=null==(n=null==(r=null==a?void 0:a.data)?void 0:r.account)?void 0:n.domains)?void 0:i.map(function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={date_created:new Date(+t.createdAt).toISOString(),name:t.name,username:t.name,source:"ENS",metadata:{network:"Ethereum",proof:t.name}},e.next=3,s.ethersProvider.getResolver(t.name);case 3:if(!(i=e.sent)){e.next=8;break}return a=(null==(r=t.resolver)?void 0:r.texts)||[],e.next=8,Promise.all(a.map(function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="avatar"===e.t0?3:"description"===e.t0?8:"url"===e.t0?12:17;break;case 3:return e.next=5,i.getText(t);case 5:return e.t1=e.sent,n.avatars=[e.t1],e.abrupt("break",28);case 8:return e.next=10,i.getText(t);case 10:return n.bio=e.sent,e.abrupt("break",28);case 12:return e.next=14,i.getText(t);case 14:return e.t2=e.sent,n.websites=[e.t2],e.abrupt("break",28);case 17:if(2!==(r=t.split(".")).length||"com"!==r[0]&&"org"!==r[0]){e.next=27;break}return n.connected_accounts||(n.connected_accounts=[]),e.t3=n.connected_accounts,e.next=23,i.getText(t);case 23:e.t4=e.sent,e.t5=r[1],e.t6={identity:e.t4,platform:e.t5},e.t3.push.call(e.t3,e.t6);case 27:return e.abrupt("break",28);case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:if(e.t0=e.sent,e.t0){e.next=11;break}e.t0=[];case 11:return o=e.t0,e.abrupt("return",__spreadProps(__spreadValues({total:o.length},t.limit&&o.length>=t.limit&&{cursor:t.limit+(t.cursor||0)}),{list:o}));case 13:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),i}(Base$3);function getIterator(e){if("function"==typeof e.next)return e;if("function"==typeof e[Symbol.iterator])return e[Symbol.iterator]();if("function"==typeof e[Symbol.asyncIterator])return e[Symbol.asyncIterator]();throw new TypeError('"values" does not to conform to any of the iterator or iterable protocols')}function defer(){var e,t;return{promise:new Promise((function(r,n){t=r,e=n})),reject:e,resolve:t}}function _transform(e,t,r){var n=getIterator(r),i=[],a=[],o=!1,s=!1,u=0,c=null;function l(){for(;a.length>0&&i.length>0;)(0,a.shift().resolve)({done:!1,value:i.shift()});for(;a.length>0&&0===u&&o;){var e=a.shift(),t=e.resolve,r=e.reject;c?(r(c),c=null):t({done:!0,value:void 0})}}function f(){return p.apply(this,arguments)}function p(){return(p=_asyncToGenerator(regeneratorRuntime.mark((function t(){var r,a,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!o){t.next=3;break}return l(),t.abrupt("return");case 3:if(!s){t.next=5;break}return t.abrupt("return");case 5:if(!(u+i.length>=e)){t.next=7;break}return t.abrupt("return");case 7:return s=!0,u++,t.prev=9,t.next=12,n.next();case 12:r=t.sent,a=r.done,p=r.value,a?(o=!0,u--,l()):d(p),t.next=24;break;case 18:t.prev=18,t.t0=t.catch(9),o=!0,u--,c=t.t0,l();case 24:s=!1,f();case 26:case"end":return t.stop()}}),t,null,[[9,18]])})))).apply(this,arguments)}function d(e){return h.apply(this,arguments)}function h(){return(h=_asyncToGenerator(regeneratorRuntime.mark((function e(r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t(r);case 3:n=e.sent,i.push(n),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),o=!0,c=e.t0;case 11:u--,l(),f();case 14:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function m(){return(m=_asyncToGenerator(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==i.length){e.next=5;break}return t=defer(),a.push(t),f(),e.abrupt("return",t.promise);case 5:return r=i.shift(),f(),e.abrupt("return",{done:!1,value:r});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=_defineProperty({next:function(){return m.apply(this,arguments)}},Symbol.asyncIterator,(function(){return y}));return y}function transform(e,t,r){return void 0===t?function(t,r){return r?transform(e,t,r):transform(e,t)}:void 0===r?function(r){return transform(e,t,r)}:_transform(e,t,r)}var pRetry$2={exports:{}},retry$2={};function RetryOperation(e,t){"boolean"==typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var retry_operation=RetryOperation;RetryOperation.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},RetryOperation.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},RetryOperation.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=(new Date).getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var r=this._timeouts.shift();if(void 0===r){if(!this._cachedTimeouts)return!1;this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1)}var n=this;return this._timer=setTimeout((function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout((function(){n._operationTimeoutCb(n._attempts)}),n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)}),r),this._options.unref&&this._timer.unref(),!0},RetryOperation.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout((function(){r._operationTimeoutCb()}),r._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},RetryOperation.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},RetryOperation.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},RetryOperation.prototype.start=RetryOperation.prototype.try,RetryOperation.prototype.errors=function(){return this._errors},RetryOperation.prototype.attempts=function(){return this._attempts},RetryOperation.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,r=0,n=0;n<this._errors.length;n++){var i=this._errors[n],a=i.message,o=(e[a]||0)+1;e[a]=o,o>=r&&(t=i,r=o)}return t},function(e){var t=retry_operation;e.operation=function(r){var n=e.timeouts(r);return new t(n,{forever:r&&(r.forever||r.retries===1/0),unref:r&&r.unref,maxRetryTime:r&&r.maxRetryTime})},e.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var r in e)t[r]=e[r];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var n=[],i=0;i<t.retries;i++)n.push(this.createTimeout(i,t));return e&&e.forever&&!n.length&&n.push(this.createTimeout(i,t)),n.sort((function(e,t){return e-t})),n},e.createTimeout=function(e,t){var r=t.randomize?Math.random()+1:1,n=Math.round(r*Math.max(t.minTimeout,1)*Math.pow(t.factor,e));return Math.min(n,t.maxTimeout)},e.wrap=function(t,r,n){if(r instanceof Array&&(n=r,r=null),!n)for(var i in n=[],t)"function"==typeof t[i]&&n.push(i);for(var a=0;a<n.length;a++){var o=n[a],s=t[o];t[o]=function(n){var i=e.operation(r),a=Array.prototype.slice.call(arguments,1),o=a.pop();a.push((function(e){i.retry(e)||(e&&(arguments[0]=i.mainError()),o.apply(this,arguments))})),i.attempt((function(){n.apply(t,a)}))}.bind(t,s),t[o].options=r}}}(retry$2);var retry$1=retry$2,retry=retry$1,networkErrorMsgs=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"],AbortError=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){var n;return _classCallCheck(this,r),n=t.call(this),e instanceof Error?(n.originalError=e,e=e.message):(n.originalError=new Error(e),n.originalError.stack=n.stack),n.name="AbortError",n.message=e,n}return r}(_wrapNativeSuper(Error)),decorateErrorWithCounts=function(e,t,r){var n=r.retries-(t-1);return e.attemptNumber=t,e.retriesLeft=n,e},isNetworkError=function(e){return networkErrorMsgs.includes(e)},pRetry=function(e,t){return new Promise((function(r,n){t=__spreadValues({onFailedAttempt:function(){},retries:10},t);var i=retry.operation(t);i.attempt(function(){var a=_asyncToGenerator(regeneratorRuntime.mark((function a(o){return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.t0=r,a.next=4,e(o);case 4:a.t1=a.sent,(0,a.t0)(a.t1),a.next=34;break;case 8:if(a.prev=8,a.t2=a.catch(0),a.t2 instanceof Error){a.next=13;break}return n(new TypeError('Non-error was thrown: "'.concat(a.t2,'". You should only throw errors.'))),a.abrupt("return");case 13:if(!(a.t2 instanceof AbortError)){a.next=18;break}i.stop(),n(a.t2.originalError),a.next=34;break;case 18:if(!(a.t2 instanceof TypeError)||isNetworkError(a.t2.message)){a.next=23;break}i.stop(),n(a.t2),a.next=34;break;case 23:return decorateErrorWithCounts(a.t2,o,t),a.prev=24,a.next=27,t.onFailedAttempt(a.t2);case 27:a.next=33;break;case 29:return a.prev=29,a.t3=a.catch(24),n(a.t3),a.abrupt("return");case 33:i.retry(a.t2)||n(i.mainError());case 34:case"end":return a.stop()}}),a,null,[[0,8],[24,29]])})));return function(e){return a.apply(this,arguments)}}())}))};pRetry$2.exports=pRetry,pRetry$2.exports.default=pRetry,pRetry$2.exports.AbortError=AbortError;var pRetry$1=pRetry$2.exports,last=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=!0,i=!1,e.prev=2,o=_asyncIterator(t);case 4:return e.next=6,o.next();case 6:return s=e.sent,n=s.done,e.next=10,s.value;case 10:if(u=e.sent,n){e.next=17;break}r=u;case 14:n=!0,e.next=4;break;case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(2),i=!0,a=e.t0;case 23:if(e.prev=23,e.prev=24,n||null==o.return){e.next=28;break}return e.next=28,o.return();case 28:if(e.prev=28,!i){e.next=31;break}throw a;case 31:return e.finish(28);case 32:return e.finish(23);case 33:return e.abrupt("return",r);case 34:case"end":return e.stop()}}),e,null,[[2,19,23,33],[24,,28,32]])})));return function(t){return e.apply(this,arguments)}}(),itLast=last,itPipe={exports:{}},rawPipe=function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];for(;r.length;)e=r.shift()(e);return e},isIterable$1=function(e){return e&&("function"==typeof e[Symbol.asyncIterator]||"function"==typeof e[Symbol.iterator]||"function"==typeof e.next)},isDuplex=function(e){return e&&"function"==typeof e.sink&&isIterable$1(e.source)},duplexPipelineFn=function(e){return function(t){return e.sink(t),e.source}},pipe=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(isDuplex(t[0])){var n=t[0];t[0]=function(){return n.source}}else if(isIterable$1(t[0])){var i=t[0];t[0]=function(){return i}}if(t.length>1&&isDuplex(t[t.length-1])&&(t[t.length-1]=t[t.length-1].sink),t.length>2)for(var a=1;a<t.length-1;a++)isDuplex(t[a])&&(t[a]=duplexPipelineFn(t[a]));return rawPipe.apply(void 0,t)};itPipe.exports=pipe,itPipe.exports.pipe=pipe,itPipe.exports.rawPipe=rawPipe,itPipe.exports.isIterable=isIterable$1,itPipe.exports.isDuplex=isDuplex;var pipe$1=itPipe.exports,encode_1$1=encode$9,MSB$3=128,REST$3=127,MSBALL$1=~REST$3,INT$1=Math.pow(2,31);function encode$9(e,t,r){if(Number.MAX_SAFE_INTEGER&&e>Number.MAX_SAFE_INTEGER)throw encode$9.bytes=0,new RangeError("Could not encode varint");t=t||[];for(var n=r=r||0;e>=INT$1;)t[r++]=255&e|MSB$3,e/=128;for(;e&MSBALL$1;)t[r++]=255&e|MSB$3,e>>>=7;return t[r]=0|e,encode$9.bytes=r-n+1,t}var decode$9=read$1,MSB$2=128,REST$2=127;function read$1(e,t){var r,n=0,i=0,a=t=t||0,o=e.length;do{if(a>=o||i>49)throw read$1.bytes=0,new RangeError("Could not decode varint");r=e[a++],n+=i<28?(r&REST$2)<<i:(r&REST$2)*Math.pow(2,i),i+=7}while(r>=MSB$2);return read$1.bytes=a-t,n}var N1$1=Math.pow(2,7),N2$1=Math.pow(2,14),N3$1=Math.pow(2,21),N4$1=Math.pow(2,28),N5$1=Math.pow(2,35),N6$1=Math.pow(2,42),N7$1=Math.pow(2,49),N8$1=Math.pow(2,56),N9$1=Math.pow(2,63),length$1=function(e){return e<N1$1?1:e<N2$1?2:e<N3$1?3:e<N4$1?4:e<N5$1?5:e<N6$1?6:e<N7$1?7:e<N8$1?8:e<N9$1?9:10},varint$1={encode:encode_1$1,decode:decode$9,encodingLength:length$1},encode_1=encode$8,MSB=128,REST=127,MSBALL=~REST,INT=Math.pow(2,31);function encode$8(e,t,r){t=t||[];for(var n=r=r||0;e>=INT;)t[r++]=255&e|MSB,e/=128;for(;e&MSBALL;)t[r++]=255&e|MSB,e>>>=7;return t[r]=0|e,encode$8.bytes=r-n+1,t}var decode$8=read,MSB$1=128,REST$1=127;function read(e,t){var r,n=0,i=0,a=t=t||0,o=e.length;do{if(a>=o)throw read.bytes=0,new RangeError("Could not decode varint");r=e[a++],n+=i<28?(r&REST$1)<<i:(r&REST$1)*Math.pow(2,i),i+=7}while(r>=MSB$1);return read.bytes=a-t,n}var N1=Math.pow(2,7),N2=Math.pow(2,14),N3=Math.pow(2,21),N4=Math.pow(2,28),N5=Math.pow(2,35),N6=Math.pow(2,42),N7=Math.pow(2,49),N8=Math.pow(2,56),N9=Math.pow(2,63),length=function(e){return e<N1?1:e<N2?2:e<N3?3:e<N4?4:e<N5?5:e<N6?6:e<N7?7:e<N8?8:e<N9?9:10},varint={encode:encode_1,decode:decode$8,encodingLength:length},_brrp_varint=varint,decode$7=function(e){return[_brrp_varint.decode(e),_brrp_varint.decode.bytes]},encodeTo=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _brrp_varint.encode(e,t,r),t},encodingLength=function(e){return _brrp_varint.encodingLength(e)},empty=new Uint8Array(0),fromHex=function(e){var t=e.match(/../g);return t?new Uint8Array(t.map((function(e){return parseInt(e,16)}))):empty},equals$2=function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(var r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},coerce=function(e){if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},fromString$3=function(e){return(new TextEncoder).encode(e)},toString$2=function(e){return(new TextDecoder).decode(e)},create$4=function(e,t){var r=t.byteLength,n=encodingLength(e),i=n+encodingLength(r),a=new Uint8Array(i+r);return encodeTo(e,a,0),encodeTo(r,a,n),a.set(t,i),new Digest(e,r,t,a)},decode$6=function(e){var t=coerce(e),r=_slicedToArray(decode$7(t),2),n=r[0],i=r[1],a=_slicedToArray(decode$7(t.subarray(i)),2),o=a[0],s=a[1],u=t.subarray(i+s);if(u.byteLength!==o)throw new Error("Incorrect length");return new Digest(n,o,u,t)},equals$1=function(e,t){return e===t||e.code===t.code&&e.size===t.size&&equals$2(e.bytes,t.bytes)},Digest=function e(t,r,n,i){_classCallCheck(this,e),this.code=t,this.size=r,this.digest=n,this.bytes=i};function base(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var a=e.charAt(i),o=a.charCodeAt(0);if(255!==r[o])throw new TypeError(a+" is ambiguous");r[o]=i}var s=e.length,u=e.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function f(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,i=0;e[t]===u;)n++,t++;for(var a=(e.length-t)*c+1>>>0,o=new Uint8Array(a);e[t];){var l=r[e.charCodeAt(t)];if(255===l)return;for(var f=0,p=a-1;(0!==l||f<i)&&-1!==p;p--,f++)l+=s*o[p]>>>0,o[p]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=f,t++}if(" "!==e[t]){for(var d=a-i;d!==a&&0===o[d];)d++;for(var h=new Uint8Array(n+(a-d)),m=n;d!==a;)h[m++]=o[d++];return h}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,a=t.length;i!==a&&0===t[i];)i++,r++;for(var o=(a-i)*l+1>>>0,c=new Uint8Array(o);i!==a;){for(var f=t[i],p=0,d=o-1;(0!==f||p<n)&&-1!==d;d--,p++)f+=256*c[d]>>>0,c[d]=f%s>>>0,f=f/s>>>0;if(0!==f)throw new Error("Non-zero carry");n=p,i++}for(var h=o-n;h!==o&&0===c[h];)h++;for(var m=u.repeat(r);h<o;++h)m+=e.charAt(c[h]);return m},decodeUnsafe:f,decode:function(e){var r=f(e);if(r)return r;throw new Error("Non-".concat(t," character"))}}}var src$2=base,_brrp__multiformats_scope_baseX=src$2,Encoder=function(){function e(t,r,n){_classCallCheck(this,e),this.name=t,this.prefix=r,this.baseEncode=n}return _createClass(e,[{key:"encode",value:function(e){if(e instanceof Uint8Array)return"".concat(this.prefix).concat(this.baseEncode(e));throw Error("Unknown type, must be binary type")}}]),e}(),Decoder=function(){function e(t,r,n){_classCallCheck(this,e),this.name=t,this.prefix=r,this.baseDecode=n}return _createClass(e,[{key:"decode",value:function(e){if("string"!=typeof e)throw Error("Can only multibase decode strings");switch(e[0]){case this.prefix:return this.baseDecode(e.slice(1));default:throw Error("Unable to decode multibase string ".concat(JSON.stringify(e),", ").concat(this.name," decoder only supports inputs prefixed with ").concat(this.prefix))}}},{key:"or",value:function(e){return _or(this,e)}}]),e}(),ComposedDecoder=function(){function e(t){_classCallCheck(this,e),this.decoders=t}return _createClass(e,[{key:"or",value:function(e){return _or(this,e)}},{key:"decode",value:function(e){var t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError("Unable to decode multibase string ".concat(JSON.stringify(e),", only inputs prefixed with ").concat(Object.keys(this.decoders)," are supported"))}}]),e}(),_or=function(e,t){return new ComposedDecoder(__spreadValues(__spreadValues({},e.decoders||_defineProperty({},e.prefix,e)),t.decoders||_defineProperty({},t.prefix,t)))},Codec=function(){function e(t,r,n,i){_classCallCheck(this,e),this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new Encoder(t,r,n),this.decoder=new Decoder(t,r,i)}return _createClass(e,[{key:"encode",value:function(e){return this.encoder.encode(e)}},{key:"decode",value:function(e){return this.decoder.decode(e)}}]),e}(),from$1=function(e){var t=e.name,r=e.prefix,n=e.encode,i=e.decode;return new Codec(t,r,n,i)},baseX=function(e){var t=e.prefix,r=e.name,n=e.alphabet,i=_brrp__multiformats_scope_baseX(n,r),a=i.encode,o=i.decode;return from$1({prefix:t,name:r,encode:a,decode:function(e){return coerce(o(e))}})},decode$5=function(e,t,r,n){for(var i={},a=0;a<t.length;++a)i[t[a]]=a;for(var o=e.length;"="===e[o-1];)--o;for(var s=new Uint8Array(o*r/8|0),u=0,c=0,l=0,f=0;f<o;++f){var p=i[e[f]];if(void 0===p)throw new SyntaxError("Non-".concat(n," character"));c=c<<r|p,(u+=r)>=8&&(u-=8,s[l++]=255&c>>u)}if(u>=r||255&c<<8-u)throw new SyntaxError("Unexpected end of data");return s},encode$7=function(e,t,r){for(var n="="===t[t.length-1],i=(1<<r)-1,a="",o=0,s=0,u=0;u<e.length;++u)for(s=s<<8|e[u],o+=8;o>r;)a+=t[i&s>>(o-=r)];if(o&&(a+=t[i&s<<r-o]),n)for(;a.length*r&7;)a+="=";return a},rfc4648=function(e){var t=e.name,r=e.prefix,n=e.bitsPerChar,i=e.alphabet;return from$1({prefix:r,name:t,encode:function(e){return encode$7(e,i,n)},decode:function(e){return decode$5(e,i,n,t)}})},base58btc=baseX({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr=baseX({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),base58=Object.freeze(Object.defineProperty({__proto__:null,base58btc,base58flickr},Symbol.toStringTag,{value:"Module"})),base32=rfc4648({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper=rfc4648({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad=rfc4648({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper=rfc4648({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex=rfc4648({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper=rfc4648({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad=rfc4648({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper=rfc4648({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z=rfc4648({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),base32$1=Object.freeze(Object.defineProperty({__proto__:null,base32,base32upper,base32pad,base32padupper,base32hex,base32hexupper,base32hexpad,base32hexpadupper,base32z},Symbol.toStringTag,{value:"Module"})),CID=function(){function e(t,r,n,i){_classCallCheck(this,e),this.code=r,this.version=t,this.multihash=n,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:hidden,byteLength:hidden,code:readonly$1,version:readonly$1,multihash:readonly$1,bytes:readonly$1,_baseCache:hidden,asCID:hidden})}return _createClass(e,[{key:"toV0",value:function(){switch(this.version){case 0:return this;default:var t=this.code,r=this.multihash;if(t!==DAG_PB_CODE)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==SHA_256_CODE)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return e.createV0(r)}}},{key:"toV1",value:function(){switch(this.version){case 0:var t=this.multihash,r=t.code,n=t.digest,i=create$4(r,n);return e.createV1(this.code,i);case 1:return this;default:throw Error("Can not convert CID version ".concat(this.version," to version 0. This is a bug please report"))}}},{key:"equals",value:function(e){return e&&this.code===e.code&&this.version===e.version&&equals$1(this.multihash,e.multihash)}},{key:"toString",value:function(e){var t=this.bytes,r=this.version,n=this._baseCache;switch(r){case 0:return toStringV0(t,n,e||base58btc.encoder);default:return toStringV1(t,n,e||base32.encoder)}}},{key:"toJSON",value:function(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}},{key:Symbol.toStringTag,get:function(){return"CID"}},{key:Symbol.for("nodejs.util.inspect.custom"),value:function(){return"CID("+this.toString()+")"}},{key:"toBaseEncodedString",get:function(){throw new Error("Deprecated, use .toString()")}},{key:"codec",get:function(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}},{key:"buffer",get:function(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}},{key:"multibaseName",get:function(){throw new Error('"multibaseName" property is deprecated')}},{key:"prefix",get:function(){throw new Error('"prefix" property is deprecated')}}],[{key:"isCID",value:function(e){return deprecate(/^0\.0/,IS_CID_DEPRECATION),!(!e||!e[cidSymbol]&&e.asCID!==e)}},{key:"asCID",value:function(t){if(t instanceof e)return t;if(null!=t&&t.asCID===t){var r=t.version,n=t.code,i=t.multihash;return new e(r,n,i,t.bytes||encodeCID(r,n,i.bytes))}if(null!=t&&!0===t[cidSymbol]){var a=t.version,o=t.multihash,s=t.code,u=decode$6(o);return e.create(a,s,u)}return null}},{key:"create",value:function(t,r,n){if("number"!=typeof r)throw new Error("String codecs are no longer supported");switch(t){case 0:if(r!==DAG_PB_CODE)throw new Error("Version 0 CID must use dag-pb (code: ".concat(DAG_PB_CODE,") block encoding"));return new e(t,r,n,n.bytes);case 1:return new e(t,r,n,encodeCID(t,r,n.bytes));default:throw new Error("Invalid version")}}},{key:"createV0",value:function(t){return e.create(0,DAG_PB_CODE,t)}},{key:"createV1",value:function(t,r){return e.create(1,t,r)}},{key:"decode",value:function(t){var r=_slicedToArray(e.decodeFirst(t),2),n=r[0];if(r[1].length)throw new Error("Incorrect length");return n}},{key:"decodeFirst",value:function(t){var r=e.inspectBytes(t),n=r.size-r.multihashSize,i=coerce(t.subarray(n,n+r.multihashSize));if(i.byteLength!==r.multihashSize)throw new Error("Incorrect length");var a=i.subarray(r.multihashSize-r.digestSize),o=new Digest(r.multihashCode,r.digestSize,a,i);return[0===r.version?e.createV0(o):e.createV1(r.codec,o),t.subarray(r.size)]}},{key:"inspectBytes",value:function(e){var t=0,r=function(){var r=_slicedToArray(decode$7(e.subarray(t)),2),n=r[0],i=r[1];return t+=i,n},n=r(),i=DAG_PB_CODE;if(18===n?(n=0,t=0):1===n&&(i=r()),0!==n&&1!==n)throw new RangeError("Invalid CID version ".concat(n));var a=t,o=r(),s=r(),u=t+s;return{version:n,codec:i,multihashCode:o,digestSize:s,multihashSize:u-a,size:u}}},{key:"parse",value:function(t,r){var n=_slicedToArray(parseCIDtoBytes(t,r),2),i=n[0],a=n[1],o=e.decode(a);return o._baseCache.set(i,t),o}}]),e}(),parseCIDtoBytes=function(e,t){switch(e[0]){case"Q":var r=t||base58btc;return[base58btc.prefix,r.decode("".concat(base58btc.prefix).concat(e))];case base58btc.prefix:var n=t||base58btc;return[base58btc.prefix,n.decode(e)];case base32.prefix:var i=t||base32;return[base32.prefix,i.decode(e)];default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},toStringV0=function(e,t,r){var n=r.prefix;if(n!==base58btc.prefix)throw Error("Cannot string encode V0 in ".concat(r.name," encoding"));var i=t.get(n);if(null==i){var a=r.encode(e).slice(1);return t.set(n,a),a}return i},toStringV1=function(e,t,r){var n=r.prefix,i=t.get(n);if(null==i){var a=r.encode(e);return t.set(n,a),a}return i},DAG_PB_CODE=112,SHA_256_CODE=18,encodeCID=function(e,t,r){var n=encodingLength(e),i=n+encodingLength(t),a=new Uint8Array(i+r.byteLength);return encodeTo(e,a,0),encodeTo(t,a,n),a.set(r,i),a},cidSymbol=Symbol.for("@ipld/js-cid/CID"),readonly$1={writable:!1,configurable:!1,enumerable:!0},hidden={writable:!1,enumerable:!1,configurable:!1},version="0.0.0-dev",deprecate=function(e,t){if(!e.test(version))throw new Error(t);console.warn(t)},IS_CID_DEPRECATION="CID.isCID(v) is deprecated and will be removed in the next major release.\nFollowing code pattern:\n\nif (CID.isCID(value)) {\n  doSomethingWithCID(value)\n}\n\nIs replaced with:\n\nconst cid = CID.asCID(value)\nif (cid) {\n  // Make sure to use cid instead of value\n  doSomethingWithCID(cid)\n}\n",typeofs=["string","number","bigint","symbol"],objectTypeNames=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function is(e){if(null===e)return"null";if(void 0===e)return"undefined";if(!0===e||!1===e)return"boolean";var t=_typeof(e);return typeofs.includes(t)?t:"function"===t?"Function":Array.isArray(e)?"Array":isBuffer$2(e)?"Buffer":getObjectType(e)||"Object"}function isBuffer$2(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}function getObjectType(e){var t=Object.prototype.toString.call(e).slice(8,-1);if(objectTypeNames.includes(t))return t}var Type=function(){function e(t,r,n){_classCallCheck(this,e),this.major=t,this.majorEncoded=t<<5,this.name=r,this.terminal=n}return _createClass(e,[{key:"toString",value:function(){return"Type[".concat(this.major,"].").concat(this.name)}},{key:"compare",value:function(e){return this.major<e.major?-1:this.major>e.major?1:0}}]),e}();Type.uint=new Type(0,"uint",!0),Type.negint=new Type(1,"negint",!0),Type.bytes=new Type(2,"bytes",!0),Type.string=new Type(3,"string",!0),Type.array=new Type(4,"array",!1),Type.map=new Type(5,"map",!1),Type.tag=new Type(6,"tag",!1),Type.float=new Type(7,"float",!0),Type.false=new Type(7,"false",!0),Type.true=new Type(7,"true",!0),Type.null=new Type(7,"null",!0),Type.undefined=new Type(7,"undefined",!0),Type.break=new Type(7,"break",!0);var Token=function(){function e(t,r,n){_classCallCheck(this,e),this.type=t,this.value=r,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}return _createClass(e,[{key:"toString",value:function(){return"Token[".concat(this.type,"].").concat(this.value)}}]),e}(),useBuffer=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"==typeof globalThis.Buffer.isBuffer,textDecoder$1=new TextDecoder,textEncoder$2=new TextEncoder;function isBuffer$1(e){return useBuffer&&globalThis.Buffer.isBuffer(e)}function asU8A(e){return e instanceof Uint8Array?isBuffer$1(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}var toString$1=useBuffer?function(e,t,r){return r-t>64?globalThis.Buffer.from(e.subarray(t,r)).toString("utf8"):utf8Slice(e,t,r)}:function(e,t,r){return r-t>64?textDecoder$1.decode(e.subarray(t,r)):utf8Slice(e,t,r)},fromString$2=useBuffer?function(e){return e.length>64?globalThis.Buffer.from(e):utf8ToBytes(e)}:function(e){return e.length>64?textEncoder$2.encode(e):utf8ToBytes(e)},fromArray=function(e){return Uint8Array.from(e)},slice=useBuffer?function(e,t,r){return isBuffer$1(e)?new Uint8Array(e.subarray(t,r)):e.slice(t,r)}:function(e,t,r){return e.slice(t,r)},concat$2=useBuffer?function(e,t){return e=e.map((function(e){return e instanceof Uint8Array?e:globalThis.Buffer.from(e)})),asU8A(globalThis.Buffer.concat(e,t))}:function(e,t){var r,n=new Uint8Array(t),i=0,a=_createForOfIteratorHelper(e);try{for(a.s();!(r=a.n()).done;){var o=r.value;i+o.length>n.length&&(o=o.subarray(0,n.length-i)),n.set(o,i),i+=o.length}}catch(e){a.e(e)}finally{a.f()}return n},alloc=useBuffer?function(e){return globalThis.Buffer.allocUnsafe(e)}:function(e){return new Uint8Array(e)};function compare(e,t){if(isBuffer$1(e)&&isBuffer$1(t))return e.compare(t);for(var r=0;r<e.length;r++)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}function utf8ToBytes(e){for(var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=e.length,i=null,a=[],o=0;o<n;++o){if((t=e.charCodeAt(o))>55295&&t<57344){if(!i){if(t>56319){(r-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(r-=3)>-1&&a.push(239,191,189);continue}i=t;continue}if(t<56320){(r-=3)>-1&&a.push(239,191,189),i=t;continue}t=65536+(i-55296<<10|t-56320)}else i&&(r-=3)>-1&&a.push(239,191,189);if(i=null,t<128){if((r-=1)<0)break;a.push(t)}else if(t<2048){if((r-=2)<0)break;a.push(t>>6|192,63&t|128)}else if(t<65536){if((r-=3)<0)break;a.push(t>>12|224,t>>6&63|128,63&t|128)}else{if(!(t<1114112))throw new Error("Invalid code point");if((r-=4)<0)break;a.push(t>>18|240,t>>12&63|128,t>>6&63|128,63&t|128)}}return a}function utf8Slice(e,t,r){for(var n=[];t<r;){var i=e[t],a=null,o=i>239?4:i>223?3:i>191?2:1;if(t+o<=r){var s=void 0,u=void 0,c=void 0,l=void 0;switch(o){case 1:i<128&&(a=i);break;case 2:128==(192&(s=e[t+1]))&&(l=(31&i)<<6|63&s)>127&&(a=l);break;case 3:s=e[t+1],u=e[t+2],128==(192&s)&&128==(192&u)&&(l=(15&i)<<12|(63&s)<<6|63&u)>2047&&(l<55296||l>57343)&&(a=l);break;case 4:s=e[t+1],u=e[t+2],c=e[t+3],128==(192&s)&&128==(192&u)&&128==(192&c)&&(l=(15&i)<<18|(63&s)<<12|(63&u)<<6|63&c)>65535&&l<1114112&&(a=l)}}null===a?(a=65533,o=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),t+=o}return decodeCodePointsArray(n)}var MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(e){var t=e.length;if(t<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=MAX_ARGUMENTS_LENGTH));return r}var defaultChunkSize=256,Bl=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:defaultChunkSize;_classCallCheck(this,e),this.chunkSize=t,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}return _createClass(e,[{key:"reset",value:function(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}},{key:"push",value:function(e){var t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){var r=t.length-(this.maxCursor-this.cursor)-1;t.set(e,r)}else{if(t){var n=t.length-(this.maxCursor-this.cursor)-1;n<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,n),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=alloc(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,null===this._initReuseChunk&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}},{key:"toBytes",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(1===this.chunks.length){var r=this.chunks[0];t&&this.cursor>r.length/2?(e=this.cursor===r.length?r:r.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):e=slice(r,0,this.cursor)}else e=concat$2(this.chunks,this.cursor);return t&&this.reset(),e}}]),e}(),decodeErrPrefix="CBOR decode error:",encodeErrPrefix="CBOR encode error:";function assertEnoughData(e,t,r){if(e.length-t<r)throw new Error("".concat(decodeErrPrefix," not enough data for type"))}var uintBoundaries=[24,256,65536,4294967296,BigInt("18446744073709551616")];function readUint8(e,t,r){assertEnoughData(e,t,1);var n=e[t];if(!0===r.strict&&n<uintBoundaries[0])throw new Error("".concat(decodeErrPrefix," integer encoded in more bytes than necessary (strict decode)"));return n}function readUint16(e,t,r){assertEnoughData(e,t,2);var n=e[t]<<8|e[t+1];if(!0===r.strict&&n<uintBoundaries[1])throw new Error("".concat(decodeErrPrefix," integer encoded in more bytes than necessary (strict decode)"));return n}function readUint32(e,t,r){assertEnoughData(e,t,4);var n=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(!0===r.strict&&n<uintBoundaries[2])throw new Error("".concat(decodeErrPrefix," integer encoded in more bytes than necessary (strict decode)"));return n}function readUint64(e,t,r){assertEnoughData(e,t,8);var n=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],i=16777216*e[t+4]+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],a=(BigInt(n)<<BigInt(32))+BigInt(i);if(!0===r.strict&&a<uintBoundaries[3])throw new Error("".concat(decodeErrPrefix," integer encoded in more bytes than necessary (strict decode)"));if(a<=Number.MAX_SAFE_INTEGER)return Number(a);if(!0===r.allowBigInt)return a;throw new Error("".concat(decodeErrPrefix," integers outside of the safe integer range are not supported"))}function decodeUint8(e,t,r,n){return new Token(Type.uint,readUint8(e,t+1,n),2)}function decodeUint16(e,t,r,n){return new Token(Type.uint,readUint16(e,t+1,n),3)}function decodeUint32(e,t,r,n){return new Token(Type.uint,readUint32(e,t+1,n),5)}function decodeUint64(e,t,r,n){return new Token(Type.uint,readUint64(e,t+1,n),9)}function encodeUint(e,t){return encodeUintValue(e,0,t.value)}function encodeUintValue(e,t,r){if(r<uintBoundaries[0]){var n=Number(r);e.push([t|n])}else if(r<uintBoundaries[1]){var i=Number(r);e.push([24|t,i])}else if(r<uintBoundaries[2]){var a=Number(r);e.push([25|t,a>>>8,255&a])}else if(r<uintBoundaries[3]){var o=Number(r);e.push([26|t,o>>>24&255,o>>>16&255,o>>>8&255,255&o])}else{var s=BigInt(r);if(!(s<uintBoundaries[4]))throw new Error("".concat(decodeErrPrefix," encountered BigInt larger than allowable range"));var u=[27|t,0,0,0,0,0,0,0],c=Number(s&BigInt(4294967295)),l=Number(s>>BigInt(32)&BigInt(4294967295));u[8]=255&c,c>>=8,u[7]=255&c,c>>=8,u[6]=255&c,c>>=8,u[5]=255&c,u[4]=255&l,l>>=8,u[3]=255&l,l>>=8,u[2]=255&l,l>>=8,u[1]=255&l,e.push(u)}}function decodeNegint8(e,t,r,n){return new Token(Type.negint,-1-readUint8(e,t+1,n),2)}function decodeNegint16(e,t,r,n){return new Token(Type.negint,-1-readUint16(e,t+1,n),3)}function decodeNegint32(e,t,r,n){return new Token(Type.negint,-1-readUint32(e,t+1,n),5)}encodeUint.encodedSize=function(e){return encodeUintValue.encodedSize(e.value)},encodeUintValue.encodedSize=function(e){return e<uintBoundaries[0]?1:e<uintBoundaries[1]?2:e<uintBoundaries[2]?3:e<uintBoundaries[3]?5:9},encodeUint.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0};var neg1b=BigInt(-1),pos1b=BigInt(1);function decodeNegint64(e,t,r,n){var i=readUint64(e,t+1,n);if("bigint"!=typeof i){var a=-1-i;if(a>=Number.MIN_SAFE_INTEGER)return new Token(Type.negint,a,9)}if(!0!==n.allowBigInt)throw new Error("".concat(decodeErrPrefix," integers outside of the safe integer range are not supported"));return new Token(Type.negint,neg1b-BigInt(i),9)}function encodeNegint(e,t){var r=t.value,n="bigint"==typeof r?r*neg1b-pos1b:-1*r-1;encodeUintValue(e,t.type.majorEncoded,n)}function toToken$3(e,t,r,n){assertEnoughData(e,t,r+n);var i=slice(e,t+r,t+r+n);return new Token(Type.bytes,i,r+n)}function decodeBytesCompact(e,t,r,n){return toToken$3(e,t,1,r)}function decodeBytes8(e,t,r,n){return toToken$3(e,t,2,readUint8(e,t+1,n))}function decodeBytes16(e,t,r,n){return toToken$3(e,t,3,readUint16(e,t+1,n))}function decodeBytes32(e,t,r,n){return toToken$3(e,t,5,readUint32(e,t+1,n))}function decodeBytes64(e,t,r,n){var i=readUint64(e,t+1,n);if("bigint"==typeof i)throw new Error("".concat(decodeErrPrefix," 64-bit integer bytes lengths not supported"));return toToken$3(e,t,9,i)}function tokenBytes(e){return void 0===e.encodedBytes&&(e.encodedBytes=e.type===Type.string?fromString$2(e.value):e.value),e.encodedBytes}function encodeBytes(e,t){var r=tokenBytes(t);encodeUintValue(e,t.type.majorEncoded,r.length),e.push(r)}function compareBytes(e,t){return e.length<t.length?-1:e.length>t.length?1:compare(e,t)}function toToken$2(e,t,r,n,i){var a=r+n;assertEnoughData(e,t,a);var o=new Token(Type.string,toString$1(e,t+r,t+a),a);return!0===i.retainStringBytes&&(o.byteValue=slice(e,t+r,t+a)),o}function decodeStringCompact(e,t,r,n){return toToken$2(e,t,1,r,n)}function decodeString8(e,t,r,n){return toToken$2(e,t,2,readUint8(e,t+1,n),n)}function decodeString16(e,t,r,n){return toToken$2(e,t,3,readUint16(e,t+1,n),n)}function decodeString32(e,t,r,n){return toToken$2(e,t,5,readUint32(e,t+1,n),n)}function decodeString64(e,t,r,n){var i=readUint64(e,t+1,n);if("bigint"==typeof i)throw new Error("".concat(decodeErrPrefix," 64-bit integer string lengths not supported"));return toToken$2(e,t,9,i,n)}encodeNegint.encodedSize=function(e){var t=e.value,r="bigint"==typeof t?t*neg1b-pos1b:-1*t-1;return r<uintBoundaries[0]?1:r<uintBoundaries[1]?2:r<uintBoundaries[2]?3:r<uintBoundaries[3]?5:9},encodeNegint.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0},encodeBytes.encodedSize=function(e){var t=tokenBytes(e);return encodeUintValue.encodedSize(t.length)+t.length},encodeBytes.compareTokens=function(e,t){return compareBytes(tokenBytes(e),tokenBytes(t))};var encodeString=encodeBytes;function toToken$1(e,t,r,n){return new Token(Type.array,n,r)}function decodeArrayCompact(e,t,r,n){return toToken$1(e,t,1,r)}function decodeArray8(e,t,r,n){return toToken$1(e,t,2,readUint8(e,t+1,n))}function decodeArray16(e,t,r,n){return toToken$1(e,t,3,readUint16(e,t+1,n))}function decodeArray32(e,t,r,n){return toToken$1(e,t,5,readUint32(e,t+1,n))}function decodeArray64(e,t,r,n){var i=readUint64(e,t+1,n);if("bigint"==typeof i)throw new Error("".concat(decodeErrPrefix," 64-bit integer array lengths not supported"));return toToken$1(e,t,9,i)}function decodeArrayIndefinite(e,t,r,n){if(!1===n.allowIndefinite)throw new Error("".concat(decodeErrPrefix," indefinite length items not allowed"));return toToken$1(e,t,1,1/0)}function encodeArray(e,t){encodeUintValue(e,Type.array.majorEncoded,t.value)}function toToken(e,t,r,n){return new Token(Type.map,n,r)}function decodeMapCompact(e,t,r,n){return toToken(e,t,1,r)}function decodeMap8(e,t,r,n){return toToken(e,t,2,readUint8(e,t+1,n))}function decodeMap16(e,t,r,n){return toToken(e,t,3,readUint16(e,t+1,n))}function decodeMap32(e,t,r,n){return toToken(e,t,5,readUint32(e,t+1,n))}function decodeMap64(e,t,r,n){var i=readUint64(e,t+1,n);if("bigint"==typeof i)throw new Error("".concat(decodeErrPrefix," 64-bit integer map lengths not supported"));return toToken(e,t,9,i)}function decodeMapIndefinite(e,t,r,n){if(!1===n.allowIndefinite)throw new Error("".concat(decodeErrPrefix," indefinite length items not allowed"));return toToken(e,t,1,1/0)}function encodeMap(e,t){encodeUintValue(e,Type.map.majorEncoded,t.value)}function decodeTagCompact(e,t,r,n){return new Token(Type.tag,r,1)}function decodeTag8(e,t,r,n){return new Token(Type.tag,readUint8(e,t+1,n),2)}function decodeTag16(e,t,r,n){return new Token(Type.tag,readUint16(e,t+1,n),3)}function decodeTag32(e,t,r,n){return new Token(Type.tag,readUint32(e,t+1,n),5)}function decodeTag64(e,t,r,n){return new Token(Type.tag,readUint64(e,t+1,n),9)}function encodeTag(e,t){encodeUintValue(e,Type.tag.majorEncoded,t.value)}encodeArray.compareTokens=encodeUint.compareTokens,encodeArray.encodedSize=function(e){return encodeUintValue.encodedSize(e.value)},encodeMap.compareTokens=encodeUint.compareTokens,encodeMap.encodedSize=function(e){return encodeUintValue.encodedSize(e.value)},encodeTag.compareTokens=encodeUint.compareTokens,encodeTag.encodedSize=function(e){return encodeUintValue.encodedSize(e.value)};var MINOR_FALSE=20,MINOR_TRUE=21,MINOR_NULL=22,MINOR_UNDEFINED=23;function decodeUndefined(e,t,r,n){if(!1===n.allowUndefined)throw new Error("".concat(decodeErrPrefix," undefined values are not supported"));return!0===n.coerceUndefinedToNull?new Token(Type.null,null,1):new Token(Type.undefined,void 0,1)}function decodeBreak(e,t,r,n){if(!1===n.allowIndefinite)throw new Error("".concat(decodeErrPrefix," indefinite length items not allowed"));return new Token(Type.break,void 0,1)}function createToken(e,t,r){if(r){if(!1===r.allowNaN&&Number.isNaN(e))throw new Error("".concat(decodeErrPrefix," NaN values are not supported"));if(!1===r.allowInfinity&&(e===1/0||e===-1/0))throw new Error("".concat(decodeErrPrefix," Infinity values are not supported"))}return new Token(Type.float,e,t)}function decodeFloat16(e,t,r,n){return createToken(readFloat16(e,t+1),3,n)}function decodeFloat32(e,t,r,n){return createToken(readFloat32(e,t+1),5,n)}function decodeFloat64(e,t,r,n){return createToken(readFloat64(e,t+1),9,n)}function encodeFloat(e,t,r){var n=t.value;if(!1===n)e.push([Type.float.majorEncoded|MINOR_FALSE]);else if(!0===n)e.push([Type.float.majorEncoded|MINOR_TRUE]);else if(null===n)e.push([Type.float.majorEncoded|MINOR_NULL]);else if(void 0===n)e.push([Type.float.majorEncoded|MINOR_UNDEFINED]);else{var i=!1;r&&!0===r.float64||(encodeFloat16(n),n===readFloat16(ui8a,1)||Number.isNaN(n)?(ui8a[0]=249,e.push(ui8a.slice(0,3)),i=!0):(encodeFloat32(n),n===readFloat32(ui8a,1)&&(ui8a[0]=250,e.push(ui8a.slice(0,5)),i=!0))),i||(encodeFloat64(n),readFloat64(ui8a,1),ui8a[0]=251,e.push(ui8a.slice(0,9)))}}encodeFloat.encodedSize=function(e,t){var r=e.value;if(!1===r||!0===r||null==r)return 1;if(!t||!0!==t.float64){encodeFloat16(r);var n=readFloat16(ui8a,1);if(r===n||Number.isNaN(r))return 3;if(encodeFloat32(r),r===(n=readFloat32(ui8a,1)))return 5}return 9};var buffer$1=new ArrayBuffer(9),dataView=new DataView(buffer$1,1),ui8a=new Uint8Array(buffer$1,0);function encodeFloat16(e){if(e===1/0)dataView.setUint16(0,31744,!1);else if(e===-1/0)dataView.setUint16(0,64512,!1);else if(Number.isNaN(e))dataView.setUint16(0,32256,!1);else{dataView.setFloat32(0,e);var t=dataView.getUint32(0),r=(2139095040&t)>>23,n=8388607&t;if(255===r)dataView.setUint16(0,31744,!1);else if(0===r)dataView.setUint16(0,(2147483648&e)>>16|n>>13,!1);else{var i=r-127;i<-24?dataView.setUint16(0,0):i<-14?dataView.setUint16(0,(2147483648&t)>>16|1<<24+i,!1):dataView.setUint16(0,(2147483648&t)>>16|i+15<<10|n>>13,!1)}}}function readFloat16(e,t){if(e.length-t<2)throw new Error("".concat(decodeErrPrefix," not enough data for float16"));var r=(e[t]<<8)+e[t+1];if(31744===r)return 1/0;if(64512===r)return-1/0;if(32256===r)return NaN;var n,i=r>>10&31,a=1023&r;return n=0===i?a*Math.pow(2,-24):31!==i?(a+1024)*Math.pow(2,i-25):0===a?1/0:NaN,32768&r?-n:n}function encodeFloat32(e){dataView.setFloat32(0,e,!1)}function readFloat32(e,t){if(e.length-t<4)throw new Error("".concat(decodeErrPrefix," not enough data for float32"));var r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,4).getFloat32(0,!1)}function encodeFloat64(e){dataView.setFloat64(0,e,!1)}function readFloat64(e,t){if(e.length-t<8)throw new Error("".concat(decodeErrPrefix," not enough data for float64"));var r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,8).getFloat64(0,!1)}function invalidMinor(e,t,r){throw new Error("".concat(decodeErrPrefix," encountered invalid minor (").concat(r,") for major ").concat(e[t]>>>5))}function errorer(e){return function(){throw new Error("".concat(decodeErrPrefix," ").concat(e))}}encodeFloat.compareTokens=encodeUint.compareTokens;for(var jump=[],i2=0;i2<=23;i2++)jump[i2]=invalidMinor;jump[24]=decodeUint8,jump[25]=decodeUint16,jump[26]=decodeUint32,jump[27]=decodeUint64,jump[28]=invalidMinor,jump[29]=invalidMinor,jump[30]=invalidMinor,jump[31]=invalidMinor;for(var _i49=32;_i49<=55;_i49++)jump[_i49]=invalidMinor;jump[56]=decodeNegint8,jump[57]=decodeNegint16,jump[58]=decodeNegint32,jump[59]=decodeNegint64,jump[60]=invalidMinor,jump[61]=invalidMinor,jump[62]=invalidMinor,jump[63]=invalidMinor;for(var _i50=64;_i50<=87;_i50++)jump[_i50]=decodeBytesCompact;jump[88]=decodeBytes8,jump[89]=decodeBytes16,jump[90]=decodeBytes32,jump[91]=decodeBytes64,jump[92]=invalidMinor,jump[93]=invalidMinor,jump[94]=invalidMinor,jump[95]=errorer("indefinite length bytes/strings are not supported");for(var _i51=96;_i51<=119;_i51++)jump[_i51]=decodeStringCompact;jump[120]=decodeString8,jump[121]=decodeString16,jump[122]=decodeString32,jump[123]=decodeString64,jump[124]=invalidMinor,jump[125]=invalidMinor,jump[126]=invalidMinor,jump[127]=errorer("indefinite length bytes/strings are not supported");for(var _i52=128;_i52<=151;_i52++)jump[_i52]=decodeArrayCompact;jump[152]=decodeArray8,jump[153]=decodeArray16,jump[154]=decodeArray32,jump[155]=decodeArray64,jump[156]=invalidMinor,jump[157]=invalidMinor,jump[158]=invalidMinor,jump[159]=decodeArrayIndefinite;for(var _i53=160;_i53<=183;_i53++)jump[_i53]=decodeMapCompact;jump[184]=decodeMap8,jump[185]=decodeMap16,jump[186]=decodeMap32,jump[187]=decodeMap64,jump[188]=invalidMinor,jump[189]=invalidMinor,jump[190]=invalidMinor,jump[191]=decodeMapIndefinite;for(var _i54=192;_i54<=215;_i54++)jump[_i54]=decodeTagCompact;jump[216]=decodeTag8,jump[217]=decodeTag16,jump[218]=decodeTag32,jump[219]=decodeTag64,jump[220]=invalidMinor,jump[221]=invalidMinor,jump[222]=invalidMinor,jump[223]=invalidMinor;for(var _i55=224;_i55<=243;_i55++)jump[_i55]=errorer("simple values are not supported");jump[244]=invalidMinor,jump[245]=invalidMinor,jump[246]=invalidMinor,jump[247]=decodeUndefined,jump[248]=errorer("simple values are not supported"),jump[249]=decodeFloat16,jump[250]=decodeFloat32,jump[251]=decodeFloat64,jump[252]=invalidMinor,jump[253]=invalidMinor,jump[254]=invalidMinor,jump[255]=decodeBreak;for(var quick=[],_i56=0;_i56<24;_i56++)quick[_i56]=new Token(Type.uint,_i56,1);for(var _i57=-1;_i57>=-24;_i57--)quick[31-_i57]=new Token(Type.negint,_i57,1);function quickEncodeToken(e){switch(e.type){case Type.false:return fromArray([244]);case Type.true:return fromArray([245]);case Type.null:return fromArray([246]);case Type.bytes:return e.value.length?void 0:fromArray([64]);case Type.string:return""===e.value?fromArray([96]):void 0;case Type.array:return 0===e.value?fromArray([128]):void 0;case Type.map:return 0===e.value?fromArray([160]):void 0;case Type.uint:return e.value<24?fromArray([Number(e.value)]):void 0;case Type.negint:if(e.value>=-24)return fromArray([31-Number(e.value)])}}quick[64]=new Token(Type.bytes,new Uint8Array(0),1),quick[96]=new Token(Type.string,"",1),quick[128]=new Token(Type.array,0,1),quick[160]=new Token(Type.map,0,1),quick[244]=new Token(Type.false,!1,1),quick[245]=new Token(Type.true,!0,1),quick[246]=new Token(Type.null,null,1);var defaultEncodeOptions={float64:!1,mapSorter,quickEncodeToken};function makeCborEncoders(){var e=[];return e[Type.uint.major]=encodeUint,e[Type.negint.major]=encodeNegint,e[Type.bytes.major]=encodeBytes,e[Type.string.major]=encodeString,e[Type.array.major]=encodeArray,e[Type.map.major]=encodeMap,e[Type.tag.major]=encodeTag,e[Type.float.major]=encodeFloat,e}var cborEncoders=makeCborEncoders(),buf=new Bl,Ref=function(){function e(t,r){_classCallCheck(this,e),this.obj=t,this.parent=r}return _createClass(e,[{key:"includes",value:function(e){var t=this;do{if(t.obj===e)return!0}while(t=t.parent);return!1}}],[{key:"createCheck",value:function(t,r){if(t&&t.includes(r))throw new Error("".concat(encodeErrPrefix," object contains circular references"));return new e(r,t)}}]),e}(),simpleTokens={null:new Token(Type.null,null),undefined:new Token(Type.undefined,void 0),true:new Token(Type.true,!0),false:new Token(Type.false,!1),emptyArray:new Token(Type.array,0),emptyMap:new Token(Type.map,0)},typeEncoders={number:function(e,t,r,n){return Number.isInteger(e)&&Number.isSafeInteger(e)?new Token(e>=0?Type.uint:Type.negint,e):new Token(Type.float,e)},bigint:function(e,t,r,n){return e>=BigInt(0)?new Token(Type.uint,e):new Token(Type.negint,e)},Uint8Array:function(e,t,r,n){return new Token(Type.bytes,e)},string:function(e,t,r,n){return new Token(Type.string,e)},boolean:function(e,t,r,n){return e?simpleTokens.true:simpleTokens.false},null:function(e,t,r,n){return simpleTokens.null},undefined:function(e,t,r,n){return simpleTokens.undefined},ArrayBuffer:function(e,t,r,n){return new Token(Type.bytes,new Uint8Array(e))},DataView:function(e,t,r,n){return new Token(Type.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength))},Array:function(e,t,r,n){if(!e.length)return!0===r.addBreakTokens?[simpleTokens.emptyArray,new Token(Type.break)]:simpleTokens.emptyArray;n=Ref.createCheck(n,e);var i,a=[],o=0,s=_createForOfIteratorHelper(e);try{for(s.s();!(i=s.n()).done;){var u=i.value;a[o++]=objectToTokens(u,r,n)}}catch(e){s.e(e)}finally{s.f()}return r.addBreakTokens?[new Token(Type.array,e.length),a,new Token(Type.break)]:[new Token(Type.array,e.length),a]},Object:function(e){function t(t,r,n,i){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t,r,n){var i="Object"!==t,a=i?e.keys():Object.keys(e),o=i?e.size:a.length;if(!o)return!0===r.addBreakTokens?[simpleTokens.emptyMap,new Token(Type.break)]:simpleTokens.emptyMap;n=Ref.createCheck(n,e);var s,u=[],c=0,l=_createForOfIteratorHelper(a);try{for(l.s();!(s=l.n()).done;){var f=s.value;u[c++]=[objectToTokens(f,r,n),objectToTokens(i?e.get(f):e[f],r,n)]}}catch(e){l.e(e)}finally{l.f()}return sortMapEntries(u,r),r.addBreakTokens?[new Token(Type.map,o),u,new Token(Type.break)]:[new Token(Type.map,o),u]}))};typeEncoders.Map=typeEncoders.Object,typeEncoders.Buffer=typeEncoders.Uint8Array;var _iterator65=_createForOfIteratorHelper("Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" ")),_step65;try{for(_iterator65.s();!(_step65=_iterator65.n()).done;){var typ=_step65.value;typeEncoders["".concat(typ,"Array")]=typeEncoders.DataView}}catch(e){_iterator65.e(e)}finally{_iterator65.f()}function objectToTokens(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=is(e),i=t&&t.typeEncoders&&t.typeEncoders[n]||typeEncoders[n];if("function"==typeof i){var a=i(e,n,t,r);if(null!=a)return a}var o=typeEncoders[n];if(!o)throw new Error("".concat(encodeErrPrefix," unsupported type: ").concat(n));return o(e,n,t,r)}function sortMapEntries(e,t){t.mapSorter&&e.sort(t.mapSorter)}function mapSorter(e,t){var r=Array.isArray(e[0])?e[0][0]:e[0],n=Array.isArray(t[0])?t[0][0]:t[0];if(r.type!==n.type)return r.type.compare(n.type);var i=r.type.major,a=cborEncoders[i].compareTokens(r,n);return 0===a&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),a}function tokensToEncoded(e,t,r,n){if(Array.isArray(t)){var i,a=_createForOfIteratorHelper(t);try{for(a.s();!(i=a.n()).done;)tokensToEncoded(e,i.value,r,n)}catch(e){a.e(e)}finally{a.f()}}else r[t.type.major](e,t,n)}function encodeCustom(e,t,r){var n=objectToTokens(e,r);if(!Array.isArray(n)&&r.quickEncodeToken){var i=r.quickEncodeToken(n);if(i)return i;var a=t[n.type.major];if(a.encodedSize){var o=a.encodedSize(n,r),s=new Bl(o);if(a(s,n,r),1!==s.chunks.length)throw new Error("Unexpected error: pre-calculated length for ".concat(n," was wrong"));return asU8A(s.chunks[0])}}return buf.reset(),tokensToEncoded(buf,n,t,r),buf.toBytes(!0)}function encode$6(e,t){return t=Object.assign({},defaultEncodeOptions,t),encodeCustom(e,cborEncoders,t)}var defaultDecodeOptions={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0},Tokeniser=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,e),this.pos=0,this.data=t,this.options=r}return _createClass(e,[{key:"done",value:function(){return this.pos>=this.data.length}},{key:"next",value:function(){var e=this.data[this.pos],t=quick[e];if(void 0===t){var r=jump[e];if(!r)throw new Error("".concat(decodeErrPrefix," no decoder for major type ").concat(e>>>5," (byte 0x").concat(e.toString(16).padStart(2,"0"),")"));var n=31&e;t=r(this.data,this.pos,n,this.options)}return this.pos+=t.encodedLength,t}}]),e}(),DONE=Symbol.for("DONE"),BREAK=Symbol.for("BREAK");function tokenToArray(e,t,r){for(var n=[],i=0;i<e.value;i++){var a=tokensToObject(t,r);if(a===BREAK){if(e.value===1/0)break;throw new Error("".concat(decodeErrPrefix," got unexpected break to lengthed array"))}if(a===DONE)throw new Error("".concat(decodeErrPrefix," found array but not enough entries (got ").concat(i,", expected ").concat(e.value,")"));n[i]=a}return n}function tokenToMap(e,t,r){for(var n=!0===r.useMaps,i=n?void 0:{},a=n?new Map:void 0,o=0;o<e.value;o++){var s=tokensToObject(t,r);if(s===BREAK){if(e.value===1/0)break;throw new Error("".concat(decodeErrPrefix," got unexpected break to lengthed map"))}if(s===DONE)throw new Error("".concat(decodeErrPrefix," found map but not enough entries (got ").concat(o," [no key], expected ").concat(e.value,")"));if(!0!==n&&"string"!=typeof s)throw new Error("".concat(decodeErrPrefix," non-string keys not supported (got ").concat(_typeof(s),")"));var u=tokensToObject(t,r);if(u===DONE)throw new Error("".concat(decodeErrPrefix," found map but not enough entries (got ").concat(o," [no value], expected ").concat(e.value,")"));n?a.set(s,u):i[s]=u}return n?a:i}function tokensToObject(e,t){if(e.done())return DONE;var r=e.next();if(r.type===Type.break)return BREAK;if(r.type.terminal)return r.value;if(r.type===Type.array)return tokenToArray(r,e,t);if(r.type===Type.map)return tokenToMap(r,e,t);if(r.type===Type.tag){if(t.tags&&"function"==typeof t.tags[r.value]){var n=tokensToObject(e,t);return t.tags[r.value](n)}throw new Error("".concat(decodeErrPrefix," tag not supported (").concat(r.value,")"))}throw new Error("unsupported")}function decode$4(e,t){if(!(e instanceof Uint8Array))throw new Error("".concat(decodeErrPrefix," data to decode must be a Uint8Array"));var r=(t=Object.assign({},defaultDecodeOptions,t)).tokenizer||new Tokeniser(e,t),n=tokensToObject(r,t);if(n===DONE)throw new Error("".concat(decodeErrPrefix," did not find any content to decode"));if(n===BREAK)throw new Error("".concat(decodeErrPrefix," got unexpected break"));if(!r.done())throw new Error("".concat(decodeErrPrefix," too many terminals, data makes no sense"));return n}var CID_CBOR_TAG$1=42;function cidEncoder$1(e){if(e.asCID!==e)return null;var t=CID.asCID(e);if(!t)return null;var r=new Uint8Array(t.bytes.byteLength+1);return r.set(t.bytes,1),[new Token(Type.tag,CID_CBOR_TAG$1),new Token(Type.bytes,r)]}function undefinedEncoder$1(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function numberEncoder$1(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}var encodeOptions$1={float64:!0,typeEncoders:{Object:cidEncoder$1,undefined:undefinedEncoder$1,number:numberEncoder$1}};function cidDecoder$1(e){if(0!==e[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return CID.decode(e.subarray(1))}var decodeOptions$1={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};decodeOptions$1.tags[CID_CBOR_TAG$1]=cidDecoder$1;var encode$5=function(e){return encode$6(e,encodeOptions$1)},decode$3=function(e){return decode$4(e,decodeOptions$1)},CIDV0_BYTES={SHA2_256:18,LENGTH:32,DAG_PB:112};function readVarint(e){return _readVarint.apply(this,arguments)}function _readVarint(){return(_readVarint=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.upTo(8);case 2:return r=e.sent,n=varint$1.decode(r),t.seek(varint$1.decode.bytes),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function readHeader(e){return _readHeader.apply(this,arguments)}function _readHeader(){return(_readHeader=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,readVarint(t);case 2:if(0!==(r=e.sent)){e.next=5;break}throw new Error("Invalid CAR header (zero length)");case 5:return e.next=7,t.exactly(r);case 7:if(n=e.sent,t.seek(r),null!=(i=decode$3(n))&&!Array.isArray(i)&&"object"===_typeof(i)){e.next=12;break}throw new Error("Invalid CAR header format");case 12:if(1===i.version){e.next=16;break}if("string"!=typeof i.version){e.next=15;break}throw new Error('Invalid CAR version: "'.concat(i.version,'"'));case 15:throw new Error("Invalid CAR version: ".concat(i.version));case 16:if(Array.isArray(i.roots)){e.next=18;break}throw new Error("Invalid CAR header format");case 18:if(!Object.keys(i).filter((function(e){return"roots"!==e&&"version"!==e})).length){e.next=20;break}throw new Error("Invalid CAR header format");case 20:return e.abrupt("return",i);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function readMultihash(e){return _readMultihash.apply(this,arguments)}function _readMultihash(){return(_readMultihash=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.upTo(8);case 2:return r=e.sent,varint$1.decode(r),n=varint$1.decode.bytes,i=varint$1.decode(r.subarray(varint$1.decode.bytes)),a=varint$1.decode.bytes,o=n+a+i,e.next=10,t.exactly(o);case 10:return s=e.sent,t.seek(o),e.abrupt("return",s);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function readCid(e){return _readCid.apply(this,arguments)}function _readCid(){return(_readCid=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.exactly(2);case 2:if((r=e.sent)[0]!==CIDV0_BYTES.SHA2_256||r[1]!==CIDV0_BYTES.LENGTH){e.next=10;break}return e.next=6,t.exactly(34);case 6:return n=e.sent,t.seek(34),i=decode$6(n),e.abrupt("return",CID.create(0,CIDV0_BYTES.DAG_PB,i));case 10:return e.next=12,readVarint(t);case 12:if(1===(a=e.sent)){e.next=15;break}throw new Error("Unexpected CID version (".concat(a,")"));case 15:return e.next=17,readVarint(t);case 17:return o=e.sent,e.next=20,readMultihash(t);case 20:return s=e.sent,u=decode$6(s),e.abrupt("return",CID.create(a,o,u));case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function readBlockHead(e){return _readBlockHead.apply(this,arguments)}function _readBlockHead(){return(_readBlockHead=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.pos,e.next=3,readVarint(t);case 3:if(0!==(n=e.sent)){e.next=6;break}throw new Error("Invalid CAR section (zero length)");case 6:return n+=t.pos-r,e.next=9,readCid(t);case 9:return i=e.sent,a=n-(t.pos-r),e.abrupt("return",{cid:i,length:n,blockLength:a});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function readBlock(e){return _readBlock.apply(this,arguments)}function _readBlock(){return(_readBlock=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,readBlockHead(t);case 2:return r=e.sent,n=r.cid,i=r.blockLength,e.next=7,t.exactly(i);case 7:return a=e.sent,t.seek(i),e.abrupt("return",{bytes:a,cid:n});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function readBlockIndex(e){return _readBlockIndex.apply(this,arguments)}function _readBlockIndex(){return(_readBlockIndex=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.pos,e.next=3,readBlockHead(t);case 3:return n=e.sent,i=n.cid,a=n.length,o=n.blockLength,s={cid:i,length:a,blockLength:o,offset:r,blockOffset:t.pos},t.seek(s.blockLength),e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function createDecoder(e){var t=readHeader(e);return{header:function(){return t},blocks:function(){return _wrapAsyncGenerator(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,_awaitAsyncGenerator(t);case 2:return r.next=4,_awaitAsyncGenerator(e.upTo(8));case 4:if(r.t0=r.sent.length,!(r.t0>0)){r.next=10;break}return r.next=8,readBlock(e);case 8:r.next=2;break;case 10:case"end":return r.stop()}}),r)})))()},blocksIndex:function(){return _wrapAsyncGenerator(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,_awaitAsyncGenerator(t);case 2:return r.next=4,_awaitAsyncGenerator(e.upTo(8));case 4:if(r.t0=r.sent.length,!(r.t0>0)){r.next=10;break}return r.next=8,readBlockIndex(e);case 8:r.next=2;break;case 10:case"end":return r.stop()}}),r)})))()}}}function bytesReader(e){var t=0;return{upTo:function(r){return _asyncToGenerator(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",e.subarray(t,t+Math.min(r,e.length-t)));case 1:case"end":return n.stop()}}),n)})))()},exactly:function(r){return _asyncToGenerator(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(r>e.length-t)){n.next=2;break}throw new Error("Unexpected end of data");case 2:return n.abrupt("return",e.subarray(t,t+r));case 3:case"end":return n.stop()}}),n)})))()},seek:function(e){t+=e},get pos(){return t}}}function chunkReader(e){var t=0,r=0,n=0,i=new Uint8Array(0),a=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function t(a){var o,s,u,c,l,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=i.length-n,o=[i.subarray(n)];case 2:if(!(r<a)){t.next=12;break}return t.next=5,e();case 5:if(null!=(s=t.sent)){t.next=8;break}return t.abrupt("break",12);case 8:r<0?s.length>r&&o.push(s.subarray(-r)):o.push(s),r+=s.length,t.next=2;break;case 12:for(i=new Uint8Array(o.reduce((function(e,t){return e+t.length}),0)),u=0,c=0,l=o;c<l.length;c++)f=l[c],i.set(f,u),u+=f.length;n=0;case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return{upTo:function(e){return _asyncToGenerator(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i.length-n<e)){t.next=3;break}return t.next=3,a(e);case 3:return t.abrupt("return",i.subarray(n,n+Math.min(i.length-n,e)));case 4:case"end":return t.stop()}}),t)})))()},exactly:function(e){return _asyncToGenerator(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i.length-n<e)){t.next=3;break}return t.next=3,a(e);case 3:if(!(i.length-n<e)){t.next=5;break}throw new Error("Unexpected end of data");case 5:return t.abrupt("return",i.subarray(n,n+e));case 6:case"end":return t.stop()}}),t)})))()},seek:function(e){t+=e,n+=e},get pos(){return t}}}function asyncIterableReader(e){var t=e[Symbol.asyncIterator]();function r(){return(r=_asyncToGenerator(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.next();case 2:if(!(r=e.sent).done){e.next=5;break}return e.abrupt("return",null);case 5:return e.abrupt("return",r.value);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return chunkReader((function(){return r.apply(this,arguments)}))}var CarReader=function(){function e(t,r,n){_classCallCheck(this,e),this._version=t,this._roots=r,this._blocks=n,this._keys=n.map((function(e){return e.cid.toString()}))}var t,r,n,i,a;return _createClass(e,[{key:"version",get:function(){return this._version}},{key:"getRoots",value:(a=_asyncToGenerator(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._roots);case 1:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"has",value:(i=_asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._keys.indexOf(t.toString())>-1);case 1:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"get",value:(n=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this._keys.indexOf(t.toString()),e.abrupt("return",r>-1?this._blocks[r]:void 0);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"blocks",value:function(){var e=this;return _wrapAsyncGenerator(regeneratorRuntime.mark((function t(){var r,n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=_createForOfIteratorHelper(e._blocks),t.prev=1,r.s();case 3:if((n=r.n()).done){t.next=9;break}return i=n.value,t.next=7,i;case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),r.e(t.t0);case 14:return t.prev=14,r.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,11,14,17]])})))()}},{key:"cids",value:function(){var e=this;return _wrapAsyncGenerator(regeneratorRuntime.mark((function t(){var r,n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=_createForOfIteratorHelper(e._blocks),t.prev=1,r.s();case 3:if((n=r.n()).done){t.next=9;break}return i=n.value,t.next=7,i.cid;case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),r.e(t.t0);case 14:return t.prev=14,r.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,11,14,17]])})))()}}],[{key:"fromBytes",value:(r=_asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof Uint8Array){e.next=2;break}throw new TypeError("fromBytes() requires a Uint8Array");case 2:return e.abrupt("return",decodeReaderComplete(bytesReader(t)));case 3:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)})},{key:"fromIterable",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"function"==typeof t[Symbol.asyncIterator]){e.next=2;break}throw new TypeError("fromIterable() requires an async iterable");case 2:return e.abrupt("return",decodeReaderComplete(asyncIterableReader(t)));case 3:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),e}();function decodeReaderComplete(e){return _decodeReaderComplete.apply(this,arguments)}function _decodeReaderComplete(){return(_decodeReaderComplete=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,s,u,c,l,f,p,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=createDecoder(t),e.next=3,r.header();case 3:n=e.sent,i=n.version,a=n.roots,o=[],s=!0,u=!1,e.prev=9,l=_asyncIterator(r.blocks());case 11:return e.next=13,l.next();case 13:return f=e.sent,s=f.done,e.next=17,f.value;case 17:if(p=e.sent,s){e.next=24;break}d=p,o.push(d);case 21:s=!0,e.next=11;break;case 24:e.next=30;break;case 26:e.prev=26,e.t0=e.catch(9),u=!0,c=e.t0;case 30:if(e.prev=30,e.prev=31,s||null==l.return){e.next=35;break}return e.next=35,l.return();case 35:if(e.prev=35,!u){e.next=38;break}throw c;case 38:return e.finish(35);case 39:return e.finish(30);case 40:return e.abrupt("return",new CarReader(i,a,o));case 41:case"end":return e.stop()}}),e,null,[[9,26,30,40],[31,,35,39]])})))).apply(this,arguments)}var CarIteratorBase=function(){function e(t,r,n){_classCallCheck(this,e),this._version=t,this._roots=r,this._iterable=n,this._decoded=!1}var t;return _createClass(e,[{key:"version",get:function(){return this._version}},{key:"getRoots",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._roots);case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}(),CarBlockIterator=function(e){_inherits(i,e);var t,r,n=_createSuper(i);function i(){return _classCallCheck(this,i),n.apply(this,arguments)}return _createClass(i,[{key:Symbol.asyncIterator,value:function(){if(this._decoded)throw new Error("Cannot decode more than once");if(!this._iterable)throw new Error("Block iterable not found");return this._decoded=!0,this._iterable[Symbol.asyncIterator]()}}],[{key:"fromBytes",value:(r=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_fromBytes2(t);case 2:return r=e.sent,n=r.version,a=r.roots,o=r.iterator,e.abrupt("return",new i(n,a,o));case 7:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)})},{key:"fromIterable",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_fromIterable2(t);case 2:return r=e.sent,n=r.version,a=r.roots,o=r.iterator,e.abrupt("return",new i(n,a,o));case 7:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),i}(CarIteratorBase);function _fromBytes2(e){return _fromBytes4.apply(this,arguments)}function _fromBytes4(){return(_fromBytes4=_asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof Uint8Array){e.next=2;break}throw new TypeError("fromBytes() requires a Uint8Array");case 2:return e.abrupt("return",decodeIterator(bytesReader(t)));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _fromIterable2(e){return _fromIterable4.apply(this,arguments)}function _fromIterable4(){return(_fromIterable4=_asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"function"==typeof t[Symbol.asyncIterator]){e.next=2;break}throw new TypeError("fromIterable() requires an async iterable");case 2:return e.abrupt("return",decodeIterator(asyncIterableReader(t)));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function decodeIterator(e){return _decodeIterator.apply(this,arguments)}function _decodeIterator(){return(_decodeIterator=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=createDecoder(t),e.next=3,r.header();case 3:return n=e.sent,i=n.version,a=n.roots,e.abrupt("return",{version:i,roots:a,iterator:r.blocks()});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function createHeader(e){var t=encode$5({version:1,roots:e}),r=varint$1.encode(t.length),n=new Uint8Array(r.length+t.length);return n.set(r,0),n.set(t,r.length),n}function createEncoder(e){return{setRoots:function(t){return _asyncToGenerator(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=createHeader(t),r.next=3,e.write(n);case 3:case"end":return r.stop()}}),r)})))()},writeBlock:function(t){return _asyncToGenerator(regeneratorRuntime.mark((function r(){var n,i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.cid,i=t.bytes,r.next=3,e.write(new Uint8Array(varint$1.encode(n.bytes.length+i.length)));case 3:return r.next=5,e.write(n.bytes);case 5:if(!i.length){r.next=8;break}return r.next=8,e.write(i);case 8:case"end":return r.stop()}}),r)})))()},close:function(){return _asyncToGenerator(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.end());case 1:case"end":return t.stop()}}),t)})))()}}}function noop$1(){}function create$3(){var e=[],t=null,r=noop$1,n=!1,i=null,a=noop$1,o=function(){return t||(t=new Promise((function(e){r=function(){t=null,r=noop$1,e()}}))),t},s={next:function(){return _asyncToGenerator(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(o=e.shift())){t.next=4;break}return 0===e.length&&r(),t.abrupt("return",{done:!1,value:o});case 4:if(!n){t.next=7;break}return r(),t.abrupt("return",{done:!0,value:void 0});case 7:return i||(i=new Promise((function(e){a=function(){return i=null,a=noop$1,e(s.next())}}))),t.abrupt("return",i);case 9:case"end":return t.stop()}}),t)})))()}};return{writer:{write:function(t){e.push(t);var r=o();return a(),r},end:function(){return _asyncToGenerator(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!0,t=o(),a(),e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))()}},iterator:s}}var CarWriter=function(){function e(t,r){_classCallCheck(this,e),this._encoder=r,this._mutex=r.setRoots(t),this._ended=!1}var t,r,n;return _createClass(e,[{key:"put",value:(n=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.bytes instanceof Uint8Array&&t.cid){e.next=2;break}throw new TypeError("Can only write {cid, bytes} objects");case 2:if(!this._ended){e.next=4;break}throw new Error("Already closed");case 4:if(r=CID.asCID(t.cid)){e.next=7;break}throw new TypeError("Can only write {cid, bytes} objects");case 7:return this._mutex=this._mutex.then((function(){return n._encoder.writeBlock({cid:r,bytes:t.bytes})})),e.abrupt("return",this._mutex);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"close",value:(r=_asyncToGenerator(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._ended){e.next=2;break}throw new Error("Already closed");case 2:return e.next=4,this._mutex;case 4:return this._ended=!0,e.abrupt("return",this._encoder.close());case 6:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})}],[{key:"create",value:function(t){t=toRoots(t);var r=encodeWriter(),n=r.encoder,i=r.iterator;return{writer:new e(t,n),out:new CarWriterOut(i)}}},{key:"createAppender",value:function(){var t=encodeWriter(),r=t.encoder,n=t.iterator;return r.setRoots=function(){return Promise.resolve()},{writer:new e([],r),out:new CarWriterOut(n)}}},{key:"updateRootsInBytes",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r){var n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=bytesReader(t),e.next=3,readHeader(n);case 3:if(i=createHeader(r),n.pos===i.length){e.next=6;break}throw new Error("updateRoots() can only overwrite a header of the same length (old header is ".concat(n.pos," bytes, new header is ").concat(i.length," bytes)"));case 6:return t.set(i,0),e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)}))),function(e,r){return t.apply(this,arguments)})}]),e}(),CarWriterOut=function(){function e(t){_classCallCheck(this,e),this._iterator=t}return _createClass(e,[{key:Symbol.asyncIterator,value:function(){if(this._iterating)throw new Error("Multiple iterator not supported");return this._iterating=!0,this._iterator}}]),e}();function encodeWriter(){var e=create$3(),t=e.writer,r=e.iterator;return{encoder:createEncoder(t),iterator:r}}function toRoots(e){if(void 0===e)return[];if(!Array.isArray(e)){var t=CID.asCID(e);if(!t)throw new TypeError("roots must be a single CID or an array of CIDs");return[t]}var r,n=[],i=_createForOfIteratorHelper(e);try{for(i.s();!(r=i.n()).done;){var a=r.value,o=CID.asCID(a);if(!o)throw new TypeError("roots must be a single CID or an array of CIDs");n.push(o)}}catch(e){i.e(e)}finally{i.f()}return n}function batch$1(e){return _batch$.apply(this,arguments)}function _batch$(){return(_batch$=_wrapAsyncGenerator(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,s,u,c,l,f=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=f.length>1&&void 0!==f[1]?f[1]:1,n=[],r<1&&(r=1),i=!0,a=!1,e.prev=5,s=_asyncIterator(t);case 7:return e.next=9,_awaitAsyncGenerator(s.next());case 9:return u=e.sent,i=u.done,e.next=13,_awaitAsyncGenerator(u.value);case 13:if(c=e.sent,i){e.next=26;break}l=c,n.push(l);case 17:if(!(n.length>=r)){e.next=23;break}return e.next=20,n.slice(0,r);case 20:n=n.slice(r),e.next=17;break;case 23:i=!0,e.next=7;break;case 26:e.next=32;break;case 28:e.prev=28,e.t0=e.catch(5),a=!0,o=e.t0;case 32:if(e.prev=32,e.prev=33,i||null==s.return){e.next=37;break}return e.next=37,_awaitAsyncGenerator(s.return());case 37:if(e.prev=37,!a){e.next=40;break}throw o;case 40:return e.finish(37);case 41:return e.finish(32);case 42:if(!n.length){e.next=48;break}return e.next=45,n.slice(0,r);case 45:n=n.slice(r),e.next=42;break;case 48:case"end":return e.stop()}}),e,null,[[5,28,32,42],[33,,37,41]])})))).apply(this,arguments)}var itBatch=batch$1,batch=itBatch;function parallelBatch(e){return _parallelBatch.apply(this,arguments)}function _parallelBatch(){return(_parallelBatch=_wrapAsyncGenerator(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,s,u,c,l,f,p=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=p.length>1&&void 0!==p[1]?p[1]:1,n=!0,i=!1,e.prev=3,o=_asyncIterator(batch(t,r));case 5:return e.next=7,_awaitAsyncGenerator(o.next());case 7:return s=e.sent,n=s.done,e.next=11,_awaitAsyncGenerator(s.value);case 11:if(u=e.sent,n){e.next=32;break}c=u.map((function(e){return e().then((function(e){return{ok:!0,value:e}}),(function(e){return{ok:!1,err:e}}))})),l=0;case 16:if(!(l<c.length)){e.next=29;break}return e.next=19,_awaitAsyncGenerator(c[l]);case 19:if(!(f=e.sent).ok){e.next=25;break}return e.next=23,f.value;case 23:e.next=26;break;case 25:throw f.err;case 26:l++,e.next=16;break;case 29:n=!0,e.next=5;break;case 32:e.next=38;break;case 34:e.prev=34,e.t0=e.catch(3),i=!0,a=e.t0;case 38:if(e.prev=38,e.prev=39,n||null==o.return){e.next=43;break}return e.next=43,_awaitAsyncGenerator(o.return());case 43:if(e.prev=43,!i){e.next=46;break}throw a;case 46:return e.finish(43);case 47:return e.finish(38);case 48:case"end":return e.stop()}}),e,null,[[3,34,38,48],[39,,43,47]])})))).apply(this,arguments)}var itParallelBatch=parallelBatch,isPlainObj=function(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype},isOptionObject=isPlainObj,hasOwnProperty=Object.prototype.hasOwnProperty,propertyIsEnumerable=Object.propertyIsEnumerable,defineProperty=function(e,t,r){return Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})},globalThis$1=commonjsGlobal,defaultMergeOptions={concatArrays:!1,ignoreUndefined:!1},getEnumerableOwnPropertyKeys=function(e){var t=[];for(var r in e)hasOwnProperty.call(e,r)&&t.push(r);if(Object.getOwnPropertySymbols){var n,i=_createForOfIteratorHelper(Object.getOwnPropertySymbols(e));try{for(i.s();!(n=i.n()).done;){var a=n.value;propertyIsEnumerable.call(e,a)&&t.push(a)}}catch(e){i.e(e)}finally{i.f()}}return t};function clone(e){return Array.isArray(e)?cloneArray(e):isOptionObject(e)?cloneOptionObject(e):e}function cloneArray(e){var t=e.slice(0,0);return getEnumerableOwnPropertyKeys(e).forEach((function(r){defineProperty(t,r,clone(e[r]))})),t}function cloneOptionObject(e){var t=null===Object.getPrototypeOf(e)?Object.create(null):{};return getEnumerableOwnPropertyKeys(e).forEach((function(r){defineProperty(t,r,clone(e[r]))})),t}var mergeKeys=function(e,t,r,n){return r.forEach((function(r){void 0===t[r]&&n.ignoreUndefined||(r in e&&e[r]!==Object.getPrototypeOf(e)?defineProperty(e,r,merge$1(e[r],t[r],n)):defineProperty(e,r,clone(t[r])))})),e},concatArrays=function(e,t,r){var n=e.slice(0,0),i=0;return[e,t].forEach((function(t){for(var a=[],o=0;o<t.length;o++)hasOwnProperty.call(t,o)&&(a.push(String(o)),defineProperty(n,i++,t===e?t[o]:clone(t[o])));n=mergeKeys(n,t,getEnumerableOwnPropertyKeys(t).filter((function(e){return!a.includes(e)})),r)})),n};function merge$1(e,t,r){return r.concatArrays&&Array.isArray(e)&&Array.isArray(t)?concatArrays(e,t,r):isOptionObject(t)&&isOptionObject(e)?mergeKeys(e,t,getEnumerableOwnPropertyKeys(t),r):clone(t)}var mergeOptions=function(){for(var e=merge$1(clone(defaultMergeOptions),this!==globalThis$1&&this||{},defaultMergeOptions),t={_:{}},r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];for(var a=0,o=n;a<o.length;a++){var s=o[a];if(void 0!==s){if(!isOptionObject(s))throw new TypeError("`"+s+"` is not an Option Object");t=merge$1(t,{_:s},e)}}return t._},from=function(e){var t=e.name,r=e.code,n=e.encode;return new Hasher(t,r,n)},Hasher=function(){function e(t,r,n){_classCallCheck(this,e),this.name=t,this.code=r,this.encode=n}return _createClass(e,[{key:"digest",value:function(e){var t=this;if(e instanceof Uint8Array){var r=this.encode(e);return r instanceof Uint8Array?create$4(this.code,r):r.then((function(e){return create$4(t.code,e)}))}throw Error("Unknown type, must be binary type")}}]),e}(),sha=function(e){return function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Uint8Array,t.next=3,crypto.subtle.digest(e,r);case 3:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},sha256=from({name:"sha2-256",code:18,encode:sha("SHA-256")}),sha512=from({name:"sha2-512",code:19,encode:sha("SHA-512")}),sha2=Object.freeze(Object.defineProperty({__proto__:null,sha256,sha512},Symbol.toStringTag,{value:"Module"})),murmurHash3js={exports:{}};!function(e,t){!function(r,n){var i={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function a(e){if(!Array.isArray(e)&&!ArrayBuffer.isView(e))return!1;for(var t=0;t<e.length;t++)if(!Number.isInteger(e[t])||e[t]<0||e[t]>255)return!1;return!0}function o(e,t){return(65535&e)*t+(((e>>>16)*t&65535)<<16)}function s(e,t){return e<<t|e>>>32-t}function u(e){return e=o(e^=e>>>16,2246822507),(e=o(e^=e>>>13,3266489909))^e>>>16}function c(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var r=[0,0,0,0];return r[3]+=e[3]+t[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=e[2]+t[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=e[1]+t[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=e[0]+t[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]}function l(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var r=[0,0,0,0];return r[3]+=e[3]*t[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=e[2]*t[3],r[1]+=r[2]>>>16,r[2]&=65535,r[2]+=e[3]*t[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=e[1]*t[3],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=e[2]*t[2],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=e[3]*t[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]}function f(e,t){return 32==(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function p(e,t){return 0==(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function d(e,t){return[e[0]^t[0],e[1]^t[1]]}function h(e){return e=d(e,[0,e[0]>>>1]),e=d(e=l(e,[4283543511,3981806797]),[0,e[0]>>>1]),d(e=l(e,[3301882366,444984403]),[0,e[0]>>>1])}i.x86.hash32=function(e,t){if(i.inputValidation&&!a(e))return n;t=t||0;for(var r=e.length%4,c=e.length-r,l=t,f=0,p=3432918353,d=461845907,h=0;h<c;h+=4)f=o(f=e[h]|e[h+1]<<8|e[h+2]<<16|e[h+3]<<24,p),f=o(f=s(f,15),d),l=o(l=s(l^=f,13),5)+3864292196;switch(f=0,r){case 3:f^=e[h+2]<<16;case 2:f^=e[h+1]<<8;case 1:f=o(f^=e[h],p),l^=f=o(f=s(f,15),d)}return(l=u(l^=e.length))>>>0},i.x86.hash128=function(e,t){if(i.inputValidation&&!a(e))return n;t=t||0;for(var r=e.length%16,c=e.length-r,l=t,f=t,p=t,d=t,h=0,m=0,y=0,v=0,g=597399067,b=2869860233,_=951274213,w=2716044179,k=0;k<c;k+=16)h=e[k]|e[k+1]<<8|e[k+2]<<16|e[k+3]<<24,m=e[k+4]|e[k+5]<<8|e[k+6]<<16|e[k+7]<<24,y=e[k+8]|e[k+9]<<8|e[k+10]<<16|e[k+11]<<24,v=e[k+12]|e[k+13]<<8|e[k+14]<<16|e[k+15]<<24,h=s(h=o(h,g),15),l=s(l^=h=o(h,b),19),l=o(l+=f,5)+1444728091,m=s(m=o(m,b),16),f=s(f^=m=o(m,_),17),f=o(f+=p,5)+197830471,y=s(y=o(y,_),17),p=s(p^=y=o(y,w),15),p=o(p+=d,5)+2530024501,v=s(v=o(v,w),18),d=s(d^=v=o(v,g),13),d=o(d+=l,5)+850148119;switch(h=0,m=0,y=0,v=0,r){case 15:v^=e[k+14]<<16;case 14:v^=e[k+13]<<8;case 13:v=o(v^=e[k+12],w),d^=v=o(v=s(v,18),g);case 12:y^=e[k+11]<<24;case 11:y^=e[k+10]<<16;case 10:y^=e[k+9]<<8;case 9:y=o(y^=e[k+8],_),p^=y=o(y=s(y,17),w);case 8:m^=e[k+7]<<24;case 7:m^=e[k+6]<<16;case 6:m^=e[k+5]<<8;case 5:m=o(m^=e[k+4],b),f^=m=o(m=s(m,16),_);case 4:h^=e[k+3]<<24;case 3:h^=e[k+2]<<16;case 2:h^=e[k+1]<<8;case 1:h=o(h^=e[k],g),l^=h=o(h=s(h,15),b)}return l^=e.length,l+=f^=e.length,l+=p^=e.length,f+=l+=d^=e.length,p+=l,d+=l,l=u(l),l+=f=u(f),l+=p=u(p),f+=l+=d=u(d),p+=l,d+=l,("00000000"+(l>>>0).toString(16)).slice(-8)+("00000000"+(f>>>0).toString(16)).slice(-8)+("00000000"+(p>>>0).toString(16)).slice(-8)+("00000000"+(d>>>0).toString(16)).slice(-8)},i.x64.hash128=function(e,t){if(i.inputValidation&&!a(e))return n;t=t||0;for(var r=e.length%16,o=e.length-r,s=[0,t],u=[0,t],m=[0,0],y=[0,0],v=[2277735313,289559509],g=[1291169091,658871167],b=0;b<o;b+=16)m=[e[b+4]|e[b+5]<<8|e[b+6]<<16|e[b+7]<<24,e[b]|e[b+1]<<8|e[b+2]<<16|e[b+3]<<24],y=[e[b+12]|e[b+13]<<8|e[b+14]<<16|e[b+15]<<24,e[b+8]|e[b+9]<<8|e[b+10]<<16|e[b+11]<<24],m=f(m=l(m,v),31),s=c(s=f(s=d(s,m=l(m,g)),27),u),s=c(l(s,[0,5]),[0,1390208809]),y=f(y=l(y,g),33),u=c(u=f(u=d(u,y=l(y,v)),31),s),u=c(l(u,[0,5]),[0,944331445]);switch(m=[0,0],y=[0,0],r){case 15:y=d(y,p([0,e[b+14]],48));case 14:y=d(y,p([0,e[b+13]],40));case 13:y=d(y,p([0,e[b+12]],32));case 12:y=d(y,p([0,e[b+11]],24));case 11:y=d(y,p([0,e[b+10]],16));case 10:y=d(y,p([0,e[b+9]],8));case 9:y=l(y=d(y,[0,e[b+8]]),g),u=d(u,y=l(y=f(y,33),v));case 8:m=d(m,p([0,e[b+7]],56));case 7:m=d(m,p([0,e[b+6]],48));case 6:m=d(m,p([0,e[b+5]],40));case 5:m=d(m,p([0,e[b+4]],32));case 4:m=d(m,p([0,e[b+3]],24));case 3:m=d(m,p([0,e[b+2]],16));case 2:m=d(m,p([0,e[b+1]],8));case 1:m=l(m=d(m,[0,e[b]]),v),s=d(s,m=l(m=f(m,31),g))}return s=c(s=d(s,[0,e.length]),u=d(u,[0,e.length])),u=c(u,s),s=c(s=h(s),u=h(u)),u=c(u,s),("00000000"+(s[0]>>>0).toString(16)).slice(-8)+("00000000"+(s[1]>>>0).toString(16)).slice(-8)+("00000000"+(u[0]>>>0).toString(16)).slice(-8)+("00000000"+(u[1]>>>0).toString(16)).slice(-8)},e.exports&&(t=e.exports=i),t.murmurHash3=i}()}(murmurHash3js,murmurHash3js.exports);var murmurhash3jsRevisited=murmurHash3js.exports;function fromNumberTo32BitBuf(e){for(var t=new Array(4),r=0;r<4;r++)t[r]=255&e,e>>=8;return new Uint8Array(t)}from({name:"murmur3-32",code:35,encode:function(e){return fromNumberTo32BitBuf(murmurhash3jsRevisited.x86.hash32(e))}});var murmur3128=from({name:"murmur3-128",code:34,encode:function(e){return fromHex(murmurhash3jsRevisited.x64.hash128(e))}});function hamtHashFn(e){return _hamtHashFn.apply(this,arguments)}function _hamtHashFn(){return(_hamtHashFn=_asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,murmur3128.encode(t);case 2:return e.abrupt("return",e.sent.slice(0,8).reverse());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var defaultOptions={chunker:"fixed",strategy:"balanced",rawLeaves:!1,onlyHash:!1,reduceSingleLeafToSelf:!0,hasher:sha256,leafType:"file",cidVersion:0,progress:function(){return function(){}},shardSplitThreshold:1e3,fileImportConcurrency:50,blockWriteConcurrency:10,minChunkSize:262144,maxChunkSize:262144,avgChunkSize:262144,window:16,polynomial:0x3df305dfb2a804,maxChildrenPerNode:174,layerRepeat:4,wrapWithDirectory:!1,recursive:!1,hidden:!1,timeout:void 0,hamtHashFn,hamtHashCode:34,hamtBucketBits:8},defaultOptions$1=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=mergeOptions.bind({ignoreUndefined:!0});return t(defaultOptions,e)};function assign(e,t){for(var r in t)Object.defineProperty(e,r,{value:t[r],enumerable:!0,configurable:!0});return e}function createError(e,t,r){if(!e||"string"==typeof e)throw new TypeError("Please pass an Error to err-code");r||(r={}),"object"===_typeof(t)&&(r=t,t=""),t&&(r.code=t);try{return assign(e,r)}catch(t){r.message=e.message,r.stack=e.stack;var n=function(){};return n.prototype=Object.create(Object.getPrototypeOf(e)),assign(new n,r)}}var errCode=createError,indexMinimal={},minimal$1={},aspromise=asPromise;function asPromise(e,t){for(var r=new Array(arguments.length-1),n=0,i=2,a=!0;i<arguments.length;)r[n++]=arguments[i++];return new Promise((function(i,o){r[n]=function(e){if(a)if(a=!1,e)o(e);else{for(var t=new Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];i.apply(null,t)}};try{e.apply(t||null,r)}catch(e){a&&(a=!1,o(e))}}))}var base64$3={};!function(e){var t=e;t.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var r=new Array(64),n=new Array(123),i=0;i<64;)n[r[i]=i<26?i+65:i<52?i+71:i<62?i-4:i-59|43]=i++;t.encode=function(e,t,n){for(var i,a=null,o=[],s=0,u=0;t<n;){var c=e[t++];switch(u){case 0:o[s++]=r[c>>2],i=(3&c)<<4,u=1;break;case 1:o[s++]=r[i|c>>4],i=(15&c)<<2,u=2;break;case 2:o[s++]=r[i|c>>6],o[s++]=r[63&c],u=0}s>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,o)),s=0)}return u&&(o[s++]=r[i],o[s++]=61,1===u&&(o[s++]=61)),a?(s&&a.push(String.fromCharCode.apply(String,o.slice(0,s))),a.join("")):String.fromCharCode.apply(String,o.slice(0,s))};var a="invalid encoding";t.decode=function(e,t,r){for(var i,o=r,s=0,u=0;u<e.length;){var c=e.charCodeAt(u++);if(61===c&&s>1)break;if(void 0===(c=n[c]))throw Error(a);switch(s){case 0:i=c,s=1;break;case 1:t[r++]=i<<2|(48&c)>>4,i=c,s=2;break;case 2:t[r++]=(15&i)<<4|(60&c)>>2,i=c,s=3;break;case 3:t[r++]=(3&i)<<6|c,s=0}}if(1===s)throw Error(a);return r-o},t.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}}(base64$3);var eventemitter=EventEmitter;function EventEmitter(){this._listeners={}}EventEmitter.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},EventEmitter.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},EventEmitter.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this};var _float=factory(factory);function factory(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3]}function a(e,n,i){t[0]=e,n[i]=r[3],n[i+1]=r[2],n[i+2]=r[1],n[i+3]=r[0]}function o(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function s(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?i:a,e.writeFloatBE=n?a:i,e.readFloatLE=n?o:s,e.readFloatBE=n?s:o}():function(){function t(e,t,r,n){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,r,n);else if(isNaN(t))e(2143289344,r,n);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,r,n);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,r,n);else{var a=Math.floor(Math.log(t)/Math.LN2);e((i<<31|a+127<<23|8388607&Math.round(t*Math.pow(2,-a)*8388608))>>>0,r,n)}}function r(e,t,r){var n=e(t,r),i=2*(n>>31)+1,a=n>>>23&255,o=8388607&n;return 255===a?o?NaN:i*(1/0):0===a?1401298464324817e-60*i*o:i*Math.pow(2,a-150)*(o+8388608)}e.writeFloatLE=t.bind(null,writeUintLE),e.writeFloatBE=t.bind(null,writeUintBE),e.readFloatLE=r.bind(null,readUintLE),e.readFloatBE=r.bind(null,readUintBE)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3],n[i+4]=r[4],n[i+5]=r[5],n[i+6]=r[6],n[i+7]=r[7]}function a(e,n,i){t[0]=e,n[i]=r[7],n[i+1]=r[6],n[i+2]=r[5],n[i+3]=r[4],n[i+4]=r[3],n[i+5]=r[2],n[i+6]=r[1],n[i+7]=r[0]}function o(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function s(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?i:a,e.writeDoubleBE=n?a:i,e.readDoubleLE=n?o:s,e.readDoubleBE=n?s:o}():function(){function t(e,t,r,n,i,a){var o=n<0?1:0;if(o&&(n=-n),0===n)e(0,i,a+t),e(1/n>0?0:2147483648,i,a+r);else if(isNaN(n))e(0,i,a+t),e(2146959360,i,a+r);else if(n>17976931348623157e292)e(0,i,a+t),e((o<<31|2146435072)>>>0,i,a+r);else{var s;if(n<22250738585072014e-324)e((s=n/5e-324)>>>0,i,a+t),e((o<<31|s/4294967296)>>>0,i,a+r);else{var u=Math.floor(Math.log(n)/Math.LN2);1024===u&&(u=1023),e(4503599627370496*(s=n*Math.pow(2,-u))>>>0,i,a+t),e((o<<31|u+1023<<20|1048576*s&1048575)>>>0,i,a+r)}}}function r(e,t,r,n,i){var a=e(n,i+t),o=e(n,i+r),s=2*(o>>31)+1,u=o>>>20&2047,c=4294967296*(1048575&o)+a;return 2047===u?c?NaN:s*(1/0):0===u?5e-324*s*c:s*Math.pow(2,u-1075)*(c+4503599627370496)}e.writeDoubleLE=t.bind(null,writeUintLE,0,4),e.writeDoubleBE=t.bind(null,writeUintBE,4,0),e.readDoubleLE=r.bind(null,readUintLE,0,4),e.readDoubleBE=r.bind(null,readUintBE,4,0)}(),e}function writeUintLE(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function writeUintBE(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function readUintLE(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function readUintBE(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}var inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}var utf8$2={};!function(e){var t=e;t.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:55296==(64512&r)&&56320==(64512&e.charCodeAt(n+1))?(++n,t+=4):t+=3;return t},t.read=function(e,t,r){if(r-t<1)return"";for(var n,i=null,a=[],o=0;t<r;)(n=e[t++])<128?a[o++]=n:n>191&&n<224?a[o++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,a[o++]=55296+(n>>10),a[o++]=56320+(1023&n)):a[o++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],o>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,a)),o=0);return i?(o&&i.push(String.fromCharCode.apply(String,a.slice(0,o))),i.join("")):String.fromCharCode.apply(String,a.slice(0,o))},t.write=function(e,t,r){for(var n,i,a=r,o=0;o<e.length;++o)(n=e.charCodeAt(o))<128?t[r++]=n:n<2048?(t[r++]=n>>6|192,t[r++]=63&n|128):55296==(64512&n)&&56320==(64512&(i=e.charCodeAt(o+1)))?(n=65536+((1023&n)<<10)+(1023&i),++o,t[r++]=n>>18|240,t[r++]=n>>12&63|128,t[r++]=n>>6&63|128,t[r++]=63&n|128):(t[r++]=n>>12|224,t[r++]=n>>6&63|128,t[r++]=63&n|128);return r-a}}(utf8$2);var pool_1=pool;function pool(e,t,r){var n=r||8192,i=n>>>1,a=null,o=n;return function(r){if(r<1||r>i)return e(r);o+r>n&&(a=e(n),o=0);var s=t.call(a,o,o+=r);return 7&o&&(o=1+(7|o)),s}}var longbits=LongBits$2,util$5=minimal$1;function LongBits$2(e,t){this.lo=e>>>0,this.hi=t>>>0}var zero=LongBits$2.zero=new LongBits$2(0,0);zero.toNumber=function(){return 0},zero.zzEncode=zero.zzDecode=function(){return this},zero.length=function(){return 1};var zeroHash=LongBits$2.zeroHash="\0\0\0\0\0\0\0\0";LongBits$2.fromNumber=function(e){if(0===e)return zero;var t=e<0;t&&(e=-e);var r=e>>>0,n=(e-r)/4294967296>>>0;return t&&(n=~n>>>0,r=~r>>>0,++r>4294967295&&(r=0,++n>4294967295&&(n=0))),new LongBits$2(r,n)},LongBits$2.from=function(e){if("number"==typeof e)return LongBits$2.fromNumber(e);if(util$5.isString(e)){if(!util$5.Long)return LongBits$2.fromNumber(parseInt(e,10));e=util$5.Long.fromString(e)}return e.low||e.high?new LongBits$2(e.low>>>0,e.high>>>0):zero},LongBits$2.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},LongBits$2.prototype.toLong=function(e){return util$5.Long?new util$5.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var charCodeAt=String.prototype.charCodeAt;LongBits$2.fromHash=function(e){return e===zeroHash?zero:new LongBits$2((charCodeAt.call(e,0)|charCodeAt.call(e,1)<<8|charCodeAt.call(e,2)<<16|charCodeAt.call(e,3)<<24)>>>0,(charCodeAt.call(e,4)|charCodeAt.call(e,5)<<8|charCodeAt.call(e,6)<<16|charCodeAt.call(e,7)<<24)>>>0)},LongBits$2.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},LongBits$2.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},LongBits$2.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},LongBits$2.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10},function(e){var t=e;function r(e,t,r){for(var n=Object.keys(t),i=0;i<n.length;++i)void 0!==e[n[i]]&&r||(e[n[i]]=t[n[i]]);return e}function n(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&r(this,n)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}t.asPromise=aspromise,t.base64=base64$3,t.EventEmitter=eventemitter,t.float=_float,t.inquire=inquire_1,t.utf8=utf8$2,t.pool=pool_1,t.LongBits=longbits,t.isNode=Boolean(void 0!==commonjsGlobal&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),t.global=t.isNode&&commonjsGlobal||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||commonjsGlobal,t.emptyArray=Object.freeze?Object.freeze([]):[],t.emptyObject=Object.freeze?Object.freeze({}):{},t.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},t.isString=function(e){return"string"==typeof e||e instanceof String},t.isObject=function(e){return e&&"object"===_typeof(e)},t.isset=t.isSet=function(e,t){var r=e[t];return!(null==r||!e.hasOwnProperty(t))&&("object"!==_typeof(r)||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},t.Buffer=function(){try{var e=t.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),t._Buffer_from=null,t._Buffer_allocUnsafe=null,t.newBuffer=function(e){return"number"==typeof e?t.Buffer?t._Buffer_allocUnsafe(e):new t.Array(e):t.Buffer?t._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},t.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,t.Long=t.global.dcodeIO&&t.global.dcodeIO.Long||t.global.Long||t.inquire("long"),t.key2Re=/^true|false|0|1$/,t.key32Re=/^-?(?:0|[1-9][0-9]*)$/,t.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,t.longToHash=function(e){return e?t.LongBits.from(e).toHash():t.LongBits.zeroHash},t.longFromHash=function(e,r){var n=t.LongBits.fromHash(e);return t.Long?t.Long.fromBits(n.lo,n.hi,r):n.toNumber(Boolean(r))},t.merge=r,t.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},t.newError=n,t.ProtocolError=n("ProtocolError"),t.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},t.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},t.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},t._configure=function(){var e=t.Buffer;e?(t._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},t._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):t._Buffer_from=t._Buffer_allocUnsafe=null}}(minimal$1);var writer=Writer$1,util$4=minimal$1,BufferWriter$1,LongBits$1=util$4.LongBits,base64$2=util$4.base64,utf8$1=util$4.utf8;function Op(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function noop(){}function State(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function Writer$1(){this.len=0,this.head=new Op(noop,0,0),this.tail=this.head,this.states=null}var create$2=function(){return util$4.Buffer?function(){return(Writer$1.create=function(){return new BufferWriter$1})()}:function(){return new Writer$1}};function writeByte(e,t,r){t[r]=255&e}function writeVarint32(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e}function VarintOp(e,t){this.len=e,this.next=void 0,this.val=t}function writeVarint64(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function writeFixed32(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}Writer$1.create=create$2(),Writer$1.alloc=function(e){return new util$4.Array(e)},util$4.Array!==Array&&(Writer$1.alloc=util$4.pool(Writer$1.alloc,util$4.Array.prototype.subarray)),Writer$1.prototype._push=function(e,t,r){return this.tail=this.tail.next=new Op(e,t,r),this.len+=t,this},VarintOp.prototype=Object.create(Op.prototype),VarintOp.prototype.fn=writeVarint32,Writer$1.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new VarintOp((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},Writer$1.prototype.int32=function(e){return e<0?this._push(writeVarint64,10,LongBits$1.fromNumber(e)):this.uint32(e)},Writer$1.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},Writer$1.prototype.uint64=function(e){var t=LongBits$1.from(e);return this._push(writeVarint64,t.length(),t)},Writer$1.prototype.int64=Writer$1.prototype.uint64,Writer$1.prototype.sint64=function(e){var t=LongBits$1.from(e).zzEncode();return this._push(writeVarint64,t.length(),t)},Writer$1.prototype.bool=function(e){return this._push(writeByte,1,e?1:0)},Writer$1.prototype.fixed32=function(e){return this._push(writeFixed32,4,e>>>0)},Writer$1.prototype.sfixed32=Writer$1.prototype.fixed32,Writer$1.prototype.fixed64=function(e){var t=LongBits$1.from(e);return this._push(writeFixed32,4,t.lo)._push(writeFixed32,4,t.hi)},Writer$1.prototype.sfixed64=Writer$1.prototype.fixed64,Writer$1.prototype.float=function(e){return this._push(util$4.float.writeFloatLE,4,e)},Writer$1.prototype.double=function(e){return this._push(util$4.float.writeDoubleLE,8,e)};var writeBytes=util$4.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};Writer$1.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(writeByte,1,0);if(util$4.isString(e)){var r=Writer$1.alloc(t=base64$2.length(e));base64$2.decode(e,r,0),e=r}return this.uint32(t)._push(writeBytes,t,e)},Writer$1.prototype.string=function(e){var t=utf8$1.length(e);return t?this.uint32(t)._push(utf8$1.write,t,e):this._push(writeByte,1,0)},Writer$1.prototype.fork=function(){return this.states=new State(this),this.head=this.tail=new Op(noop,0,0),this.len=0,this},Writer$1.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop,0,0),this.len=0),this},Writer$1.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},Writer$1.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},Writer$1._configure=function(e){BufferWriter$1=e,Writer$1.create=create$2(),BufferWriter$1._configure()};var writer_buffer=BufferWriter,Writer=writer;(BufferWriter.prototype=Object.create(Writer.prototype)).constructor=BufferWriter;var util$3=minimal$1;function BufferWriter(){Writer.call(this)}function writeStringBuffer(e,t,r){e.length<40?util$3.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}BufferWriter._configure=function(){BufferWriter.alloc=util$3._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=util$3.Buffer&&util$3.Buffer.prototype instanceof Uint8Array&&"set"===util$3.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]}},BufferWriter.prototype.bytes=function(e){util$3.isString(e)&&(e=util$3._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(BufferWriter.writeBytesBuffer,t,e),this},BufferWriter.prototype.string=function(e){var t=util$3.Buffer.byteLength(e);return this.uint32(t),t&&this._push(writeStringBuffer,t,e),this},BufferWriter._configure();var reader=Reader$1,util$2=minimal$1,BufferReader$1,LongBits=util$2.LongBits,utf8=util$2.utf8;function indexOutOfRange(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function Reader$1(e){this.buf=e,this.pos=0,this.len=e.length}var create_array="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new Reader$1(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new Reader$1(e);throw Error("illegal buffer")},create$1=function(){return util$2.Buffer?function(e){return(Reader$1.create=function(e){return util$2.Buffer.isBuffer(e)?new BufferReader$1(e):create_array(e)})(e)}:create_array},value;function readLongVarint(){var e=new LongBits(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw indexOutOfRange(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw indexOutOfRange(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function readFixed32_end(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader$1.create=create$1(),Reader$1.prototype._slice=util$2.Array.prototype.subarray||util$2.Array.prototype.slice,Reader$1.prototype.uint32=(value=4294967295,function(){if(value=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return value;if(value=(value|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return value;if(value=(value|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return value;if(value=(value|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return value;if(value=(value|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return value;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return value}),Reader$1.prototype.int32=function(){return 0|this.uint32()},Reader$1.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},Reader$1.prototype.bool=function(){return 0!==this.uint32()},Reader$1.prototype.fixed32=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)},Reader$1.prototype.sfixed32=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return 0|readFixed32_end(this.buf,this.pos+=4)},Reader$1.prototype.float=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var e=util$2.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},Reader$1.prototype.double=function(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var e=util$2.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},Reader$1.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw indexOutOfRange(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,r):t===r?new this.buf.constructor(0):this._slice.call(this.buf,t,r)},Reader$1.prototype.string=function(){var e=this.bytes();return utf8.read(e,0,e.length)},Reader$1.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw indexOutOfRange(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw indexOutOfRange(this)}while(128&this.buf[this.pos++]);return this},Reader$1.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},Reader$1._configure=function(e){BufferReader$1=e,Reader$1.create=create$1(),BufferReader$1._configure();var t=util$2.Long?"toLong":"toNumber";util$2.merge(Reader$1.prototype,{int64:function(){return readLongVarint.call(this)[t](!1)},uint64:function(){return readLongVarint.call(this)[t](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[t](!1)},fixed64:function(){return readFixed64.call(this)[t](!0)},sfixed64:function(){return readFixed64.call(this)[t](!1)}})};var reader_buffer=BufferReader,Reader=reader;(BufferReader.prototype=Object.create(Reader.prototype)).constructor=BufferReader;var util$1=minimal$1;function BufferReader(e){Reader.call(this,e)}BufferReader._configure=function(){util$1.Buffer&&(BufferReader.prototype._slice=util$1.Buffer.prototype.slice)},BufferReader.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},BufferReader._configure();var rpc={},service=Service,util=minimal$1;function Service(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");util.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}(Service.prototype=Object.create(util.EventEmitter.prototype)).constructor=Service,Service.prototype.rpcCall=function e(t,r,n,i,a){if(!i)throw TypeError("request must be specified");var o=this;if(!a)return util.asPromise(e,o,t,r,n,i);if(o.rpcImpl)try{return o.rpcImpl(t,r[o.requestDelimited?"encodeDelimited":"encode"](i).finish(),(function(e,r){if(e)return o.emit("error",e,t),a(e);if(null!==r){if(!(r instanceof n))try{r=n[o.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return o.emit("error",e,t),a(e)}return o.emit("data",r,t),a(null,r)}o.end(!0)}))}catch(e){return o.emit("error",e,t),void setTimeout((function(){a(e)}),0)}else setTimeout((function(){a(Error("already ended"))}),0)},Service.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},function(e){e.Service=service}(rpc);var roots={};!function(e){var t=e;function r(){t.util._configure(),t.Writer._configure(t.BufferWriter),t.Reader._configure(t.BufferReader)}t.build="minimal",t.Writer=writer,t.BufferWriter=writer_buffer,t.Reader=reader,t.BufferReader=reader_buffer,t.util=minimal$1,t.rpc=rpc,t.roots=roots,t.configure=r,r()}(indexMinimal);var minimal=indexMinimal,$Reader=minimal.Reader,$Writer=minimal.Writer,$util=minimal.util,$root=minimal.roots["ipfs-unixfs"]||(minimal.roots["ipfs-unixfs"]={}),Data=$root.Data=function(){function e(e){if(this.blocksizes=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var t,r;return e.prototype.Type=0,e.prototype.Data=$util.newBuffer([]),e.prototype.filesize=$util.Long?$util.Long.fromBits(0,0,!0):0,e.prototype.blocksizes=$util.emptyArray,e.prototype.hashType=$util.Long?$util.Long.fromBits(0,0,!0):0,e.prototype.fanout=$util.Long?$util.Long.fromBits(0,0,!0):0,e.prototype.mode=0,e.prototype.mtime=null,e.encode=function(e,t){if(t||(t=$Writer.create()),t.uint32(8).int32(e.Type),null!=e.Data&&Object.hasOwnProperty.call(e,"Data")&&t.uint32(18).bytes(e.Data),null!=e.filesize&&Object.hasOwnProperty.call(e,"filesize")&&t.uint32(24).uint64(e.filesize),null!=e.blocksizes&&e.blocksizes.length)for(var r=0;r<e.blocksizes.length;++r)t.uint32(32).uint64(e.blocksizes[r]);return null!=e.hashType&&Object.hasOwnProperty.call(e,"hashType")&&t.uint32(40).uint64(e.hashType),null!=e.fanout&&Object.hasOwnProperty.call(e,"fanout")&&t.uint32(48).uint64(e.fanout),null!=e.mode&&Object.hasOwnProperty.call(e,"mode")&&t.uint32(56).uint32(e.mode),null!=e.mtime&&Object.hasOwnProperty.call(e,"mtime")&&$root.UnixTime.encode(e.mtime,t.uint32(66).fork()).ldelim(),t},e.decode=function(e,t){e instanceof $Reader||(e=$Reader.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new $root.Data;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.Type=e.int32();break;case 2:n.Data=e.bytes();break;case 3:n.filesize=e.uint64();break;case 4:if(n.blocksizes&&n.blocksizes.length||(n.blocksizes=[]),2==(7&i))for(var a=e.uint32()+e.pos;e.pos<a;)n.blocksizes.push(e.uint64());else n.blocksizes.push(e.uint64());break;case 5:n.hashType=e.uint64();break;case 6:n.fanout=e.uint64();break;case 7:n.mode=e.uint32();break;case 8:n.mtime=$root.UnixTime.decode(e,e.uint32());break;default:e.skipType(7&i)}}if(!n.hasOwnProperty("Type"))throw $util.ProtocolError("missing required 'Type'",{instance:n});return n},e.fromObject=function(e){if(e instanceof $root.Data)return e;var t=new $root.Data;switch(e.Type){case"Raw":case 0:t.Type=0;break;case"Directory":case 1:t.Type=1;break;case"File":case 2:t.Type=2;break;case"Metadata":case 3:t.Type=3;break;case"Symlink":case 4:t.Type=4;break;case"HAMTShard":case 5:t.Type=5}if(null!=e.Data&&("string"==typeof e.Data?$util.base64.decode(e.Data,t.Data=$util.newBuffer($util.base64.length(e.Data)),0):e.Data.length&&(t.Data=e.Data)),null!=e.filesize&&($util.Long?(t.filesize=$util.Long.fromValue(e.filesize)).unsigned=!0:"string"==typeof e.filesize?t.filesize=parseInt(e.filesize,10):"number"==typeof e.filesize?t.filesize=e.filesize:"object"===_typeof(e.filesize)&&(t.filesize=new $util.LongBits(e.filesize.low>>>0,e.filesize.high>>>0).toNumber(!0))),e.blocksizes){if(!Array.isArray(e.blocksizes))throw TypeError(".Data.blocksizes: array expected");t.blocksizes=[];for(var r=0;r<e.blocksizes.length;++r)$util.Long?(t.blocksizes[r]=$util.Long.fromValue(e.blocksizes[r])).unsigned=!0:"string"==typeof e.blocksizes[r]?t.blocksizes[r]=parseInt(e.blocksizes[r],10):"number"==typeof e.blocksizes[r]?t.blocksizes[r]=e.blocksizes[r]:"object"===_typeof(e.blocksizes[r])&&(t.blocksizes[r]=new $util.LongBits(e.blocksizes[r].low>>>0,e.blocksizes[r].high>>>0).toNumber(!0))}if(null!=e.hashType&&($util.Long?(t.hashType=$util.Long.fromValue(e.hashType)).unsigned=!0:"string"==typeof e.hashType?t.hashType=parseInt(e.hashType,10):"number"==typeof e.hashType?t.hashType=e.hashType:"object"===_typeof(e.hashType)&&(t.hashType=new $util.LongBits(e.hashType.low>>>0,e.hashType.high>>>0).toNumber(!0))),null!=e.fanout&&($util.Long?(t.fanout=$util.Long.fromValue(e.fanout)).unsigned=!0:"string"==typeof e.fanout?t.fanout=parseInt(e.fanout,10):"number"==typeof e.fanout?t.fanout=e.fanout:"object"===_typeof(e.fanout)&&(t.fanout=new $util.LongBits(e.fanout.low>>>0,e.fanout.high>>>0).toNumber(!0))),null!=e.mode&&(t.mode=e.mode>>>0),null!=e.mtime){if("object"!==_typeof(e.mtime))throw TypeError(".Data.mtime: object expected");t.mtime=$root.UnixTime.fromObject(e.mtime)}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.blocksizes=[]),t.defaults){if(r.Type=t.enums===String?"Raw":0,t.bytes===String?r.Data="":(r.Data=[],t.bytes!==Array&&(r.Data=$util.newBuffer(r.Data))),$util.Long){var n=new $util.Long(0,0,!0);r.filesize=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.filesize=t.longs===String?"0":0;$util.Long?(n=new $util.Long(0,0,!0),r.hashType=t.longs===String?n.toString():t.longs===Number?n.toNumber():n):r.hashType=t.longs===String?"0":0,$util.Long?(n=new $util.Long(0,0,!0),r.fanout=t.longs===String?n.toString():t.longs===Number?n.toNumber():n):r.fanout=t.longs===String?"0":0,r.mode=0,r.mtime=null}if(null!=e.Type&&e.hasOwnProperty("Type")&&(r.Type=t.enums===String?$root.Data.DataType[e.Type]:e.Type),null!=e.Data&&e.hasOwnProperty("Data")&&(r.Data=t.bytes===String?$util.base64.encode(e.Data,0,e.Data.length):t.bytes===Array?Array.prototype.slice.call(e.Data):e.Data),null!=e.filesize&&e.hasOwnProperty("filesize")&&("number"==typeof e.filesize?r.filesize=t.longs===String?String(e.filesize):e.filesize:r.filesize=t.longs===String?$util.Long.prototype.toString.call(e.filesize):t.longs===Number?new $util.LongBits(e.filesize.low>>>0,e.filesize.high>>>0).toNumber(!0):e.filesize),e.blocksizes&&e.blocksizes.length){r.blocksizes=[];for(var i=0;i<e.blocksizes.length;++i)"number"==typeof e.blocksizes[i]?r.blocksizes[i]=t.longs===String?String(e.blocksizes[i]):e.blocksizes[i]:r.blocksizes[i]=t.longs===String?$util.Long.prototype.toString.call(e.blocksizes[i]):t.longs===Number?new $util.LongBits(e.blocksizes[i].low>>>0,e.blocksizes[i].high>>>0).toNumber(!0):e.blocksizes[i]}return null!=e.hashType&&e.hasOwnProperty("hashType")&&("number"==typeof e.hashType?r.hashType=t.longs===String?String(e.hashType):e.hashType:r.hashType=t.longs===String?$util.Long.prototype.toString.call(e.hashType):t.longs===Number?new $util.LongBits(e.hashType.low>>>0,e.hashType.high>>>0).toNumber(!0):e.hashType),null!=e.fanout&&e.hasOwnProperty("fanout")&&("number"==typeof e.fanout?r.fanout=t.longs===String?String(e.fanout):e.fanout:r.fanout=t.longs===String?$util.Long.prototype.toString.call(e.fanout):t.longs===Number?new $util.LongBits(e.fanout.low>>>0,e.fanout.high>>>0).toNumber(!0):e.fanout),null!=e.mode&&e.hasOwnProperty("mode")&&(r.mode=e.mode),null!=e.mtime&&e.hasOwnProperty("mtime")&&(r.mtime=$root.UnixTime.toObject(e.mtime,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},e.DataType=(t={},(r=Object.create(t))[t[0]="Raw"]=0,r[t[1]="Directory"]=1,r[t[2]="File"]=2,r[t[3]="Metadata"]=3,r[t[4]="Symlink"]=4,r[t[5]="HAMTShard"]=5,r),e}();$root.UnixTime=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.Seconds=$util.Long?$util.Long.fromBits(0,0,!1):0,e.prototype.FractionalNanoseconds=0,e.encode=function(e,t){return t||(t=$Writer.create()),t.uint32(8).int64(e.Seconds),null!=e.FractionalNanoseconds&&Object.hasOwnProperty.call(e,"FractionalNanoseconds")&&t.uint32(21).fixed32(e.FractionalNanoseconds),t},e.decode=function(e,t){e instanceof $Reader||(e=$Reader.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new $root.UnixTime;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.Seconds=e.int64();break;case 2:n.FractionalNanoseconds=e.fixed32();break;default:e.skipType(7&i)}}if(!n.hasOwnProperty("Seconds"))throw $util.ProtocolError("missing required 'Seconds'",{instance:n});return n},e.fromObject=function(e){if(e instanceof $root.UnixTime)return e;var t=new $root.UnixTime;return null!=e.Seconds&&($util.Long?(t.Seconds=$util.Long.fromValue(e.Seconds)).unsigned=!1:"string"==typeof e.Seconds?t.Seconds=parseInt(e.Seconds,10):"number"==typeof e.Seconds?t.Seconds=e.Seconds:"object"===_typeof(e.Seconds)&&(t.Seconds=new $util.LongBits(e.Seconds.low>>>0,e.Seconds.high>>>0).toNumber())),null!=e.FractionalNanoseconds&&(t.FractionalNanoseconds=e.FractionalNanoseconds>>>0),t},e.toObject=function(e,t){t||(t={});var r={};if(t.defaults){if($util.Long){var n=new $util.Long(0,0,!1);r.Seconds=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.Seconds=t.longs===String?"0":0;r.FractionalNanoseconds=0}return null!=e.Seconds&&e.hasOwnProperty("Seconds")&&("number"==typeof e.Seconds?r.Seconds=t.longs===String?String(e.Seconds):e.Seconds:r.Seconds=t.longs===String?$util.Long.prototype.toString.call(e.Seconds):t.longs===Number?new $util.LongBits(e.Seconds.low>>>0,e.Seconds.high>>>0).toNumber():e.Seconds),null!=e.FractionalNanoseconds&&e.hasOwnProperty("FractionalNanoseconds")&&(r.FractionalNanoseconds=e.FractionalNanoseconds),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},e}(),$root.Metadata=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.MimeType="",e.encode=function(e,t){return t||(t=$Writer.create()),null!=e.MimeType&&Object.hasOwnProperty.call(e,"MimeType")&&t.uint32(10).string(e.MimeType),t},e.decode=function(e,t){e instanceof $Reader||(e=$Reader.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new $root.Metadata;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.MimeType=e.string();break;default:e.skipType(7&i)}}return n},e.fromObject=function(e){if(e instanceof $root.Metadata)return e;var t=new $root.Metadata;return null!=e.MimeType&&(t.MimeType=String(e.MimeType)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.MimeType=""),null!=e.MimeType&&e.hasOwnProperty("MimeType")&&(r.MimeType=e.MimeType),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},e}();var PBData=Data,types=["raw","directory","file","metadata","symlink","hamt-sharded-directory"],dirTypes=["directory","hamt-sharded-directory"],DEFAULT_FILE_MODE=parseInt("0644",8),DEFAULT_DIRECTORY_MODE=parseInt("0755",8);function parseMode(e){if(null!=e)return"number"==typeof e?4095&e:"0"===(e=e.toString()).substring(0,1)?4095&parseInt(e,8):4095&parseInt(e,10)}function parseMtime(e){if(null!=e){var t;if(null!=e.secs&&(t={secs:e.secs,nsecs:e.nsecs}),null!=e.Seconds&&(t={secs:e.Seconds,nsecs:e.FractionalNanoseconds}),Array.isArray(e)&&(t={secs:e[0],nsecs:e[1]}),e instanceof Date){var r=e.getTime(),n=Math.floor(r/1e3);t={secs:n,nsecs:1e3*(r-1e3*n)}}if(Object.prototype.hasOwnProperty.call(t,"secs")){if(null!=t&&null!=t.nsecs&&(t.nsecs<0||t.nsecs>999999999))throw errCode(new Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return t}}}var UnixFS=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"file"};_classCallCheck(this,e);var r=t.type,n=t.data,i=t.blockSizes,a=t.hashType,o=t.fanout,s=t.mtime,u=t.mode;if(r&&!types.includes(r))throw errCode(new Error("Type: "+r+" is not valid"),"ERR_INVALID_TYPE");this.type=r||"file",this.data=n,this.hashType=a,this.fanout=o,this.blockSizes=i||[],this._originalMode=0,this.mode=parseMode(u),s&&(this.mtime=parseMtime(s),this.mtime&&!this.mtime.nsecs&&(this.mtime.nsecs=0))}return _createClass(e,[{key:"mode",get:function(){return this._mode},set:function(e){this._mode=this.isDirectory()?DEFAULT_DIRECTORY_MODE:DEFAULT_FILE_MODE;var t=parseMode(e);void 0!==t&&(this._mode=t)}},{key:"isDirectory",value:function(){return Boolean(this.type&&dirTypes.includes(this.type))}},{key:"addBlockSize",value:function(e){this.blockSizes.push(e)}},{key:"removeBlockSize",value:function(e){this.blockSizes.splice(e,1)}},{key:"fileSize",value:function(){if(this.isDirectory())return 0;var e=0;return this.blockSizes.forEach((function(t){e+=t})),this.data&&(e+=this.data.length),e}},{key:"marshal",value:function(){var e;switch(this.type){case"raw":e=PBData.DataType.Raw;break;case"directory":e=PBData.DataType.Directory;break;case"file":e=PBData.DataType.File;break;case"metadata":e=PBData.DataType.Metadata;break;case"symlink":e=PBData.DataType.Symlink;break;case"hamt-sharded-directory":e=PBData.DataType.HAMTShard;break;default:throw errCode(new Error("Type: "+e+" is not valid"),"ERR_INVALID_TYPE")}var t,r,n=this.data;if(this.data&&this.data.length||(n=void 0),null!=this.mode&&((t=4294963200&this._originalMode|(parseMode(this.mode)||0))!==DEFAULT_FILE_MODE||this.isDirectory()||(t=void 0),t===DEFAULT_DIRECTORY_MODE&&this.isDirectory()&&(t=void 0)),null!=this.mtime){var i=parseMtime(this.mtime);i&&0===(r={Seconds:i.secs,FractionalNanoseconds:i.nsecs}).FractionalNanoseconds&&delete r.FractionalNanoseconds}var a={Type:e,Data:n,filesize:this.isDirectory()?void 0:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:t,mtime:r};return PBData.encode(a).finish()}}],[{key:"unmarshal",value:function(t){var r=PBData.decode(t),n=PBData.toObject(r,{defaults:!1,arrays:!0,longs:Number,objects:!1}),i=new e({type:types[n.Type],data:n.Data,blockSizes:n.blocksizes,mode:n.mode,mtime:n.mtime?{secs:n.mtime.Seconds,nsecs:n.mtime.FractionalNanoseconds}:void 0});return i._originalMode=n.mode||0,i}}]),e}(),textDecoder=new TextDecoder;function decodeVarint(e,t){for(var r=0,n=0;;n+=7){if(n>=64)throw new Error("protobuf: varint overflow");if(t>=e.length)throw new Error("protobuf: unexpected end of data");var i=e[t++];if(r+=n<28?(127&i)<<n:(127&i)*Math.pow(2,n),i<128)break}return[r,t]}function decodeBytes(e,t){var r,n=_slicedToArray(decodeVarint(e,t),2);r=n[0];var i=(t=n[1])+r;if(r<0||i<0)throw new Error("protobuf: invalid length");if(i>e.length)throw new Error("protobuf: unexpected end of data");return[e.subarray(t,i),i]}function decodeKey(e,t){var r,n=_slicedToArray(decodeVarint(e,t),2);return[7&(r=n[0]),r>>3,t=n[1]]}function decodeLink(e){for(var t={},r=e.length,n=0;n<r;){var i,a,o=_slicedToArray(decodeKey(e,n),3);if(i=o[0],a=o[1],n=o[2],1===a){if(t.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(2!==i)throw new Error("protobuf: (PBLink) wrong wireType (".concat(i,") for Hash"));if(void 0!==t.Name)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");var s=_slicedToArray(decodeBytes(e,n),2);t.Hash=s[0],n=s[1]}else if(2===a){if(void 0!==t.Name)throw new Error("protobuf: (PBLink) duplicate Name section");if(2!==i)throw new Error("protobuf: (PBLink) wrong wireType (".concat(i,") for Name"));if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");var u,c=_slicedToArray(decodeBytes(e,n),2);u=c[0],n=c[1],t.Name=textDecoder.decode(u)}else{if(3!==a)throw new Error("protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ".concat(a));if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(0!==i)throw new Error("protobuf: (PBLink) wrong wireType (".concat(i,") for Tsize"));var l=_slicedToArray(decodeVarint(e,n),2);t.Tsize=l[0],n=l[1]}}if(n>r)throw new Error("protobuf: (PBLink) unexpected end of data");return t}function decodeNode(e){for(var t,r,n=e.length,i=0,a=!1;i<n;){var o,s,u=_slicedToArray(decodeKey(e,i),3);if(o=u[0],s=u[1],i=u[2],2!==o)throw new Error("protobuf: (PBNode) invalid wireType, expected 2, got ".concat(o));if(1===s){if(r)throw new Error("protobuf: (PBNode) duplicate Data section");var c=_slicedToArray(decodeBytes(e,i),2);r=c[0],i=c[1],t&&(a=!0)}else{if(2!==s)throw new Error("protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ".concat(s));if(a)throw new Error("protobuf: (PBNode) duplicate Links section");t||(t=[]);var l,f=_slicedToArray(decodeBytes(e,i),2);l=f[0],i=f[1],t.push(decodeLink(l))}}if(i>n)throw new Error("protobuf: (PBNode) unexpected end of data");var p={};return r&&(p.Data=r),p.Links=t||[],p}var textEncoder$1=new TextEncoder,maxInt32=Math.pow(2,32),maxUInt32=Math.pow(2,31);function encodeLink(e,t){var r=t.length;if("number"==typeof e.Tsize){if(e.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(e.Tsize))throw new Error("Tsize too large for encoding");t[r=encodeVarint(t,r,e.Tsize)-1]=24}if("string"==typeof e.Name){var n=textEncoder$1.encode(e.Name);r-=n.length,t.set(n,r),t[r=encodeVarint(t,r,n.length)-1]=18}return e.Hash&&(r-=e.Hash.length,t.set(e.Hash,r),t[r=encodeVarint(t,r,e.Hash.length)-1]=10),t.length-r}function encodeNode(e){var t=sizeNode(e),r=new Uint8Array(t),n=t;if(e.Data&&(n-=e.Data.length,r.set(e.Data,n),r[n=encodeVarint(r,n,e.Data.length)-1]=10),e.Links)for(var i=e.Links.length-1;i>=0;i--){var a=encodeLink(e.Links[i],r.subarray(0,n));r[n=encodeVarint(r,n-=a,a)-1]=18}return r}function sizeLink(e){var t=0;if(e.Hash){var r=e.Hash.length;t+=1+r+sov(r)}if("string"==typeof e.Name){var n=textEncoder$1.encode(e.Name).length;t+=1+n+sov(n)}return"number"==typeof e.Tsize&&(t+=1+sov(e.Tsize)),t}function sizeNode(e){var t=0;if(e.Data){var r=e.Data.length;t+=1+r+sov(r)}if(e.Links){var n,i=_createForOfIteratorHelper(e.Links);try{for(i.s();!(n=i.n()).done;){var a=sizeLink(n.value);t+=1+a+sov(a)}}catch(e){i.e(e)}finally{i.f()}}return t}function encodeVarint(e,t,r){for(var n=t-=sov(r);r>=maxUInt32;)e[t++]=127&r|128,r/=128;for(;r>=128;)e[t++]=127&r|128,r>>>=7;return e[t]=r,n}function sov(e){return e%2==0&&e++,Math.floor((len64(e)+6)/7)}function len64(e){var t=0;return e>=maxInt32&&(e=Math.floor(e/maxInt32),t=32),e>=65536&&(e>>>=16,t+=16),e>=256&&(e>>>=8,t+=8),t+len8tab[e]}var len8tab=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],pbNodeProperties=["Data","Links"],pbLinkProperties=["Hash","Name","Tsize"],textEncoder=new TextEncoder;function linkComparator(e,t){if(e===t)return 0;for(var r=e.Name?textEncoder.encode(e.Name):[],n=t.Name?textEncoder.encode(t.Name):[],i=r.length,a=n.length,o=0,s=Math.min(i,a);o<s;++o)if(r[o]!==n[o]){i=r[o],a=n[o];break}return i<a?-1:a<i?1:0}function hasOnlyProperties(e,t){return!Object.keys(e).some((function(e){return!t.includes(e)}))}function asLink(e){if("object"===_typeof(e.asCID)){var t=CID.asCID(e);if(!t)throw new TypeError("Invalid DAG-PB form");return{Hash:t}}if("object"!==_typeof(e)||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");var r={};if(e.Hash){var n=CID.asCID(e.Hash);try{n||("string"==typeof e.Hash?n=CID.parse(e.Hash):e.Hash instanceof Uint8Array&&(n=CID.decode(e.Hash)))}catch(e){throw new TypeError("Invalid DAG-PB form: ".concat(e.message))}n&&(r.Hash=n)}if(!r.Hash)throw new TypeError("Invalid DAG-PB form");return"string"==typeof e.Name&&(r.Name=e.Name),"number"==typeof e.Tsize&&(r.Tsize=e.Tsize),r}function prepare(e){if((e instanceof Uint8Array||"string"==typeof e)&&(e={Data:e}),"object"!==_typeof(e)||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");var t={};if(void 0!==e.Data)if("string"==typeof e.Data)t.Data=textEncoder.encode(e.Data);else{if(!(e.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form");t.Data=e.Data}if(void 0!==e.Links){if(!Array.isArray(e.Links))throw new TypeError("Invalid DAG-PB form");t.Links=e.Links.map(asLink),t.Links.sort(linkComparator)}else t.Links=[];return t}function validate(e){if(!e||"object"!==_typeof(e)||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");if(!hasOnlyProperties(e,pbNodeProperties))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(void 0!==e.Data&&!(e.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be a Uint8Array)");if(!Array.isArray(e.Links))throw new TypeError("Invalid DAG-PB form (Links must be an array)");for(var t=0;t<e.Links.length;t++){var r=e.Links[t];if(!r||"object"!==_typeof(r)||Array.isArray(r))throw new TypeError("Invalid DAG-PB form (bad link object)");if(!hasOnlyProperties(r,pbLinkProperties))throw new TypeError("Invalid DAG-PB form (extraneous properties on link object)");if(!r.Hash)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(r.Hash.asCID!==r.Hash)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(void 0!==r.Name&&"string"!=typeof r.Name)throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(void 0!==r.Tsize&&("number"!=typeof r.Tsize||r.Tsize%1!=0))throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(t>0&&-1===linkComparator(r,e.Links[t-1]))throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function createNode(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return prepare({Data:e,Links:t})}function createLink(e,t,r){return asLink({Hash:r,Name:e,Tsize:t})}var name$3="dag-pb",code$4=112;function encode$4(e){validate(e);var t={};return e.Links&&(t.Links=e.Links.map((function(e){var t={};return e.Hash&&(t.Hash=e.Hash.bytes),void 0!==e.Name&&(t.Name=e.Name),void 0!==e.Tsize&&(t.Tsize=e.Tsize),t}))),e.Data&&(t.Data=e.Data),encodeNode(t)}function decode$2(e){var t=decodeNode(e),r={};return t.Data&&(r.Data=t.Data),t.Links&&(r.Links=t.Links.map((function(e){var t={};try{t.Hash=CID.decode(e.Hash)}catch(e){}if(!t.Hash)throw new Error("Invalid Hash field found in link, expected CID");return void 0!==e.Name&&(t.Name=e.Name),void 0!==e.Tsize&&(t.Tsize=e.Tsize),t}))),r}var pb=Object.freeze(Object.defineProperty({__proto__:null,name:name$3,code:code$4,encode:encode$4,decode:decode$2,prepare,validate,createNode,createLink},Symbol.toStringTag,{value:"Module"})),persist=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r,n){var i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.codec||(n.codec=pb),n.hasher||(n.hasher=sha256),void 0===n.cidVersion&&(n.cidVersion=1),n.codec===pb&&n.hasher!==sha256&&(n.cidVersion=1),e.next=6,n.hasher.digest(t);case 6:if(i=e.sent,a=CID.create(n.cidVersion,n.codec.code,i),n.onlyHash){e.next=11;break}return e.next=11,r.put(a,t,{signal:n.signal});case 11:return e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),dirBuilder=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r,n){var i,a,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new UnixFS({type:"directory",mtime:t.mtime,mode:t.mode}),a=encode$4(prepare({Data:i.marshal()})),e.next=4,persist(a,r,n);case 4:return o=e.sent,s=t.path,e.abrupt("return",{cid:o,path:s,unixfs:i,size:a.length});case 7:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),name$2="raw",code$3=85,encode$3=function(e){return coerce(e)},decode$1=function(e){return coerce(e)},raw=Object.freeze(Object.defineProperty({__proto__:null,name:name$2,code:code$3,encode:encode$3,decode:decode$1},Symbol.toStringTag,{value:"Module"})),all=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,s,u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],n=!0,i=!1,e.prev=3,o=_asyncIterator(t);case 5:return e.next=7,o.next();case 7:return s=e.sent,n=s.done,e.next=11,s.value;case 11:if(u=e.sent,n){e.next=18;break}c=u,r.push(c);case 15:n=!0,e.next=5;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(3),i=!0,a=e.t0;case 24:if(e.prev=24,e.prev=25,n||null==o.return){e.next=29;break}return e.next=29,o.return();case 29:if(e.prev=29,!i){e.next=32;break}throw a;case 32:return e.finish(29);case 33:return e.finish(24);case 34:return e.abrupt("return",r);case 35:case"end":return e.stop()}}),e,null,[[3,20,24,34],[25,,29,33]])})));return function(t){return e.apply(this,arguments)}}(),itAll=all;function flat(e,t){return _flat.apply(this,arguments)}function _flat(){return(_flat=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.next=3,itAll(t);case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function balanced(e,t,r){return reduceToParents(e,t,r)}function reduceToParents(e,t,r){return _reduceToParents.apply(this,arguments)}function _reduceToParents(){return(_reduceToParents=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r,n){var i,a,o,s,u,c,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=[],a=!0,o=!1,e.prev=3,u=_asyncIterator(itBatch(t,n.maxChildrenPerNode));case 5:return e.next=7,u.next();case 7:return c=e.sent,a=c.done,e.next=11,c.value;case 11:if(l=e.sent,a){e.next=22;break}return f=l,e.t0=i,e.next=17,r(f);case 17:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 19:a=!0,e.next=5;break;case 22:e.next=28;break;case 24:e.prev=24,e.t2=e.catch(3),o=!0,s=e.t2;case 28:if(e.prev=28,e.prev=29,a||null==u.return){e.next=33;break}return e.next=33,u.return();case 33:if(e.prev=33,!o){e.next=36;break}throw s;case 36:return e.finish(33);case 37:return e.finish(28);case 38:if(!(i.length>1)){e.next=40;break}return e.abrupt("return",reduceToParents(i,r,n));case 40:return e.abrupt("return",i[0]);case 41:case"end":return e.stop()}}),e,null,[[3,24,28,38],[29,,33,37]])})))).apply(this,arguments)}function trickleStream(e,t,r){return _trickleStream.apply(this,arguments)}function _trickleStream(){return(_trickleStream=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r,n){var i,a,o,s,u,c,l,f,p,d,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=new Root(n.layerRepeat),a=0,o=1,s=i,u=!0,c=!1,e.prev=6,f=_asyncIterator(itBatch(t,n.maxChildrenPerNode));case 8:return e.next=10,f.next();case 10:return p=e.sent,u=p.done,e.next=14,p.value;case 14:if(d=e.sent,u){e.next=31;break}if(h=d,!s.isFull()){e.next=27;break}if(s===i){e.next=24;break}return e.t0=i,e.next=22,s.reduce(r);case 22:e.t1=e.sent,e.t0.addChild.call(e.t0,e.t1);case 24:a&&a%n.layerRepeat==0&&o++,s=new SubTree(o,n.layerRepeat,a),a++;case 27:s.append(h);case 28:u=!0,e.next=8;break;case 31:e.next=37;break;case 33:e.prev=33,e.t2=e.catch(6),c=!0,l=e.t2;case 37:if(e.prev=37,e.prev=38,u||null==f.return){e.next=42;break}return e.next=42,f.return();case 42:if(e.prev=42,!c){e.next=45;break}throw l;case 45:return e.finish(42);case 46:return e.finish(37);case 47:if(!s||s===i){e.next=53;break}return e.t3=i,e.next=51,s.reduce(r);case 51:e.t4=e.sent,e.t3.addChild.call(e.t3,e.t4);case 53:return e.abrupt("return",i.reduce(r));case 54:case"end":return e.stop()}}),e,null,[[6,33,37,47],[38,,42,46]])})))).apply(this,arguments)}var SubTree=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;_classCallCheck(this,e),this.maxDepth=t,this.layerRepeat=r,this.currentDepth=1,this.iteration=n,this.root=this.node=this.parent={children:[],depth:this.currentDepth,maxDepth:t,maxChildren:(this.maxDepth-this.currentDepth)*this.layerRepeat}}var t;return _createClass(e,[{key:"isFull",value:function(){if(!this.root.data)return!1;if(this.currentDepth<this.maxDepth&&this.node.maxChildren)return this._addNextNodeToParent(this.node),!1;var e=this._findParent(this.node,this.currentDepth);return!e||(this._addNextNodeToParent(e),!1)}},{key:"_addNextNodeToParent",value:function(e){this.parent=e;var t={children:[],depth:e.depth+1,parent:e,maxDepth:this.maxDepth,maxChildren:Math.floor(e.children.length/this.layerRepeat)*this.layerRepeat};e.children.push(t),this.currentDepth=t.depth,this.node=t}},{key:"append",value:function(e){this.node.data=e}},{key:"reduce",value:function(e){return this._reduce(this.root,e)}},{key:"_reduce",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r){var n,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],!t.children.length){e.next=5;break}return e.next=4,Promise.all(t.children.filter((function(e){return e.data})).map((function(e){return i._reduce(e,r)})));case 4:n=e.sent;case 5:return e.abrupt("return",r((t.data||[]).concat(n)));case 6:case"end":return e.stop()}}),e)}))),function(e,r){return t.apply(this,arguments)})},{key:"_findParent",value:function(e,t){var r=e.parent;if(r&&0!==r.depth)return r.children.length!==r.maxChildren&&r.maxChildren?r:this._findParent(r,t)}}]),e}(),Root=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){var n;return _classCallCheck(this,r),(n=t.call(this,0,e)).root.depth=0,n.currentDepth=1,n}return _createClass(r,[{key:"addChild",value:function(e){this.root.children.push(e)}},{key:"reduce",value:function(e){return e((this.root.data||[]).concat(this.root.children))}}]),r}(SubTree);function bufferImporter(e,t,r){return _bufferImporter.apply(this,arguments)}function _bufferImporter(){return(_bufferImporter=_wrapAsyncGenerator(regeneratorRuntime.mark((function e(t,r,n){var i,a,o,s,u,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=!0,a=!1,e.prev=2,s=regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=l,e.next=3,_asyncToGenerator(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.progress(i.length,t.path),o={codec:pb,cidVersion:n.cidVersion,hasher:n.hasher,onlyHash:n.onlyHash},n.rawLeaves?(o.codec=raw,o.cidVersion=1):(a=new UnixFS({type:n.leafType,data:i}),i=encode$4({Data:a.marshal(),Links:[]})),e.next=5,persist(i,r,o);case 5:return e.t0=e.sent,e.t1=a,e.t2=i.length,e.abrupt("return",{cid:e.t0,unixfs:e.t1,size:e.t2});case 9:case"end":return e.stop()}}),e)})));case 3:case"end":return e.stop()}}),e)})),u=_asyncIterator(t.content);case 5:return e.next=7,_awaitAsyncGenerator(u.next());case 7:return c=e.sent,i=c.done,e.next=11,_awaitAsyncGenerator(c.value);case 11:if(l=e.sent,i){e.next=17;break}return e.delegateYield(s(),"t0",14);case 14:i=!0,e.next=5;break;case 17:e.next=23;break;case 19:e.prev=19,e.t1=e.catch(2),a=!0,o=e.t1;case 23:if(e.prev=23,e.prev=24,i||null==u.return){e.next=28;break}return e.next=28,_awaitAsyncGenerator(u.return());case 28:if(e.prev=28,!a){e.next=31;break}throw o;case 31:return e.finish(28);case 32:return e.finish(23);case 33:case"end":return e.stop()}}),e,null,[[2,19,23,33],[24,,28,32]])})))).apply(this,arguments)}var dagBuilders={flat,balanced,trickle:trickleStream};function buildFileBatch(e,t,r){return _buildFileBatch.apply(this,arguments)}function _buildFileBatch(){return(_buildFileBatch=_wrapAsyncGenerator(regeneratorRuntime.mark((function e(t,r,n){var i,a,o,s,u,c,l,f,p,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=-1,o="function"==typeof n.bufferImporter?n.bufferImporter:bufferImporter,s=!0,u=!1,e.prev=4,l=_asyncIterator(itParallelBatch(o(t,r,n),n.blockWriteConcurrency));case 6:return e.next=8,_awaitAsyncGenerator(l.next());case 8:return f=e.sent,s=f.done,e.next=12,_awaitAsyncGenerator(f.value);case 12:if(p=e.sent,s){e.next=30;break}if(d=p,0!=++i){e.next=21;break}return a=d,e.abrupt("continue",27);case 21:if(1!==i||!a){e.next=25;break}return e.next=24,a;case 24:a=null;case 25:return e.next=27,d;case 27:s=!0,e.next=6;break;case 30:e.next=36;break;case 32:e.prev=32,e.t0=e.catch(4),u=!0,c=e.t0;case 36:if(e.prev=36,e.prev=37,s||null==l.return){e.next=41;break}return e.next=41,_awaitAsyncGenerator(l.return());case 41:if(e.prev=41,!u){e.next=44;break}throw c;case 44:return e.finish(41);case 45:return e.finish(36);case 46:if(!a){e.next=50;break}return a.single=!0,e.next=50,a;case 50:case"end":return e.stop()}}),e,null,[[4,32,36,46],[37,,41,45]])})))).apply(this,arguments)}var reduce=function(e,t,r){function n(){return(n=_asyncToGenerator(regeneratorRuntime.mark((function n(i){var a,o,s,u,c,l,f;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(1!==i.length||!i[0].single||!r.reduceSingleLeafToSelf){n.next=13;break}if(a=i[0],void 0===e.mtime&&void 0===e.mode){n.next=12;break}return n.next=5,t.get(a.cid);case 5:return o=n.sent,a.unixfs=new UnixFS({type:"file",mtime:e.mtime,mode:e.mode,data:o}),o=encode$4(prepare({Data:a.unixfs.marshal()})),n.next=10,persist(o,t,__spreadProps(__spreadValues({},r),{codec:pb,hasher:r.hasher,cidVersion:r.cidVersion}));case 10:a.cid=n.sent,a.size=o.length;case 12:return n.abrupt("return",{cid:a.cid,path:e.path,unixfs:a.unixfs,size:a.size});case 13:return s=new UnixFS({type:"file",mtime:e.mtime,mode:e.mode}),u=i.filter((function(e){return!(e.cid.code!==code$3||!e.size)||!(!e.unixfs||e.unixfs.data||!e.unixfs.fileSize())||Boolean(e.unixfs&&e.unixfs.data&&e.unixfs.data.length)})).map((function(e){return e.cid.code===code$3?(s.addBlockSize(e.size),{Name:"",Tsize:e.size,Hash:e.cid}):(e.unixfs&&e.unixfs.data?s.addBlockSize(e.unixfs.data.length):s.addBlockSize(e.unixfs&&e.unixfs.fileSize()||0),{Name:"",Tsize:e.size,Hash:e.cid})})),c={Data:s.marshal(),Links:u},l=encode$4(prepare(c)),n.next=19,persist(l,t,r);case 19:return f=n.sent,n.abrupt("return",{cid:f,path:e.path,unixfs:s,size:l.length+c.Links.reduce((function(e,t){return e+t.Tsize}),0)});case 21:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return function(e){return n.apply(this,arguments)}};function fileBuilder(e,t,r){var n=dagBuilders[r.strategy];if(!n)throw errCode(new Error("Unknown importer build strategy name: ".concat(r.strategy)),"ERR_BAD_STRATEGY");return n(buildFileBatch(e,t,r),reduce(e,t,r),r)}var buffer={},base64Js={};base64Js.byteLength=byteLength,base64Js.toByteArray=toByteArray,base64Js.fromByteArray=fromByteArray;for(var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,code$2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code$2.length;i<len;++i)lookup[i]=code$2[i],revLookup[code$2.charCodeAt(i)]=i;function getLens(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function byteLength(e){var t=getLens(e),r=t[0],n=t[1];return 3*(r+n)/4-n}function _byteLength(e,t,r){return 3*(t+r)/4-r}function toByteArray(e){var t,r,n=getLens(e),i=n[0],a=n[1],o=new Arr(_byteLength(e,i,a)),s=0,u=a>0?i-4:i;for(r=0;r<u;r+=4)t=revLookup[e.charCodeAt(r)]<<18|revLookup[e.charCodeAt(r+1)]<<12|revLookup[e.charCodeAt(r+2)]<<6|revLookup[e.charCodeAt(r+3)],o[s++]=t>>16&255,o[s++]=t>>8&255,o[s++]=255&t;return 2===a&&(t=revLookup[e.charCodeAt(r)]<<2|revLookup[e.charCodeAt(r+1)]>>4,o[s++]=255&t),1===a&&(t=revLookup[e.charCodeAt(r)]<<10|revLookup[e.charCodeAt(r+1)]<<4|revLookup[e.charCodeAt(r+2)]>>2,o[s++]=t>>8&255,o[s++]=255&t),o}function tripletToBase64(e){return lookup[e>>18&63]+lookup[e>>12&63]+lookup[e>>6&63]+lookup[63&e]}function encodeChunk(e,t,r){for(var n,i=[],a=t;a<r;a+=3)n=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),i.push(tripletToBase64(n));return i.join("")}function fromByteArray(e){for(var t,r=e.length,n=r%3,i=[],a=16383,o=0,s=r-n;o<s;o+=a)i.push(encodeChunk(e,o,o+a>s?s:o+a));return 1===n?(t=e[r-1],i.push(lookup[t>>2]+lookup[t<<4&63]+"==")):2===n&&(t=(e[r-2]<<8)+e[r-1],i.push(lookup[t>>10]+lookup[t>>4&63]+lookup[t<<2&63]+"=")),i.join("")}revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63;var ieee754={read:function(e,t,r,n,i){var a,o,s=8*i-n-1,u=(1<<s)-1,c=u>>1,l=-7,f=r?i-1:0,p=r?-1:1,d=e[t+f];for(f+=p,a=d&(1<<-l)-1,d>>=-l,l+=s;l>0;a=256*a+e[t+f],f+=p,l-=8);for(o=a&(1<<-l)-1,a>>=-l,l+=n;l>0;o=256*o+e[t+f],f+=p,l-=8);if(0===a)a=1-c;else{if(a===u)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,n),a-=c}return(d?-1:1)*o*Math.pow(2,a-n)},write:function(e,t,r,n,i,a){var o,s,u,c=8*a-i-1,l=(1<<c)-1,f=l>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:a-1,h=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+f>=1?p/u:p*Math.pow(2,1-f))*u>=2&&(o++,u/=2),o+f>=l?(s=0,o=l):o+f>=1?(s=(t*u-1)*Math.pow(2,i),o+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;e[r+d]=255&s,d+=h,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;e[r+d]=255&o,d+=h,o/=256,c-=8);e[r+d-h]|=128*m}};!function(e){var t=base64Js,r=ieee754,n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=o,e.SlowBuffer=function(e){return+e!=e&&(e=0),o.alloc(+e)},e.INSPECT_MAX_BYTES=50;var i=2147483647;function a(e){if(e>i)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,o.prototype),t}function o(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return c(e)}return s(e,t,r)}function s(e,t,r){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!o.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|d(e,t),n=a(r),i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(K(e,Uint8Array)){var t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return l(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+_typeof(e));if(K(e,ArrayBuffer)||e&&K(e.buffer,ArrayBuffer))return f(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(K(e,SharedArrayBuffer)||e&&K(e.buffer,SharedArrayBuffer)))return f(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return o.from(n,t,r);var i=function(e){if(o.isBuffer(e)){var t=0|p(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||V(e.length)?a(0):l(e):"Buffer"===e.type&&Array.isArray(e.data)?l(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return o.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+_typeof(e))}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return u(e),a(e<0?0:0|p(e))}function l(e){for(var t=e.length<0?0:0|p(e.length),r=a(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function f(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,o.prototype),n}function p(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function d(e,t){if(o.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||K(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+_typeof(e));var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return H(e).length;default:if(i)return n?-1:G(e).length;t=(""+t).toLowerCase(),i=!0}}function h(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return C(this,t,r);case"utf8":case"utf-8":return T(this,t,r);case"ascii":return A(this,t,r);case"latin1":case"binary":return S(this,t,r);case"base64":return x(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function m(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function y(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),V(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=o.from(t,n)),o.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,n,i){var a,o=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,s/=2,u/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var l=-1;for(a=r;a<s;a++)if(c(e,a)===c(t,-1===l?0:a-l)){if(-1===l&&(l=a),a-l+1===u)return l*o}else-1!==l&&(a-=a-l),l=-1}else for(r+u>s&&(r=s-u),a=r;a>=0;a--){for(var f=!0,p=0;p<u;p++)if(c(e,a+p)!==c(t,p)){f=!1;break}if(f)return a}return-1}function g(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var a,o=t.length;for(n>o/2&&(n=o/2),a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(V(s))return a;e[r+a]=s}return a}function b(e,t,r,n){return W(G(t,e.length-r),e,r,n)}function _(e,t,r,n){return W(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function w(e,t,r,n){return W(H(t),e,r,n)}function k(e,t,r,n){return W(function(e,t){for(var r,n,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i=r%256,a.push(i),a.push(n);return a}(t,e.length-r),e,r,n)}function x(e,r,n){return 0===r&&n===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(r,n))}function T(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var a=e[i],o=null,s=a>239?4:a>223?3:a>191?2:1;if(i+s<=r){var u=void 0,c=void 0,l=void 0,f=void 0;switch(s){case 1:a<128&&(o=a);break;case 2:128==(192&(u=e[i+1]))&&(f=(31&a)<<6|63&u)>127&&(o=f);break;case 3:u=e[i+1],c=e[i+2],128==(192&u)&&128==(192&c)&&(f=(15&a)<<12|(63&u)<<6|63&c)>2047&&(f<55296||f>57343)&&(o=f);break;case 4:u=e[i+1],c=e[i+2],l=e[i+3],128==(192&u)&&128==(192&c)&&128==(192&l)&&(f=(15&a)<<18|(63&u)<<12|(63&c)<<6|63&l)>65535&&f<1114112&&(o=f)}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return function(e){var t=e.length;if(t<=E)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=E));return r}(n)}e.kMaxLength=i,o.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),o.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),o.poolSize=8192,o.from=function(e,t,r){return s(e,t,r)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(e,t,r){return function(e,t,r){return u(e),e<=0?a(e):void 0!==t?"string"==typeof r?a(e).fill(t,r):a(e).fill(t):a(e)}(e,t,r)},o.allocUnsafe=function(e){return c(e)},o.allocUnsafeSlow=function(e){return c(e)},o.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==o.prototype},o.compare=function(e,t){if(K(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),K(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=o.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(K(a,Uint8Array))i+a.length>n.length?(o.isBuffer(a)||(a=o.from(a)),a.copy(n,i)):Uint8Array.prototype.set.call(n,a,i);else{if(!o.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i)}i+=a.length}return n},o.byteLength=d,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},o.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?T(this,0,e):h.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(e,t,r,n,i){if(K(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+_typeof(e));if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0),u=Math.min(a,s),c=this.slice(n,i),l=e.slice(t,r),f=0;f<u;++f)if(c[f]!==l[f]){a=c[f],s=l[f];break}return a<s?-1:s<a?1:0},o.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},o.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},o.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)},o.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return g(this,e,t,r);case"utf8":case"utf-8":return b(this,e,t,r);case"ascii":case"latin1":case"binary":return _(this,e,t,r);case"base64":return w(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var E=4096;function A(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function S(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function C(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=t;a<r;++a)i+=J[e[a]];return i}function O(e,t,r){for(var n=e.slice(t,r),i="",a=0;a<n.length-1;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function R(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,r,n,i,a){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function I(e,t,r,n,i){F(t,n,i,e,r,7);var a=Number(t&BigInt(4294967295));e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a;var o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,r}function N(e,t,r,n,i){F(t,n,i,e,r,7);var a=Number(t&BigInt(4294967295));e[r+7]=a,a>>=8,e[r+6]=a,a>>=8,e[r+5]=a,a>>=8,e[r+4]=a;var o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=o,o>>=8,e[r+2]=o,o>>=8,e[r+1]=o,o>>=8,e[r]=o,r+8}function $(e,t,r,n,i,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function B(e,t,n,i,a){return t=+t,n>>>=0,a||$(e,0,n,4),r.write(e,t,n,i,23,4),n+4}function M(e,t,n,i,a){return t=+t,n>>>=0,a||$(e,0,n,8),r.write(e,t,n,i,52,8),n+8}o.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,o.prototype),n},o.prototype.readUintLE=o.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n},o.prototype.readUintBE=o.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},o.prototype.readUint8=o.prototype.readUInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),this[e]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readBigUInt64LE=Y((function(e){U(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||z(e,this.length-8);var n=t+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,24),i=this[++e]+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+r*Math.pow(2,24);return BigInt(n)+(BigInt(i)<<BigInt(32))})),o.prototype.readBigUInt64BE=Y((function(e){U(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||z(e,this.length-8);var n=t*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+this[++e],i=this[++e]*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),o.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},o.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);for(var n=t,i=1,a=this[e+--n];n>0&&(i*=256);)a+=this[e+--n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},o.prototype.readInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){e>>>=0,t||R(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt16BE=function(e,t){e>>>=0,t||R(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readBigInt64LE=Y((function(e){U(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||z(e,this.length-8);var n=this[e+4]+this[e+5]*Math.pow(2,8)+this[e+6]*Math.pow(2,16)+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,24))})),o.prototype.readBigInt64BE=Y((function(e){U(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||z(e,this.length-8);var n=(t<<24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+r)})),o.prototype.readFloatLE=function(e,t){return e>>>=0,t||R(e,4,this.length),r.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return e>>>=0,t||R(e,4,this.length),r.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return e>>>=0,t||R(e,8,this.length),r.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return e>>>=0,t||R(e,8,this.length),r.read(this,e,!1,52,8)},o.prototype.writeUintLE=o.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||P(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||P(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},o.prototype.writeUint8=o.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,1,255,0),this[t]=255&e,t+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeBigUInt64LE=Y((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return I(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),o.prototype.writeBigUInt64BE=Y((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return N(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),o.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);P(this,e,t,r,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<r&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},o.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);P(this,e,t,r,i-1,-i)}var a=r-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},o.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},o.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeBigInt64LE=Y((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return I(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),o.prototype.writeBigInt64BE=Y((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return N(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),o.prototype.writeFloatLE=function(e,t,r){return B(this,e,t,!0,r)},o.prototype.writeFloatBE=function(e,t,r){return B(this,e,t,!1,r)},o.prototype.writeDoubleLE=function(e,t,r){return M(this,e,t,!0,r)},o.prototype.writeDoubleBE=function(e,t,r){return M(this,e,t,!1,r)},o.prototype.copy=function(e,t,r,n){if(!o.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},o.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!o.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var i=e.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var a;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(a=t;a<r;++a)this[a]=e;else{var s=o.isBuffer(e)?e:o.from(e,n),u=s.length;if(0===u)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<r-t;++a)this[a+t]=s[a%u]}return this};var L={};function j(e,t,r){L[e]=function(r){_inherits(i,r);var n=_createSuper(i);function i(){var r;return _classCallCheck(this,i),r=n.call(this),Object.defineProperty(_assertThisInitialized(r),"message",{value:t.apply(_assertThisInitialized(r),arguments),writable:!0,configurable:!0}),r.name="".concat(r.name," [").concat(e,"]"),r.stack,delete r.name,r}return _createClass(i,[{key:"code",get:function(){return e},set:function(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(e,"]: ").concat(this.message)}}]),i}(r)}function D(e){for(var t="",r=e.length,n="-"===e[0]?1:0;r>=n+4;r-=3)t="_".concat(e.slice(r-3,r)).concat(t);return"".concat(e.slice(0,r)).concat(t)}function F(e,t,r,n,i,a){if(e>r||e<t){var o,s="bigint"==typeof t?"n":"";throw o=a>3?0===t||t===BigInt(0)?">= 0".concat(s," and < 2").concat(s," ** ").concat(8*(a+1)).concat(s):">= -(2".concat(s," ** ").concat(8*(a+1)-1).concat(s,") and < 2 ** ").concat(8*(a+1)-1).concat(s):">= ".concat(t).concat(s," and <= ").concat(r).concat(s),new L.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,r){U(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||z(t,e.length-(r+1))}(n,i,a)}function U(e,t){if("number"!=typeof e)throw new L.ERR_INVALID_ARG_TYPE(t,"number",e)}function z(e,t,r){if(Math.floor(e)!==e)throw U(e,r),new L.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new L.ERR_BUFFER_OUT_OF_BOUNDS;throw new L.ERR_OUT_OF_RANGE(r||"offset",">= ".concat(r?1:0," and <= ").concat(t),e)}j("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?"".concat(e," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"}),RangeError),j("ERR_INVALID_ARG_TYPE",(function(e,t){return'The "'.concat(e,'" argument must be of type number. Received type ').concat(_typeof(t))}),TypeError),j("ERR_OUT_OF_RANGE",(function(e,t,r){var n='The value of "'.concat(e,'" is out of range.'),i=r;return Number.isInteger(r)&&Math.abs(r)>Math.pow(2,32)?i=D(String(r)):"bigint"==typeof r&&(i=String(r),(r>Math.pow(BigInt(2),BigInt(32))||r<-Math.pow(BigInt(2),BigInt(32)))&&(i=D(i)),i+="n"),n+" It must be ".concat(t,". Received ").concat(i)}),RangeError);var q=/[^+/0-9A-Za-z-_]/g;function G(e,t){var r;t=t||1/0;for(var n=e.length,i=null,a=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function H(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function W(e,t,r,n){var i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function K(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function V(e){return e!=e}var J=function(){for(var e="0123456789abcdef",t=new Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}();function Y(e){return"undefined"==typeof BigInt?X:e}function X(){throw new Error("BigInt not supported")}}(buffer);var Buffer$1=buffer.Buffer,symbol=Symbol.for("BufferList");function BufferList(e){if(!(this instanceof BufferList))return new BufferList(e);BufferList._init.call(this,e)}BufferList._init=function(e){Object.defineProperty(this,symbol,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)},BufferList.prototype._new=function(e){return new BufferList(e)},BufferList.prototype._offset=function(e){if(0===e)return[0,0];for(var t=0,r=0;r<this._bufs.length;r++){var n=t+this._bufs[r].length;if(e<n||r===this._bufs.length-1)return[r,e-t];t=n}},BufferList.prototype._reverseOffset=function(e){for(var t=e[0],r=e[1],n=0;n<t;n++)r+=this._bufs[n].length;return r},BufferList.prototype.get=function(e){if(!(e>this.length||e<0)){var t=this._offset(e);return this._bufs[t[0]][t[1]]}},BufferList.prototype.slice=function(e,t){return"number"==typeof e&&e<0&&(e+=this.length),"number"==typeof t&&t<0&&(t+=this.length),this.copy(null,0,e,t)},BufferList.prototype.copy=function(e,t,r,n){if(("number"!=typeof r||r<0)&&(r=0),("number"!=typeof n||n>this.length)&&(n=this.length),r>=this.length)return e||Buffer$1.alloc(0);if(n<=0)return e||Buffer$1.alloc(0);var i=!!e,a=this._offset(r),o=n-r,s=o,u=i&&t||0,c=a[1];if(0===r&&n===this.length){if(!i)return 1===this._bufs.length?this._bufs[0]:Buffer$1.concat(this._bufs,this.length);for(var l=0;l<this._bufs.length;l++)this._bufs[l].copy(e,u),u+=this._bufs[l].length;return e}if(s<=this._bufs[a[0]].length-c)return i?this._bufs[a[0]].copy(e,t,c,c+s):this._bufs[a[0]].slice(c,c+s);i||(e=Buffer$1.allocUnsafe(o));for(var f=a[0];f<this._bufs.length;f++){var p=this._bufs[f].length-c;if(!(s>p)){this._bufs[f].copy(e,u,c,c+s),u+=p;break}this._bufs[f].copy(e,u,c),u+=p,s-=p,c&&(c=0)}return e.length>u?e.slice(0,u):e},BufferList.prototype.shallowSlice=function(e,t){if(e=e||0,t="number"!=typeof t?this.length:t,e<0&&(e+=this.length),t<0&&(t+=this.length),e===t)return this._new();var r=this._offset(e),n=this._offset(t),i=this._bufs.slice(r[0],n[0]+1);return 0===n[1]?i.pop():i[i.length-1]=i[i.length-1].slice(0,n[1]),0!==r[1]&&(i[0]=i[0].slice(r[1])),this._new(i)},BufferList.prototype.toString=function(e,t,r){return this.slice(t,r).toString(e)},BufferList.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;){if(!(e>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},BufferList.prototype.duplicate=function(){for(var e=this._new(),t=0;t<this._bufs.length;t++)e.append(this._bufs[t]);return e},BufferList.prototype.append=function(e){if(null==e)return this;if(e.buffer)this._appendBuffer(Buffer$1.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(var t=0;t<e.length;t++)this.append(e[t]);else if(this._isBufferList(e))for(var r=0;r<e._bufs.length;r++)this.append(e._bufs[r]);else"number"==typeof e&&(e=e.toString()),this._appendBuffer(Buffer$1.from(e));return this},BufferList.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length},BufferList.prototype.indexOf=function(e,t,r){if(void 0===r&&"string"==typeof t&&(r=t,t=void 0),"function"==typeof e||Array.isArray(e))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof e?e=Buffer$1.from([e]):"string"==typeof e?e=Buffer$1.from(e,r):this._isBufferList(e)?e=e.slice():Array.isArray(e.buffer)?e=Buffer$1.from(e.buffer,e.byteOffset,e.byteLength):Buffer$1.isBuffer(e)||(e=Buffer$1.from(e)),t=Number(t||0),isNaN(t)&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),0===e.length)return t>this.length?this.length:t;for(var n=this._offset(t),i=n[0],a=n[1];i<this._bufs.length;i++){for(var o=this._bufs[i];a<o.length;)if(o.length-a>=e.length){var s=o.indexOf(e,a);if(-1!==s)return this._reverseOffset([i,s]);a=o.length-e.length+1}else{var u=this._reverseOffset([i,a]);if(this._match(u,e))return u;a++}a=0}return-1},BufferList.prototype._match=function(e,t){if(this.length-e<t.length)return!1;for(var r=0;r<t.length;r++)if(this.get(e+r)!==t[r])return!1;return!0},function(){var e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(var t in e)!function(t){BufferList.prototype[t]=null===e[t]?function(e,r){return this.slice(e,e+r)[t](0,r)}:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.slice(r,r+e[t])[t](0)}}(t)}(),BufferList.prototype._isBufferList=function(e){return e instanceof BufferList||BufferList.isBufferList(e)},BufferList.isBufferList=function(e){return null!=e&&e[symbol]};var BufferList_1=BufferList,Rabin$1=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8192,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32768,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:64,o=arguments.length>5?arguments[5]:void 0;_classCallCheck(this,e),this.bits=r,this.min=n,this.max=i,this.asModule=t,this.rabin=new t.Rabin(r,n,i,a,o),this.polynomial=o}return _createClass(e,[{key:"fingerprint",value:function(e){var t=this.asModule,r=t.__retain,n=t.__release,i=t.__allocArray,a=t.__getInt32Array,o=t.Int32Array_ID,s=t.Uint8Array_ID,u=r(i(o,new Int32Array(Math.ceil(e.length/this.min)))),c=r(i(s,e)),l=a(this.rabin.fingerprint(c,u));n(c),n(u);var f=l.indexOf(0);return f>=0?l.subarray(0,f):l}}]),e}(),rabin$1=Rabin$1,loader={},ID_OFFSET=-8,SIZE_OFFSET=-4,ARRAYBUFFER_ID=0,STRING_ID=1,ARRAYBUFFERVIEW=1,ARRAY=2,VAL_ALIGN_OFFSET=5,VAL_SIGNED=1024,VAL_FLOAT=2048,VAL_MANAGED=8192,ARRAYBUFFERVIEW_BUFFER_OFFSET=0,ARRAYBUFFERVIEW_DATASTART_OFFSET=4,ARRAYBUFFERVIEW_DATALENGTH_OFFSET=8,ARRAYBUFFERVIEW_SIZE=12,ARRAY_LENGTH_OFFSET=12,ARRAY_SIZE=16,BIGINT="undefined"!=typeof BigUint64Array,THIS=Symbol(),CHUNKSIZE=1024;function getStringImpl(e,t){var r=new Uint32Array(e),n=new Uint16Array(e),i=r[t+SIZE_OFFSET>>>2]>>>1,a=t>>>1;if(i<=CHUNKSIZE)return String.fromCharCode.apply(String,n.subarray(a,a+i));var o=[];do{var s=n[a+CHUNKSIZE-1],u=s>=55296&&s<56320?CHUNKSIZE-1:CHUNKSIZE;o.push(String.fromCharCode.apply(String,n.subarray(a,a+=u))),i-=u}while(i>CHUNKSIZE);return o.join("")+String.fromCharCode.apply(String,n.subarray(a,a+i))}function preInstantiate(e){var t={};function r(e,t){return e?getStringImpl(e.buffer,t):"<yet unknown>"}var n=e.env=e.env||{};return n.abort=n.abort||function(e,i,a,o){var s=t.memory||n.memory;throw Error("abort: "+r(s,e)+" at "+r(s,i)+":"+a+":"+o)},n.trace=n.trace||function(e,i){var a=t.memory||n.memory;console.log("trace: "+r(a,e)+(i?" ":"")+Array.prototype.slice.call(arguments,2,2+i).join(", "))},e.Math=e.Math||Math,e.Date=e.Date||Date,t}function postInstantiate(e,t){var r=t.exports,n=r.memory,i=r.table,a=r.__alloc,o=r.__retain,s=r.__rtti_base||-1;function u(e){var t=new Uint32Array(n.buffer);if((e>>>=0)>=t[s>>>2])throw Error("invalid id: "+e);return t[(s+4>>>2)+2*e]}function c(e){var t=new Uint32Array(n.buffer);if((e>>>=0)>=t[s>>>2])throw Error("invalid id: "+e);return t[(s+4>>>2)+2*e+1]}function l(e){return 31-Math.clz32(e>>>VAL_ALIGN_OFFSET&31)}function f(e,t,r){var i=n.buffer;if(r)switch(e){case 2:return new Float32Array(i);case 3:return new Float64Array(i)}else switch(e){case 0:return new(t?Int8Array:Uint8Array)(i);case 1:return new(t?Int16Array:Uint16Array)(i);case 2:return new(t?Int32Array:Uint32Array)(i);case 3:return new(t?BigInt64Array:BigUint64Array)(i)}throw Error("unsupported align: "+e)}function p(e){var t=new Uint32Array(n.buffer),r=t[e+ID_OFFSET>>>2],i=u(r);if(!(i&ARRAYBUFFERVIEW))throw Error("not an array: "+r);var a=l(i),o=t[e+ARRAYBUFFERVIEW_DATASTART_OFFSET>>>2],s=i&ARRAY?t[e+ARRAY_LENGTH_OFFSET>>>2]:t[o+SIZE_OFFSET>>>2]>>>a;return f(a,i&VAL_SIGNED,i&VAL_FLOAT).subarray(o>>>=a,o+s)}function d(e,t,r){return new e(h(e,t,r))}function h(e,t,r){var i=n.buffer,a=new Uint32Array(i),o=a[r+ARRAYBUFFERVIEW_DATASTART_OFFSET>>>2];return new e(i,o,a[o+SIZE_OFFSET>>>2]>>>t)}return e.__allocString=function(e){for(var t=e.length,r=a(t<<1,STRING_ID),i=new Uint16Array(n.buffer),o=0,s=r>>>1;o<t;++o)i[s+o]=e.charCodeAt(o);return r},e.__getString=function(e){var t=n.buffer;if(new Uint32Array(t)[e+ID_OFFSET>>>2]!==STRING_ID)throw Error("not a string: "+e);return getStringImpl(t,e)},e.__allocArray=function(e,t){var r=u(e);if(!(r&(ARRAYBUFFERVIEW|ARRAY)))throw Error("not an array: "+e+" @ "+r);var i=l(r),s=t.length,c=a(s<<i,ARRAYBUFFER_ID),p=a(r&ARRAY?ARRAY_SIZE:ARRAYBUFFERVIEW_SIZE,e),d=new Uint32Array(n.buffer);d[p+ARRAYBUFFERVIEW_BUFFER_OFFSET>>>2]=o(c),d[p+ARRAYBUFFERVIEW_DATASTART_OFFSET>>>2]=c,d[p+ARRAYBUFFERVIEW_DATALENGTH_OFFSET>>>2]=s<<i,r&ARRAY&&(d[p+ARRAY_LENGTH_OFFSET>>>2]=s);var h=f(i,r&VAL_SIGNED,r&VAL_FLOAT);if(r&VAL_MANAGED)for(var m=0;m<s;++m)h[(c>>>i)+m]=o(t[m]);else h.set(t,c>>>i);return p},e.__getArrayView=p,e.__getArray=function(e){for(var t=p(e),r=t.length,n=new Array(r),i=0;i<r;i++)n[i]=t[i];return n},e.__getArrayBuffer=function(e){var t=n.buffer,r=new Uint32Array(t)[e+SIZE_OFFSET>>>2];return t.slice(e,e+r)},e.__getInt8Array=d.bind(null,Int8Array,0),e.__getInt8ArrayView=h.bind(null,Int8Array,0),e.__getUint8Array=d.bind(null,Uint8Array,0),e.__getUint8ArrayView=h.bind(null,Uint8Array,0),e.__getUint8ClampedArray=d.bind(null,Uint8ClampedArray,0),e.__getUint8ClampedArrayView=h.bind(null,Uint8ClampedArray,0),e.__getInt16Array=d.bind(null,Int16Array,1),e.__getInt16ArrayView=h.bind(null,Int16Array,1),e.__getUint16Array=d.bind(null,Uint16Array,1),e.__getUint16ArrayView=h.bind(null,Uint16Array,1),e.__getInt32Array=d.bind(null,Int32Array,2),e.__getInt32ArrayView=h.bind(null,Int32Array,2),e.__getUint32Array=d.bind(null,Uint32Array,2),e.__getUint32ArrayView=h.bind(null,Uint32Array,2),BIGINT&&(e.__getInt64Array=d.bind(null,BigInt64Array,3),e.__getInt64ArrayView=h.bind(null,BigInt64Array,3),e.__getUint64Array=d.bind(null,BigUint64Array,3),e.__getUint64ArrayView=h.bind(null,BigUint64Array,3)),e.__getFloat32Array=d.bind(null,Float32Array,2),e.__getFloat32ArrayView=h.bind(null,Float32Array,2),e.__getFloat64Array=d.bind(null,Float64Array,3),e.__getFloat64ArrayView=h.bind(null,Float64Array,3),e.__instanceof=function(e,t){var r=new Uint32Array(n.buffer),i=r[e+ID_OFFSET>>>2];if(i<=r[s>>>2])do{if(i==t)return!0}while(i=c(i));return!1},e.memory=e.memory||n,e.table=e.table||i,demangle(r,e)}function isResponse(e){return"undefined"!=typeof Response&&e instanceof Response}function instantiate$1(e,t){return _instantiate$.apply(this,arguments)}function _instantiate$(){return(_instantiate$=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=isResponse,e.next=3,t;case 3:if(e.t1=t=e.sent,!(0,e.t0)(e.t1)){e.next=6;break}return e.abrupt("return",instantiateStreaming(t,r));case 6:if(e.t2=postInstantiate,e.t3=preInstantiate(r||(r={})),e.t4=WebAssembly,!(t instanceof WebAssembly.Module)){e.next=13;break}e.t5=t,e.next=16;break;case 13:return e.next=15,WebAssembly.compile(t);case 15:e.t5=e.sent;case 16:return e.t6=e.t5,e.t7=r,e.next=20,e.t4.instantiate.call(e.t4,e.t6,e.t7);case 20:return e.t8=e.sent,e.abrupt("return",(0,e.t2)(e.t3,e.t8));case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function instantiateSync(e,t){return postInstantiate(preInstantiate(t||(t={})),new WebAssembly.Instance(e instanceof WebAssembly.Module?e:new WebAssembly.Module(e),t))}function instantiateStreaming(e,t){return _instantiateStreaming.apply(this,arguments)}function _instantiateStreaming(){return(_instantiateStreaming=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(WebAssembly.instantiateStreaming){e.next=14;break}return e.t0=instantiate$1,e.t1=isResponse,e.next=5,t;case 5:if(e.t2=t=e.sent,!(0,e.t1)(e.t2)){e.next=10;break}e.t3=t.arrayBuffer(),e.next=11;break;case 10:e.t3=t;case 11:return e.t4=e.t3,e.t5=r,e.abrupt("return",(0,e.t0)(e.t4,e.t5));case 14:return e.t6=postInstantiate,e.t7=preInstantiate(r||(r={})),e.next=18,WebAssembly.instantiateStreaming(t,r);case 18:return e.t8=e.sent.instance,e.abrupt("return",(0,e.t6)(e.t7,e.t8));case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function demangle(e,t){var r=t?Object.create(t):{},n=e.__argumentsLength?function(t){e.__argumentsLength.value=t}:e.__setArgumentsLength||e.__setargc||function(){},i=function(t){if(!Object.prototype.hasOwnProperty.call(e,t))return"continue";for(var i=e[t],a=t.split("."),o=r;a.length>1;){var s=a.shift();Object.prototype.hasOwnProperty.call(o,s)||(o[s]={}),o=o[s]}var u=a[0],c=u.indexOf("#");if(c>=0){var l=u.substring(0,c),f=o[l];if(void 0===f||!f.prototype){var p=function e(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.wrap((t=e.prototype).constructor.apply(t,[0].concat(n)))};p.prototype={valueOf:function(){return this[THIS]}},p.wrap=function(e){return Object.create(p.prototype,_defineProperty({},THIS,{value:e,writable:!1}))},f&&Object.getOwnPropertyNames(f).forEach((function(e){return Object.defineProperty(p,e,Object.getOwnPropertyDescriptor(f,e))})),o[l]=p}if(u=u.substring(c+1),o=o[l].prototype,/^(get|set):/.test(u)){if(!Object.prototype.hasOwnProperty.call(o,u=u.substring(4))){var d=e[t.replace("set:","get:")],h=e[t.replace("get:","set:")];Object.defineProperty(o,u,{get:function(){return d(this[THIS])},set:function(e){h(this[THIS],e)},enumerable:!0})}}else"constructor"===u?(o[u]=function(){return n(arguments.length),i.apply(void 0,arguments)}).original=i:(o[u]=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n(t.length),i.apply(void 0,[this[THIS]].concat(t))}).original=i}else/^(get|set):/.test(u)?Object.prototype.hasOwnProperty.call(o,u=u.substring(4))||Object.defineProperty(o,u,{get:e[t.replace("set:","get:")],set:e[t.replace("get:","set:")],enumerable:!0}):"function"==typeof i&&i!==n?(o[u]=function(){return n(arguments.length),i.apply(void 0,arguments)}).original=i:o[u]=i};for(var a in e)i(a);return r}loader.instantiate=instantiate$1,loader.instantiateSync=instantiateSync,loader.instantiateStreaming=instantiateStreaming,loader.demangle=demangle;var instantiate=loader.instantiate;function loadWebAssembly(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!loadWebAssembly.supported)return null;var t=new Uint8Array([0,97,115,109,1,0,0,0,1,78,14,96,2,127,126,0,96,1,127,1,126,96,2,127,127,0,96,1,127,1,127,96,1,127,0,96,2,127,127,1,127,96,3,127,127,127,1,127,96,0,0,96,3,127,127,127,0,96,0,1,127,96,4,127,127,127,127,0,96,5,127,127,127,127,127,1,127,96,1,126,1,127,96,2,126,126,1,126,2,13,1,3,101,110,118,5,97,98,111,114,116,0,10,3,54,53,2,2,8,9,3,5,2,8,6,5,3,4,2,6,9,12,13,2,5,11,3,2,3,2,3,2,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,6,7,7,4,4,5,3,1,0,1,6,47,9,127,1,65,0,11,127,1,65,0,11,127,0,65,3,11,127,0,65,4,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,0,65,240,2,11,127,0,65,6,11,7,240,5,41,6,109,101,109,111,114,121,2,0,7,95,95,97,108,108,111,99,0,10,8,95,95,114,101,116,97,105,110,0,11,9,95,95,114,101,108,101,97,115,101,0,12,9,95,95,99,111,108,108,101,99,116,0,51,11,95,95,114,116,116,105,95,98,97,115,101,3,7,13,73,110,116,51,50,65,114,114,97,121,95,73,68,3,2,13,85,105,110,116,56,65,114,114,97,121,95,73,68,3,3,6,100,101,103,114,101,101,0,16,3,109,111,100,0,17,5,82,97,98,105,110,3,8,16,82,97,98,105,110,35,103,101,116,58,119,105,110,100,111,119,0,21,16,82,97,98,105,110,35,115,101,116,58,119,105,110,100,111,119,0,22,21,82,97,98,105,110,35,103,101,116,58,119,105,110,100,111,119,95,115,105,122,101,0,23,21,82,97,98,105,110,35,115,101,116,58,119,105,110,100,111,119,95,115,105,122,101,0,24,14,82,97,98,105,110,35,103,101,116,58,119,112,111,115,0,25,14,82,97,98,105,110,35,115,101,116,58,119,112,111,115,0,26,15,82,97,98,105,110,35,103,101,116,58,99,111,117,110,116,0,27,15,82,97,98,105,110,35,115,101,116,58,99,111,117,110,116,0,28,13,82,97,98,105,110,35,103,101,116,58,112,111,115,0,29,13,82,97,98,105,110,35,115,101,116,58,112,111,115,0,30,15,82,97,98,105,110,35,103,101,116,58,115,116,97,114,116,0,31,15,82,97,98,105,110,35,115,101,116,58,115,116,97,114,116,0,32,16,82,97,98,105,110,35,103,101,116,58,100,105,103,101,115,116,0,33,16,82,97,98,105,110,35,115,101,116,58,100,105,103,101,115,116,0,34,21,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,115,116,97,114,116,0,35,21,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,115,116,97,114,116,0,36,22,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,108,101,110,103,116,104,0,37,22,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,108,101,110,103,116,104,0,38,31,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,99,117,116,95,102,105,110,103,101,114,112,114,105,110,116,0,39,31,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,99,117,116,95,102,105,110,103,101,114,112,114,105,110,116,0,40,20,82,97,98,105,110,35,103,101,116,58,112,111,108,121,110,111,109,105,97,108,0,41,20,82,97,98,105,110,35,115,101,116,58,112,111,108,121,110,111,109,105,97,108,0,42,17,82,97,98,105,110,35,103,101,116,58,109,105,110,115,105,122,101,0,43,17,82,97,98,105,110,35,115,101,116,58,109,105,110,115,105,122,101,0,44,17,82,97,98,105,110,35,103,101,116,58,109,97,120,115,105,122,101,0,45,17,82,97,98,105,110,35,115,101,116,58,109,97,120,115,105,122,101,0,46,14,82,97,98,105,110,35,103,101,116,58,109,97,115,107,0,47,14,82,97,98,105,110,35,115,101,116,58,109,97,115,107,0,48,17,82,97,98,105,110,35,99,111,110,115,116,114,117,99,116,111,114,0,20,17,82,97,98,105,110,35,102,105,110,103,101,114,112,114,105,110,116,0,49,8,1,50,10,165,31,53,199,1,1,4,127,32,1,40,2,0,65,124,113,34,2,65,128,2,73,4,127,32,2,65,4,118,33,4,65,0,5,32,2,65,31,32,2,103,107,34,3,65,4,107,118,65,16,115,33,4,32,3,65,7,107,11,33,3,32,1,40,2,20,33,2,32,1,40,2,16,34,5,4,64,32,5,32,2,54,2,20,11,32,2,4,64,32,2,32,5,54,2,16,11,32,1,32,0,32,4,32,3,65,4,116,106,65,2,116,106,40,2,96,70,4,64,32,0,32,4,32,3,65,4,116,106,65,2,116,106,32,2,54,2,96,32,2,69,4,64,32,0,32,3,65,2,116,106,32,0,32,3,65,2,116,106,40,2,4,65,1,32,4,116,65,127,115,113,34,1,54,2,4,32,1,69,4,64,32,0,32,0,40,2,0,65,1,32,3,116,65,127,115,113,54,2,0,11,11,11,11,226,2,1,6,127,32,1,40,2,0,33,3,32,1,65,16,106,32,1,40,2,0,65,124,113,106,34,4,40,2,0,34,5,65,1,113,4,64,32,3,65,124,113,65,16,106,32,5,65,124,113,106,34,2,65,240,255,255,255,3,73,4,64,32,0,32,4,16,1,32,1,32,2,32,3,65,3,113,114,34,3,54,2,0,32,1,65,16,106,32,1,40,2,0,65,124,113,106,34,4,40,2,0,33,5,11,11,32,3,65,2,113,4,64,32,1,65,4,107,40,2,0,34,2,40,2,0,34,6,65,124,113,65,16,106,32,3,65,124,113,106,34,7,65,240,255,255,255,3,73,4,64,32,0,32,2,16,1,32,2,32,7,32,6,65,3,113,114,34,3,54,2,0,32,2,33,1,11,11,32,4,32,5,65,2,114,54,2,0,32,4,65,4,107,32,1,54,2,0,32,0,32,3,65,124,113,34,2,65,128,2,73,4,127,32,2,65,4,118,33,4,65,0,5,32,2,65,31,32,2,103,107,34,2,65,4,107,118,65,16,115,33,4,32,2,65,7,107,11,34,3,65,4,116,32,4,106,65,2,116,106,40,2,96,33,2,32,1,65,0,54,2,16,32,1,32,2,54,2,20,32,2,4,64,32,2,32,1,54,2,16,11,32,0,32,4,32,3,65,4,116,106,65,2,116,106,32,1,54,2,96,32,0,32,0,40,2,0,65,1,32,3,116,114,54,2,0,32,0,32,3,65,2,116,106,32,0,32,3,65,2,116,106,40,2,4,65,1,32,4,116,114,54,2,4,11,119,1,1,127,32,2,2,127,32,0,40,2,160,12,34,2,4,64,32,2,32,1,65,16,107,70,4,64,32,2,40,2,0,33,3,32,1,65,16,107,33,1,11,11,32,1,11,107,34,2,65,48,73,4,64,15,11,32,1,32,3,65,2,113,32,2,65,32,107,65,1,114,114,54,2,0,32,1,65,0,54,2,16,32,1,65,0,54,2,20,32,1,32,2,106,65,16,107,34,2,65,2,54,2,0,32,0,32,2,54,2,160,12,32,0,32,1,16,2,11,155,1,1,3,127,35,0,34,0,69,4,64,65,1,63,0,34,0,74,4,127,65,1,32,0,107,64,0,65,0,72,5,65,0,11,4,64,0,11,65,176,3,34,0,65,0,54,2,0,65,208,15,65,0,54,2,0,3,64,32,1,65,23,73,4,64,32,1,65,2,116,65,176,3,106,65,0,54,2,4,65,0,33,2,3,64,32,2,65,16,73,4,64,32,1,65,4,116,32,2,106,65,2,116,65,176,3,106,65,0,54,2,96,32,2,65,1,106,33,2,12,1,11,11,32,1,65,1,106,33,1,12,1,11,11,65,176,3,65,224,15,63,0,65,16,116,16,3,65,176,3,36,0,11,32,0,11,45,0,32,0,65,240,255,255,255,3,79,4,64,65,32,65,224,0,65,201,3,65,29,16,0,0,11,32,0,65,15,106,65,112,113,34,0,65,16,32,0,65,16,75,27,11,169,1,1,1,127,32,0,32,1,65,128,2,73,4,127,32,1,65,4,118,33,1,65,0,5,32,1,65,248,255,255,255,1,73,4,64,32,1,65,1,65,27,32,1,103,107,116,106,65,1,107,33,1,11,32,1,65,31,32,1,103,107,34,2,65,4,107,118,65,16,115,33,1,32,2,65,7,107,11,34,2,65,2,116,106,40,2,4,65,127,32,1,116,113,34,1,4,127,32,0,32,1,104,32,2,65,4,116,106,65,2,116,106,40,2,96,5,32,0,40,2,0,65,127,32,2,65,1,106,116,113,34,1,4,127,32,0,32,0,32,1,104,34,0,65,2,116,106,40,2,4,104,32,0,65,4,116,106,65,2,116,106,40,2,96,5,65,0,11,11,11,111,1,1,127,63,0,34,2,32,1,65,248,255,255,255,1,73,4,127,32,1,65,1,65,27,32,1,103,107,116,65,1,107,106,5,32,1,11,65,16,32,0,40,2,160,12,32,2,65,16,116,65,16,107,71,116,106,65,255,255,3,106,65,128,128,124,113,65,16,118,34,1,32,2,32,1,74,27,64,0,65,0,72,4,64,32,1,64,0,65,0,72,4,64,0,11,11,32,0,32,2,65,16,116,63,0,65,16,116,16,3,11,113,1,2,127,32,1,40,2,0,34,3,65,124,113,32,2,107,34,4,65,32,79,4,64,32,1,32,2,32,3,65,2,113,114,54,2,0,32,2,32,1,65,16,106,106,34,1,32,4,65,16,107,65,1,114,54,2,0,32,0,32,1,16,2,5,32,1,32,3,65,126,113,54,2,0,32,1,65,16,106,32,1,40,2,0,65,124,113,106,32,1,65,16,106,32,1,40,2,0,65,124,113,106,40,2,0,65,125,113,54,2,0,11,11,91,1,2,127,32,0,32,1,16,5,34,4,16,6,34,3,69,4,64,65,1,36,1,65,0,36,1,32,0,32,4,16,6,34,3,69,4,64,32,0,32,4,16,7,32,0,32,4,16,6,33,3,11,11,32,3,65,0,54,2,4,32,3,32,2,54,2,8,32,3,32,1,54,2,12,32,0,32,3,16,1,32,0,32,3,32,4,16,8,32,3,11,13,0,16,4,32,0,32,1,16,9,65,16,106,11,33,1,1,127,32,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,11,18,0,32,0,65,172,3,75,4,64,32,0,65,16,107,16,52,11,11,140,3,1,1,127,2,64,32,1,69,13,0,32,0,65,0,58,0,0,32,0,32,1,106,65,1,107,65,0,58,0,0,32,1,65,2,77,13,0,32,0,65,1,106,65,0,58,0,0,32,0,65,2,106,65,0,58,0,0,32,0,32,1,106,34,2,65,2,107,65,0,58,0,0,32,2,65,3,107,65,0,58,0,0,32,1,65,6,77,13,0,32,0,65,3,106,65,0,58,0,0,32,0,32,1,106,65,4,107,65,0,58,0,0,32,1,65,8,77,13,0,32,1,65,0,32,0,107,65,3,113,34,1,107,33,2,32,0,32,1,106,34,0,65,0,54,2,0,32,0,32,2,65,124,113,34,1,106,65,4,107,65,0,54,2,0,32,1,65,8,77,13,0,32,0,65,4,106,65,0,54,2,0,32,0,65,8,106,65,0,54,2,0,32,0,32,1,106,34,2,65,12,107,65,0,54,2,0,32,2,65,8,107,65,0,54,2,0,32,1,65,24,77,13,0,32,0,65,12,106,65,0,54,2,0,32,0,65,16,106,65,0,54,2,0,32,0,65,20,106,65,0,54,2,0,32,0,65,24,106,65,0,54,2,0,32,0,32,1,106,34,2,65,28,107,65,0,54,2,0,32,2,65,24,107,65,0,54,2,0,32,2,65,20,107,65,0,54,2,0,32,2,65,16,107,65,0,54,2,0,32,0,32,0,65,4,113,65,24,106,34,2,106,33,0,32,1,32,2,107,33,1,3,64,32,1,65,32,79,4,64,32,0,66,0,55,3,0,32,0,65,8,106,66,0,55,3,0,32,0,65,16,106,66,0,55,3,0,32,0,65,24,106,66,0,55,3,0,32,1,65,32,107,33,1,32,0,65,32,106,33,0,12,1,11,11,11,11,178,1,1,3,127,32,1,65,240,255,255,255,3,32,2,118,75,4,64,65,144,1,65,192,1,65,23,65,56,16,0,0,11,32,1,32,2,116,34,3,65,0,16,10,34,2,32,3,16,13,32,0,69,4,64,65,12,65,2,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,11,32,0,65,0,54,2,0,32,0,65,0,54,2,4,32,0,65,0,54,2,8,32,2,34,1,32,0,40,2,0,34,4,71,4,64,32,1,65,172,3,75,4,64,32,1,65,16,107,34,5,32,5,40,2,4,65,1,106,54,2,4,11,32,4,16,12,11,32,0,32,1,54,2,0,32,0,32,2,54,2,4,32,0,32,3,54,2,8,32,0,11,46,1,2,127,65,12,65,5,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,65,128,2,65,3,16,14,11,9,0,65,63,32,0,121,167,107,11,49,1,2,127,65,63,32,1,121,167,107,33,2,3,64,65,63,32,0,121,167,107,32,2,107,34,3,65,0,78,4,64,32,0,32,1,32,3,172,134,133,33,0,12,1,11,11,32,0,11,40,0,32,1,32,0,40,2,8,79,4,64,65,128,2,65,192,2,65,163,1,65,44,16,0,0,11,32,1,32,0,40,2,4,106,65,0,58,0,0,11,38,0,32,1,32,0,40,2,8,79,4,64,65,128,2,65,192,2,65,152,1,65,44,16,0,0,11,32,1,32,0,40,2,4,106,45,0,0,11,254,5,2,1,127,4,126,32,0,69,4,64,65,232,0,65,6,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,5,32,5,40,2,4,65,1,106,54,2,4,11,11,32,0,65,0,54,2,0,32,0,65,0,54,2,4,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,24,32,0,66,0,55,3,32,32,0,66,0,55,3,40,32,0,66,0,55,3,48,32,0,66,0,55,3,56,32,0,66,0,55,3,64,32,0,66,0,55,3,72,32,0,66,0,55,3,80,32,0,66,0,55,3,88,32,0,66,0,55,3,96,32,0,32,2,173,55,3,80,32,0,32,3,173,55,3,88,65,12,65,4,16,10,34,2,65,172,3,75,4,64,32,2,65,16,107,34,3,32,3,40,2,4,65,1,106,54,2,4,11,32,2,32,4,65,0,16,14,33,2,32,0,40,2,0,16,12,32,0,32,2,54,2,0,32,0,32,4,54,2,4,32,0,66,1,32,1,173,134,66,1,125,55,3,96,32,0,66,243,130,183,218,216,230,232,30,55,3,72,35,4,69,4,64,65,0,33,2,3,64,32,2,65,128,2,72,4,64,32,2,65,255,1,113,173,33,6,32,0,41,3,72,34,7,33,8,65,63,32,7,121,167,107,33,1,3,64,65,63,32,6,121,167,107,32,1,107,34,3,65,0,78,4,64,32,6,32,8,32,3,172,134,133,33,6,12,1,11,11,65,0,33,4,3,64,32,4,32,0,40,2,4,65,1,107,72,4,64,32,6,66,8,134,33,6,32,0,41,3,72,34,7,33,8,65,63,32,7,121,167,107,33,1,3,64,65,63,32,6,121,167,107,32,1,107,34,3,65,0,78,4,64,32,6,32,8,32,3,172,134,133,33,6,12,1,11,11,32,4,65,1,106,33,4,12,1,11,11,35,6,40,2,4,32,2,65,3,116,106,32,6,55,3,0,32,2,65,1,106,33,2,12,1,11,11,65,63,32,0,41,3,72,121,167,107,172,33,7,65,0,33,2,3,64,32,2,65,128,2,72,4,64,35,5,33,1,32,2,172,32,7,134,34,8,33,6,65,63,32,0,41,3,72,34,9,121,167,107,33,3,3,64,65,63,32,6,121,167,107,32,3,107,34,4,65,0,78,4,64,32,6,32,9,32,4,172,134,133,33,6,12,1,11,11,32,1,40,2,4,32,2,65,3,116,106,32,6,32,8,132,55,3,0,32,2,65,1,106,33,2,12,1,11,11,65,1,36,4,11,32,0,66,0,55,3,24,32,0,66,0,55,3,32,65,0,33,2,3,64,32,2,32,0,40,2,4,72,4,64,32,0,40,2,0,32,2,16,18,32,2,65,1,106,33,2,12,1,11,11,32,0,66,0,55,3,40,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,40,32,0,40,2,0,32,0,40,2,8,16,19,33,1,32,0,40,2,8,32,0,40,2,0,40,2,4,106,65,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,1,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,6,66,45,136,167,65,3,116,106,41,3,0,32,6,66,8,134,66,1,132,133,55,3,40,32,0,11,38,1,1,127,32,0,40,2,0,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,11,55,1,2,127,32,1,32,0,40,2,0,34,2,71,4,64,32,1,65,172,3,75,4,64,32,1,65,16,107,34,3,32,3,40,2,4,65,1,106,54,2,4,11,32,2,16,12,11,32,0,32,1,54,2,0,11,7,0,32,0,40,2,4,11,9,0,32,0,32,1,54,2,4,11,7,0,32,0,40,2,8,11,9,0,32,0,32,1,54,2,8,11,7,0,32,0,41,3,16,11,9,0,32,0,32,1,55,3,16,11,7,0,32,0,41,3,24,11,9,0,32,0,32,1,55,3,24,11,7,0,32,0,41,3,32,11,9,0,32,0,32,1,55,3,32,11,7,0,32,0,41,3,40,11,9,0,32,0,32,1,55,3,40,11,7,0,32,0,41,3,48,11,9,0,32,0,32,1,55,3,48,11,7,0,32,0,41,3,56,11,9,0,32,0,32,1,55,3,56,11,7,0,32,0,41,3,64,11,9,0,32,0,32,1,55,3,64,11,7,0,32,0,41,3,72,11,9,0,32,0,32,1,55,3,72,11,7,0,32,0,41,3,80,11,9,0,32,0,32,1,55,3,80,11,7,0,32,0,41,3,88,11,9,0,32,0,32,1,55,3,88,11,7,0,32,0,41,3,96,11,9,0,32,0,32,1,55,3,96,11,172,4,2,5,127,1,126,32,2,65,172,3,75,4,64,32,2,65,16,107,34,4,32,4,40,2,4,65,1,106,54,2,4,11,32,2,33,4,65,0,33,2,32,1,40,2,8,33,5,32,1,40,2,4,33,6,3,64,2,127,65,0,33,3,3,64,32,3,32,5,72,4,64,32,3,32,6,106,45,0,0,33,1,32,0,40,2,0,32,0,40,2,8,16,19,33,7,32,0,40,2,8,32,0,40,2,0,40,2,4,106,32,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,7,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,8,66,45,136,167,65,3,116,106,41,3,0,32,1,173,32,8,66,8,134,132,133,55,3,40,32,0,32,0,41,3,16,66,1,124,55,3,16,32,0,32,0,41,3,24,66,1,124,55,3,24,32,0,41,3,16,32,0,41,3,80,90,4,127,32,0,41,3,40,32,0,41,3,96,131,80,5,65,0,11,4,127,65,1,5,32,0,41,3,16,32,0,41,3,88,90,11,4,64,32,0,32,0,41,3,32,55,3,48,32,0,32,0,41,3,16,55,3,56,32,0,32,0,41,3,40,55,3,64,65,0,33,1,3,64,32,1,32,0,40,2,4,72,4,64,32,0,40,2,0,32,1,16,18,32,1,65,1,106,33,1,12,1,11,11,32,0,66,0,55,3,40,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,40,32,0,40,2,0,32,0,40,2,8,16,19,33,1,32,0,40,2,8,32,0,40,2,0,40,2,4,106,65,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,1,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,8,66,45,136,167,65,3,116,106,41,3,0,32,8,66,8,134,66,1,132,133,55,3,40,32,3,65,1,106,12,3,11,32,3,65,1,106,33,3,12,1,11,11,65,127,11,34,1,65,0,78,4,64,32,5,32,1,107,33,5,32,1,32,6,106,33,6,32,2,34,1,65,1,106,33,2,32,4,40,2,4,32,1,65,2,116,106,32,0,41,3,56,62,2,0,12,1,11,11,32,4,11,10,0,16,15,36,5,16,15,36,6,11,3,0,1,11,73,1,2,127,32,0,40,2,4,34,1,65,255,255,255,255,0,113,34,2,65,1,70,4,64,32,0,65,16,106,16,53,32,0,32,0,40,2,0,65,1,114,54,2,0,35,0,32,0,16,2,5,32,0,32,2,65,1,107,32,1,65,128,128,128,128,127,113,114,54,2,4,11,11,58,0,2,64,2,64,2,64,32,0,65,8,107,40,2,0,14,7,0,0,1,1,1,1,1,2,11,15,11,32,0,40,2,0,34,0,4,64,32,0,65,172,3,79,4,64,32,0,65,16,107,16,52,11,11,15,11,0,11,11,137,3,7,0,65,16,11,55,40,0,0,0,1,0,0,0,1,0,0,0,40,0,0,0,97,0,108,0,108,0,111,0,99,0,97,0,116,0,105,0,111,0,110,0,32,0,116,0,111,0,111,0,32,0,108,0,97,0,114,0,103,0,101,0,65,208,0,11,45,30,0,0,0,1,0,0,0,1,0,0,0,30,0,0,0,126,0,108,0,105,0,98,0,47,0,114,0,116,0,47,0,116,0,108,0,115,0,102,0,46,0,116,0,115,0,65,128,1,11,43,28,0,0,0,1,0,0,0,1,0,0,0,28,0,0,0,73,0,110,0,118,0,97,0,108,0,105,0,100,0,32,0,108,0,101,0,110,0,103,0,116,0,104,0,65,176,1,11,53,38,0,0,0,1,0,0,0,1,0,0,0,38,0,0,0,126,0,108,0,105,0,98,0,47,0,97,0,114,0,114,0,97,0,121,0,98,0,117,0,102,0,102,0,101,0,114,0,46,0,116,0,115,0,65,240,1,11,51,36,0,0,0,1,0,0,0,1,0,0,0,36,0,0,0,73,0,110,0,100,0,101,0,120,0,32,0,111,0,117,0,116,0,32,0,111,0,102,0,32,0,114,0,97,0,110,0,103,0,101,0,65,176,2,11,51,36,0,0,0,1,0,0,0,1,0,0,0,36,0,0,0,126,0,108,0,105,0,98,0,47,0,116,0,121,0,112,0,101,0,100,0,97,0,114,0,114,0,97,0,121,0,46,0,116,0,115,0,65,240,2,11,53,7,0,0,0,16,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,145,4,0,0,2,0,0,0,49,0,0,0,2,0,0,0,17,1,0,0,2,0,0,0,16,0,34,16,115,111,117,114,99,101,77,97,112,112,105,110,103,85,82,76,16,46,47,114,97,98,105,110,46,119,97,115,109,46,109,97,112]);return instantiate(new Response(new Blob([t],{type:"application/wasm"})),e)}loadWebAssembly.supported="undefined"!=typeof WebAssembly;var rabinWasm=loadWebAssembly,Rabin=rabin$1,getRabin=rabinWasm,create=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r,n,i,a){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,getRabin();case 2:return o=e.sent,e.abrupt("return",new Rabin(o,t,r,n,i,a));case 4:case"end":return e.stop()}}),e)})));return function(t,r,n,i,a){return e.apply(this,arguments)}}(),src$1={Rabin,create};function rabinChunker(e,t){return _rabinChunker.apply(this,arguments)}function _rabinChunker(){return(_rabinChunker=_wrapAsyncGenerator(regeneratorRuntime.mark((function e(t,r){var n,i,a,o,s,u,c,l,f,p,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.minChunkSize&&r.maxChunkSize&&r.avgChunkSize)){e.next=6;break}a=r.avgChunkSize,n=r.minChunkSize,i=r.maxChunkSize,e.next=13;break;case 6:if(r.avgChunkSize){e.next=10;break}throw errCode(new Error("please specify an average chunk size"),"ERR_INVALID_AVG_CHUNK_SIZE");case 10:a=r.avgChunkSize,n=a/3,i=a+a/2;case 13:if(!(n<16)){e.next=15;break}throw errCode(new Error("rabin min must be greater than 16"),"ERR_INVALID_MIN_CHUNK_SIZE");case 15:i<n&&(i=n),a<n&&(a=n),o=Math.floor(Math.log2(a)),s=!0,u=!1,e.prev=20,l=_asyncIterator(rabin(t,{min:n,max:i,bits:o,window:r.window,polynomial:r.polynomial}));case 22:return e.next=24,_awaitAsyncGenerator(l.next());case 24:return f=e.sent,s=f.done,e.next=28,_awaitAsyncGenerator(f.value);case 28:if(p=e.sent,s){e.next=36;break}return d=p,e.next=33,d;case 33:s=!0,e.next=22;break;case 36:e.next=42;break;case 38:e.prev=38,e.t0=e.catch(20),u=!0,c=e.t0;case 42:if(e.prev=42,e.prev=43,s||null==l.return){e.next=47;break}return e.next=47,_awaitAsyncGenerator(l.return());case 47:if(e.prev=47,!u){e.next=50;break}throw c;case 50:return e.finish(47);case 51:return e.finish(42);case 52:case"end":return e.stop()}}),e,null,[[20,38,42,52],[43,,47,51]])})))).apply(this,arguments)}function rabin(e,t){return _rabin.apply(this,arguments)}function _rabin(){return(_rabin=_wrapAsyncGenerator(regeneratorRuntime.mark((function e(t,r){var n,i,a,o,s,u,c,l,f,p,d,h,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_awaitAsyncGenerator(src$1.create(r.bits,r.min,r.max,r.window));case 2:n=e.sent,i=new BufferList_1,a=!0,o=!1,e.prev=6,u=_asyncIterator(t);case 8:return e.next=10,_awaitAsyncGenerator(u.next());case 10:return c=e.sent,a=c.done,e.next=14,_awaitAsyncGenerator(c.value);case 14:if(l=e.sent,a){e.next=32;break}f=l,i.append(f),p=n.fingerprint(f),d=0;case 20:if(!(d<p.length)){e.next=29;break}return h=p[d],m=i.slice(0,h),i.consume(h),e.next=26,m;case 26:d++,e.next=20;break;case 29:a=!0,e.next=8;break;case 32:e.next=38;break;case 34:e.prev=34,e.t0=e.catch(6),o=!0,s=e.t0;case 38:if(e.prev=38,e.prev=39,a||null==u.return){e.next=43;break}return e.next=43,_awaitAsyncGenerator(u.return());case 43:if(e.prev=43,!o){e.next=46;break}throw s;case 46:return e.finish(43);case 47:return e.finish(38);case 48:if(!i.length){e.next=51;break}return e.next=51,i.slice(0);case 51:case"end":return e.stop()}}),e,null,[[6,34,38,48],[39,,43,47]])})))).apply(this,arguments)}function fixedSizeChunker(e,t){return _fixedSizeChunker.apply(this,arguments)}function _fixedSizeChunker(){return(_fixedSizeChunker=_wrapAsyncGenerator(regeneratorRuntime.mark((function e(t,r){var n,i,a,o,s,u,c,l,f,p,d,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new BufferList_1,i=0,a=!1,o=r.maxChunkSize,s=!0,u=!1,e.prev=6,l=_asyncIterator(t);case 8:return e.next=10,_awaitAsyncGenerator(l.next());case 10:return f=e.sent,s=f.done,e.next=14,_awaitAsyncGenerator(f.value);case 14:if(p=e.sent,s){e.next=29;break}d=p,n.append(d),i+=d.length;case 19:if(!(i>=o)){e.next=26;break}return e.next=22,n.slice(0,o);case 22:a=!0,o===n.length?(n=new BufferList_1,i=0):((h=new BufferList_1).append(n.shallowSlice(o)),n=h,i-=o),e.next=19;break;case 26:s=!0,e.next=8;break;case 29:e.next=35;break;case 31:e.prev=31,e.t0=e.catch(6),u=!0,c=e.t0;case 35:if(e.prev=35,e.prev=36,s||null==l.return){e.next=40;break}return e.next=40,_awaitAsyncGenerator(l.return());case 40:if(e.prev=40,!u){e.next=43;break}throw c;case 43:return e.finish(40);case 44:return e.finish(35);case 45:if(a&&!i){e.next=48;break}return e.next=48,n.slice(0,i);case 48:case"end":return e.stop()}}),e,null,[[6,31,35,45],[36,,40,44]])})))).apply(this,arguments)}var identity$2=from$1({prefix:"\0",name:"identity",encode:function(e){return toString$2(e)},decode:function(e){return fromString$3(e)}}),identityBase=Object.freeze(Object.defineProperty({__proto__:null,identity:identity$2},Symbol.toStringTag,{value:"Module"})),base2=rfc4648({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),base2$1=Object.freeze(Object.defineProperty({__proto__:null,base2},Symbol.toStringTag,{value:"Module"})),base8=rfc4648({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),base8$1=Object.freeze(Object.defineProperty({__proto__:null,base8},Symbol.toStringTag,{value:"Module"})),base10=baseX({prefix:"9",name:"base10",alphabet:"0123456789"}),base10$1=Object.freeze(Object.defineProperty({__proto__:null,base10},Symbol.toStringTag,{value:"Module"})),base16=rfc4648({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper=rfc4648({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),base16$1=Object.freeze(Object.defineProperty({__proto__:null,base16,base16upper},Symbol.toStringTag,{value:"Module"})),base36=baseX({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper=baseX({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),base36$1=Object.freeze(Object.defineProperty({__proto__:null,base36,base36upper},Symbol.toStringTag,{value:"Module"})),base64=rfc4648({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad=rfc4648({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url=rfc4648({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad=rfc4648({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),base64$1=Object.freeze(Object.defineProperty({__proto__:null,base64,base64pad,base64url,base64urlpad},Symbol.toStringTag,{value:"Module"})),code$1=0,name$1="identity",encode$2=coerce,digest=function(e){return create$4(code$1,encode$2(e))},identity={code:code$1,name:name$1,encode:encode$2,digest},identity$1=Object.freeze(Object.defineProperty({__proto__:null,identity},Symbol.toStringTag,{value:"Module"}));new TextEncoder,new TextDecoder;var bases=__spreadValues(__spreadValues(__spreadValues(__spreadValues(__spreadValues(__spreadValues(__spreadValues(__spreadValues(__spreadValues({},identityBase),base2$1),base8$1),base10$1),base16$1),base32$1),base36$1),base58),base64$1);function createCodec(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}__spreadValues(__spreadValues({},sha2),identity$1);var string=createCodec("utf8","u",(function(e){return"u"+new TextDecoder("utf8").decode(e)}),(function(e){return(new TextEncoder).encode(e.substring(1))})),ascii=createCodec("ascii","a",(function(e){for(var t="a",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(function(e){e=e.substring(1);for(var t=new Uint8Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t})),BASES=__spreadValues({utf8:string,"utf-8":string,hex:bases.base16,latin1:ascii,ascii,binary:ascii},bases);function fromString(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8",r=BASES[t];if(!r)throw new Error('Unsupported encoding "'.concat(t,'"'));return r.decoder.decode("".concat(r.prefix).concat(e))}var fromString$1=Object.freeze(Object.defineProperty({__proto__:null,fromString},Symbol.toStringTag,{value:"Module"}));function validateChunks(e){return _validateChunks.apply(this,arguments)}function _validateChunks(){return(_validateChunks=_wrapAsyncGenerator(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=!0,n=!1,e.prev=2,a=_asyncIterator(t);case 4:return e.next=6,_awaitAsyncGenerator(a.next());case 6:return o=e.sent,r=o.done,e.next=10,_awaitAsyncGenerator(o.value);case 10:if(s=e.sent,r){e.next=34;break}if(void 0!==(u=s).length){e.next=15;break}throw errCode(new Error("Content was invalid"),"ERR_INVALID_CONTENT");case 15:if(!("string"==typeof u||u instanceof String)){e.next=20;break}return e.next=18,fromString(u.toString());case 18:e.next=31;break;case 20:if(!Array.isArray(u)){e.next=25;break}return e.next=23,Uint8Array.from(u);case 23:e.next=31;break;case 25:if(!(u instanceof Uint8Array)){e.next=30;break}return e.next=28,u;case 28:e.next=31;break;case 30:throw errCode(new Error("Content was invalid"),"ERR_INVALID_CONTENT");case 31:r=!0,e.next=4;break;case 34:e.next=40;break;case 36:e.prev=36,e.t0=e.catch(2),n=!0,i=e.t0;case 40:if(e.prev=40,e.prev=41,r||null==a.return){e.next=45;break}return e.next=45,_awaitAsyncGenerator(a.return());case 45:if(e.prev=45,!n){e.next=48;break}throw i;case 48:return e.finish(45);case 49:return e.finish(40);case 50:case"end":return e.stop()}}),e,null,[[2,36,40,50],[41,,45,49]])})))).apply(this,arguments)}function isIterable(e){return Symbol.iterator in e}function isAsyncIterable(e){return Symbol.asyncIterator in e}function contentAsAsyncIterable(e){try{if(e instanceof Uint8Array)return _wrapAsyncGenerator(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:case"end":return t.stop()}}),t)})))();if(isIterable(e))return _wrapAsyncGenerator(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(_asyncGeneratorDelegate(_asyncIterator(e),_awaitAsyncGenerator),"t0",1);case 1:case"end":return t.stop()}}),t)})))();if(isAsyncIterable(e))return e}catch(e){throw errCode(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}throw errCode(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}function dagBuilder(e,t,r){return _dagBuilder.apply(this,arguments)}function _dagBuilder(){return(_dagBuilder=_wrapAsyncGenerator(regeneratorRuntime.mark((function e(t,r,n){var i,a,o,s,u,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=!0,a=!1,e.prev=2,s=_asyncIterator(t);case 4:return e.next=6,_awaitAsyncGenerator(s.next());case 6:return u=e.sent,i=u.done,e.next=10,_awaitAsyncGenerator(u.value);case 10:if(c=e.sent,i){e.next=26;break}if((l=c).path&&("./"===l.path.substring(0,2)&&(n.wrapWithDirectory=!0),l.path=l.path.split("/").filter((function(e){return e&&"."!==e})).join("/")),!l.content){e.next=18;break}return e.delegateYield(regeneratorRuntime.mark((function e(){var t,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=void 0,t="function"==typeof n.chunker?n.chunker:"rabin"===n.chunker?rabinChunker:fixedSizeChunker,i=void 0,i="function"==typeof n.chunkValidator?n.chunkValidator:validateChunks,a={path:l.path,mtime:l.mtime,mode:l.mode,content:t(i(contentAsAsyncIterable(l.content),n),n)},e.next=7,function(){return fileBuilder(a,r,n)};case 7:case"end":return e.stop()}}),e)}))(),"t0",16);case 16:e.next=23;break;case 18:if(!l.path){e.next=22;break}return e.delegateYield(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={path:l.path,mtime:l.mtime,mode:l.mode},e.next=3,function(){return dirBuilder(t,r,n)};case 3:case"end":return e.stop()}}),e)}))(),"t1",20);case 20:e.next=23;break;case 22:throw new Error("Import candidate must have content or path or both");case 23:i=!0,e.next=4;break;case 26:e.next=32;break;case 28:e.prev=28,e.t2=e.catch(2),a=!0,o=e.t2;case 32:if(e.prev=32,e.prev=33,i||null==s.return){e.next=37;break}return e.next=37,_awaitAsyncGenerator(s.return());case 37:if(e.prev=37,!a){e.next=40;break}throw o;case 40:return e.finish(37);case 41:return e.finish(32);case 42:case"end":return e.stop()}}),e,null,[[2,28,32,42],[33,,37,41]])})))).apply(this,arguments)}var Dir=function(){function e(t,r){_classCallCheck(this,e),this.options=r||{},this.root=t.root,this.dir=t.dir,this.path=t.path,this.dirty=t.dirty,this.flat=t.flat,this.parent=t.parent,this.parentKey=t.parentKey,this.unixfs=t.unixfs,this.mode=t.mode,this.mtime=t.mtime,this.cid=void 0,this.size=void 0}var t;return _createClass(e,[{key:"put",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(e,r){return t.apply(this,arguments)})},{key:"get",value:function(e){return Promise.resolve(this)}},{key:"eachChildSeries",value:function(){return _wrapAsyncGenerator(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}},{key:"flush",value:function(e){return _wrapAsyncGenerator(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}}]),e}(),DirFlat=function(e){_inherits(n,e);var t,r=_createSuper(n);function n(e,t){var i;return _classCallCheck(this,n),(i=r.call(this,e,t))._children={},i}return _createClass(n,[{key:"put",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.cid=void 0,this.size=void 0,this._children[t]=r;case 3:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})},{key:"get",value:function(e){return Promise.resolve(this._children[e])}},{key:"childCount",value:function(){return Object.keys(this._children).length}},{key:"directChildrenCount",value:function(){return this.childCount()}},{key:"onlyChild",value:function(){return this._children[Object.keys(this._children)[0]]}},{key:"eachChildSeries",value:function(){var e=this;return _wrapAsyncGenerator(regeneratorRuntime.mark((function t(){var r,n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=Object.keys(e._children),n=0;case 2:if(!(n<r.length)){t.next=9;break}return i=r[n],t.next=6,{key:i,child:e._children[i]};case 6:n++,t.next=2;break;case 9:case"end":return t.stop()}}),t)})))()}},{key:"flush",value:function(e){var t=this;return _wrapAsyncGenerator(regeneratorRuntime.mark((function r(){var n,i,a,o,s,u,c,l,f,p,d,h,m,y,v;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n=Object.keys(t._children),i=[],a=0;case 3:if(!(a<n.length)){r.next=45;break}if(!((o=t._children[n[a]])instanceof Dir)){r.next=41;break}s=!0,u=!1,r.prev=8,l=_asyncIterator(o.flush(e));case 10:return r.next=12,_awaitAsyncGenerator(l.next());case 12:return f=r.sent,s=f.done,r.next=16,_awaitAsyncGenerator(f.value);case 16:if(p=r.sent,s){r.next=25;break}return o=p,r.next=22,o;case 22:s=!0,r.next=10;break;case 25:r.next=31;break;case 27:r.prev=27,r.t0=r.catch(8),u=!0,c=r.t0;case 31:if(r.prev=31,r.prev=32,s||null==l.return){r.next=36;break}return r.next=36,_awaitAsyncGenerator(l.return());case 36:if(r.prev=36,!u){r.next=39;break}throw c;case 39:return r.finish(36);case 40:return r.finish(31);case 41:null!=o.size&&o.cid&&i.push({Name:n[a],Tsize:o.size,Hash:o.cid});case 42:a++,r.next=3;break;case 45:return d=new UnixFS({type:"directory",mtime:t.mtime,mode:t.mode}),h={Data:d.marshal(),Links:i},m=encode$4(prepare(h)),r.next=50,_awaitAsyncGenerator(persist(m,e,t.options));case 50:return y=r.sent,v=m.length+h.Links.reduce((function(e,t){return e+(null==t.Tsize?0:t.Tsize)}),0),t.cid=y,t.size=v,r.next=56,{cid:y,unixfs:d,path:t.path,size:v};case 56:case"end":return r.stop()}}),r,null,[[8,27,31,41],[32,,36,40]])})))()}}]),n}(Dir),BITS_PER_BYTE=7,sparseArray=function(){function e(){_classCallCheck(this,e),this._bitArrays=[],this._data=[],this._length=0,this._changedLength=!1,this._changedData=!1}return _createClass(e,[{key:"set",value:function(e,t){var r=this._internalPositionFor(e,!1);if(void 0===t)-1!==r&&(this._unsetInternalPos(r),this._unsetBit(e),this._changedLength=!0,this._changedData=!0);else{var n=!1;-1===r?(r=this._data.length,this._setBit(e),this._changedData=!0):n=!0,this._setInternalPos(r,e,t,n),this._changedLength=!0}}},{key:"unset",value:function(e){this.set(e,void 0)}},{key:"get",value:function(e){this._sortData();var t=this._internalPositionFor(e,!0);if(-1!==t)return this._data[t][1]}},{key:"push",value:function(e){return this.set(this.length,e),this.length}},{key:"length",get:function(){if(this._sortData(),this._changedLength){var e=this._data[this._data.length-1];this._length=e?e[0]+1:0,this._changedLength=!1}return this._length}},{key:"forEach",value:function(e){for(var t=0;t<this.length;)e(this.get(t),t,this),t++}},{key:"map",value:function(e){for(var t=0,r=new Array(this.length);t<this.length;)r[t]=e(this.get(t),t,this),t++;return r}},{key:"reduce",value:function(e,t){for(var r=0,n=t;r<this.length;)n=e(n,this.get(r),r),r++;return n}},{key:"find",value:function(e){for(var t,r,n=0;n<this.length&&!t;)t=e(r=this.get(n)),n++;return t?r:void 0}},{key:"_internalPositionFor",value:function(e,t){var r=this._bytePosFor(e,t);if(r>=this._bitArrays.length)return-1;var n=this._bitArrays[r],i=e-r*BITS_PER_BYTE;return(n&1<<i)>0?this._bitArrays.slice(0,r).reduce(popCountReduce,0)+popCount(n&~(4294967295<<i+1))-1:-1}},{key:"_bytePosFor",value:function(e,t){for(var r=Math.floor(e/BITS_PER_BYTE),n=r+1;!t&&this._bitArrays.length<n;)this._bitArrays.push(0);return r}},{key:"_setBit",value:function(e){var t=this._bytePosFor(e,!1);this._bitArrays[t]|=1<<e-t*BITS_PER_BYTE}},{key:"_unsetBit",value:function(e){var t=this._bytePosFor(e,!1);this._bitArrays[t]&=~(1<<e-t*BITS_PER_BYTE)}},{key:"_setInternalPos",value:function(e,t,r,n){var i=this._data,a=[t,r];if(n)this._sortData(),i[e]=a;else{if(i.length)if(i[i.length-1][0]>=t)i.push(a);else if(i[0][0]<=t)i.unshift(a);else{var o=Math.round(i.length/2);this._data=i.slice(0,o).concat(a).concat(i.slice(o))}else this._data.push(a);this._changedData=!0,this._changedLength=!0}}},{key:"_unsetInternalPos",value:function(e){this._data.splice(e,1)}},{key:"_sortData",value:function(){this._changedData&&this._data.sort(sortInternal),this._changedData=!1}},{key:"bitField",value:function(){for(var e,t=[],r=8,n=0,i=0,a=this._bitArrays.slice();a.length||n;){0===n&&(e=a.shift(),n=7);var o=Math.min(n,r);i|=(e&~(255<<o))<<8-r,e>>>=o,n-=o,(r-=o)&&(n||a.length)||(t.push(i),i=0,r=8)}for(var s=t.length-1;s>0&&0===t[s];s--)t.pop();return t}},{key:"compactArray",value:function(){return this._sortData(),this._data.map(valueOnly)}}]),e}();function popCountReduce(e,t){return e+popCount(t)}function popCount(e){var t=e;return 16843009*((t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135)>>24}function sortInternal(e,t){return e[0]-t[0]}function valueOnly(e){return e[1]}var require$$1$3=getAugmentedNamespace(fromString$1),SparseArray=sparseArray,uint8ArrayFromString=require$$1$3.fromString,Bucket$1=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;_classCallCheck(this,e),this._options=t,this._popCount=0,this._parent=r,this._posAtParent=n,this._children=new SparseArray,this.key=null}var t,r,n,i,a,o;return _createClass(e,[{key:"put",value:(o=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._findNewBucketAndPos(t);case 2:return n=e.sent,e.next=5,n.bucket._putAt(n,t,r);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"get",value:(a=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._findChild(t);case 2:if(!(r=e.sent)){e.next=5;break}return e.abrupt("return",r.value);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"del",value:(i=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._findPlace(t);case 2:r=e.sent,(n=r.bucket._at(r.pos))&&n.key===t&&r.bucket._delAt(r.pos);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"leafCount",value:function(){return this._children.compactArray().reduce((function(t,r){return r instanceof e?t+r.leafCount():t+1}),0)}},{key:"childrenCount",value:function(){return this._children.length}},{key:"onlyChild",value:function(){return this._children.get(0)}},{key:"eachLeafSeries",value:regeneratorRuntime.mark((function t(){var r,n,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=this._children.compactArray(),n=_createForOfIteratorHelper(r),t.prev=2,n.s();case 4:if((i=n.n()).done){t.next=14;break}if(!((a=i.value)instanceof e)){t.next=10;break}return t.delegateYield(a.eachLeafSeries(),"t0",8);case 8:t.next=12;break;case 10:return t.next=12,a;case 12:t.next=4;break;case 14:t.next=19;break;case 16:t.prev=16,t.t1=t.catch(2),n.e(t.t1);case 19:return t.prev=19,n.f(),t.finish(19);case 22:return t.abrupt("return",[]);case 23:case"end":return t.stop()}}),t,this,[[2,16,19,22]])}))},{key:"serialize",value:function(t,r){return r(this._children.reduce((function(n,i,a){return i&&(i instanceof e?n.push(i.serialize(t,r)):n.push(t(i,a))),n}),[]))}},{key:"asyncTransform",value:function(e,t){return asyncTransformBucket(this,e,t)}},{key:"toJSON",value:function(){return this.serialize(mapNode,reduceNodes)}},{key:"prettyPrint",value:function(){return JSON.stringify(this.toJSON(),null,"  ")}},{key:"tableSize",value:function(){return Math.pow(2,this._options.bits)}},{key:"_findChild",value:(n=_asyncToGenerator(regeneratorRuntime.mark((function t(r){var n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._findPlace(r);case 2:if(n=t.sent,!((i=n.bucket._at(n.pos))instanceof e)){t.next=6;break}return t.abrupt("return",void 0);case 6:if(!i||i.key!==r){t.next=8;break}return t.abrupt("return",i);case 8:case"end":return t.stop()}}),t,this)}))),function(e){return n.apply(this,arguments)})},{key:"_findPlace",value:(r=_asyncToGenerator(regeneratorRuntime.mark((function t(r){var n,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._options.hash("string"==typeof r?uint8ArrayFromString(r):r),t.next=3,n.take(this._options.bits);case 3:if(i=t.sent,!((a=this._children.get(i))instanceof e)){t.next=7;break}return t.abrupt("return",a._findPlace(n));case 7:return t.abrupt("return",{bucket:this,pos:i,hash:n,existingChild:a});case 8:case"end":return t.stop()}}),t,this)}))),function(e){return r.apply(this,arguments)})},{key:"_findNewBucketAndPos",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function t(r){var n,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._findPlace(r);case 2:if(!(n=t.sent).existingChild||n.existingChild.key===r){t.next=11;break}return i=new e(this._options,n.bucket,n.pos),n.bucket._putObjectAt(n.pos,i),t.next=8,i._findPlace(n.existingChild.hash);case 8:return(a=t.sent).bucket._putAt(a,n.existingChild.key,n.existingChild.value),t.abrupt("return",i._findNewBucketAndPos(n.hash));case 11:return t.abrupt("return",n);case 12:case"end":return t.stop()}}),t,this)}))),function(e){return t.apply(this,arguments)})},{key:"_putAt",value:function(e,t,r){this._putObjectAt(e.pos,{key:t,value:r,hash:e.hash})}},{key:"_putObjectAt",value:function(e,t){this._children.get(e)||this._popCount++,this._children.set(e,t)}},{key:"_delAt",value:function(e){if(-1===e)throw new Error("Invalid position");this._children.get(e)&&this._popCount--,this._children.unset(e),this._level()}},{key:"_level",value:function(){if(this._parent&&this._popCount<=1)if(1===this._popCount){var t=this._children.find(exists);if(t&&!(t instanceof e)){var r=t.hash;r.untake(this._options.bits);var n={pos:this._posAtParent,hash:r,bucket:this._parent};this._parent._putAt(n,t.key,t.value)}}else this._parent._delAt(this._posAtParent)}},{key:"_at",value:function(e){return this._children.get(e)}}]),e}();function exists(e){return Boolean(e)}function mapNode(e,t){return e.key}function reduceNodes(e){return e}function asyncTransformBucket(e,t,r){return _asyncTransformBucket.apply(this,arguments)}function _asyncTransformBucket(){return(_asyncTransformBucket=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r,n){var i,a,o,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=[],a=_createForOfIteratorHelper(t._children.compactArray()),e.prev=2,a.s();case 4:if((o=a.n()).done){e.next=17;break}if(!((s=o.value)instanceof Bucket$1)){e.next=11;break}return e.next=9,asyncTransformBucket(s,r,n);case 9:e.next=15;break;case 11:return e.next=13,r(s);case 13:u=e.sent,i.push({bitField:t._children.bitField(),children:u});case 15:e.next=4;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(2),a.e(e.t0);case 22:return e.prev=22,a.f(),e.finish(22);case 25:return e.abrupt("return",n(i));case 26:case"end":return e.stop()}}),e,null,[[2,19,22,25]])})))).apply(this,arguments)}var bucket=Bucket$1,consumableHash={exports:{}},START_MASKS=[255,254,252,248,240,224,192,128],STOP_MASKS=[1,3,7,15,31,63,127,255],consumableBuffer=function(){function e(t){_classCallCheck(this,e),this._value=t,this._currentBytePos=t.length-1,this._currentBitPos=7}return _createClass(e,[{key:"availableBits",value:function(){return this._currentBitPos+1+8*this._currentBytePos}},{key:"totalBits",value:function(){return 8*this._value.length}},{key:"take",value:function(e){for(var t=e,r=0;t&&this._haveBits();){var n=this._value[this._currentBytePos],i=this._currentBitPos+1,a=Math.min(i,t);r=(r<<a)+byteBitsToInt(n,i-a,a),t-=a,this._currentBitPos-=a,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return r}},{key:"untake",value:function(e){for(this._currentBitPos+=e;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}},{key:"_haveBits",value:function(){return this._currentBytePos>=0}}]),e}();function byteBitsToInt(e,t,r){return(e&maskFor(t,r))>>>t}function maskFor(e,t){return START_MASKS[e]&STOP_MASKS[Math.min(t+e-1,7)]}function concat(e,t){t||(t=e.reduce((function(e,t){return e+t.length}),0));var r,n=new Uint8Array(t),i=0,a=_createForOfIteratorHelper(e);try{for(a.s();!(r=a.n()).done;){var o=r.value;n.set(o,i),i+=o.length}}catch(e){a.e(e)}finally{a.f()}return n}var concat$1=Object.freeze(Object.defineProperty({__proto__:null,concat},Symbol.toStringTag,{value:"Module"})),require$$1$2=getAugmentedNamespace(concat$1),ConsumableBuffer=consumableBuffer,uint8ArrayConcat=require$$1$2.concat;function wrapHash$1(e){return function(t){return t instanceof InfiniteHash?t:new InfiniteHash(t,e)}}var InfiniteHash=function(){function e(t,r){if(_classCallCheck(this,e),!(t instanceof Uint8Array))throw new Error("can only hash Uint8Arrays");this._value=t,this._hashFn=r,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}var t,r;return _createClass(e,[{key:"take",value:(r=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n,i,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t;case 1:if(!(this._availableBits<r)){e.next=6;break}return e.next=4,this._produceMoreBits();case 4:e.next=1;break;case 6:for(n=0;r>0;)i=this._buffers[this._currentBufferIndex],a=Math.min(i.availableBits(),r),o=i.take(a),n=(n<<a)+o,r-=a,this._availableBits-=a,0===i.availableBits()&&this._currentBufferIndex++;return e.abrupt("return",n);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"untake",value:function(e){for(var t=e;t>0;){var r=this._buffers[this._currentBufferIndex],n=Math.min(r.totalBits()-r.availableBits(),t);r.untake(n),t-=n,this._availableBits+=n,this._currentBufferIndex>0&&r.totalBits()===r.availableBits()&&(this._depth--,this._currentBufferIndex--)}}},{key:"_produceMoreBits",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._depth++,t=this._depth?uint8ArrayConcat([this._value,Uint8Array.from([this._depth])]):this._value,e.next=4,this._hashFn(t);case 4:r=e.sent,n=new ConsumableBuffer(r),this._buffers.push(n),this._availableBits+=n.availableBits();case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}();consumableHash.exports=wrapHash$1,consumableHash.exports.InfiniteHash=InfiniteHash;var Bucket=bucket,wrapHash=consumableHash.exports;function createHAMT(e){if(!e||!e.hashFn)throw new Error("please define an options.hashFn");var t={bits:e.bits||8,hash:wrapHash(e.hashFn)};return new Bucket(t)}var src={createHAMT,Bucket},DirSharded=function(e){_inherits(n,e);var t,r=_createSuper(n);function n(e,t){var i;return _classCallCheck(this,n),(i=r.call(this,e,t))._bucket=src.createHAMT({hashFn:t.hamtHashFn,bits:t.hamtBucketBits}),i}return _createClass(n,[{key:"put",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._bucket.put(t,r);case 2:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})},{key:"get",value:function(e){return this._bucket.get(e)}},{key:"childCount",value:function(){return this._bucket.leafCount()}},{key:"directChildrenCount",value:function(){return this._bucket.childrenCount()}},{key:"onlyChild",value:function(){return this._bucket.onlyChild()}},{key:"eachChildSeries",value:function(){var e=this;return _wrapAsyncGenerator(regeneratorRuntime.mark((function t(){var r,n,i,a,o,s,u,c,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=!0,n=!1,t.prev=2,a=_asyncIterator(e._bucket.eachLeafSeries());case 4:return t.next=6,_awaitAsyncGenerator(a.next());case 6:return o=t.sent,r=o.done,t.next=10,_awaitAsyncGenerator(o.value);case 10:if(s=t.sent,r){t.next=18;break}return c=(u=s).key,l=u.value,t.next=15,{key:c,child:l};case 15:r=!0,t.next=4;break;case 18:t.next=24;break;case 20:t.prev=20,t.t0=t.catch(2),n=!0,i=t.t0;case 24:if(t.prev=24,t.prev=25,r||null==a.return){t.next=29;break}return t.next=29,_awaitAsyncGenerator(a.return());case 29:if(t.prev=29,!n){t.next=32;break}throw i;case 32:return t.finish(29);case 33:return t.finish(24);case 34:case"end":return t.stop()}}),t,null,[[2,20,24,34],[25,,29,33]])})))()}},{key:"flush",value:function(e){var t=this;return _wrapAsyncGenerator(regeneratorRuntime.mark((function r(){var n,i,a,o,s,u,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n=!0,i=!1,r.prev=2,o=_asyncIterator(_flush2(t._bucket,e,t,t.options));case 4:return r.next=6,_awaitAsyncGenerator(o.next());case 6:return s=r.sent,n=s.done,r.next=10,_awaitAsyncGenerator(s.value);case 10:if(u=r.sent,n){r.next=18;break}return c=u,r.next=15,__spreadProps(__spreadValues({},c),{path:t.path});case 15:n=!0,r.next=4;break;case 18:r.next=24;break;case 20:r.prev=20,r.t0=r.catch(2),i=!0,a=r.t0;case 24:if(r.prev=24,r.prev=25,n||null==o.return){r.next=29;break}return r.next=29,_awaitAsyncGenerator(o.return());case 29:if(r.prev=29,!i){r.next=32;break}throw a;case 32:return r.finish(29);case 33:return r.finish(24);case 34:case"end":return r.stop()}}),r,null,[[2,20,24,34],[25,,29,33]])})))()}}]),n}(Dir);function _flush2(e,t,r,n){return _flush.apply(this,arguments)}function _flush(){return(_flush=_wrapAsyncGenerator(regeneratorRuntime.mark((function e(t,r,n,i){var a,o,s,u,c,l,f,p,d,h,m,y,v,g,b,_,w,k,x,T,E,A,S,C,O,R,P,I,N,$,B;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t._children,o=[],s=0,u=0;case 4:if(!(u<a.length)){e.next=107;break}if(c=a.get(u)){e.next=8;break}return e.abrupt("continue",104);case 8:if(l=u.toString(16).toUpperCase().padStart(2,"0"),!(c instanceof src.Bucket)){e.next=54;break}return f=void 0,p=!0,d=!1,e.prev=13,e.t0=_asyncIterator,e.next=17,_awaitAsyncGenerator(_flush2(c,r,null,i));case 17:e.t1=e.sent,m=(0,e.t0)(e.t1);case 19:return e.next=21,_awaitAsyncGenerator(m.next());case 21:return y=e.sent,p=y.done,e.next=25,_awaitAsyncGenerator(y.value);case 25:if(v=e.sent,p){e.next=32;break}f=v;case 29:p=!0,e.next=19;break;case 32:e.next=38;break;case 34:e.prev=34,e.t2=e.catch(13),d=!0,h=e.t2;case 38:if(e.prev=38,e.prev=39,p||null==m.return){e.next=43;break}return e.next=43,_awaitAsyncGenerator(m.return());case 43:if(e.prev=43,!d){e.next=46;break}throw h;case 46:return e.finish(43);case 47:return e.finish(38);case 48:if(f){e.next=50;break}throw new Error("Could not flush sharded directory, no subshard found");case 50:o.push({Name:l,Tsize:f.size,Hash:f.cid}),s+=f.size,e.next=104;break;case 54:if("function"!=typeof c.value.flush){e.next=97;break}g=c.value,b=void 0,_=!0,w=!1,e.prev=59,x=_asyncIterator(g.flush(r));case 61:return e.next=63,_awaitAsyncGenerator(x.next());case 63:return T=e.sent,_=T.done,e.next=67,_awaitAsyncGenerator(T.value);case 67:if(E=e.sent,_){e.next=76;break}return b=E,e.next=73,b;case 73:_=!0,e.next=61;break;case 76:e.next=82;break;case 78:e.prev=78,e.t3=e.catch(59),w=!0,k=e.t3;case 82:if(e.prev=82,e.prev=83,_||null==x.return){e.next=87;break}return e.next=87,_awaitAsyncGenerator(x.return());case 87:if(e.prev=87,!w){e.next=90;break}throw k;case 90:return e.finish(87);case 91:return e.finish(82);case 92:A=l+c.key,o.push({Name:A,Tsize:b.size,Hash:b.cid}),s+=b.size,e.next=104;break;case 97:if((S=c.value).cid){e.next=100;break}return e.abrupt("continue",104);case 100:C=l+c.key,O=S.size,o.push({Name:C,Tsize:O,Hash:S.cid}),s+=O;case 104:u++,e.next=4;break;case 107:return R=Uint8Array.from(a.bitField().reverse()),P=new UnixFS({type:"hamt-sharded-directory",data:R,fanout:t.tableSize(),hashType:i.hamtHashCode,mtime:n&&n.mtime,mode:n&&n.mode}),I={Data:P.marshal(),Links:o},N=encode$4(prepare(I)),e.next=113,_awaitAsyncGenerator(persist(N,r,i));case 113:return $=e.sent,B=N.length+s,e.next=117,{cid:$,unixfs:P,size:B};case 117:case"end":return e.stop()}}),e,null,[[13,34,38,48],[39,,43,47],[59,78,82,92],[83,,87,91]])})))).apply(this,arguments)}function flatToShard(e,t,r,n){return _flatToShard.apply(this,arguments)}function _flatToShard(){return(_flatToShard=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r,n,i){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r,!(r instanceof DirFlat&&r.directChildrenCount()>=n)){e.next=5;break}return e.next=4,convertToShard(r,i);case 4:a=e.sent;case 5:if(!(o=a.parent)){e.next=14;break}if(a===r){e.next=13;break}if(t&&(t.parent=a),a.parentKey){e.next=11;break}throw new Error("No parent key found");case 11:return e.next=13,o.put(a.parentKey,a);case 13:return e.abrupt("return",flatToShard(a,o,n,i));case 14:return e.abrupt("return",a);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function convertToShard(e,t){return _convertToShard.apply(this,arguments)}function _convertToShard(){return(_convertToShard=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r){var n,i,a,o,s,u,c,l,f,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new DirSharded({root:t.root,dir:!0,parent:t.parent,parentKey:t.parentKey,path:t.path,dirty:t.dirty,flat:!1,mtime:t.mtime,mode:t.mode},r),i=!0,a=!1,e.prev=3,s=_asyncIterator(t.eachChildSeries());case 5:return e.next=7,s.next();case 7:return u=e.sent,i=u.done,e.next=11,u.value;case 11:if(c=e.sent,i){e.next=19;break}return f=(l=c).key,p=l.child,e.next=16,n.put(f,p);case 16:i=!0,e.next=5;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(3),a=!0,o=e.t0;case 25:if(e.prev=25,e.prev=26,i||null==s.return){e.next=30;break}return e.next=30,s.return();case 30:if(e.prev=30,!a){e.next=33;break}throw o;case 33:return e.finish(30);case 34:return e.finish(25);case 35:return e.abrupt("return",n);case 36:case"end":return e.stop()}}),e,null,[[3,21,25,35],[26,,30,34]])})))).apply(this,arguments)}var toPathComponents$1=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(e.trim().match(/([^\\/]|\\\/)+/g)||[]).filter(Boolean)};function addToTree(e,t,r){return _addToTree.apply(this,arguments)}function _addToTree(){return(_addToTree=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r,n){var i,a,o,s,u,c,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=toPathComponents$1(t.path||""),a=i.length-1,o=r,s="",u=0;case 5:if(!(u<i.length)){e.next=30;break}if(c=i[u],s+="".concat(s?"/":"").concat(c),l=u===a,o.dirty=!0,o.cid=void 0,o.size=void 0,!l){e.next=20;break}return e.next=15,o.put(c,t);case 15:return e.next=17,flatToShard(null,o,n.shardSplitThreshold,n);case 17:r=e.sent,e.next=27;break;case 20:return e.next=22,o.get(c);case 22:return(f=e.sent)&&f instanceof Dir||(f=new DirFlat({root:!1,dir:!0,parent:o,parentKey:c,path:s,dirty:!0,flat:!0,mtime:f&&f.unixfs&&f.unixfs.mtime,mode:f&&f.unixfs&&f.unixfs.mode},n)),e.next=26,o.put(c,f);case 26:o=f;case 27:u++,e.next=5;break;case 30:return e.abrupt("return",r);case 31:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function flushAndYield(e,t){return _flushAndYield.apply(this,arguments)}function _flushAndYield(){return(_flushAndYield=_wrapAsyncGenerator(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof Dir){e.next=5;break}if(!(t&&t.unixfs&&t.unixfs.isDirectory())){e.next=4;break}return e.next=4,t;case 4:return e.abrupt("return");case 5:return e.delegateYield(_asyncGeneratorDelegate(_asyncIterator(t.flush(r)),_awaitAsyncGenerator),"t0",6);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function treeBuilder(e,t,r){return _treeBuilder.apply(this,arguments)}function _treeBuilder(){return(_treeBuilder=_wrapAsyncGenerator(regeneratorRuntime.mark((function e(t,r,n){var i,a,o,s,u,c,l,f,p,d,h,m,y,v,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=new DirFlat({root:!0,dir:!0,path:"",dirty:!0,flat:!0},n),a=!0,o=!1,e.prev=3,u=_asyncIterator(t);case 5:return e.next=7,_awaitAsyncGenerator(u.next());case 7:return c=e.sent,a=c.done,e.next=11,_awaitAsyncGenerator(c.value);case 11:if(l=e.sent,a){e.next=25;break}if(f=l){e.next=16;break}return e.abrupt("continue",22);case 16:return e.next=18,_awaitAsyncGenerator(addToTree(f,i,n));case 18:if(i=e.sent,f.unixfs&&f.unixfs.isDirectory()){e.next=22;break}return e.next=22,f;case 22:a=!0,e.next=5;break;case 25:e.next=31;break;case 27:e.prev=27,e.t0=e.catch(3),o=!0,s=e.t0;case 31:if(e.prev=31,e.prev=32,a||null==u.return){e.next=36;break}return e.next=36,_awaitAsyncGenerator(u.return());case 36:if(e.prev=36,!o){e.next=39;break}throw s;case 39:return e.finish(36);case 40:return e.finish(31);case 41:if(!n.wrapWithDirectory){e.next=45;break}return e.delegateYield(_asyncGeneratorDelegate(_asyncIterator(flushAndYield(i,r)),_awaitAsyncGenerator),"t1",43);case 43:e.next=80;break;case 45:p=!0,d=!1,e.prev=47,m=_asyncIterator(i.eachChildSeries());case 49:return e.next=51,_awaitAsyncGenerator(m.next());case 51:return y=e.sent,p=y.done,e.next=55,_awaitAsyncGenerator(y.value);case 55:if(v=e.sent,p){e.next=64;break}if(g=v){e.next=60;break}return e.abrupt("continue",61);case 60:return e.delegateYield(_asyncGeneratorDelegate(_asyncIterator(flushAndYield(g.child,r)),_awaitAsyncGenerator),"t2",61);case 61:p=!0,e.next=49;break;case 64:e.next=70;break;case 66:e.prev=66,e.t3=e.catch(47),d=!0,h=e.t3;case 70:if(e.prev=70,e.prev=71,p||null==m.return){e.next=75;break}return e.next=75,_awaitAsyncGenerator(m.return());case 75:if(e.prev=75,!d){e.next=78;break}throw h;case 78:return e.finish(75);case 79:return e.finish(70);case 80:case"end":return e.stop()}}),e,null,[[3,27,31,41],[32,,36,40],[47,66,70,80],[71,,75,79]])})))).apply(this,arguments)}function importer(e,t){return _importer.apply(this,arguments)}function _importer(){return(_importer=_wrapAsyncGenerator(regeneratorRuntime.mark((function e(t,r){var n,i,a,o,s,u,c,l,f,p,d,h,m=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=m.length>2&&void 0!==m[2]?m[2]:{},i=defaultOptions$1(n),a="function"==typeof n.dagBuilder?n.dagBuilder:dagBuilder,o="function"==typeof n.treeBuilder?n.treeBuilder:treeBuilder,s=Symbol.asyncIterator in t||Symbol.iterator in t?t:[t],u=!0,c=!1,e.prev=7,f=_asyncIterator(o(itParallelBatch(a(s,r,i),i.fileImportConcurrency),r,i));case 9:return e.next=11,_awaitAsyncGenerator(f.next());case 11:return p=e.sent,u=p.done,e.next=15,_awaitAsyncGenerator(p.value);case 15:if(d=e.sent,u){e.next=23;break}return h=d,e.next=20,{cid:h.cid,path:h.path,unixfs:h.unixfs,size:h.size};case 20:u=!0,e.next=9;break;case 23:e.next=29;break;case 25:e.prev=25,e.t0=e.catch(7),c=!0,l=e.t0;case 29:if(e.prev=29,e.prev=30,u||null==f.return){e.next=34;break}return e.next=34,_awaitAsyncGenerator(f.return());case 34:if(e.prev=34,!c){e.next=37;break}throw l;case 37:return e.finish(34);case 38:return e.finish(29);case 39:case"end":return e.stop()}}),e,null,[[7,25,29,39],[30,,34,38]])})))).apply(this,arguments)}function browserReadableStreamToIt$1(e){return _browserReadableStreamToIt$.apply(this,arguments)}function _browserReadableStreamToIt$(){return(_browserReadableStreamToIt$=_wrapAsyncGenerator(regeneratorRuntime.mark((function e(t){var r,n,i,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=a.length>1&&void 0!==a[1]?a[1]:{},n=t.getReader(),e.prev=2;case 3:return e.next=6,_awaitAsyncGenerator(n.read());case 6:if(!(i=e.sent).done){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,i.value;case 11:e.next=3;break;case 13:return e.prev=13,!0!==r.preventCancel&&n.cancel(),n.releaseLock(),e.finish(13);case 17:case"end":return e.stop()}}),e,null,[[2,,13,17]])})))).apply(this,arguments)}var browserReadablestreamToIt=browserReadableStreamToIt$1,browserReadableStreamToIt=browserReadablestreamToIt;function blobToIt(e){return"function"==typeof e.stream?browserReadableStreamToIt(e.stream()):browserReadableStreamToIt(new Response(e).body)}var blobToIt_1=blobToIt;function peekableIterator(e){var t=_slicedToArray(e[Symbol.asyncIterator]?[e[Symbol.asyncIterator](),Symbol.asyncIterator]:[e[Symbol.iterator](),Symbol.iterator],2),r=t[0],n=t[1],i=[];return _defineProperty({peek:function(){return r.next()},push:function(e){i.push(e)},next:function(){return i.length?{done:!1,value:i.shift()}:r.next()}},n,(function(){return this}))}var itPeekable=peekableIterator,map=function(){var e=_wrapAsyncGenerator(regeneratorRuntime.mark((function e(t,r){var n,i,a,o,s,u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=!0,i=!1,e.prev=2,o=_asyncIterator(t);case 4:return e.next=6,_awaitAsyncGenerator(o.next());case 6:return s=e.sent,n=s.done,e.next=10,_awaitAsyncGenerator(s.value);case 10:if(u=e.sent,n){e.next=18;break}return c=u,e.next=15,r(c);case 15:n=!0,e.next=4;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(2),i=!0,a=e.t0;case 24:if(e.prev=24,e.prev=25,n||null==o.return){e.next=29;break}return e.next=29,_awaitAsyncGenerator(o.return());case 29:if(e.prev=29,!i){e.next=32;break}throw a;case 32:return e.finish(29);case 33:return e.finish(24);case 34:case"end":return e.stop()}}),e,null,[[2,20,24,34],[25,,29,33]])})));return function(t,r){return e.apply(this,arguments)}}(),itMap=map;function isBytes$1(e){return ArrayBuffer.isView(e)||e instanceof ArrayBuffer}function isBlob$2(e){return e.constructor&&("Blob"===e.constructor.name||"File"===e.constructor.name)&&"function"==typeof e.stream}function isFileObject(e){return"object"===_typeof(e)&&(e.path||e.content)}var isReadableStream=function(e){return e&&"function"==typeof e.getReader};function toAsyncIterable(e){return _toAsyncIterable.apply(this,arguments)}function _toAsyncIterable(){return(_toAsyncIterable=_wrapAsyncGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function normaliseContent(e){return _normaliseContent.apply(this,arguments)}function _normaliseContent(){return(_normaliseContent=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!isBytes$1(t)){e.next=2;break}return e.abrupt("return",toAsyncIterable(toBytes(t)));case 2:if(!("string"==typeof t||t instanceof String)){e.next=4;break}return e.abrupt("return",toAsyncIterable(toBytes(t.toString())));case 4:if(!isBlob$2(t)){e.next=6;break}return e.abrupt("return",blobToIt_1(t));case 6:if(isReadableStream(t)&&(t=browserReadablestreamToIt(t)),!(Symbol.iterator in t)&&!(Symbol.asyncIterator in t)){e.next=27;break}return r=itPeekable(t),e.next=11,r.peek();case 11:if(n=e.sent,i=n.value,!n.done){e.next=16;break}return e.abrupt("return",toAsyncIterable(new Uint8Array(0)));case 16:if(r.push(i),!Number.isInteger(i)){e.next=25;break}return e.t0=toAsyncIterable,e.t1=Uint8Array,e.next=22,itAll(r);case 22:return e.t2=e.sent,e.t3=e.t1.from.call(e.t1,e.t2),e.abrupt("return",(0,e.t0)(e.t3));case 25:if(!(isBytes$1(i)||"string"==typeof i||i instanceof String)){e.next=27;break}return e.abrupt("return",itMap(r,toBytes));case 27:throw errCode(new Error("Unexpected input: ".concat(t)),"ERR_UNEXPECTED_INPUT");case 28:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function toBytes(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Array.isArray(e)?Uint8Array.from(e):fromString(e.toString())}function normaliseCandidateSingle(e,t){return _normaliseCandidateSingle.apply(this,arguments)}function _normaliseCandidateSingle(){return(_normaliseCandidateSingle=_wrapAsyncGenerator(regeneratorRuntime.mark((function e(t,r){var n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}throw errCode(new Error("Unexpected input: ".concat(t)),"ERR_UNEXPECTED_INPUT");case 2:if(!("string"==typeof t||t instanceof String)){e.next=6;break}return e.next=5,toFileObject$1(t.toString(),r);case 5:return e.abrupt("return");case 6:if(!isBytes$1(t)&&!isBlob$2(t)){e.next=10;break}return e.next=9,toFileObject$1(t,r);case 9:return e.abrupt("return");case 10:if(isReadableStream(t)&&(t=browserReadablestreamToIt(t)),!(Symbol.iterator in t)&&!(Symbol.asyncIterator in t)){e.next=28;break}return n=itPeekable(t),e.next=15,_awaitAsyncGenerator(n.peek());case 15:if(i=e.sent,a=i.value,!i.done){e.next=22;break}return e.next=21,{content:[]};case 21:return e.abrupt("return");case 22:if(n.push(a),!(Number.isInteger(a)||isBytes$1(a)||"string"==typeof a||a instanceof String)){e.next=27;break}return e.next=26,toFileObject$1(n,r);case 26:return e.abrupt("return");case 27:throw errCode(new Error("Unexpected input: multiple items passed - if you are using ipfs.add, please use ipfs.addAll instead"),"ERR_UNEXPECTED_INPUT");case 28:if(!isFileObject(t)){e.next=32;break}return e.next=31,toFileObject$1(t,r);case 31:return e.abrupt("return");case 32:throw errCode(new Error('Unexpected input: cannot convert "'+_typeof(t)+'" into ImportCandidate'),"ERR_UNEXPECTED_INPUT");case 33:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function toFileObject$1(e,t){return _toFileObject$.apply(this,arguments)}function _toFileObject$(){return(_toFileObject$=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r){var n,i,a,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.path,i=t.mode,a=t.mtime,o=t.content,s={path:n||"",mode:parseMode(i),mtime:parseMtime(a)},!o){e.next=8;break}return e.next=5,r(o);case 5:s.content=e.sent,e.next=12;break;case 8:if(n){e.next=12;break}return e.next=11,r(t);case 11:s.content=e.sent;case 12:return e.abrupt("return",s);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function normaliseInput$1(e){return normaliseCandidateSingle(e,normaliseContent)}function normaliseCandidateMultiple(e,t){return _normaliseCandidateMultiple.apply(this,arguments)}function _normaliseCandidateMultiple(){return(_normaliseCandidateMultiple=_wrapAsyncGenerator(regeneratorRuntime.mark((function e(t,r){var n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("string"==typeof t||t instanceof String||isBytes$1(t)||isBlob$2(t)||t._readableState)){e.next=2;break}throw errCode(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");case 2:if(isReadableStream(t)&&(t=browserReadablestreamToIt(t)),!(Symbol.iterator in t)&&!(Symbol.asyncIterator in t)){e.next=26;break}return n=itPeekable(t),e.next=7,_awaitAsyncGenerator(n.peek());case 7:if(i=e.sent,a=i.value,!i.done){e.next=13;break}return e.delegateYield(_asyncGeneratorDelegate(_asyncIterator([]),_awaitAsyncGenerator),"t0",12);case 12:return e.abrupt("return");case 13:if(n.push(a),!Number.isInteger(a)){e.next=16;break}throw errCode(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");case 16:if(!a._readableState){e.next=19;break}return e.delegateYield(_asyncGeneratorDelegate(_asyncIterator(itMap(n,(function(e){return toFileObject({content:e},r)}))),_awaitAsyncGenerator),"t1",18);case 18:return e.abrupt("return");case 19:if(!isBytes$1(a)){e.next=23;break}return e.next=22,toFileObject({content:n},r);case 22:return e.abrupt("return");case 23:if(!(isFileObject(a)||a[Symbol.iterator]||a[Symbol.asyncIterator]||isReadableStream(a)||isBlob$2(a))){e.next=26;break}return e.delegateYield(_asyncGeneratorDelegate(_asyncIterator(itMap(n,(function(e){return toFileObject(e,r)}))),_awaitAsyncGenerator),"t2",25);case 25:return e.abrupt("return");case 26:if(!isFileObject(t)){e.next=28;break}throw errCode(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");case 28:throw errCode(new Error("Unexpected input: "+_typeof(t)),"ERR_UNEXPECTED_INPUT");case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function toFileObject(e,t){return _toFileObject.apply(this,arguments)}function _toFileObject(){return(_toFileObject=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r){var n,i,a,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.path,i=t.mode,a=t.mtime,o=t.content,s={path:n||"",mode:parseMode(i),mtime:parseMtime(a)},!o){e.next=8;break}return e.next=5,r(o);case 5:s.content=e.sent,e.next=12;break;case 8:if(n){e.next=12;break}return e.next=11,r(t);case 11:s.content=e.sent;case 12:return e.abrupt("return",s);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function normaliseInput(e){return normaliseCandidateMultiple(e,normaliseContent)}function isBytes(e){return ArrayBuffer.isView(e)||e instanceof ArrayBuffer}function isBlob$1(e){return Boolean(e.constructor)&&("Blob"===e.constructor.name||"File"===e.constructor.name)&&"function"==typeof e.stream}function isSingle(e){return"string"==typeof e||e instanceof String||isBytes(e)||isBlob$1(e)||"_readableState"in e}function getNormaliser(e){return isSingle(e)?normaliseInput$1(e):normaliseInput(e)}function notFoundError(e){return e=e||new Error("Not Found"),errCode(e,"ERR_NOT_FOUND")}function abortedError(e){return e=e||new Error("Aborted"),errCode(e,"ERR_ABORTED")}var ErrorsImport=Object.freeze(Object.defineProperty({__proto__:null,notFoundError,abortedError},Symbol.toStringTag,{value:"Module"})),drain=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n,i,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=!0,n=!1,e.prev=2,a=_asyncIterator(t);case 4:return e.next=6,a.next();case 6:return o=e.sent,r=o.done,e.next=10,o.value;case 10:if(e.sent,r){e.next=16;break}case 13:r=!0,e.next=4;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(2),n=!0,i=e.t0;case 22:if(e.prev=22,e.prev=23,r||null==a.return){e.next=27;break}return e.next=27,a.return();case 27:if(e.prev=27,!n){e.next=30;break}throw i;case 30:return e.finish(27);case 31:return e.finish(22);case 32:case"end":return e.stop()}}),e,null,[[2,18,22,32],[23,,27,31]])})));return function(t){return e.apply(this,arguments)}}(),itDrain=drain,filter=function(){var e=_wrapAsyncGenerator(regeneratorRuntime.mark((function e(t,r){var n,i,a,o,s,u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=!0,i=!1,e.prev=2,o=_asyncIterator(t);case 4:return e.next=6,_awaitAsyncGenerator(o.next());case 6:return s=e.sent,n=s.done,e.next=10,_awaitAsyncGenerator(s.value);case 10:if(u=e.sent,n){e.next=21;break}return c=u,e.next=15,_awaitAsyncGenerator(r(c));case 15:if(!e.sent){e.next=18;break}return e.next=18,c;case 18:n=!0,e.next=4;break;case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(2),i=!0,a=e.t0;case 27:if(e.prev=27,e.prev=28,n||null==o.return){e.next=32;break}return e.next=32,_awaitAsyncGenerator(o.return());case 32:if(e.prev=32,!i){e.next=35;break}throw a;case 35:return e.finish(32);case 36:return e.finish(27);case 37:case"end":return e.stop()}}),e,null,[[2,23,27,37],[28,,32,36]])})));return function(t,r){return e.apply(this,arguments)}}(),itFilter=filter,take=function(){var e=_wrapAsyncGenerator(regeneratorRuntime.mark((function e(t,r){var n,i,a,o,s,u,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=0,!(r<1)){e.next=3;break}return e.abrupt("return");case 3:i=!0,a=!1,e.prev=5,s=_asyncIterator(t);case 7:return e.next=9,_awaitAsyncGenerator(s.next());case 9:return u=e.sent,i=u.done,e.next=13,_awaitAsyncGenerator(u.value);case 13:if(c=e.sent,i){e.next=24;break}return l=c,e.next=18,l;case 18:if(++n!==r){e.next=21;break}return e.abrupt("return");case 21:i=!0,e.next=7;break;case 24:e.next=30;break;case 26:e.prev=26,e.t0=e.catch(5),a=!0,o=e.t0;case 30:if(e.prev=30,e.prev=31,i||null==s.return){e.next=35;break}return e.next=35,_awaitAsyncGenerator(s.return());case 35:if(e.prev=35,!a){e.next=38;break}throw o;case 38:return e.finish(35);case 39:return e.finish(30);case 40:case"end":return e.stop()}}),e,null,[[5,26,30,40],[31,,35,39]])})));return function(t,r){return e.apply(this,arguments)}}(),itTake=take,sortAll=function(e,t){return _wrapAsyncGenerator(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,_awaitAsyncGenerator(itAll(e));case 2:return n=r.sent,r.delegateYield(_asyncGeneratorDelegate(_asyncIterator(n.sort(t)),_awaitAsyncGenerator),"t0",4);case 4:case"end":return r.stop()}}),r)})))()},BaseBlockstore=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"open",value:function(){return Promise.reject(new Error(".open is not implemented"))}},{key:"close",value:function(){return Promise.reject(new Error(".close is not implemented"))}},{key:"put",value:function(e,t,r){return Promise.reject(new Error(".put is not implemented"))}},{key:"get",value:function(e,t){return Promise.reject(new Error(".get is not implemented"))}},{key:"has",value:function(e,t){return Promise.reject(new Error(".has is not implemented"))}},{key:"delete",value:function(e,t){return Promise.reject(new Error(".delete is not implemented"))}},{key:"putMany",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _wrapAsyncGenerator(regeneratorRuntime.mark((function n(){var i,a,o,s,u,c,l,f,p;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=!0,a=!1,n.prev=2,s=_asyncIterator(e);case 4:return n.next=6,_awaitAsyncGenerator(s.next());case 6:return u=n.sent,i=u.done,n.next=10,_awaitAsyncGenerator(u.value);case 10:if(c=n.sent,i){n.next=20;break}return f=(l=c).key,p=l.value,n.next=15,_awaitAsyncGenerator(t.put(f,p,r));case 15:return n.next=17,{key:f,value:p};case 17:i=!0,n.next=4;break;case 20:n.next=26;break;case 22:n.prev=22,n.t0=n.catch(2),a=!0,o=n.t0;case 26:if(n.prev=26,n.prev=27,i||null==s.return){n.next=31;break}return n.next=31,_awaitAsyncGenerator(s.return());case 31:if(n.prev=31,!a){n.next=34;break}throw o;case 34:return n.finish(31);case 35:return n.finish(26);case 36:case"end":return n.stop()}}),n,null,[[2,22,26,36],[27,,31,35]])})))()}},{key:"getMany",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _wrapAsyncGenerator(regeneratorRuntime.mark((function n(){var i,a,o,s,u,c,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=!0,a=!1,n.prev=2,s=_asyncIterator(e);case 4:return n.next=6,_awaitAsyncGenerator(s.next());case 6:return u=n.sent,i=u.done,n.next=10,_awaitAsyncGenerator(u.value);case 10:if(c=n.sent,i){n.next=18;break}return l=c,n.next=15,t.get(l,r);case 15:i=!0,n.next=4;break;case 18:n.next=24;break;case 20:n.prev=20,n.t0=n.catch(2),a=!0,o=n.t0;case 24:if(n.prev=24,n.prev=25,i||null==s.return){n.next=29;break}return n.next=29,_awaitAsyncGenerator(s.return());case 29:if(n.prev=29,!a){n.next=32;break}throw o;case 32:return n.finish(29);case 33:return n.finish(24);case 34:case"end":return n.stop()}}),n,null,[[2,20,24,34],[25,,29,33]])})))()}},{key:"deleteMany",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _wrapAsyncGenerator(regeneratorRuntime.mark((function n(){var i,a,o,s,u,c,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=!0,a=!1,n.prev=2,s=_asyncIterator(e);case 4:return n.next=6,_awaitAsyncGenerator(s.next());case 6:return u=n.sent,i=u.done,n.next=10,_awaitAsyncGenerator(u.value);case 10:if(c=n.sent,i){n.next=20;break}return l=c,n.next=15,_awaitAsyncGenerator(t.delete(l,r));case 15:return n.next=17,l;case 17:i=!0,n.next=4;break;case 20:n.next=26;break;case 22:n.prev=22,n.t0=n.catch(2),a=!0,o=n.t0;case 26:if(n.prev=26,n.prev=27,i||null==s.return){n.next=31;break}return n.next=31,_awaitAsyncGenerator(s.return());case 31:if(n.prev=31,!a){n.next=34;break}throw o;case 34:return n.finish(31);case 35:return n.finish(26);case 36:case"end":return n.stop()}}),n,null,[[2,22,26,36],[27,,31,35]])})))()}},{key:"batch",value:function(){var e,t=this,r=[],n=[];return{put:function(e,t){r.push({key:e,value:t})},delete:function(e){n.push(e)},commit:(e=_asyncToGenerator(regeneratorRuntime.mark((function e(i){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,itDrain(t.putMany(r,i));case 2:return r=[],e.next=5,itDrain(t.deleteMany(n,i));case 5:n=[];case 6:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})}}},{key:"_all",value:function(e,t){return _wrapAsyncGenerator(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("._all is not implemented");case 1:case"end":return e.stop()}}),e)})))()}},{key:"_allKeys",value:function(e,t){return _wrapAsyncGenerator(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("._allKeys is not implemented");case 1:case"end":return e.stop()}}),e)})))()}},{key:"query",value:function(e,t){var r=this._all(e,t);if(null!=e.prefix&&(r=itFilter(r,(function(t){return t.key.toString().startsWith(e.prefix||"")}))),Array.isArray(e.filters)&&(r=e.filters.reduce((function(e,t){return itFilter(e,t)}),r)),Array.isArray(e.orders)&&(r=e.orders.reduce((function(e,t){return sortAll(e,t)}),r)),null!=e.offset){var n=0;r=itFilter(r,(function(){return n++>=(e.offset||0)}))}return null!=e.limit&&(r=itTake(r,e.limit)),r}},{key:"queryKeys",value:function(e,t){var r=this._allKeys(e,t);if(null!=e.prefix&&(r=itFilter(r,(function(t){return t.toString().startsWith(e.prefix||"")}))),Array.isArray(e.filters)&&(r=e.filters.reduce((function(e,t){return itFilter(e,t)}),r)),Array.isArray(e.orders)&&(r=e.orders.reduce((function(e,t){return sortAll(e,t)}),r)),null!=e.offset){var n=0;r=itFilter(r,(function(){return n++>=e.offset}))}return null!=e.limit&&(r=itTake(r,e.limit)),r}}]),e}();__spreadValues({},ErrorsImport);var MemoryBlockStore=function(e){_inherits(r,e);var t=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=t.call(this)).store=new Map,e}return _createClass(r,[{key:"blocks",value:function(){var e=this;return _wrapAsyncGenerator(regeneratorRuntime.mark((function t(){var r,n,i,a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=_createForOfIteratorHelper(e.store.entries()),t.prev=1,r.s();case 3:if((n=r.n()).done){t.next=9;break}return i=_slicedToArray(n.value,2),a=i[0],o=i[1],t.next=7,{cid:CID.parse(a),bytes:o};case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),r.e(t.t0);case 14:return t.prev=14,r.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,11,14,17]])})))()}},{key:"put",value:function(e,t){return this.store.set(e.toString(),t),Promise.resolve()}},{key:"get",value:function(e){var t=this.store.get(e.toString());if(!t)throw new Error("block with cid ".concat(e.toString()," no found"));return Promise.resolve(t)}},{key:"has",value:function(e){return Promise.resolve(this.store.has(e.toString()))}},{key:"close",value:function(){return this.store.clear(),Promise.resolve()}}]),r}(BaseBlockstore),unixfsImporterOptionsDefault={cidVersion:1,chunker:"fixed",maxChunkSize:262144,hasher:sha256,rawLeaves:!0,wrapWithDirectory:!0,maxChildrenPerNode:174};function pack(e){return _pack2.apply(this,arguments)}function _pack2(){return(_pack2=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,s,u,c,l,f,p,d,h,m,y,v,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.input,n=t.blockstore,i=t.hasher,a=t.maxChunkSize,o=t.maxChildrenPerNode,s=t.wrapWithDirectory,u=t.rawLeaves,r&&(!Array.isArray(r)||r.length)){e.next=3;break}throw new Error("missing input file(s)");case 3:return c=n||new MemoryBlockStore,e.next=6,itLast(pipe$1(getNormaliser(r),(function(e){return importer(e,c,__spreadProps(__spreadValues({},unixfsImporterOptionsDefault),{hasher:i||unixfsImporterOptionsDefault.hasher,maxChunkSize:a||unixfsImporterOptionsDefault.maxChunkSize,maxChildrenPerNode:o||unixfsImporterOptionsDefault.maxChildrenPerNode,wrapWithDirectory:!1!==s&&unixfsImporterOptionsDefault.wrapWithDirectory,rawLeaves:null==u?unixfsImporterOptionsDefault.rawLeaves:u}))})));case 6:if((l=e.sent)&&l.cid){e.next=9;break}throw new Error("given input could not be parsed correctly");case 9:return f=l.cid,e.next=12,CarWriter.create([f]);case 12:return p=e.sent,d=p.writer,h=p.out,m=h[Symbol.asyncIterator](),v=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(){var t,r,i,a,o,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,r=!1,e.prev=2,a=_asyncIterator(c.blocks());case 4:return e.next=6,a.next();case 6:return o=e.sent,t=o.done,e.next=10,o.value;case 10:if(s=e.sent,t){e.next=18;break}return u=s,e.next=15,d.put(u);case 15:t=!0,e.next=4;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(2),r=!0,i=e.t0;case 24:if(e.prev=24,e.prev=25,t||null==a.return){e.next=29;break}return e.next=29,a.return();case 29:if(e.prev=29,!r){e.next=32;break}throw i;case 32:return e.finish(29);case 33:return e.finish(24);case 34:return e.next=36,d.close();case 36:if(n){e.next=39;break}return e.next=39,c.close();case 39:case"end":return e.stop()}}),e,null,[[2,20,24,34],[25,,29,33]])})));return function(){return e.apply(this,arguments)}}(),g=_defineProperty({},Symbol.asyncIterator,(function(){if(null!=y)throw new Error("Multiple iterator not supported");return y=v(),{next:function(){return _asyncToGenerator(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.next();case 2:if(!(t=e.sent).done){e.next=6;break}return e.next=6,y;case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))()}}})),e.abrupt("return",{root:f,out:g});case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var MAX_HEADER_LENGTH=2e3,THROW_ON_MAX_HEADER_LENGTH_EXCEEDED=!1;function hasRel(e){return e&&e.rel}function intoRels(e,t){return t.rel.split(/\s+/).forEach((function(r){e[r]=Object.assign({},t,{rel:r})})),e}function createObjects(e,t){var r=t.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return r&&(e[r[1]]=r[2]),e}function parseLink(e){try{var t,r=e.match(/<?([^>]*)>(.*)/),n=r[1],i=r[2].split(";"),a={},o=_createForOfIteratorHelper(new URL(n,"https://example.com").searchParams);try{for(o.s();!(t=o.n()).done;){var s=_slicedToArray(t.value,2),u=s[0],c=s[1];a[u]=c}}catch(e){o.e(e)}finally{o.f()}i.shift();var l=i.reduce(createObjects,{});return(l=Object.assign({},a,l)).url=n,l}catch(e){return null}}function checkHeader(e,t){if(!e)return!1;var r=(t=t||{}).maxHeaderLength||MAX_HEADER_LENGTH,n=t.throwOnMaxHeaderLengthExceeded||THROW_ON_MAX_HEADER_LENGTH_EXCEEDED;if(e.length>r){if(n)throw new Error("Input string too long, it should be under "+r+" characters.");return!1}return!0}function parseLinkHeader(e,t){return checkHeader(e,t)?e.split(/,\s*</).map(parseLink).filter(hasRel).reduce(intoRels,{}):null}var CID_CBOR_TAG=42;function cidEncoder(e){if(e.asCID!==e)return null;var t=CID.asCID(e);if(!t)return null;var r=new Uint8Array(t.bytes.byteLength+1);return r.set(t.bytes,1),[new Token(Type.tag,CID_CBOR_TAG),new Token(Type.bytes,r)]}function undefinedEncoder(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function numberEncoder(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}var encodeOptions={float64:!0,typeEncoders:{Object:cidEncoder,undefined:undefinedEncoder,number:numberEncoder}};function cidDecoder(e){if(0!==e[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return CID.decode(e.subarray(1))}var decodeOptions={allowIndefinite:!1,allowUndefined:!1,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};decodeOptions.tags[CID_CBOR_TAG]=cidDecoder;var name="dag-cbor",code=113,encode$1=function(e){return encode$6(e,encodeOptions)},decode=function(e){return decode$4(e,decodeOptions)},cbor=Object.freeze(Object.defineProperty({__proto__:null,name,code,encode:encode$1,decode},Symbol.toStringTag,{value:"Module"})),hashFn=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,murmur3128.encode(t);case 2:return e.abrupt("return",e.sent.slice(0,8).reverse());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addLinksToHamtBucket=function(e,t,r){return Promise.all(e.map((function(e){if(null==e.Name)throw new Error("Unexpected Link without a Name");if(2===e.Name.length){var n=parseInt(e.Name,16);return t._putObjectAt(n,new src.Bucket({hash:r._options.hash,bits:r._options.bits},t,n))}return r.put(e.Name.substring(2),!0)})))},toPrefix=function(e){return e.toString(16).toUpperCase().padStart(2,"0").substring(0,2)},toBucketPath=function(e){for(var t=e.bucket,r=[];t._parent;)r.push(t),t=t._parent;return r.push(t),r.reverse()},findShardCid=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r,n,i,a){var o,s,u,c,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i||(o=src.createHAMT({hashFn}),i={rootBucket:o,hamtDepth:1,lastBucket:o}),e.next=3,addLinksToHamtBucket(t.Links,i.lastBucket,i.rootBucket);case 3:return e.next=5,i.rootBucket._findNewBucketAndPos(r);case 5:if(s=e.sent,u=toPrefix(s.pos),(c=toBucketPath(s)).length>i.hamtDepth&&(i.lastBucket=c[i.hamtDepth],u=toPrefix(i.lastBucket._posAtParent)),l=t.Links.find((function(e){if(null==e.Name)return!1;var t=e.Name.substring(0,2),n=e.Name.substring(2);return t===u&&(!n||n===r)}))){e.next=12;break}return e.abrupt("return",null);case 12:if(null==l.Name||l.Name.substring(2)!==r){e.next=14;break}return e.abrupt("return",l.Hash);case 14:return i.hamtDepth++,e.next=17,n.get(l.Hash,a);case 17:return f=e.sent,t=decode$2(f),e.abrupt("return",findShardCid(t,r,n,i,a));case 20:case"end":return e.stop()}}),e)})));return function(t,r,n,i,a){return e.apply(this,arguments)}}();function extractDataFromBlock(e,t,r,n){var i=t+e.length;return r>=i||n<t?new Uint8Array(0):(n>=t&&n<i&&(e=e.slice(0,n-t)),r>=t&&r<i&&(e=e.slice(r-t)),e)}var validateOffsetAndLength=function(e,t,r){if(t||(t=0),t<0)throw errCode(new Error("Offset must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(t>e)throw errCode(new Error("Offset must be less than the file size"),"ERR_INVALID_PARAMS");if(r||0===r||(r=e-t),r<0)throw errCode(new Error("Length must be greater than or equal to 0"),"ERR_INVALID_PARAMS");return t+r>e&&(r=e-t),{offset:t,length:r}};function emitBytes(e,t,r,n){return _emitBytes.apply(this,arguments)}function _emitBytes(){return(_emitBytes=_wrapAsyncGenerator(regeneratorRuntime.mark((function e(t,r,n,i){var a,o,s,u,c,l,f,p,d,h,m,y,v,g,b,_,w,k,x=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=x.length>4&&void 0!==x[4]?x[4]:0,o=x.length>5?x[5]:void 0,!(r instanceof Uint8Array)){e.next=9;break}if(!(s=extractDataFromBlock(r,a,n,i)).length){e.next=7;break}return e.next=7,s;case 7:return a+=s.length,e.abrupt("return",a);case 9:if(null!=r.Data){e.next=11;break}throw errCode(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");case 11:e.prev=11,u=UnixFS.unmarshal(r.Data),e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(11),errCode(e.t0,"ERR_NOT_UNIXFS");case 18:if(!u.data||!u.data.length){e.next=24;break}if(!(c=extractDataFromBlock(u.data,a,n,i)).length){e.next=23;break}return e.next=23,c;case 23:a+=u.data.length;case 24:l=a,f=0;case 26:if(!(f<r.Links.length)){e.next=88;break}if(p=r.Links[f],d=a+u.blockSizes[f],!(n>=l&&n<d||i>l&&i<=d||n<l&&i>d)){e.next=83;break}return e.next=32,_awaitAsyncGenerator(t.get(p.Hash,{signal:o.signal}));case 32:h=e.sent,m=void 0,e.t1=p.Hash.code,e.next=e.t1===code$4?37:e.t1===code$3?41:e.t1===code?43:47;break;case 37:return e.next=39,_awaitAsyncGenerator(decode$2(h));case 39:return m=e.sent,e.abrupt("break",48);case 41:return m=h,e.abrupt("break",48);case 43:return e.next=45,_awaitAsyncGenerator(decode(h));case 45:return m=e.sent,e.abrupt("break",48);case 47:throw Error("Unsupported codec: ".concat(p.Hash.code));case 48:y=!0,v=!1,e.prev=50,b=_asyncIterator(emitBytes(t,m,n,i,a,o));case 52:return e.next=54,_awaitAsyncGenerator(b.next());case 54:return _=e.sent,y=_.done,e.next=58,_awaitAsyncGenerator(_.value);case 58:if(w=e.sent,y){e.next=67;break}return a+=(k=w).length,e.next=64,k;case 64:y=!0,e.next=52;break;case 67:e.next=73;break;case 69:e.prev=69,e.t2=e.catch(50),v=!0,g=e.t2;case 73:if(e.prev=73,e.prev=74,y||null==b.return){e.next=78;break}return e.next=78,_awaitAsyncGenerator(b.return());case 78:if(e.prev=78,!v){e.next=81;break}throw g;case 81:return e.finish(78);case 82:return e.finish(73);case 83:a=d,l=d+1;case 85:f++,e.next=26;break;case 88:case"end":return e.stop()}}),e,null,[[11,15],[50,69,73,83],[74,,78,82]])})))).apply(this,arguments)}var fileContent=function(e,t,r,n,i,a,o){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.fileSize();if(void 0===n)throw new Error("File was a directory");var i=validateOffsetAndLength(n,e.offset,e.length),a=i.offset,s=i.length,u=a,c=a+s;return emitBytes(o,t,u,c,0,e)}},directoryContent=function(e,t,r,n,i,a,o){function s(){return(s=_wrapAsyncGenerator(regeneratorRuntime.mark((function e(){var r,s,u,c,l,f,p,d,h=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=h.length>0&&void 0!==h[0]?h[0]:{},s=r.offset||0,u=r.length||t.Links.length,c=t.Links.slice(s,u),l=_createForOfIteratorHelper(c),e.prev=5,l.s();case 7:if((f=l.n()).done){e.next=17;break}return p=f.value,e.next=11,_awaitAsyncGenerator(i(p.Hash,p.Name||"","".concat(n,"/").concat(p.Name||""),[],a+1,o,r));case 11:if(!(d=e.sent).entry){e.next=15;break}return e.next=15,d.entry;case 15:e.next=7;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(5),l.e(e.t0);case 22:return e.prev=22,l.f(),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[5,19,22,25]])})))).apply(this,arguments)}return function(){return s.apply(this,arguments)}},hamtShardedDirectoryContent=function(e,t,r,n,i,a,o){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return listDirectory(t,n,i,a,o,e)}};function listDirectory(e,t,r,n,i,a){return _listDirectory.apply(this,arguments)}function _listDirectory(){return(_listDirectory=_wrapAsyncGenerator(regeneratorRuntime.mark((function e(t,r,n,i,a,o){var s,u,c,l,f,p,d,h,m,y,v,g,b,_;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=t.Links,u=_createForOfIteratorHelper(s),e.prev=2,u.s();case 4:if((c=u.n()).done){e.next=55;break}if(l=c.value,!(f=null!=l.Name?l.Name.substring(2):null)){e.next=15;break}return e.next=10,_awaitAsyncGenerator(n(l.Hash,f,"".concat(r,"/").concat(f),[],i+1,a,o));case 10:return p=e.sent,e.next=13,p.entry;case 13:e.next=53;break;case 15:return e.next=17,_awaitAsyncGenerator(a.get(l.Hash));case 17:d=e.sent,t=decode$2(d),h=!0,m=!1,e.prev=21,v=_asyncIterator(listDirectory(t,r,n,i,a,o));case 23:return e.next=25,_awaitAsyncGenerator(v.next());case 25:return g=e.sent,h=g.done,e.next=29,_awaitAsyncGenerator(g.value);case 29:if(b=e.sent,h){e.next=37;break}return _=b,e.next=34,_;case 34:h=!0,e.next=23;break;case 37:e.next=43;break;case 39:e.prev=39,e.t0=e.catch(21),m=!0,y=e.t0;case 43:if(e.prev=43,e.prev=44,h||null==v.return){e.next=48;break}return e.next=48,_awaitAsyncGenerator(v.return());case 48:if(e.prev=48,!m){e.next=51;break}throw y;case 51:return e.finish(48);case 52:return e.finish(43);case 53:e.next=4;break;case 55:e.next=60;break;case 57:e.prev=57,e.t1=e.catch(2),u.e(e.t1);case 60:return e.prev=60,u.f(),e.finish(60);case 63:case"end":return e.stop()}}),e,null,[[2,57,60,63],[21,39,43,53],[44,,48,52]])})))).apply(this,arguments)}var findLinkCid=function(e,t){var r=e.Links.find((function(e){return e.Name===t}));return r&&r.Hash},contentExporters={raw:fileContent,file:fileContent,directory:directoryContent,"hamt-sharded-directory":hamtShardedDirectoryContent,metadata:function(e,t,r,n,i,a,o){return function(){return[]}},symlink:function(e,t,r,n,i,a,o){return function(){return[]}}},unixFsResolver=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r,n,i,a,o,s,u){var c,l,f,p,d,h,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.get(t,u);case 2:if(c=e.sent,l=decode$2(c),r||(r=t.toString()),null!=l.Data){e.next=7;break}throw errCode(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");case 7:e.prev=7,f=UnixFS.unmarshal(l.Data),e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(7),errCode(e.t0,"ERR_NOT_UNIXFS");case 14:if(n||(n=r),!i.length){e.next=28;break}if(!f||"hamt-sharded-directory"!==f.type){e.next=22;break}return e.next=19,findShardCid(l,i[0],s);case 19:d=e.sent,e.next=23;break;case 22:d=findLinkCid(l,i[0]);case 23:if(d){e.next=25;break}throw errCode(new Error("file does not exist"),"ERR_NOT_FOUND");case 25:h=i.shift(),m="".concat(n,"/").concat(h),p={cid:d,toResolve:i,name:h||"",path:m};case 28:return e.abrupt("return",{entry:{type:f.isDirectory()?"directory":"file",name:r,path:n,cid:t,content:contentExporters[f.type](t,l,f,n,a,o,s),unixfs:f,depth:o,node:l,size:f.fileSize()},next:p});case 29:case"end":return e.stop()}}),e,null,[[7,11]])})));return function(t,r,n,i,a,o,s,u){return e.apply(this,arguments)}}(),rawContent$1=function(e){function t(){return(t=_wrapAsyncGenerator(regeneratorRuntime.mark((function t(){var r,n,i,a,o=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>0&&void 0!==o[0]?o[0]:{},n=validateOffsetAndLength(e.length,r.offset,r.length),i=n.offset,a=n.length,t.next=4,extractDataFromBlock(e,0,i,i+a);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}},resolve$3=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r,n,i,a,o,s,u){var c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.length){e.next=2;break}throw errCode(new Error("No link named ".concat(n," found in raw node ").concat(t)),"ERR_NOT_FOUND");case 2:return e.next=4,s.get(t,u);case 4:return c=e.sent,e.abrupt("return",{entry:{type:"raw",name:r,path:n,cid:t,content:rawContent$1(c),depth:o,size:c.length,node:c}});case 6:case"end":return e.stop()}}),e)})));return function(t,r,n,i,a,o,s,u){return e.apply(this,arguments)}}(),resolve$2=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r,n,i,a,o,s,u){var c,l,f,p,d,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.get(t);case 2:c=e.sent,l=decode(c),f=l,p=n;case 6:if(!i.length){e.next=20;break}if(!((d=i[0])in f)){e.next=17;break}if(i.shift(),p="".concat(p,"/").concat(d),!(h=CID.asCID(f[d]))){e.next=14;break}return e.abrupt("return",{entry:{type:"object",name:r,path:n,cid:t,node:c,depth:o,size:c.length,content:function(){var e=_wrapAsyncGenerator(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l;case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},next:{cid:h,name:d,path:p,toResolve:i}});case 14:f=f[d],e.next=18;break;case 17:throw errCode(new Error("No property named ".concat(d," found in cbor node ").concat(t)),"ERR_NO_PROP");case 18:e.next=6;break;case 20:return e.abrupt("return",{entry:{type:"object",name:r,path:n,cid:t,node:c,depth:o,size:c.length,content:function(){var e=_wrapAsyncGenerator(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l;case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}});case 21:case"end":return e.stop()}}),e)})));return function(t,r,n,i,a,o,s,u){return e.apply(this,arguments)}}(),rawContent=function(e){function t(){return(t=_wrapAsyncGenerator(regeneratorRuntime.mark((function t(){var r,n,i,a,o=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>0&&void 0!==o[0]?o[0]:{},n=validateOffsetAndLength(e.length,r.offset,r.length),i=n.offset,a=n.length,t.next=4,extractDataFromBlock(e,0,i,i+a);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}},resolve$1=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r,n,i,a,o,s,u){var c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.length){e.next=2;break}throw errCode(new Error("No link named ".concat(n," found in raw node ").concat(t)),"ERR_NOT_FOUND");case 2:return e.next=4,decode$6(t.multihash.bytes);case 4:return c=e.sent,e.abrupt("return",{entry:{type:"identity",name:r,path:n,cid:t,content:rawContent(c.digest),depth:o,size:c.digest.length,node:c.digest}});case 6:case"end":return e.stop()}}),e)})));return function(t,r,n,i,a,o,s,u){return e.apply(this,arguments)}}(),resolvers=(_resolvers={},_defineProperty(_resolvers,code$4,unixFsResolver),_defineProperty(_resolvers,code$3,resolve$3),_defineProperty(_resolvers,code,resolve$2),_defineProperty(_resolvers,identity.code,resolve$1),_resolvers);function resolve(e,t,r,n,i,a,o){var s=resolvers[e.code];if(!s)throw errCode(new Error("No resolver for code ".concat(e.code)),"ERR_NO_RESOLVER");return s(e,t,r,n,resolve,i,a,o)}var toPathComponents=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(e.trim().match(/([^\\^/]|\\\/)+/g)||[]).filter(Boolean)},cidAndRest=function(e){if(e instanceof Uint8Array)return{cid:CID.decode(e),toResolve:[]};var t=CID.asCID(e);if(t)return{cid:t,toResolve:[]};if("string"==typeof e){0===e.indexOf("/ipfs/")&&(e=e.substring(6));var r=toPathComponents(e);return{cid:CID.parse(r[0]),toResolve:r.slice(1)}}throw errCode(new Error("Unknown path type ".concat(e)),"ERR_BAD_PATH")};function walkPath(e,t){return _walkPath.apply(this,arguments)}function _walkPath(){return(_walkPath=_wrapAsyncGenerator(regeneratorRuntime.mark((function e(t,r){var n,i,a,o,s,u,c,l,f=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=f.length>2&&void 0!==f[2]?f[2]:{},i=cidAndRest(t),a=i.cid,o=i.toResolve,s=a.toString(),u=s,c=o.length;case 5:return e.next=8,_awaitAsyncGenerator(resolve(a,s,u,o,c,r,n));case 8:if((l=e.sent).entry||l.next){e.next=11;break}throw errCode(new Error("Could not resolve ".concat(t)),"ERR_NOT_FOUND");case 11:if(!l.entry){e.next=14;break}return e.next=14,l.entry;case 14:if(l.next){e.next=16;break}return e.abrupt("return");case 16:o=l.next.toResolve,a=l.next.cid,s=l.next.name,u=l.next.path,e.next=5;break;case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function exporter(e,t){return _exporter.apply(this,arguments)}function _exporter(){return(_exporter=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r){var n,i,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>2&&void 0!==a[2]?a[2]:{},e.next=3,itLast(walkPath(t,r,n));case 3:if(i=e.sent){e.next=6;break}throw errCode(new Error("Could not resolve ".concat(t)),"ERR_NOT_FOUND");case 6:return e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function recursive(e,t){return _recursive.apply(this,arguments)}function _recursive(){return(_recursive=_wrapAsyncGenerator(regeneratorRuntime.mark((function e(t,r){var n,i,a,o,s,u,c,l,f,p,d,h=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=function(e,t){var r,i,a;return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:r=_createForOfIteratorHelper(e.content(t)),n.prev=1,r.s();case 3:if((i=r.n()).done){n.next=13;break}return a=i.value,n.next=7,a;case 7:if(!(a instanceof Uint8Array)){n.next=9;break}return n.abrupt("continue",11);case 9:if("directory"!==a.type){n.next=11;break}return n.delegateYield(d(a,t),"t0",11);case 11:n.next=3;break;case 13:n.next=18;break;case 15:n.prev=15,n.t1=n.catch(1),r.e(n.t1);case 18:return n.prev=18,r.f(),n.finish(18);case 21:case"end":return n.stop()}}),n,null,[[1,15,18,21]],Promise)},n=regeneratorRuntime.mark(d),i=h.length>2&&void 0!==h[2]?h[2]:{},e.next=5,_awaitAsyncGenerator(exporter(t,r,i));case 5:if(a=e.sent){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,a;case 10:if("directory"!==a.type){e.next=45;break}o=!0,s=!1,e.prev=13,c=_asyncIterator(d(a,i));case 15:return e.next=17,_awaitAsyncGenerator(c.next());case 17:return l=e.sent,o=l.done,e.next=21,_awaitAsyncGenerator(l.value);case 21:if(f=e.sent,o){e.next=29;break}return p=f,e.next=26,p;case 26:o=!0,e.next=15;break;case 29:e.next=35;break;case 31:e.prev=31,e.t0=e.catch(13),s=!0,u=e.t0;case 35:if(e.prev=35,e.prev=36,o||null==c.return){e.next=40;break}return e.next=40,_awaitAsyncGenerator(c.return());case 40:if(e.prev=40,!s){e.next=43;break}throw u;case 43:return e.finish(40);case 44:return e.finish(35);case 45:case"end":return e.stop()}}),e,null,[[13,31,35,45],[36,,40,44]])})))).apply(this,arguments)}function equals(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(var r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}var VerifyingGetOnlyBlockStore=function(e){_inherits(n,e);var t,r=_createSuper(n);function n(e){var t;return _classCallCheck(this,n),(t=r.call(this)).store=e,t}return _createClass(n,[{key:"get",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.store.get(t);case 2:if(r=e.sent){e.next=5;break}throw new Error("Incomplete CAR. Block missing for CID ".concat(t));case 5:if(isValid({cid:t,bytes:r})){e.next=7;break}throw new Error("Invalid CAR. Hash of block data does not match CID ".concat(t));case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}],[{key:"fromBlockstore",value:function(e){return new n(e)}},{key:"fromCarReader",value:function(e){return new n({get:(t=_asyncToGenerator(regeneratorRuntime.mark((function t(r){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get(r);case 2:return n=t.sent,t.abrupt("return",null==n?void 0:n.bytes);case 4:case"end":return t.stop()}}),t)}))),function(e){return t.apply(this,arguments)})});var t}}]),n}(BaseBlockstore);function isValid(e){return _isValid.apply(this,arguments)}function _isValid(){return(_isValid=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.cid,n=t.bytes,e.next=3,sha256.digest(n);case 3:return i=e.sent,e.abrupt("return",equals(i.digest,r.multihash.digest));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function unpackStream(e){return _unpackStream.apply(this,arguments)}function _unpackStream(){return(_unpackStream=_wrapAsyncGenerator(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,s,u,c,l,f,p,d,h,m,y,v,g=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=g.length>1&&void 0!==g[1]?g[1]:{},n=r.roots,i=r.blockstore,e.next=3,_awaitAsyncGenerator(CarBlockIterator.fromIterable(asAsyncIterable(t)));case 3:a=e.sent,o=i||new MemoryBlockStore,s=!0,u=!1,e.prev=7,l=_asyncIterator(a);case 9:return e.next=11,_awaitAsyncGenerator(l.next());case 11:return f=e.sent,s=f.done,e.next=15,_awaitAsyncGenerator(f.value);case 15:if(p=e.sent,s){e.next=23;break}return d=p,e.next=20,_awaitAsyncGenerator(o.put(d.cid,d.bytes));case 20:s=!0,e.next=9;break;case 23:e.next=29;break;case 25:e.prev=25,e.t0=e.catch(7),u=!0,c=e.t0;case 29:if(e.prev=29,e.prev=30,s||null==l.return){e.next=34;break}return e.next=34,_awaitAsyncGenerator(l.return());case 34:if(e.prev=34,!u){e.next=37;break}throw c;case 37:return e.finish(34);case 38:return e.finish(29);case 39:if(h=VerifyingGetOnlyBlockStore.fromBlockstore(o),n&&0!==n.length){e.next=44;break}return e.next=43,_awaitAsyncGenerator(a.getRoots());case 43:n=e.sent;case 44:m=_createForOfIteratorHelper(n),e.prev=45,m.s();case 47:if((y=m.n()).done){e.next=52;break}return v=y.value,e.delegateYield(_asyncGeneratorDelegate(_asyncIterator(recursive(v,h)),_awaitAsyncGenerator),"t1",50);case 50:e.next=47;break;case 52:e.next=57;break;case 54:e.prev=54,e.t2=e.catch(45),m.e(e.t2);case 57:return e.prev=57,m.f(),e.finish(57);case 60:case"end":return e.stop()}}),e,null,[[7,25,29,39],[30,,34,38],[45,54,57,60]])})))).apply(this,arguments)}function asAsyncIterable(e){return Symbol.asyncIterator in e?e:browserReadablestreamToIt(e)}var readonly=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.enumerable,r=void 0===t||t,n=e.configurable,i=void 0!==n&&n;return{enumerable:r,configurable:i,writable:!1}},_links=regeneratorRuntime.mark((function(e,t){var r,n,i,a,o,s,u,c,l,f,p,d,h,m;return regeneratorRuntime.wrap((function(y){for(;;)switch(y.prev=y.next){case 0:if(null!=e){y.next=2;break}return y.abrupt("return");case 2:if(!(e instanceof Uint8Array)){y.next=4;break}return y.abrupt("return");case 4:r=0,n=Object.entries(e);case 5:if(!(r<n.length)){y.next=46;break}if(i=_slicedToArray(n[r],2),a=i[0],o=i[1],s=[].concat(_toConsumableArray(t),[a]),null==o||"object"!==_typeof(o)){y.next=43;break}if(!Array.isArray(o)){y.next=36;break}u=_createForOfIteratorHelper(o.entries()),y.prev=11,u.s();case 13:if((c=u.n()).done){y.next=26;break}if(l=_slicedToArray(c.value,2),f=l[0],p=l[1],d=[].concat(_toConsumableArray(s),[f]),!(h=CID.asCID(p))){y.next=22;break}return y.next=20,[d.join("/"),h];case 20:y.next=24;break;case 22:if("object"!==_typeof(p)){y.next=24;break}return y.delegateYield(_links(p,d),"t0",24);case 24:y.next=13;break;case 26:y.next=31;break;case 28:y.prev=28,y.t1=y.catch(11),u.e(y.t1);case 31:return y.prev=31,u.f(),y.finish(31);case 34:y.next=43;break;case 36:if(!(m=CID.asCID(o))){y.next=42;break}return y.next=40,[s.join("/"),m];case 40:y.next=43;break;case 42:return y.delegateYield(_links(o,s),"t2",43);case 43:r++,y.next=5;break;case 46:case"end":return y.stop()}}),_links,null,[[11,28,31,34]])})),_tree=regeneratorRuntime.mark((function(e,t){var r,n,i,a,o,s,u,c,l,f,p,d;return regeneratorRuntime.wrap((function(h){for(;;)switch(h.prev=h.next){case 0:if(null!=e){h.next=2;break}return h.abrupt("return");case 2:r=0,n=Object.entries(e);case 3:if(!(r<n.length)){h.next=36;break}return i=_slicedToArray(n[r],2),a=i[0],o=i[1],s=[].concat(_toConsumableArray(t),[a]),h.next=8,s.join("/");case 8:if(null==o||o instanceof Uint8Array||"object"!==_typeof(o)||CID.asCID(o)){h.next=33;break}if(!Array.isArray(o)){h.next=32;break}u=_createForOfIteratorHelper(o.entries()),h.prev=11,u.s();case 13:if((c=u.n()).done){h.next=22;break}return l=_slicedToArray(c.value,2),f=l[0],p=l[1],d=[].concat(_toConsumableArray(s),[f]),h.next=18,d.join("/");case 18:if("object"!==_typeof(p)||CID.asCID(p)){h.next=20;break}return h.delegateYield(_tree(p,d),"t0",20);case 20:h.next=13;break;case 22:h.next=27;break;case 24:h.prev=24,h.t1=h.catch(11),u.e(h.t1);case 27:return h.prev=27,u.f(),h.finish(27);case 30:h.next=33;break;case 32:return h.delegateYield(_tree(o,s),"t2",33);case 33:r++,h.next=3;break;case 36:case"end":return h.stop()}}),_tree,null,[[11,24,27,30]])})),_get7=function(e,t){var r,n=e,i=_createForOfIteratorHelper(t.entries());try{for(i.s();!(r=i.n()).done;){var a=_slicedToArray(r.value,2),o=a[0];if(null==(n=n[a[1]]))throw new Error("Object has no property at ".concat(t.slice(0,o+1).map((function(e){return"[".concat(JSON.stringify(e),"]")})).join("")));var s=CID.asCID(n);if(s)return{value:s,remaining:t.slice(o+1).join("/")}}}catch(e){i.e(e)}finally{i.f()}return{value:n}},Block=function(){function e(t){var r=t.cid,n=t.bytes,i=t.value;if(_classCallCheck(this,e),!r||!n||void 0===i)throw new Error("Missing required argument");this.cid=r,this.bytes=n,this.value=i,this.asBlock=this,Object.defineProperties(this,{cid:readonly(),bytes:readonly(),value:readonly(),asBlock:readonly()})}return _createClass(e,[{key:"links",value:function(){return _links(this.value,[])}},{key:"tree",value:function(){return _tree(this.value,[])}},{key:"get",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";return _get7(this.value,e.split("/").filter(Boolean))}}]),e}(),TreewalkCarSplitter=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(_classCallCheck(this,e),"number"!=typeof r||r<=0)throw new Error("invalid target chunk size");this._reader=t,this._targetSize=r,this._decoders=[pb,raw,cbor].concat(_toConsumableArray(n.decoders||[]))}var t,r,n;return _createClass(e,[{key:"cars",value:function(){var e=this;return _wrapAsyncGenerator(regeneratorRuntime.mark((function t(){var r,n,i,a,o,s,u,c,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_awaitAsyncGenerator(e._reader.getRoots());case 2:if(1===(r=t.sent).length){t.next=5;break}throw new Error("unexpected number of roots: ".concat(r.length));case 5:i=!0,a=!1,t.prev=7,s=_asyncIterator(e._cars(r[0]));case 9:return t.next=11,_awaitAsyncGenerator(s.next());case 11:return u=t.sent,i=u.done,t.next=15,_awaitAsyncGenerator(u.value);case 15:if(c=t.sent,i){t.next=25;break}if(n=(l=c).channel,!l.out){t.next=22;break}return t.next=22,l.out;case 22:i=!0,t.next=9;break;case 25:t.next=31;break;case 27:t.prev=27,t.t0=t.catch(7),a=!0,o=t.t0;case 31:if(t.prev=31,t.prev=32,i||null==s.return){t.next=36;break}return t.next=36,_awaitAsyncGenerator(s.return());case 36:if(t.prev=36,!a){t.next=39;break}throw o;case 39:return t.finish(36);case 40:return t.finish(31);case 41:if(n){t.next=43;break}throw new Error("missing CAR writer channel");case 43:return n.writer.close(),t.next=46,n.out;case 46:case"end":return t.stop()}}),t,null,[[7,27,31,41],[32,,36,40]])})))()}},{key:"_get",value:(n=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._reader.get(t);case 2:if(r=e.sent){e.next=5;break}throw new Error("missing block for ".concat(t));case 5:if(n=r.bytes,i=this._decoders.find((function(e){return e.code===t.code}))){e.next=9;break}throw new Error("missing decoder for ".concat(t.code));case 9:return e.abrupt("return",new Block({cid:t,bytes:n,value:i.decode(n)}));case 10:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"_cars",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return _wrapAsyncGenerator(regeneratorRuntime.mark((function i(){var a,o,s,u,c,l,f,p,d,h,m,y,v;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,_awaitAsyncGenerator(t._get(e));case 2:if(a=i.sent,!((n=n||Object.assign(CarWriter.create(e),{size:0})).size>0&&n.size+a.bytes.byteLength>=t._targetSize)){i.next=10;break}return n.writer.close(),o=n.out,n=newCar(r),i.next=10,{channel:n,out:o};case 10:r=r.concat(a),n.size+=a.bytes.byteLength,n.writer.put(a),s=_createForOfIteratorHelper(a.links()),i.prev=14,s.s();case 16:if((u=s.n()).done){i.next=55;break}c=_slicedToArray(u.value,2),l=c[1],f=!0,p=!1,i.prev=20,h=_asyncIterator(t._cars(l,r,n));case 22:return i.next=24,_awaitAsyncGenerator(h.next());case 24:return m=i.sent,f=m.done,i.next=28,_awaitAsyncGenerator(m.value);case 28:if(y=i.sent,f){i.next=37;break}return n=(v=y).channel,i.next=34,v;case 34:f=!0,i.next=22;break;case 37:i.next=43;break;case 39:i.prev=39,i.t0=i.catch(20),p=!0,d=i.t0;case 43:if(i.prev=43,i.prev=44,f||null==h.return){i.next=48;break}return i.next=48,_awaitAsyncGenerator(h.return());case 48:if(i.prev=48,!p){i.next=51;break}throw d;case 51:return i.finish(48);case 52:return i.finish(43);case 53:i.next=16;break;case 55:i.next=60;break;case 57:i.prev=57,i.t1=i.catch(14),s.e(i.t1);case 60:return i.prev=60,s.f(),i.finish(60);case 63:if(n){i.next=65;break}throw new Error("missing CAR writer channel");case 65:return i.next=67,{channel:n};case 67:case"end":return i.stop()}}),i,null,[[14,57,60,63],[20,39,43,53],[44,,48,52]])})))()}}],[{key:"fromIterable",value:(r=_asyncToGenerator(regeneratorRuntime.mark((function t(r,n,i){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,CarReader.fromIterable(r);case 2:return a=t.sent,t.abrupt("return",new e(a,n,i));case 4:case"end":return t.stop()}}),t)}))),function(e,t,n){return r.apply(this,arguments)})},{key:"fromBlob",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function t(r,n,i){var a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.arrayBuffer();case 2:return a=t.sent,t.next=5,CarReader.fromBytes(new Uint8Array(a));case 5:return o=t.sent,t.abrupt("return",new e(o,n,i));case 7:case"end":return t.stop()}}),t)}))),function(e,r,n){return t.apply(this,arguments)})}]),e}();function newCar(e){var t,r=Object.assign(CarWriter.create(e[0].cid),{size:e.reduce((function(e,t){return e+t.bytes.byteLength}),0)}),n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;r.writer.put(i)}}catch(e){n.e(e)}finally{n.f()}return r}var throttledQueue$1={exports:{}};!function(e,t){function r(e,t,r){void 0===r&&(r=!1),r&&(t/=e,e=1);var n,i=[],a=0,o=0,s=function r(){var s=a+t,u=Date.now();if(u<s)return void 0!==n&&clearTimeout(n),void(n=setTimeout(r,s-u));a=u,o=0;for(var c=0,l=i.splice(0,e);c<l.length;c++){var f=l[c];o++,f()}n=i.length?setTimeout(r,t):void 0};return function(r){return new Promise((function(u,c){var l=function(){return Promise.resolve().then(r).then(u).catch(c)},f=Date.now();void 0===n&&f-a>t&&(a=f,o=0),o++<e?l():(i.push(l),void 0===n&&(n=setTimeout(s,a+t-f)))}))}}Object.defineProperty(t,"__esModule",{value:!0}),e.exports=r,t.default=r}(throttledQueue$1,throttledQueue$1.exports);var throttledQueue=getDefaultExportFromCjs(throttledQueue$1.exports),fetch$1=globalThis.fetch,Blob$1=globalThis.Blob,File$1=globalThis.File,Blockstore=MemoryBlockStore,MAX_PUT_RETRIES=5,MAX_CONCURRENT_UPLOADS=3,DEFAULT_CHUNK_SIZE=10485760,MAX_BLOCK_SIZE=1048576,MAX_CHUNK_SIZE=104857600,RATE_LIMIT_REQUESTS=30,RATE_LIMIT_PERIOD=1e4;function createRateLimiter(){var e=throttledQueue(RATE_LIMIT_REQUESTS,RATE_LIMIT_PERIOD);return function(){return e((function(){}))}}var globalRateLimiter=createRateLimiter(),Web3Storage=function(){function e(t){var r=t.token,n=t.endpoint,i=void 0===n?new URL("https://api.web3.storage"):n,a=t.rateLimiter;_classCallCheck(this,e),this.token=r,this.endpoint=i,this.rateLimiter=a||createRateLimiter()}var t,r,n,i,a;return _createClass(e,[{key:"put",value:function(t,r){return e.put(this,t,r)}},{key:"putCar",value:function(t,r){return e.putCar(this,t,r)}},{key:"get",value:function(t){return e.get(this,t)}},{key:"delete",value:function(t){return e.delete(this,t)}},{key:"status",value:function(t){return e.status(this,t)}},{key:"list",value:function(t){return e.list(this,t)}}],[{key:"headers",value:function(e){if(!e)throw new Error("missing token");return{Authorization:"Bearer ".concat(e),"X-Client":"web3.storage/js"}}},{key:"put",value:(a=_asyncToGenerator(regeneratorRuntime.mark((function t(r,n){var i,a,o,s,u,c,l,f,p,d,h,m,y,v,g,b,_,w,k,x=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=r.endpoint,a=r.token,o=r.rateLimiter,s=void 0===o?globalRateLimiter:o,u=x.length>2&&void 0!==x[2]?x[2]:{},c=u.onRootCidReady,l=u.onStoredChunk,f=u.maxRetries,p=void 0===f?MAX_PUT_RETRIES:f,d=u.maxChunkSize,h=void 0===d?DEFAULT_CHUNK_SIZE:d,m=u.wrapWithDirectory,y=void 0===m||m,v=u.name,!(h>=MAX_CHUNK_SIZE||h<MAX_BLOCK_SIZE)){t.next=4;break}throw new Error("maximum chunk size must be less than 100MiB and greater than or equal to 1MB");case 4:return g=new Blockstore,t.prev=5,t.next=8,pack({input:Array.from(n).map(toImportCandidate),blockstore:g,wrapWithDirectory:y,maxChunkSize:MAX_BLOCK_SIZE,maxChildrenPerNode:1024});case 8:return b=t.sent,_=b.out,w=b.root,c&&c(w.toString()),t.next=14,CarReader.fromIterable(_);case 14:return k=t.sent,t.next=17,e.putCar({endpoint:i,token:a,rateLimiter:s},k,{onStoredChunk:l,maxRetries:p,maxChunkSize:h,name:v});case 17:return t.abrupt("return",t.sent);case 18:return t.prev=18,t.next=21,g.close();case 21:return t.finish(18);case 22:case"end":return t.stop()}}),t,null,[[5,,18,22]])}))),function(e,t){return a.apply(this,arguments)})},{key:"putCar",value:(i=_asyncToGenerator(regeneratorRuntime.mark((function t(r,n){var i,a,o,s,u,c,l,f,p,d,h,m,y,v,g,b,_,w,k,x,T,E,A,S,C=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=r.endpoint,a=r.token,o=r.rateLimiter,s=void 0===o?globalRateLimiter:o,u=C.length>2&&void 0!==C[2]?C[2]:{},c=u.name,l=u.onStoredChunk,f=u.maxRetries,p=void 0===f?MAX_PUT_RETRIES:f,d=u.maxChunkSize,h=void 0===d?DEFAULT_CHUNK_SIZE:d,m=u.decoders,!(h>=MAX_CHUNK_SIZE||h<MAX_BLOCK_SIZE)){t.next=4;break}throw new Error("maximum chunk size must be less than 100MiB and greater than or equal to 1MB");case 4:return y=h,v=new URL("car",i),g=e.headers(a),c&&(g=__spreadProps(__spreadValues({},g),{"X-Name":encodeURIComponent(c)})),t.next=10,n.getRoots();case 10:if(null!=(b=t.sent)[0]){t.next=13;break}throw new Error("missing root CID");case 13:if(!(b.length>1)){t.next=15;break}throw new Error("too many roots");case 15:_=b[0].toString(),w=new TreewalkCarSplitter(n,y,{decoders:m}),k=transform(MAX_CONCURRENT_UPLOADS,function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,c,f,d,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],n=!0,i=!1,e.prev=3,o=_asyncIterator(t);case 5:return e.next=7,o.next();case 7:return u=e.sent,n=u.done,e.next=11,u.value;case 11:if(c=e.sent,n){e.next=18;break}f=c,r.push(f);case 15:n=!0,e.next=5;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(3),i=!0,a=e.t0;case 24:if(e.prev=24,e.prev=25,n||null==o.return){e.next=29;break}return e.next=29,o.return();case 29:if(e.prev=29,!i){e.next=32;break}throw a;case 32:return e.finish(29);case 33:return e.finish(24);case 34:return d=new Blob$1(r,{type:"application/vnd.ipld.car"}),e.next=37,pRetry$1(_asyncToGenerator(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:return e.next=4,fetch$1(v.toString(),{method:"POST",headers:g,body:d});case 4:if(429!==(t=e.sent).status){e.next=7;break}throw new Error("rate limited");case 7:return e.next=9,t.json();case 9:if(r=e.sent,t.ok){e.next=12;break}throw new Error(r.message);case 12:if(r.cid===_){e.next=14;break}throw new Error("root CID mismatch, expected: ".concat(_,", received: ").concat(r.cid));case 14:return e.abrupt("return",r.cid);case 15:case"end":return e.stop()}}),e)}))),{retries:p});case 37:return h=e.sent,l&&l(d.size),e.abrupt("return",h);case 40:case"end":return e.stop()}}),e,null,[[3,20,24,34],[25,,29,33]])})));return function(t){return e.apply(this,arguments)}}()),x=!0,T=!1,t.prev=21,A=_asyncIterator(k(w.cars()));case 23:return t.next=25,A.next();case 25:return S=t.sent,x=S.done,t.next=29,S.value;case 29:if(t.sent,x){t.next=35;break}case 32:x=!0,t.next=23;break;case 35:t.next=41;break;case 37:t.prev=37,t.t0=t.catch(21),T=!0,E=t.t0;case 41:if(t.prev=41,t.prev=42,x||null==A.return){t.next=46;break}return t.next=46,A.return();case 46:if(t.prev=46,!T){t.next=49;break}throw E;case 49:return t.finish(46);case 50:return t.finish(41);case 51:return t.abrupt("return",_);case 52:case"end":return t.stop()}}),t,null,[[21,37,41,51],[42,,46,50]])}))),function(e,t){return i.apply(this,arguments)})},{key:"get",value:(n=_asyncToGenerator(regeneratorRuntime.mark((function t(r,n){var i,a,o,s,u,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=r.endpoint,a=r.token,o=r.rateLimiter,s=void 0===o?globalRateLimiter:o,u=new URL("car/".concat(n),i),t.next=4,s();case 4:return t.next=6,fetch$1(u.toString(),{method:"GET",headers:e.headers(a)});case 6:if(429!==(c=t.sent).status){t.next=9;break}throw new Error("rate limited");case 9:return t.abrupt("return",toWeb3Response(c));case 10:case"end":return t.stop()}}),t)}))),function(e,t){return n.apply(this,arguments)})},{key:"delete",value:(r=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r){var n,i,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw n=t.endpoint,i=t.token,a=t.rateLimiter,o=void 0===a?globalRateLimiter:a,console.log("Not deleting",r,n,i,o),Error(".delete not implemented yet");case 3:case"end":return e.stop()}}),e)}))),function(e,t){return r.apply(this,arguments)})},{key:"status",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function t(r,n){var i,a,o,s,u,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=r.endpoint,a=r.token,o=r.rateLimiter,s=void 0===o?globalRateLimiter:o,u=new URL("status/".concat(n),i),t.next=4,s();case 4:return t.next=6,fetch$1(u.toString(),{method:"GET",headers:e.headers(a)});case 6:if(429!==(c=t.sent).status){t.next=9;break}throw new Error("rate limited");case 9:if(404!==c.status){t.next=11;break}return t.abrupt("return",void 0);case 11:if(c.ok){t.next=13;break}throw new Error(c.statusText);case 13:return t.abrupt("return",c.json());case 14:case"end":return t.stop()}}),t)}))),function(e,r){return t.apply(this,arguments)})},{key:"list",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.before,i=void 0===n?(new Date).toISOString():n,a=r.maxResults,o=void 0===a?1/0:a;return _wrapAsyncGenerator(regeneratorRuntime.mark((function r(){var n,a,s,u,c,l,f,p,d,h,m,y,v,g,b,_;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:a=function(){return(a=_asyncToGenerator(regeneratorRuntime.mark((function t(r,n){var i,a,o,s,u,c,l,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=r.endpoint,a=r.token,o=r.rateLimiter,s=void 0===o?globalRateLimiter:o,u=n.before,c=n.size,l=new URLSearchParams({before:u,size:c.toString()}),f=new URL("user/uploads?".concat(l),i),t.next=6,s();case 6:return t.abrupt("return",fetch$1(f.toString(),{method:"GET",headers:__spreadProps(__spreadValues({},e.headers(a)),{"Access-Control-Request-Headers":"Link"})}));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)},n=function(e,t){return a.apply(this,arguments)},s=0,u=o>100?100:o,c=!0,l=!1,r.prev=6,p=_asyncIterator(paginator(n,t,{before:i,size:u}));case 8:return r.next=10,_awaitAsyncGenerator(p.next());case 10:return d=r.sent,c=d.done,r.next=14,_awaitAsyncGenerator(d.value);case 14:if(h=r.sent,c){r.next=49;break}if((m=h).ok){r.next=24;break}if(429!==m.status){r.next=20;break}throw new Error("rate limited");case 20:return r.next=22,_awaitAsyncGenerator(m.json());case 22:throw y=r.sent,new Error("".concat(m.status," ").concat(m.statusText," ").concat(y?"- "+y.message:""));case 24:return r.next=26,_awaitAsyncGenerator(m.json());case 26:v=r.sent,g=_createForOfIteratorHelper(v),r.prev=28,g.s();case 30:if((b=g.n()).done){r.next=38;break}if(_=b.value,!(++s>o)){r.next=34;break}return r.abrupt("return");case 34:return r.next=36,_;case 36:r.next=30;break;case 38:r.next=43;break;case 40:r.prev=40,r.t0=r.catch(28),g.e(r.t0);case 43:return r.prev=43,g.f(),r.finish(43);case 46:c=!0,r.next=8;break;case 49:r.next=55;break;case 51:r.prev=51,r.t1=r.catch(6),l=!0,f=r.t1;case 55:if(r.prev=55,r.prev=56,c||null==p.return){r.next=60;break}return r.next=60,_awaitAsyncGenerator(p.return());case 60:if(r.prev=60,!l){r.next=63;break}throw f;case 63:return r.finish(60);case 64:return r.finish(55);case 65:case"end":return r.stop()}}),r,null,[[6,51,55,65],[28,40,43,46],[56,,60,64]])})))()}}]),e}();function toWeb3File(e){return _toWeb3File.apply(this,arguments)}function _toWeb3File(){return(_toWeb3File=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,s,u,c,l,f,p,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.content,n=t.path,i=t.cid,a=[],o=!0,s=!1,e.prev=4,c=_asyncIterator(r());case 6:return e.next=8,c.next();case 8:return l=e.sent,o=l.done,e.next=12,l.value;case 12:if(f=e.sent,o){e.next=19;break}p=f,a.push(p);case 16:o=!0,e.next=6;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(4),s=!0,u=e.t0;case 25:if(e.prev=25,e.prev=26,o||null==c.return){e.next=30;break}return e.next=30,c.return();case 30:if(e.prev=30,!s){e.next=33;break}throw u;case 33:return e.finish(30);case 34:return e.finish(25);case 35:return d=new File$1(a,toFilenameWithPath(n)),e.abrupt("return",Object.assign(d,{cid:i.toString()}));case 37:case"end":return e.stop()}}),e,null,[[4,21,25,35],[26,,30,34]])})))).apply(this,arguments)}function toFilenameWithPath(e){var t=e.indexOf("/");return-1===t?e:e.substring(t+1)}function toWeb3Response(e){var t,r,n=Object.assign(e,{unixFsIterator:(r=_wrapAsyncGenerator(regeneratorRuntime.mark((function t(){var r,n,i,a,o,s,u,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.ok){t.next=2;break}throw new Error("Response was not ok: ".concat(e.status," ").concat(e.statusText,' - Check for { "ok": false } on the Response object before calling .unixFsIterator'));case 2:if(e.body){t.next=4;break}throw new Error("No body on response");case 4:r=new Blockstore,t.prev=5,n=!0,i=!1,t.prev=8,o=_asyncIterator(unpackStream(e.body,{blockstore:r}));case 10:return t.next=12,_awaitAsyncGenerator(o.next());case 12:return s=t.sent,n=s.done,t.next=16,_awaitAsyncGenerator(s.value);case 16:if(u=t.sent,n){t.next=24;break}return c=u,t.next=21,c;case 21:n=!0,t.next=10;break;case 24:t.next=30;break;case 26:t.prev=26,t.t0=t.catch(8),i=!0,a=t.t0;case 30:if(t.prev=30,t.prev=31,n||null==o.return){t.next=35;break}return t.next=35,_awaitAsyncGenerator(o.return());case 35:if(t.prev=35,!i){t.next=38;break}throw a;case 38:return t.finish(35);case 39:return t.finish(30);case 40:return t.prev=40,t.next=43,_awaitAsyncGenerator(r.close());case 43:return t.finish(40);case 44:case"end":return t.stop()}}),t,null,[[5,,40,44],[8,26,30,40],[31,,35,39]])}))),function(){return r.apply(this,arguments)}),files:(t=_asyncToGenerator(regeneratorRuntime.mark((function t(){var r,i,a,o,s,u,c,l,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.ok){t.next=2;break}throw new Error("Response was not ok: ".concat(e.status," ").concat(e.statusText,' - Check for { "ok": false } on the Response object before calling .files'));case 2:r=[],i=!0,a=!1,t.prev=5,s=_asyncIterator(n.unixFsIterator());case 7:return t.next=9,s.next();case 9:return u=t.sent,i=u.done,t.next=13,u.value;case 13:if(c=t.sent,i){t.next=25;break}if("directory"!==(l=c).type){t.next=18;break}return t.abrupt("continue",22);case 18:return t.next=20,toWeb3File(l);case 20:f=t.sent,r.push(f);case 22:i=!0,t.next=7;break;case 25:t.next=31;break;case 27:t.prev=27,t.t0=t.catch(5),a=!0,o=t.t0;case 31:if(t.prev=31,t.prev=32,i||null==s.return){t.next=36;break}return t.next=36,s.return();case 36:if(t.prev=36,!a){t.next=39;break}throw o;case 39:return t.finish(36);case 40:return t.finish(31);case 41:return t.abrupt("return",r);case 42:case"end":return t.stop()}}),t,null,[[5,27,31,41],[32,,36,40]])}))),function(){return t.apply(this,arguments)})});return n}function toImportCandidate(e){var t;return{path:e.name,get content(){return t=t||e.stream()}}}function paginator(e,t,r){return _paginator.apply(this,arguments)}function _paginator(){return(_paginator=_wrapAsyncGenerator(regeneratorRuntime.mark((function e(t,r,n){var i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_awaitAsyncGenerator(t(r,n));case 2:return i=e.sent,e.next=5,i;case 5:a=parseLinkHeader(i.headers.get("Link")||"");case 6:if(!a||!a.next){e.next=15;break}return e.next=9,_awaitAsyncGenerator(t(r,a.next));case 9:return i=e.sent,e.next=12,i;case 12:a=parseLinkHeader(i.headers.get("Link")||""),e.next=6;break;case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var axios$2={exports:{}},bind$2=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}},bind$1=bind$2,toString=Object.prototype.toString,kindOf=(cache=Object.create(null),function(e){var t=toString.call(e);return cache[t]||(cache[t]=t.slice(8,-1).toLowerCase())}),cache;function kindOfTest(e){return e=e.toLowerCase(),function(t){return kindOf(t)===e}}function isArray(e){return Array.isArray(e)}function isUndefined(e){return void 0===e}function isBuffer(e){return null!==e&&!isUndefined(e)&&null!==e.constructor&&!isUndefined(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}var isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&isArrayBuffer(e.buffer)}function isString(e){return"string"==typeof e}function isNumber(e){return"number"==typeof e}function isObject(e){return null!==e&&"object"===_typeof(e)}function isPlainObject(e){if("object"!==kindOf(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList");function isFunction(e){return"[object Function]"===toString.call(e)}function isStream(e){return isObject(e)&&isFunction(e.pipe)}function isFormData(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||toString.call(e)===t||isFunction(e.toString)&&e.toString()===t)}var isURLSearchParams=kindOfTest("URLSearchParams");function trim(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function isStandardBrowserEnv(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document}function forEach(e,t){if(null!=e)if("object"!==_typeof(e)&&(e=[e]),isArray(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function merge(){var e={};function t(t,r){isPlainObject(e[r])&&isPlainObject(t)?e[r]=merge(e[r],t):isPlainObject(t)?e[r]=merge({},t):isArray(t)?e[r]=t.slice():e[r]=t}for(var r=0,n=arguments.length;r<n;r++)forEach(arguments[r],t);return e}function extend(e,t,r){return forEach(t,(function(t,n){e[n]=r&&"function"==typeof t?bind$1(t,r):t})),e}function stripBOM(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}function inherits(e,t,r,n){e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,r&&Object.assign(e.prototype,r)}function toFlatObject(e,t,r){var n,i,a,o={};t=t||{};do{for(i=(n=Object.getOwnPropertyNames(e)).length;i-- >0;)o[a=n[i]]||(t[a]=e[a],o[a]=!0);e=Object.getPrototypeOf(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t}function endsWith(e,t,r){e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;var n=e.indexOf(t,r);return-1!==n&&n===r}function toArray(e){if(!e)return null;var t=e.length;if(isUndefined(t))return null;for(var r=new Array(t);t-- >0;)r[t]=e[t];return r}var isTypedArray=(TypedArray="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return TypedArray&&e instanceof TypedArray}),TypedArray,utils$i={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isObject,isPlainObject,isUndefined,isDate,isFile,isBlob,isFunction,isStream,isURLSearchParams,isStandardBrowserEnv,forEach,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,isTypedArray,isFileList},utils$h=utils$i;function encode(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var buildURL$2=function(e,t,r){if(!t)return e;var n;if(r)n=r(t);else if(utils$h.isURLSearchParams(t))n=t.toString();else{var i=[];utils$h.forEach(t,(function(e,t){null!=e&&(utils$h.isArray(e)?t+="[]":e=[e],utils$h.forEach(e,(function(e){utils$h.isDate(e)?e=e.toISOString():utils$h.isObject(e)&&(e=JSON.stringify(e)),i.push(encode(t)+"="+encode(e))})))})),n=i.join("&")}if(n){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e},utils$g=utils$i;function InterceptorManager$1(){this.handlers=[]}InterceptorManager$1.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},InterceptorManager$1.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},InterceptorManager$1.prototype.forEach=function(e){utils$g.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var InterceptorManager_1=InterceptorManager$1,utils$f=utils$i,normalizeHeaderName$1=function(e,t){utils$f.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))},utils$e=utils$i;function AxiosError$5(e,t,r,n,i){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}utils$e.inherits(AxiosError$5,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var prototype=AxiosError$5.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){descriptors[e]={value:e}})),Object.defineProperties(AxiosError$5,descriptors),Object.defineProperty(prototype,"isAxiosError",{value:!0}),AxiosError$5.from=function(e,t,r,n,i,a){var o=Object.create(prototype);return utils$e.toFlatObject(e,o,(function(e){return e!==Error.prototype})),AxiosError$5.call(o,e.message,t,r,n,i),o.name=e.name,a&&Object.assign(o,a),o};var AxiosError_1=AxiosError$5,transitional={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},utils$d=utils$i;function toFormData$1(e,t){t=t||new FormData;var r=[];function n(e){return null===e?"":utils$d.isDate(e)?e.toISOString():utils$d.isArrayBuffer(e)||utils$d.isTypedArray(e)?"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}return function e(i,a){if(utils$d.isPlainObject(i)||utils$d.isArray(i)){if(-1!==r.indexOf(i))throw Error("Circular reference detected in "+a);r.push(i),utils$d.forEach(i,(function(r,i){if(!utils$d.isUndefined(r)){var o,s=a?a+"."+i:i;if(r&&!a&&"object"===_typeof(r))if(utils$d.endsWith(i,"{}"))r=JSON.stringify(r);else if(utils$d.endsWith(i,"[]")&&(o=utils$d.toArray(r)))return void o.forEach((function(e){!utils$d.isUndefined(e)&&t.append(s,n(e))}));e(r,s)}})),r.pop()}else t.append(a,n(i))}(e),t}var toFormData_1=toFormData$1,AxiosError$4=AxiosError_1,settle$1=function(e,t,r){var n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new AxiosError$4("Request failed with status code "+r.status,[AxiosError$4.ERR_BAD_REQUEST,AxiosError$4.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)},utils$c=utils$i,cookies$1=utils$c.isStandardBrowserEnv()?{write:function(e,t,r,n,i,a){var o=[];o.push(e+"="+encodeURIComponent(t)),utils$c.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),utils$c.isString(n)&&o.push("path="+n),utils$c.isString(i)&&o.push("domain="+i),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},isAbsoluteURL$1=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},combineURLs$1=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e},isAbsoluteURL=isAbsoluteURL$1,combineURLs=combineURLs$1,buildFullPath$2=function(e,t){return e&&!isAbsoluteURL(t)?combineURLs(e,t):t},utils$b=utils$i,ignoreDuplicateOf=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],parseHeaders$1=function(e){var t,r,n,i={};return e?(utils$b.forEach(e.split("\n"),(function(e){if(n=e.indexOf(":"),t=utils$b.trim(e.substr(0,n)).toLowerCase(),r=utils$b.trim(e.substr(n+1)),t){if(i[t]&&ignoreDuplicateOf.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([r]):i[t]?i[t]+", "+r:r}})),i):i},utils$a=utils$i,isURLSameOrigin$1=utils$a.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function n(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=n(window.location.href),function(t){var r=utils$a.isString(t)?n(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0},AxiosError$3=AxiosError_1,utils$9=utils$i;function CanceledError$3(e){AxiosError$3.call(this,null==e?"canceled":e,AxiosError$3.ERR_CANCELED),this.name="CanceledError"}utils$9.inherits(CanceledError$3,AxiosError$3,{__CANCEL__:!0});var CanceledError_1=CanceledError$3,parseProtocol$1=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""},utils$8=utils$i,settle=settle$1,cookies=cookies$1,buildURL$1=buildURL$2,buildFullPath$1=buildFullPath$2,parseHeaders=parseHeaders$1,isURLSameOrigin=isURLSameOrigin$1,transitionalDefaults$1=transitional,AxiosError$2=AxiosError_1,CanceledError$2=CanceledError_1,parseProtocol=parseProtocol$1,xhr=function(e){return new Promise((function(t,r){var n,i=e.data,a=e.headers,o=e.responseType;function s(){e.cancelToken&&e.cancelToken.unsubscribe(n),e.signal&&e.signal.removeEventListener("abort",n)}utils$8.isFormData(i)&&utils$8.isStandardBrowserEnv()&&delete a["Content-Type"];var u=new XMLHttpRequest;if(e.auth){var c=e.auth.username||"",l=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.Authorization="Basic "+btoa(c+":"+l)}var f=buildFullPath$1(e.baseURL,e.url);function p(){if(u){var n="getAllResponseHeaders"in u?parseHeaders(u.getAllResponseHeaders()):null,i={data:o&&"text"!==o&&"json"!==o?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:n,config:e,request:u};settle((function(e){t(e),s()}),(function(e){r(e),s()}),i),u=null}}if(u.open(e.method.toUpperCase(),buildURL$1(f,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=p:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(p)},u.onabort=function(){u&&(r(new AxiosError$2("Request aborted",AxiosError$2.ECONNABORTED,e,u)),u=null)},u.onerror=function(){r(new AxiosError$2("Network Error",AxiosError$2.ERR_NETWORK,e,u,u)),u=null},u.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",n=e.transitional||transitionalDefaults$1;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(new AxiosError$2(t,n.clarifyTimeoutError?AxiosError$2.ETIMEDOUT:AxiosError$2.ECONNABORTED,e,u)),u=null},utils$8.isStandardBrowserEnv()){var d=(e.withCredentials||isURLSameOrigin(f))&&e.xsrfCookieName?cookies.read(e.xsrfCookieName):void 0;d&&(a[e.xsrfHeaderName]=d)}"setRequestHeader"in u&&utils$8.forEach(a,(function(e,t){void 0===i&&"content-type"===t.toLowerCase()?delete a[t]:u.setRequestHeader(t,e)})),utils$8.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),o&&"json"!==o&&(u.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&u.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(n=function(e){u&&(r(!e||e&&e.type?new CanceledError$2:e),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(n),e.signal&&(e.signal.aborted?n():e.signal.addEventListener("abort",n))),i||(i=null);var h=parseProtocol(f);h&&-1===["http","https","file"].indexOf(h)?r(new AxiosError$2("Unsupported protocol "+h+":",AxiosError$2.ERR_BAD_REQUEST,e)):u.send(i)}))},_null=null,utils$7=utils$i,normalizeHeaderName=normalizeHeaderName$1,AxiosError$1=AxiosError_1,transitionalDefaults=transitional,toFormData=toFormData_1,DEFAULT_CONTENT_TYPE={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(e,t){!utils$7.isUndefined(e)&&utils$7.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function getDefaultAdapter(){var e;return("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=xhr),e}function stringifySafely(e,t,r){if(utils$7.isString(e))try{return(t||JSON.parse)(e),utils$7.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(r||JSON.stringify)(e)}var defaults$3={transitional:transitionalDefaults,adapter:getDefaultAdapter(),transformRequest:[function(e,t){if(normalizeHeaderName(t,"Accept"),normalizeHeaderName(t,"Content-Type"),utils$7.isFormData(e)||utils$7.isArrayBuffer(e)||utils$7.isBuffer(e)||utils$7.isStream(e)||utils$7.isFile(e)||utils$7.isBlob(e))return e;if(utils$7.isArrayBufferView(e))return e.buffer;if(utils$7.isURLSearchParams(e))return setContentTypeIfUnset(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var r,n=utils$7.isObject(e),i=t&&t["Content-Type"];if((r=utils$7.isFileList(e))||n&&"multipart/form-data"===i){var a=this.env&&this.env.FormData;return toFormData(r?{"files[]":e}:e,a&&new a)}return n||"application/json"===i?(setContentTypeIfUnset(t,"application/json"),stringifySafely(e)):e}],transformResponse:[function(e){var t=this.transitional||defaults$3.transitional,r=t&&t.silentJSONParsing,n=t&&t.forcedJSONParsing,i=!r&&"json"===this.responseType;if(i||n&&utils$7.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(i){if("SyntaxError"===e.name)throw AxiosError$1.from(e,AxiosError$1.ERR_BAD_RESPONSE,this,null,this.response);throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_null},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};utils$7.forEach(["delete","get","head"],(function(e){defaults$3.headers[e]={}})),utils$7.forEach(["post","put","patch"],(function(e){defaults$3.headers[e]=utils$7.merge(DEFAULT_CONTENT_TYPE)}));var defaults_1=defaults$3,utils$6=utils$i,defaults$2=defaults_1,transformData$1=function(e,t,r){var n=this||defaults$2;return utils$6.forEach(r,(function(r){e=r.call(n,e,t)})),e},isCancel$1=function(e){return!(!e||!e.__CANCEL__)},utils$5=utils$i,transformData=transformData$1,isCancel=isCancel$1,defaults$1=defaults_1,CanceledError$1=CanceledError_1;function throwIfCancellationRequested(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new CanceledError$1}var dispatchRequest$1=function(e){return throwIfCancellationRequested(e),e.headers=e.headers||{},e.data=transformData.call(e,e.data,e.headers,e.transformRequest),e.headers=utils$5.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),utils$5.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||defaults$1.adapter)(e).then((function(t){return throwIfCancellationRequested(e),t.data=transformData.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return isCancel(t)||(throwIfCancellationRequested(e),t&&t.response&&(t.response.data=transformData.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},utils$4=utils$i,mergeConfig$2=function(e,t){t=t||{};var r={};function n(e,t){return utils$4.isPlainObject(e)&&utils$4.isPlainObject(t)?utils$4.merge(e,t):utils$4.isPlainObject(t)?utils$4.merge({},t):utils$4.isArray(t)?t.slice():t}function i(r){return utils$4.isUndefined(t[r])?utils$4.isUndefined(e[r])?void 0:n(void 0,e[r]):n(e[r],t[r])}function a(e){if(!utils$4.isUndefined(t[e]))return n(void 0,t[e])}function o(r){return utils$4.isUndefined(t[r])?utils$4.isUndefined(e[r])?void 0:n(void 0,e[r]):n(void 0,t[r])}function s(r){return r in t?n(e[r],t[r]):r in e?n(void 0,e[r]):void 0}var u={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s};return utils$4.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=u[e]||i,n=t(e);utils$4.isUndefined(n)&&t!==s||(r[e]=n)})),r},data={version:"0.27.2"},VERSION=data.version,AxiosError=AxiosError_1,validators$1={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){validators$1[e]=function(r){return _typeof(r)===e||"a"+(t<1?"n ":" ")+e}}));var deprecatedWarnings={};function assertOptions(e,t,r){if("object"!==_typeof(e))throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(e),i=n.length;i-- >0;){var a=n[i],o=t[a];if(o){var s=e[a],u=void 0===s||o(s,a,e);if(!0!==u)throw new AxiosError("option "+a+" must be "+u,AxiosError.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new AxiosError("Unknown option "+a,AxiosError.ERR_BAD_OPTION)}}validators$1.transitional=function(e,t,r){function n(e,t){return"[Axios v"+VERSION+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,i,a){if(!1===e)throw new AxiosError(n(i," has been removed"+(t?" in "+t:"")),AxiosError.ERR_DEPRECATED);return t&&!deprecatedWarnings[i]&&(deprecatedWarnings[i]=!0,console.warn(n(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,i,a)}};var validator$1={assertOptions,validators:validators$1},utils$3=utils$i,buildURL=buildURL$2,InterceptorManager=InterceptorManager_1,dispatchRequest=dispatchRequest$1,mergeConfig$1=mergeConfig$2,buildFullPath=buildFullPath$2,validator=validator$1,validators=validator.validators;function Axios$1(e){this.defaults=e,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}Axios$1.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=mergeConfig$1(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;void 0!==r&&validator.assertOptions(r,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,n.unshift(e.fulfilled,e.rejected))}));var a,o=[];if(this.interceptors.response.forEach((function(e){o.push(e.fulfilled,e.rejected)})),!i){var s=[dispatchRequest,void 0];for(Array.prototype.unshift.apply(s,n),s=s.concat(o),a=Promise.resolve(t);s.length;)a=a.then(s.shift(),s.shift());return a}for(var u=t;n.length;){var c=n.shift(),l=n.shift();try{u=c(u)}catch(e){l(e);break}}try{a=dispatchRequest(u)}catch(e){return Promise.reject(e)}for(;o.length;)a=a.then(o.shift(),o.shift());return a},Axios$1.prototype.getUri=function(e){e=mergeConfig$1(this.defaults,e);var t=buildFullPath(e.baseURL,e.url);return buildURL(t,e.params,e.paramsSerializer)},utils$3.forEach(["delete","get","head","options"],(function(e){Axios$1.prototype[e]=function(t,r){return this.request(mergeConfig$1(r||{},{method:e,url:t,data:(r||{}).data}))}})),utils$3.forEach(["post","put","patch"],(function(e){function t(t){return function(r,n,i){return this.request(mergeConfig$1(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}Axios$1.prototype[e]=t(),Axios$1.prototype[e+"Form"]=t(!0)}));var Axios_1=Axios$1,CanceledError=CanceledError_1;function CancelToken(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;this.promise.then((function(e){if(r._listeners){var t,n=r._listeners.length;for(t=0;t<n;t++)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e){r.reason||(r.reason=new CanceledError(e),t(r.reason))}))}CancelToken.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},CancelToken.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},CancelToken.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},CancelToken.source=function(){var e;return{token:new CancelToken((function(t){e=t})),cancel:e}};var CancelToken_1=CancelToken,spread=function(e){return function(t){return e.apply(null,t)}},utils$2=utils$i,isAxiosError=function(e){return utils$2.isObject(e)&&!0===e.isAxiosError},utils$1=utils$i,bind=bind$2,Axios=Axios_1,mergeConfig=mergeConfig$2,defaults=defaults_1;function createInstance(e){var t=new Axios(e),r=bind(Axios.prototype.request,t);return utils$1.extend(r,Axios.prototype,t),utils$1.extend(r,t),r.create=function(t){return createInstance(mergeConfig(e,t))},r}var axios$1=createInstance(defaults);axios$1.Axios=Axios,axios$1.CanceledError=CanceledError_1,axios$1.CancelToken=CancelToken_1,axios$1.isCancel=isCancel$1,axios$1.VERSION=data.version,axios$1.toFormData=toFormData_1,axios$1.AxiosError=AxiosError_1,axios$1.Cancel=axios$1.CanceledError,axios$1.all=function(e){return Promise.all(e)},axios$1.spread=spread,axios$1.isAxiosError=isAxiosError,axios$2.exports=axios$1,axios$2.exports.default=axios$1;var axios=axios$2.exports,CrossbellProfile=function(e){_inherits(i,e);var t,r,n=_createSuper(i);function i(e){var t;return _classCallCheck(this,i),t=n.call(this,e),y.setIpfsGateway(t.main.options.ipfsGateway),t}return _createClass(i,[{key:"get",value:(r=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object.assign({platform:"Ethereum"},t),e.t0=t.platform,e.next="Ethereum"===e.t0?4:"Crossbell"===e.t0?11:28;break;case 4:return this.indexer||(this.indexer=new _),e.next=7,this.indexer.getProfiles(t.identity,{lastIdentifier:t.cursor,limit:t.limit});case 7:return i=e.sent,a=i.list.map((function(e){var t,r,n,i,a,o;return Object.assign({username:e.handle,source:"Crossbell Profile",metadata:{network:"Crossbell",proof:e.token_id,primary:e.primary,block_number:e.block_number}},__spreadValues(__spreadValues(__spreadValues(__spreadValues(__spreadValues(__spreadValues({},(null==(t=e.metadata)?void 0:t.name)&&{name:e.metadata.name}),(null==(r=e.metadata)?void 0:r.bio)&&{bio:e.metadata.bio}),(null==(n=e.metadata)?void 0:n.banners)&&{banners:e.metadata.banners}),(null==(i=e.metadata)?void 0:i.avatars)&&{avatars:e.metadata.avatars}),(null==(a=e.metadata)?void 0:a.websites)&&{websites:e.metadata.websites}),(null==(o=e.metadata)?void 0:o.connected_accounts)&&{connected_accounts:e.metadata.connected_accounts}))})),n=__spreadProps(__spreadValues({total:i.total},t.limit&&a.length>=t.limit&&{cursor:null==(r=a[a.length-1].metadata)?void 0:r.token_id}),{list:a}),e.abrupt("break",29);case 11:if(this.contract){e.next=15;break}return this.contract=new E$1,e.next=15,this.contract.connect();case 15:return e.next=17,this.contract.getProfileByHandle(t.identity);case 17:if("0"!==(o=e.sent.data).profileId){e.next=20;break}return e.abrupt("return",{total:0,list:[]});case 20:if((s=o.metadata)||!o.uri){e.next=25;break}return e.next=24,axios.get(this.main.utils.replaceIPFS(o.uri));case 24:s=e.sent.data;case 25:return u=Object.assign({name:o.handle,source:"Crossbell Profile",metadata:{network:"Crossbell",proof:o.profileId,handler:o.handle,uri:o.uri}},s),n={total:1,list:[u]},e.abrupt("break",29);case 28:throw new Error("Unsupported platform: ".concat(t.platform));case 29:return n.list=n.list.map((function(e){return e.connected_accounts&&(e.connected_accounts=e.connected_accounts.map((function(e){if("string"==typeof e){var t=e.match(/:\/\/account:(.*)@(.*)/);e=t?{identity:t[1],platform:t[2]}:{identity:e}}return e}))),e})),e.abrupt("return",n);case 31:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"set",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r){var n,i,a,o,s,u,c,l,f,p,d,h,m,y,v,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object.assign({platform:"Ethereum",action:"update"},t),this.contractSet){e.next=5;break}return this.contractSet=new E$1(this.main.options.ethereumProvider),e.next=5,this.contractSet.connect();case 5:e.t0=t.action,e.next="update"===e.t0?8:"add"===e.t0?52:68;break;case 8:n={},e.t1=t.platform,e.next="Ethereum"===e.t1?12:"Crossbell"===e.t1?17:28;break;case 12:return this.indexer||(this.indexer=new _),e.next=15,this.indexer.getProfiles(t.identity,{primary:!0});case 15:return n=e.sent.list[0],e.abrupt("break",29);case 17:return e.next=19,this.contractSet.getProfileByHandle(t.identity);case 19:if("0"!==(i=e.sent.data).profileId){e.next=22;break}return e.abrupt("return",{code:1,message:"Profile not found"});case 22:if(!i.uri){e.next=26;break}return e.next=25,axios.get(this.main.utils.replaceIPFS(i.uri));case 25:a=e.sent.data;case 26:return n={token_id:i.profileId,handle:i.handle,metadata:a},e.abrupt("break",29);case 28:throw new Error("Unsupported platform: ".concat(t.platform));case 29:if(n){e.next=31;break}return e.abrupt("return",{code:1,message:"Profile not found"});case 31:if(o=n.token_id,!r.username||r.username===n.handle){e.next=35;break}return e.next=35,this.contractSet.setHandle(o,r.username);case 35:if(!Object.keys(r).filter((function(e){return"username"!==e})).length){e.next=51;break}return s=r.username||t.identity,delete r.username,r.connected_accounts&&(r.connected_accounts=r.connected_accounts.map((function(e){return e.identity&&e.platform?"csb://account:".concat(e.identity,"@").concat(e.platform.toLowerCase()):e}))),u=Object.assign({},n.metadata,r),c=new Blob([JSON.stringify(u)],{type:"application/json"}),l=new File([c],"".concat(s,".json")),f=new Web3Storage({token:this.main.options.web3StorageAPIToken}),e.next=45,f.put([l],{name:l.name,maxRetries:3,wrapWithDirectory:!1});case 45:return p=e.sent,e.next=48,this.contractSet.setProfileUri(o,"ipfs://".concat(p));case 48:case 51:return e.abrupt("return",{code:0,message:"Success"});case 52:e.t2=t.platform,e.next="Ethereum"===e.t2?55:67;break;case 55:return d=new Web3Storage({token:this.main.options.web3StorageAPIToken}),h=r.username||t.identity,delete r.username,m=r,y=new Blob([JSON.stringify(m)],{type:"application/json"}),v=new File([y],"".concat(h,".json")),e.next=63,d.put([v],{name:v.name,maxRetries:3,wrapWithDirectory:!1});case 63:return g=e.sent,e.next=66,this.contractSet.createProfile(t.identity,h,"ipfs://".concat(g));case 66:return e.abrupt("return",{code:0,message:"Success"});case 67:throw new Error("Unsupported platform: ".concat(t.platform));case 68:throw new Error("Unsupported action: ".concat(t.action));case 69:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),i}(Base$3),Profiles=function(){function e(t){_classCallCheck(this,e),this.main=t,this.map={ENS:new ENS(t),"Crossbell Profile":new CrossbellProfile(t)},this.accountsMap={github:{platform:"GitHub",url:"https://github.com/$$id"},twitter:{platform:"Twitter",url:"https://twitter.com/$$id"},telegram:{platform:"Telegram",url:"https://t.me/$$id"},discord:{platform:"Discord"},reddit:{platform:"Reddit",url:"https://www.reddit.com/user/$$id"},jike:{platform:"Jike",url:"https://web.okjike.com/u/$$id"}}}var t,r;return _createClass(e,[{key:"get",value:(r=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.map[t.source].get(t);case 2:return(r=e.sent).list=r.list.map((function(e){return e.avatars&&(e.avatars=n.main.utils.replaceIPFSs(e.avatars)),e.banners&&(e.banners=n.main.utils.replaceIPFSs(e.banners)),e.connected_accounts&&(e.connected_accounts=e.connected_accounts.map((function(e){var t=n.accountsMap[e.platform.toLowerCase()];return t&&(e.platform=t.platform,t.url&&(e.url=t.url.replace("$$id",e.identity))),e}))),e})),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"set",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.map[t.source].set){e.next=4;break}return e.abrupt("return",this.map[t.source].set(t,r));case 4:return e.abrupt("return",{code:1,message:"Method not implemented"});case 5:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),e}(),Base$2=function e(t){_classCallCheck(this,e),this.main=t},CrossbellLink=function(e){_inherits(i,e);var t,r,n=_createSuper(i);function i(e){return _classCallCheck(this,i),n.call(this,e)}return _createClass(i,[{key:"get",value:(r=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n,i,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.indexer||(this.indexer=new _),t=Object.assign({type:"follow",platform:"Ethereum"},t),e.t0=t.platform,e.next="Ethereum"===e.t0?5:"Crossbell"===e.t0?14:15;break;case 5:return e.next=7,this.indexer.getProfiles(t.identity);case 7:return i=e.sent,e.next=10,this.indexer[t.reversed?"getBacklinkingProfiles":"getLinkingProfiles"](t.identity,{linkTypes:t.type});case 10:return a=e.sent,t.limit&&(a.list=null==(r=null==a?void 0:a.list)?void 0:r.slice(0,t.limit)),o=null==(n=null==a?void 0:a.list)?void 0:n.map((function(e){var r,n;return{date_created:e.created_at,from:t.reversed?e.from_detail.handle:null==(r=i.list.find((function(t){return t.token_id===e.from})))?void 0:r.handle,to:t.reversed?null==(n=i.list.find((function(t){return t.token_id===e.to})))?void 0:n.handle:e.to_detail.handle,type:t.type||"",source:"Crossbell Link",metadata:{network:"Crossbell",proof:e.transaction_hash,block_number:e.block_number,from_owner:t.reversed?e.from_detail.owner:t.identity,to_owner:t.reversed?t.identity:e.to_detail.owner}}})),e.abrupt("return",{total:null==a?void 0:a.total,list:o});case 14:return e.abrupt("return",{total:0,list:[]});case 15:throw new Error("Unsupported platform: ".concat(t.platform));case 16:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"set",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r){var n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object.assign({platform:"Ethereum",action:"add"},t),this.contractSet){e.next=5;break}return this.contractSet=new E$1(this.main.options.ethereumProvider),e.next=5,this.contractSet.connect();case 5:return e.next=7,this.main.utils.getCrossbellProfileId({identity:t.identity,platform:t.platform});case 7:if("0"!==(n=e.sent)){e.next=10;break}return e.abrupt("return",{code:1,message:"Profile not found"});case 10:return e.next=12,this.contractSet.getProfileByHandle(r.to);case 12:if("0"!==(i=e.sent.data.profileId)){e.next=15;break}return e.abrupt("return",{code:1,message:"Profile not found"});case 15:e.t0=t.action,e.next="add"===e.t0?18:"remove"===e.t0?21:24;break;case 18:return e.next=20,this.contractSet.linkProfile(n,i,r.type);case 20:return e.abrupt("return",{code:0,message:"Success"});case 21:return e.next=23,this.contractSet.unlinkProfile(n,i,r.type);case 23:return e.abrupt("return",{code:0,message:"Success"});case 24:throw new Error("Unsupported action: ".concat(t.action));case 25:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),i}(Base$2),Links=function(){function e(t){_classCallCheck(this,e),this.map={"Crossbell Link":new CrossbellLink(t)}}var t,r;return _createClass(e,[{key:"get",value:(r=_asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.map[t.source].get(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"set",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.map[t.source].set){e.next=4;break}return e.abrupt("return",this.map[t.source].set(t,r));case 4:return e.abrupt("return",{code:1,message:"Method not implemented"});case 5:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),e}(),lodash={exports:{}};!function(e,t){(function(){var r,n="Expected a function",i="__lodash_hash_undefined__",a="__lodash_placeholder__",o=32,s=128,u=1/0,c=9007199254740991,l=NaN,f=4294967295,p=[["ary",s],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",o],["partialRight",64],["rearg",256]],d="[object Arguments]",h="[object Array]",m="[object Boolean]",y="[object Date]",v="[object Error]",g="[object Function]",b="[object GeneratorFunction]",_="[object Map]",w="[object Number]",k="[object Object]",x="[object Promise]",T="[object RegExp]",E="[object Set]",A="[object String]",S="[object Symbol]",C="[object WeakMap]",O="[object ArrayBuffer]",R="[object DataView]",P="[object Float32Array]",I="[object Float64Array]",N="[object Int8Array]",$="[object Int16Array]",B="[object Int32Array]",M="[object Uint8Array]",L="[object Uint8ClampedArray]",j="[object Uint16Array]",D="[object Uint32Array]",F=/\b__p \+= '';/g,U=/\b(__p \+=) '' \+/g,z=/(__e\(.*?\)|\b__t\)) \+\n'';/g,q=/&(?:amp|lt|gt|quot|#39);/g,G=/[&<>"']/g,H=RegExp(q.source),W=RegExp(G.source),K=/<%-([\s\S]+?)%>/g,V=/<%([\s\S]+?)%>/g,J=/<%=([\s\S]+?)%>/g,Y=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,X=/^\w*$/,Q=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Z=/[\\^$.*+?()[\]{}|]/g,ee=RegExp(Z.source),te=/^\s+/,re=/\s/,ne=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ie=/\{\n\/\* \[wrapped with (.+)\] \*/,ae=/,? & /,oe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,se=/[()=,{}\[\]\/\s]/,ue=/\\(\\)?/g,ce=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,le=/\w*$/,fe=/^[-+]0x[0-9a-f]+$/i,pe=/^0b[01]+$/i,de=/^\[object .+?Constructor\]$/,he=/^0o[0-7]+$/i,me=/^(?:0|[1-9]\d*)$/,ye=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ve=/($^)/,ge=/['\n\r\u2028\u2029\\]/g,be="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",_e="a-z\\xdf-\\xf6\\xf8-\\xff",we="A-Z\\xc0-\\xd6\\xd8-\\xde",ke="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",xe="["+ke+"]",Te="["+be+"]",Ee="\\d+",Ae="["+_e+"]",Se="[^\\ud800-\\udfff"+ke+Ee+"\\u2700-\\u27bf"+_e+we+"]",Ce="\\ud83c[\\udffb-\\udfff]",Oe="[^\\ud800-\\udfff]",Re="(?:\\ud83c[\\udde6-\\uddff]){2}",Pe="[\\ud800-\\udbff][\\udc00-\\udfff]",Ie="["+we+"]",Ne="(?:"+Ae+"|"+Se+")",$e="(?:"+Ie+"|"+Se+")",Be="(?:['’](?:d|ll|m|re|s|t|ve))?",Me="(?:['’](?:D|LL|M|RE|S|T|VE))?",Le="(?:"+Te+"|"+Ce+")?",je="[\\ufe0e\\ufe0f]?",De=je+Le+"(?:\\u200d(?:"+[Oe,Re,Pe].join("|")+")"+je+Le+")*",Fe="(?:"+["[\\u2700-\\u27bf]",Re,Pe].join("|")+")"+De,Ue="(?:"+[Oe+Te+"?",Te,Re,Pe,"[\\ud800-\\udfff]"].join("|")+")",ze=RegExp("['’]","g"),qe=RegExp(Te,"g"),Ge=RegExp(Ce+"(?="+Ce+")|"+Ue+De,"g"),He=RegExp([Ie+"?"+Ae+"+"+Be+"(?="+[xe,Ie,"$"].join("|")+")",$e+"+"+Me+"(?="+[xe,Ie+Ne,"$"].join("|")+")",Ie+"?"+Ne+"+"+Be,Ie+"+"+Me,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ee,Fe].join("|"),"g"),We=RegExp("[\\u200d\\ud800-\\udfff"+be+"\\ufe0e\\ufe0f]"),Ke=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ve=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Je=-1,Ye={};Ye[P]=Ye[I]=Ye[N]=Ye[$]=Ye[B]=Ye[M]=Ye[L]=Ye[j]=Ye[D]=!0,Ye[d]=Ye[h]=Ye[O]=Ye[m]=Ye[R]=Ye[y]=Ye[v]=Ye[g]=Ye[_]=Ye[w]=Ye[k]=Ye[T]=Ye[E]=Ye[A]=Ye[C]=!1;var Xe={};Xe[d]=Xe[h]=Xe[O]=Xe[R]=Xe[m]=Xe[y]=Xe[P]=Xe[I]=Xe[N]=Xe[$]=Xe[B]=Xe[_]=Xe[w]=Xe[k]=Xe[T]=Xe[E]=Xe[A]=Xe[S]=Xe[M]=Xe[L]=Xe[j]=Xe[D]=!0,Xe[v]=Xe[g]=Xe[C]=!1;var Qe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ze=parseFloat,et=parseInt,tt="object"==_typeof(commonjsGlobal)&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,rt="object"==("undefined"==typeof self?"undefined":_typeof(self))&&self&&self.Object===Object&&self,nt=tt||rt||Function("return this")(),it=t&&!t.nodeType&&t,at=it&&e&&!e.nodeType&&e,ot=at&&at.exports===it,st=ot&&tt.process,ut=function(){try{return at&&at.require&&at.require("util").types||st&&st.binding&&st.binding("util")}catch(e){}}(),ct=ut&&ut.isArrayBuffer,lt=ut&&ut.isDate,ft=ut&&ut.isMap,pt=ut&&ut.isRegExp,dt=ut&&ut.isSet,ht=ut&&ut.isTypedArray;function mt(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function yt(e,t,r,n){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(n,o,r(o),e)}return n}function vt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function gt(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function bt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function _t(e,t){for(var r=-1,n=null==e?0:e.length,i=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a}function wt(e,t){return!(null==e||!e.length)&&Pt(e,t,0)>-1}function kt(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}function xt(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function Tt(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function Et(e,t,r,n){var i=-1,a=null==e?0:e.length;for(n&&a&&(r=e[++i]);++i<a;)r=t(r,e[i],i,e);return r}function At(e,t,r,n){var i=null==e?0:e.length;for(n&&i&&(r=e[--i]);i--;)r=t(r,e[i],i,e);return r}function St(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Ct=Bt("length");function Ot(e,t,r){var n;return r(e,(function(e,r,i){if(t(e,r,i))return n=r,!1})),n}function Rt(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function Pt(e,t,r){return t==t?function(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}(e,t,r):Rt(e,Nt,r)}function It(e,t,r,n){for(var i=r-1,a=e.length;++i<a;)if(n(e[i],t))return i;return-1}function Nt(e){return e!=e}function $t(e,t){var r=null==e?0:e.length;return r?jt(e,t)/r:l}function Bt(e){return function(t){return null==t?r:t[e]}}function Mt(e){return function(t){return null==e?r:e[t]}}function Lt(e,t,r,n,i){return i(e,(function(e,i,a){r=n?(n=!1,e):t(r,e,i,a)})),r}function jt(e,t){for(var n,i=-1,a=e.length;++i<a;){var o=t(e[i]);o!==r&&(n=n===r?o:n+o)}return n}function Dt(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function Ft(e){return e?e.slice(0,nr(e)+1).replace(te,""):e}function Ut(e){return function(t){return e(t)}}function zt(e,t){return xt(t,(function(t){return e[t]}))}function qt(e,t){return e.has(t)}function Gt(e,t){for(var r=-1,n=e.length;++r<n&&Pt(t,e[r],0)>-1;);return r}function Ht(e,t){for(var r=e.length;r--&&Pt(t,e[r],0)>-1;);return r}function Wt(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}var Kt=Mt({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),Vt=Mt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Jt(e){return"\\"+Qe[e]}function Yt(e){return We.test(e)}function Xt(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function Qt(e,t){return function(r){return e(t(r))}}function Zt(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var s=e[r];s!==t&&s!==a||(e[r]=a,o[i++]=r)}return o}function er(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}function tr(e){return Yt(e)?function(e){for(var t=Ge.lastIndex=0;Ge.test(e);)++t;return t}(e):Ct(e)}function rr(e){return Yt(e)?function(e){return e.match(Ge)||[]}(e):function(e){return e.split("")}(e)}function nr(e){for(var t=e.length;t--&&re.test(e.charAt(t)););return t}var ir=Mt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),ar=function e(t){var re,be=(t=null==t?nt:ar.defaults(nt.Object(),t,ar.pick(nt,Ve))).Array,_e=t.Date,we=t.Error,ke=t.Function,xe=t.Math,Te=t.Object,Ee=t.RegExp,Ae=t.String,Se=t.TypeError,Ce=be.prototype,Oe=ke.prototype,Re=Te.prototype,Pe=t["__core-js_shared__"],Ie=Oe.toString,Ne=Re.hasOwnProperty,$e=0,Be=(re=/[^.]+$/.exec(Pe&&Pe.keys&&Pe.keys.IE_PROTO||""))?"Symbol(src)_1."+re:"",Me=Re.toString,Le=Ie.call(Te),je=nt._,De=Ee("^"+Ie.call(Ne).replace(Z,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Fe=ot?t.Buffer:r,Ue=t.Symbol,Ge=t.Uint8Array,We=Fe?Fe.allocUnsafe:r,Qe=Qt(Te.getPrototypeOf,Te),tt=Te.create,rt=Re.propertyIsEnumerable,it=Ce.splice,at=Ue?Ue.isConcatSpreadable:r,st=Ue?Ue.iterator:r,ut=Ue?Ue.toStringTag:r,Ct=function(){try{var e=ua(Te,"defineProperty");return e({},"",{}),e}catch(e){}}(),Mt=t.clearTimeout!==nt.clearTimeout&&t.clearTimeout,or=_e&&_e.now!==nt.Date.now&&_e.now,sr=t.setTimeout!==nt.setTimeout&&t.setTimeout,ur=xe.ceil,cr=xe.floor,lr=Te.getOwnPropertySymbols,fr=Fe?Fe.isBuffer:r,pr=t.isFinite,dr=Ce.join,hr=Qt(Te.keys,Te),mr=xe.max,yr=xe.min,vr=_e.now,gr=t.parseInt,br=xe.random,_r=Ce.reverse,wr=ua(t,"DataView"),kr=ua(t,"Map"),xr=ua(t,"Promise"),Tr=ua(t,"Set"),Er=ua(t,"WeakMap"),Ar=ua(Te,"create"),Sr=Er&&new Er,Cr={},Or=Ba(wr),Rr=Ba(kr),Pr=Ba(xr),Ir=Ba(Tr),Nr=Ba(Er),$r=Ue?Ue.prototype:r,Br=$r?$r.valueOf:r,Mr=$r?$r.toString:r;function Lr(e){if(Zo(e)&&!zo(e)&&!(e instanceof Ur)){if(e instanceof Fr)return e;if(Ne.call(e,"__wrapped__"))return Ma(e)}return new Fr(e)}var jr=function(){function e(){}return function(t){if(!Qo(t))return{};if(tt)return tt(t);e.prototype=t;var n=new e;return e.prototype=r,n}}();function Dr(){}function Fr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}function Ur(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=f,this.__views__=[]}function zr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function qr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Gr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Hr(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Gr;++t<r;)this.add(e[t])}function Wr(e){var t=this.__data__=new qr(e);this.size=t.size}function Kr(e,t){var r=zo(e),n=!r&&Uo(e),i=!r&&!n&&Wo(e),a=!r&&!n&&!i&&ss(e),o=r||n||i||a,s=o?Dt(e.length,Ae):[],u=s.length;for(var c in e)!t&&!Ne.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ma(c,u))||s.push(c);return s}function Vr(e){var t=e.length;return t?e[Hn(0,t-1)]:r}function Jr(e,t){return Ia(Ai(e),an(t,0,e.length))}function Yr(e){return Ia(Ai(e))}function Xr(e,t,n){(n!==r&&!jo(e[t],n)||n===r&&!(t in e))&&rn(e,t,n)}function Qr(e,t,n){var i=e[t];Ne.call(e,t)&&jo(i,n)&&(n!==r||t in e)||rn(e,t,n)}function Zr(e,t){for(var r=e.length;r--;)if(jo(e[r][0],t))return r;return-1}function en(e,t,r,n){return ln(e,(function(e,i,a){t(n,e,r(e),a)})),n}function tn(e,t){return e&&Si(t,Os(t),e)}function rn(e,t,r){"__proto__"==t&&Ct?Ct(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function nn(e,t){for(var n=-1,i=t.length,a=be(i),o=null==e;++n<i;)a[n]=o?r:Ts(e,t[n]);return a}function an(e,t,n){return e==e&&(n!==r&&(e=e<=n?e:n),t!==r&&(e=e>=t?e:t)),e}function on(e,t,n,i,a,o){var s,u=1&t,c=2&t,l=4&t;if(n&&(s=a?n(e,i,a,o):n(e)),s!==r)return s;if(!Qo(e))return e;var f=zo(e);if(f){if(s=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&Ne.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(e),!u)return Ai(e,s)}else{var p=fa(e),h=p==g||p==b;if(Wo(e))return _i(e,u);if(p==k||p==d||h&&!a){if(s=c||h?{}:da(e),!u)return c?function(e,t){return Si(e,la(e),t)}(e,function(e,t){return e&&Si(t,Rs(t),e)}(s,e)):function(e,t){return Si(e,ca(e),t)}(e,tn(s,e))}else{if(!Xe[p])return a?e:{};s=function(e,t,r){var n,i=e.constructor;switch(t){case O:return wi(e);case m:case y:return new i(+e);case R:return function(e,t){var r=t?wi(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case P:case I:case N:case $:case B:case M:case L:case j:case D:return ki(e,r);case _:return new i;case w:case A:return new i(e);case T:return function(e){var t=new e.constructor(e.source,le.exec(e));return t.lastIndex=e.lastIndex,t}(e);case E:return new i;case S:return n=e,Br?Te(Br.call(n)):{}}}(e,p,u)}}o||(o=new Wr);var v=o.get(e);if(v)return v;o.set(e,s),is(e)?e.forEach((function(r){s.add(on(r,t,n,r,e,o))})):es(e)&&e.forEach((function(r,i){s.set(i,on(r,t,n,i,e,o))}));var x=f?r:(l?c?ta:ea:c?Rs:Os)(e);return vt(x||e,(function(r,i){x&&(r=e[i=r]),Qr(s,i,on(r,t,n,i,e,o))})),s}function sn(e,t,n){var i=n.length;if(null==e)return!i;for(e=Te(e);i--;){var a=n[i],o=t[a],s=e[a];if(s===r&&!(a in e)||!o(s))return!1}return!0}function un(e,t,i){if("function"!=typeof e)throw new Se(n);return Ca((function(){e.apply(r,i)}),t)}function cn(e,t,r,n){var i=-1,a=wt,o=!0,s=e.length,u=[],c=t.length;if(!s)return u;r&&(t=xt(t,Ut(r))),n?(a=kt,o=!1):t.length>=200&&(a=qt,o=!1,t=new Hr(t));e:for(;++i<s;){var l=e[i],f=null==r?l:r(l);if(l=n||0!==l?l:0,o&&f==f){for(var p=c;p--;)if(t[p]===f)continue e;u.push(l)}else a(t,f,n)||u.push(l)}return u}Lr.templateSettings={escape:K,evaluate:V,interpolate:J,variable:"",imports:{_:Lr}},Lr.prototype=Dr.prototype,Lr.prototype.constructor=Lr,Fr.prototype=jr(Dr.prototype),Fr.prototype.constructor=Fr,Ur.prototype=jr(Dr.prototype),Ur.prototype.constructor=Ur,zr.prototype.clear=function(){this.__data__=Ar?Ar(null):{},this.size=0},zr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},zr.prototype.get=function(e){var t=this.__data__;if(Ar){var n=t[e];return n===i?r:n}return Ne.call(t,e)?t[e]:r},zr.prototype.has=function(e){var t=this.__data__;return Ar?t[e]!==r:Ne.call(t,e)},zr.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Ar&&t===r?i:t,this},qr.prototype.clear=function(){this.__data__=[],this.size=0},qr.prototype.delete=function(e){var t=this.__data__,r=Zr(t,e);return!(r<0||(r==t.length-1?t.pop():it.call(t,r,1),--this.size,0))},qr.prototype.get=function(e){var t=this.__data__,n=Zr(t,e);return n<0?r:t[n][1]},qr.prototype.has=function(e){return Zr(this.__data__,e)>-1},qr.prototype.set=function(e,t){var r=this.__data__,n=Zr(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Gr.prototype.clear=function(){this.size=0,this.__data__={hash:new zr,map:new(kr||qr),string:new zr}},Gr.prototype.delete=function(e){var t=oa(this,e).delete(e);return this.size-=t?1:0,t},Gr.prototype.get=function(e){return oa(this,e).get(e)},Gr.prototype.has=function(e){return oa(this,e).has(e)},Gr.prototype.set=function(e,t){var r=oa(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Hr.prototype.add=Hr.prototype.push=function(e){return this.__data__.set(e,i),this},Hr.prototype.has=function(e){return this.__data__.has(e)},Wr.prototype.clear=function(){this.__data__=new qr,this.size=0},Wr.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Wr.prototype.get=function(e){return this.__data__.get(e)},Wr.prototype.has=function(e){return this.__data__.has(e)},Wr.prototype.set=function(e,t){var r=this.__data__;if(r instanceof qr){var n=r.__data__;if(!kr||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Gr(n)}return r.set(e,t),this.size=r.size,this};var ln=Ri(gn),fn=Ri(bn,!0);function pn(e,t){var r=!0;return ln(e,(function(e,n,i){return r=!!t(e,n,i)})),r}function dn(e,t,n){for(var i=-1,a=e.length;++i<a;){var o=e[i],s=t(o);if(null!=s&&(u===r?s==s&&!os(s):n(s,u)))var u=s,c=o}return c}function hn(e,t){var r=[];return ln(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r}function mn(e,t,r,n,i){var a=-1,o=e.length;for(r||(r=ha),i||(i=[]);++a<o;){var s=e[a];t>0&&r(s)?t>1?mn(s,t-1,r,n,i):Tt(i,s):n||(i[i.length]=s)}return i}var yn=Pi(),vn=Pi(!0);function gn(e,t){return e&&yn(e,t,Os)}function bn(e,t){return e&&vn(e,t,Os)}function _n(e,t){return _t(t,(function(t){return Jo(e[t])}))}function wn(e,t){for(var n=0,i=(t=yi(t,e)).length;null!=e&&n<i;)e=e[$a(t[n++])];return n&&n==i?e:r}function kn(e,t,r){var n=t(e);return zo(e)?n:Tt(n,r(e))}function xn(e){return null==e?e===r?"[object Undefined]":"[object Null]":ut&&ut in Te(e)?function(e){var t=Ne.call(e,ut),n=e[ut];try{e[ut]=r;var i=!0}catch(e){}var a=Me.call(e);return i&&(t?e[ut]=n:delete e[ut]),a}(e):function(e){return Me.call(e)}(e)}function Tn(e,t){return e>t}function En(e,t){return null!=e&&Ne.call(e,t)}function An(e,t){return null!=e&&t in Te(e)}function Sn(e,t,n){for(var i=n?kt:wt,a=e[0].length,o=e.length,s=o,u=be(o),c=1/0,l=[];s--;){var f=e[s];s&&t&&(f=xt(f,Ut(t))),c=yr(f.length,c),u[s]=!n&&(t||a>=120&&f.length>=120)?new Hr(s&&f):r}f=e[0];var p=-1,d=u[0];e:for(;++p<a&&l.length<c;){var h=f[p],m=t?t(h):h;if(h=n||0!==h?h:0,!(d?qt(d,m):i(l,m,n))){for(s=o;--s;){var y=u[s];if(!(y?qt(y,m):i(e[s],m,n)))continue e}d&&d.push(m),l.push(h)}}return l}function Cn(e,t,n){var i=null==(e=Ta(e,t=yi(t,e)))?e:e[$a(Ka(t))];return null==i?r:mt(i,e,n)}function On(e){return Zo(e)&&xn(e)==d}function Rn(e,t,n,i,a){return e===t||(null==e||null==t||!Zo(e)&&!Zo(t)?e!=e&&t!=t:function(e,t,n,i,a,o){var s=zo(e),u=zo(t),c=s?h:fa(e),l=u?h:fa(t),f=(c=c==d?k:c)==k,p=(l=l==d?k:l)==k,g=c==l;if(g&&Wo(e)){if(!Wo(t))return!1;s=!0,f=!1}if(g&&!f)return o||(o=new Wr),s||ss(e)?Qi(e,t,n,i,a,o):function(e,t,r,n,i,a,o){switch(r){case R:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case O:return!(e.byteLength!=t.byteLength||!a(new Ge(e),new Ge(t)));case m:case y:case w:return jo(+e,+t);case v:return e.name==t.name&&e.message==t.message;case T:case A:return e==t+"";case _:var s=Xt;case E:var u=1&n;if(s||(s=er),e.size!=t.size&&!u)return!1;var c=o.get(e);if(c)return c==t;n|=2,o.set(e,t);var l=Qi(s(e),s(t),n,i,a,o);return o.delete(e),l;case S:if(Br)return Br.call(e)==Br.call(t)}return!1}(e,t,c,n,i,a,o);if(!(1&n)){var b=f&&Ne.call(e,"__wrapped__"),x=p&&Ne.call(t,"__wrapped__");if(b||x){var C=b?e.value():e,P=x?t.value():t;return o||(o=new Wr),a(C,P,n,i,o)}}return!!g&&(o||(o=new Wr),function(e,t,n,i,a,o){var s=1&n,u=ea(e),c=u.length;if(c!=ea(t).length&&!s)return!1;for(var l=c;l--;){var f=u[l];if(!(s?f in t:Ne.call(t,f)))return!1}var p=o.get(e),d=o.get(t);if(p&&d)return p==t&&d==e;var h=!0;o.set(e,t),o.set(t,e);for(var m=s;++l<c;){var y=e[f=u[l]],v=t[f];if(i)var g=s?i(v,y,f,t,e,o):i(y,v,f,e,t,o);if(!(g===r?y===v||a(y,v,n,i,o):g)){h=!1;break}m||(m="constructor"==f)}if(h&&!m){var b=e.constructor,_=t.constructor;b==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _||(h=!1)}return o.delete(e),o.delete(t),h}(e,t,n,i,a,o))}(e,t,n,i,Rn,a))}function Pn(e,t,n,i){var a=n.length,o=a,s=!i;if(null==e)return!o;for(e=Te(e);a--;){var u=n[a];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<o;){var c=(u=n[a])[0],l=e[c],f=u[1];if(s&&u[2]){if(l===r&&!(c in e))return!1}else{var p=new Wr;if(i)var d=i(l,f,c,e,t,p);if(!(d===r?Rn(f,l,3,i,p):d))return!1}}return!0}function In(e){return!(!Qo(e)||(t=e,Be&&Be in t))&&(Jo(e)?De:de).test(Ba(e));var t}function Nn(e){return"function"==typeof e?e:null==e?tu:"object"==_typeof(e)?zo(e)?jn(e[0],e[1]):Ln(e):lu(e)}function $n(e){if(!_a(e))return hr(e);var t=[];for(var r in Te(e))Ne.call(e,r)&&"constructor"!=r&&t.push(r);return t}function Bn(e,t){return e<t}function Mn(e,t){var r=-1,n=Go(e)?be(e.length):[];return ln(e,(function(e,i,a){n[++r]=t(e,i,a)})),n}function Ln(e){var t=sa(e);return 1==t.length&&t[0][2]?ka(t[0][0],t[0][1]):function(r){return r===e||Pn(r,e,t)}}function jn(e,t){return va(e)&&wa(t)?ka($a(e),t):function(n){var i=Ts(n,e);return i===r&&i===t?Es(n,e):Rn(t,i,3)}}function Dn(e,t,n,i,a){e!==t&&yn(t,(function(o,s){if(a||(a=new Wr),Qo(o))!function(e,t,n,i,a,o,s){var u=Aa(e,n),c=Aa(t,n),l=s.get(c);if(l)Xr(e,n,l);else{var f=o?o(u,c,n+"",e,t,s):r,p=f===r;if(p){var d=zo(c),h=!d&&Wo(c),m=!d&&!h&&ss(c);f=c,d||h||m?zo(u)?f=u:Ho(u)?f=Ai(u):h?(p=!1,f=_i(c,!0)):m?(p=!1,f=ki(c,!0)):f=[]:rs(c)||Uo(c)?(f=u,Uo(u)?f=ms(u):Qo(u)&&!Jo(u)||(f=da(c))):p=!1}p&&(s.set(c,f),a(f,c,i,o,s),s.delete(c)),Xr(e,n,f)}}(e,t,s,n,Dn,i,a);else{var u=i?i(Aa(e,s),o,s+"",e,t,a):r;u===r&&(u=o),Xr(e,s,u)}}),Rs)}function Fn(e,t){var n=e.length;if(n)return ma(t+=t<0?n:0,n)?e[t]:r}function Un(e,t,r){t=t.length?xt(t,(function(e){return zo(e)?function(t){return wn(t,1===e.length?e[0]:e)}:e})):[tu];var n=-1;return t=xt(t,Ut(aa())),function(e,t){var n=e.length;for(e.sort((function(e,t){return function(e,t,r){for(var n=-1,i=e.criteria,a=t.criteria,o=i.length,s=r.length;++n<o;){var u=xi(i[n],a[n]);if(u)return n>=s?u:u*("desc"==r[n]?-1:1)}return e.index-t.index}(e,t,r)}));n--;)e[n]=e[n].value;return e}(Mn(e,(function(e,r,i){return{criteria:xt(t,(function(t){return t(e)})),index:++n,value:e}})))}function zn(e,t,r){for(var n=-1,i=t.length,a={};++n<i;){var o=t[n],s=wn(e,o);r(s,o)&&Yn(a,yi(o,e),s)}return a}function qn(e,t,r,n){var i=n?It:Pt,a=-1,o=t.length,s=e;for(e===t&&(t=Ai(t)),r&&(s=xt(e,Ut(r)));++a<o;)for(var u=0,c=t[a],l=r?r(c):c;(u=i(s,l,u,n))>-1;)s!==e&&it.call(s,u,1),it.call(e,u,1);return e}function Gn(e,t){for(var r=e?t.length:0,n=r-1;r--;){var i=t[r];if(r==n||i!==a){var a=i;ma(i)?it.call(e,i,1):ui(e,i)}}return e}function Hn(e,t){return e+cr(br()*(t-e+1))}function Wn(e,t){var r="";if(!e||t<1||t>c)return r;do{t%2&&(r+=e),(t=cr(t/2))&&(e+=e)}while(t);return r}function Kn(e,t){return Oa(xa(e,t,tu),e+"")}function Vn(e){return Vr(js(e))}function Jn(e,t){var r=js(e);return Ia(r,an(t,0,r.length))}function Yn(e,t,n,i){if(!Qo(e))return e;for(var a=-1,o=(t=yi(t,e)).length,s=o-1,u=e;null!=u&&++a<o;){var c=$a(t[a]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(a!=s){var f=u[c];(l=i?i(f,c,u):r)===r&&(l=Qo(f)?f:ma(t[a+1])?[]:{})}Qr(u,c,l),u=u[c]}return e}var Xn=Sr?function(e,t){return Sr.set(e,t),e}:tu,Qn=Ct?function(e,t){return Ct(e,"toString",{configurable:!0,enumerable:!1,value:Qs(t),writable:!0})}:tu;function Zn(e){return Ia(js(e))}function ei(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=be(i);++n<i;)a[n]=e[n+t];return a}function ti(e,t){var r;return ln(e,(function(e,n,i){return!(r=t(e,n,i))})),!!r}function ri(e,t,r){var n=0,i=null==e?n:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;n<i;){var a=n+i>>>1,o=e[a];null!==o&&!os(o)&&(r?o<=t:o<t)?n=a+1:i=a}return i}return ni(e,t,tu,r)}function ni(e,t,n,i){var a=0,o=null==e?0:e.length;if(0===o)return 0;for(var s=(t=n(t))!=t,u=null===t,c=os(t),l=t===r;a<o;){var f=cr((a+o)/2),p=n(e[f]),d=p!==r,h=null===p,m=p==p,y=os(p);if(s)var v=i||m;else v=l?m&&(i||d):u?m&&d&&(i||!h):c?m&&d&&!h&&(i||!y):!h&&!y&&(i?p<=t:p<t);v?a=f+1:o=f}return yr(o,4294967294)}function ii(e,t){for(var r=-1,n=e.length,i=0,a=[];++r<n;){var o=e[r],s=t?t(o):o;if(!r||!jo(s,u)){var u=s;a[i++]=0===o?0:o}}return a}function ai(e){return"number"==typeof e?e:os(e)?l:+e}function oi(e){if("string"==typeof e)return e;if(zo(e))return xt(e,oi)+"";if(os(e))return Mr?Mr.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function si(e,t,r){var n=-1,i=wt,a=e.length,o=!0,s=[],u=s;if(r)o=!1,i=kt;else if(a>=200){var c=t?null:Wi(e);if(c)return er(c);o=!1,i=qt,u=new Hr}else u=t?[]:s;e:for(;++n<a;){var l=e[n],f=t?t(l):l;if(l=r||0!==l?l:0,o&&f==f){for(var p=u.length;p--;)if(u[p]===f)continue e;t&&u.push(f),s.push(l)}else i(u,f,r)||(u!==s&&u.push(f),s.push(l))}return s}function ui(e,t){return null==(e=Ta(e,t=yi(t,e)))||delete e[$a(Ka(t))]}function ci(e,t,r,n){return Yn(e,t,r(wn(e,t)),n)}function li(e,t,r,n){for(var i=e.length,a=n?i:-1;(n?a--:++a<i)&&t(e[a],a,e););return r?ei(e,n?0:a,n?a+1:i):ei(e,n?a+1:0,n?i:a)}function fi(e,t){var r=e;return r instanceof Ur&&(r=r.value()),Et(t,(function(e,t){return t.func.apply(t.thisArg,Tt([e],t.args))}),r)}function pi(e,t,r){var n=e.length;if(n<2)return n?si(e[0]):[];for(var i=-1,a=be(n);++i<n;)for(var o=e[i],s=-1;++s<n;)s!=i&&(a[i]=cn(a[i]||o,e[s],t,r));return si(mn(a,1),t,r)}function di(e,t,n){for(var i=-1,a=e.length,o=t.length,s={};++i<a;){var u=i<o?t[i]:r;n(s,e[i],u)}return s}function hi(e){return Ho(e)?e:[]}function mi(e){return"function"==typeof e?e:tu}function yi(e,t){return zo(e)?e:va(e,t)?[e]:Na(ys(e))}var vi=Kn;function gi(e,t,n){var i=e.length;return n=n===r?i:n,!t&&n>=i?e:ei(e,t,n)}var bi=Mt||function(e){return nt.clearTimeout(e)};function _i(e,t){if(t)return e.slice();var r=e.length,n=We?We(r):new e.constructor(r);return e.copy(n),n}function wi(e){var t=new e.constructor(e.byteLength);return new Ge(t).set(new Ge(e)),t}function ki(e,t){var r=t?wi(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function xi(e,t){if(e!==t){var n=e!==r,i=null===e,a=e==e,o=os(e),s=t!==r,u=null===t,c=t==t,l=os(t);if(!u&&!l&&!o&&e>t||o&&s&&c&&!u&&!l||i&&s&&c||!n&&c||!a)return 1;if(!i&&!o&&!l&&e<t||l&&n&&a&&!i&&!o||u&&n&&a||!s&&a||!c)return-1}return 0}function Ti(e,t,r,n){for(var i=-1,a=e.length,o=r.length,s=-1,u=t.length,c=mr(a-o,0),l=be(u+c),f=!n;++s<u;)l[s]=t[s];for(;++i<o;)(f||i<a)&&(l[r[i]]=e[i]);for(;c--;)l[s++]=e[i++];return l}function Ei(e,t,r,n){for(var i=-1,a=e.length,o=-1,s=r.length,u=-1,c=t.length,l=mr(a-s,0),f=be(l+c),p=!n;++i<l;)f[i]=e[i];for(var d=i;++u<c;)f[d+u]=t[u];for(;++o<s;)(p||i<a)&&(f[d+r[o]]=e[i++]);return f}function Ai(e,t){var r=-1,n=e.length;for(t||(t=be(n));++r<n;)t[r]=e[r];return t}function Si(e,t,n,i){var a=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var u=t[o],c=i?i(n[u],e[u],u,n,e):r;c===r&&(c=e[u]),a?rn(n,u,c):Qr(n,u,c)}return n}function Ci(e,t){return function(r,n){var i=zo(r)?yt:en,a=t?t():{};return i(r,e,aa(n,2),a)}}function Oi(e){return Kn((function(t,n){var i=-1,a=n.length,o=a>1?n[a-1]:r,s=a>2?n[2]:r;for(o=e.length>3&&"function"==typeof o?(a--,o):r,s&&ya(n[0],n[1],s)&&(o=a<3?r:o,a=1),t=Te(t);++i<a;){var u=n[i];u&&e(t,u,i,o)}return t}))}function Ri(e,t){return function(r,n){if(null==r)return r;if(!Go(r))return e(r,n);for(var i=r.length,a=t?i:-1,o=Te(r);(t?a--:++a<i)&&!1!==n(o[a],a,o););return r}}function Pi(e){return function(t,r,n){for(var i=-1,a=Te(t),o=n(t),s=o.length;s--;){var u=o[e?s:++i];if(!1===r(a[u],u,a))break}return t}}function Ii(e){return function(t){var n=Yt(t=ys(t))?rr(t):r,i=n?n[0]:t.charAt(0),a=n?gi(n,1).join(""):t.slice(1);return i[e]()+a}}function Ni(e){return function(t){return Et(Js(Us(t).replace(ze,"")),e,"")}}function $i(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=jr(e.prototype),n=e.apply(r,t);return Qo(n)?n:r}}function Bi(e){return function(t,n,i){var a=Te(t);if(!Go(t)){var o=aa(n,3);t=Os(t),n=function(e){return o(a[e],e,a)}}var s=e(t,n,i);return s>-1?a[o?t[s]:s]:r}}function Mi(e){return Zi((function(t){var i=t.length,a=i,o=Fr.prototype.thru;for(e&&t.reverse();a--;){var s=t[a];if("function"!=typeof s)throw new Se(n);if(o&&!u&&"wrapper"==na(s))var u=new Fr([],!0)}for(a=u?a:i;++a<i;){var c=na(s=t[a]),l="wrapper"==c?ra(s):r;u=l&&ga(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?u[na(l[0])].apply(u,l[3]):1==s.length&&ga(s)?u[c]():u.thru(s)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&zo(r))return u.plant(r).value();for(var n=0,a=i?t[n].apply(this,e):r;++n<i;)a=t[n].call(this,a);return a}}))}function Li(e,t,n,i,a,o,u,c,l,f){var p=t&s,d=1&t,h=2&t,m=24&t,y=512&t,v=h?r:$i(e);return function r(){for(var s=arguments.length,g=be(s),b=s;b--;)g[b]=arguments[b];if(m)var _=ia(r),w=Wt(g,_);if(i&&(g=Ti(g,i,a,m)),o&&(g=Ei(g,o,u,m)),s-=w,m&&s<f){var k=Zt(g,_);return Gi(e,t,Li,r.placeholder,n,g,k,c,l,f-s)}var x=d?n:this,T=h?x[e]:e;return s=g.length,c?g=Ea(g,c):y&&s>1&&g.reverse(),p&&l<s&&(g.length=l),this&&this!==nt&&this instanceof r&&(T=v||$i(T)),T.apply(x,g)}}function ji(e,t){return function(r,n){return function(e,t,r,n){return gn(e,(function(e,i,a){t(n,r(e),i,a)})),n}(r,e,t(n),{})}}function Di(e,t){return function(n,i){var a;if(n===r&&i===r)return t;if(n!==r&&(a=n),i!==r){if(a===r)return i;"string"==typeof n||"string"==typeof i?(n=oi(n),i=oi(i)):(n=ai(n),i=ai(i)),a=e(n,i)}return a}}function Fi(e){return Zi((function(t){return t=xt(t,Ut(aa())),Kn((function(r){var n=this;return e(t,(function(e){return mt(e,n,r)}))}))}))}function Ui(e,t){var n=(t=t===r?" ":oi(t)).length;if(n<2)return n?Wn(t,e):t;var i=Wn(t,ur(e/tr(t)));return Yt(t)?gi(rr(i),0,e).join(""):i.slice(0,e)}function zi(e){return function(t,n,i){return i&&"number"!=typeof i&&ya(t,n,i)&&(n=i=r),t=fs(t),n===r?(n=t,t=0):n=fs(n),function(e,t,r,n){for(var i=-1,a=mr(ur((t-e)/(r||1)),0),o=be(a);a--;)o[n?a:++i]=e,e+=r;return o}(t,n,i=i===r?t<n?1:-1:fs(i),e)}}function qi(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=hs(t),r=hs(r)),e(t,r)}}function Gi(e,t,n,i,a,s,u,c,l,f){var p=8&t;t|=p?o:64,4&(t&=~(p?64:o))||(t&=-4);var d=[e,t,a,p?s:r,p?u:r,p?r:s,p?r:u,c,l,f],h=n.apply(r,d);return ga(e)&&Sa(h,d),h.placeholder=i,Ra(h,e,t)}function Hi(e){var t=xe[e];return function(e,r){if(e=hs(e),(r=null==r?0:yr(ps(r),292))&&pr(e)){var n=(ys(e)+"e").split("e");return+((n=(ys(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var Wi=Tr&&1/er(new Tr([,-0]))[1]==u?function(e){return new Tr(e)}:ou;function Ki(e){return function(t){var r,n,i,a=fa(t);return a==_?Xt(t):a==E?(r=t,n=-1,i=Array(r.size),r.forEach((function(e){i[++n]=[e,e]})),i):function(e,t){return xt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Vi(e,t,i,u,c,l,f,p){var d=2&t;if(!d&&"function"!=typeof e)throw new Se(n);var h=u?u.length:0;if(h||(t&=-97,u=c=r),f=f===r?f:mr(ps(f),0),p=p===r?p:ps(p),h-=c?c.length:0,64&t){var m=u,y=c;u=c=r}var v=d?r:ra(e),g=[e,t,i,u,c,m,y,l,f,p];if(v&&function(e,t){var r=e[1],n=t[1],i=r|n,o=i<131,u=n==s&&8==r||n==s&&256==r&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==r;if(!o&&!u)return e;1&n&&(e[2]=t[2],i|=1&r?0:4);var c=t[3];if(c){var l=e[3];e[3]=l?Ti(l,c,t[4]):c,e[4]=l?Zt(e[3],a):t[4]}(c=t[5])&&(l=e[5],e[5]=l?Ei(l,c,t[6]):c,e[6]=l?Zt(e[5],a):t[6]),(c=t[7])&&(e[7]=c),n&s&&(e[8]=null==e[8]?t[8]:yr(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(g,v),e=g[0],t=g[1],i=g[2],u=g[3],c=g[4],!(p=g[9]=g[9]===r?d?0:e.length:mr(g[9]-h,0))&&24&t&&(t&=-25),t&&1!=t)b=8==t||16==t?function(e,t,n){var i=$i(e);return function a(){for(var o=arguments.length,s=be(o),u=o,c=ia(a);u--;)s[u]=arguments[u];var l=o<3&&s[0]!==c&&s[o-1]!==c?[]:Zt(s,c);return(o-=l.length)<n?Gi(e,t,Li,a.placeholder,r,s,l,r,r,n-o):mt(this&&this!==nt&&this instanceof a?i:e,this,s)}}(e,t,p):t!=o&&33!=t||c.length?Li.apply(r,g):function(e,t,r,n){var i=1&t,a=$i(e);return function t(){for(var o=-1,s=arguments.length,u=-1,c=n.length,l=be(c+s),f=this&&this!==nt&&this instanceof t?a:e;++u<c;)l[u]=n[u];for(;s--;)l[u++]=arguments[++o];return mt(f,i?r:this,l)}}(e,t,i,u);else var b=function(e,t,r){var n=1&t,i=$i(e);return function t(){return(this&&this!==nt&&this instanceof t?i:e).apply(n?r:this,arguments)}}(e,t,i);return Ra((v?Xn:Sa)(b,g),e,t)}function Ji(e,t,n,i){return e===r||jo(e,Re[n])&&!Ne.call(i,n)?t:e}function Yi(e,t,n,i,a,o){return Qo(e)&&Qo(t)&&(o.set(t,e),Dn(e,t,r,Yi,o),o.delete(t)),e}function Xi(e){return rs(e)?r:e}function Qi(e,t,n,i,a,o){var s=1&n,u=e.length,c=t.length;if(u!=c&&!(s&&c>u))return!1;var l=o.get(e),f=o.get(t);if(l&&f)return l==t&&f==e;var p=-1,d=!0,h=2&n?new Hr:r;for(o.set(e,t),o.set(t,e);++p<u;){var m=e[p],y=t[p];if(i)var v=s?i(y,m,p,t,e,o):i(m,y,p,e,t,o);if(v!==r){if(v)continue;d=!1;break}if(h){if(!St(t,(function(e,t){if(!qt(h,t)&&(m===e||a(m,e,n,i,o)))return h.push(t)}))){d=!1;break}}else if(m!==y&&!a(m,y,n,i,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function Zi(e){return Oa(xa(e,r,za),e+"")}function ea(e){return kn(e,Os,ca)}function ta(e){return kn(e,Rs,la)}var ra=Sr?function(e){return Sr.get(e)}:ou;function na(e){for(var t=e.name+"",r=Cr[t],n=Ne.call(Cr,t)?r.length:0;n--;){var i=r[n],a=i.func;if(null==a||a==e)return i.name}return t}function ia(e){return(Ne.call(Lr,"placeholder")?Lr:e).placeholder}function aa(){var e=Lr.iteratee||ru;return e=e===ru?Nn:e,arguments.length?e(arguments[0],arguments[1]):e}function oa(e,t){var r=e.__data__;return function(e){var t=_typeof(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function sa(e){for(var t=Os(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,wa(i)]}return t}function ua(e,t){var n=function(e,t){return null==e?r:e[t]}(e,t);return In(n)?n:r}var ca=lr?function(e){return null==e?[]:(e=Te(e),_t(lr(e),(function(t){return rt.call(e,t)})))}:du,la=lr?function(e){for(var t=[];e;)Tt(t,ca(e)),e=Qe(e);return t}:du,fa=xn;function pa(e,t,r){for(var n=-1,i=(t=yi(t,e)).length,a=!1;++n<i;){var o=$a(t[n]);if(!(a=null!=e&&r(e,o)))break;e=e[o]}return a||++n!=i?a:!!(i=null==e?0:e.length)&&Xo(i)&&ma(o,i)&&(zo(e)||Uo(e))}function da(e){return"function"!=typeof e.constructor||_a(e)?{}:jr(Qe(e))}function ha(e){return zo(e)||Uo(e)||!!(at&&e&&e[at])}function ma(e,t){var r=_typeof(e);return!!(t=null==t?c:t)&&("number"==r||"symbol"!=r&&me.test(e))&&e>-1&&e%1==0&&e<t}function ya(e,t,r){if(!Qo(r))return!1;var n=_typeof(t);return!!("number"==n?Go(r)&&ma(t,r.length):"string"==n&&t in r)&&jo(r[t],e)}function va(e,t){if(zo(e))return!1;var r=_typeof(e);return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!os(e))||X.test(e)||!Y.test(e)||null!=t&&e in Te(t)}function ga(e){var t=na(e),r=Lr[t];if("function"!=typeof r||!(t in Ur.prototype))return!1;if(e===r)return!0;var n=ra(r);return!!n&&e===n[0]}(wr&&fa(new wr(new ArrayBuffer(1)))!=R||kr&&fa(new kr)!=_||xr&&fa(xr.resolve())!=x||Tr&&fa(new Tr)!=E||Er&&fa(new Er)!=C)&&(fa=function(e){var t=xn(e),n=t==k?e.constructor:r,i=n?Ba(n):"";if(i)switch(i){case Or:return R;case Rr:return _;case Pr:return x;case Ir:return E;case Nr:return C}return t});var ba=Pe?Jo:hu;function _a(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Re)}function wa(e){return e==e&&!Qo(e)}function ka(e,t){return function(n){return null!=n&&n[e]===t&&(t!==r||e in Te(n))}}function xa(e,t,n){return t=mr(t===r?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=mr(r.length-t,0),o=be(a);++i<a;)o[i]=r[t+i];i=-1;for(var s=be(t+1);++i<t;)s[i]=r[i];return s[t]=n(o),mt(e,this,s)}}function Ta(e,t){return t.length<2?e:wn(e,ei(t,0,-1))}function Ea(e,t){for(var n=e.length,i=yr(t.length,n),a=Ai(e);i--;){var o=t[i];e[i]=ma(o,n)?a[o]:r}return e}function Aa(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Sa=Pa(Xn),Ca=sr||function(e,t){return nt.setTimeout(e,t)},Oa=Pa(Qn);function Ra(e,t,r){var n=t+"";return Oa(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(ne,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return vt(p,(function(r){var n="_."+r[0];t&r[1]&&!wt(e,n)&&e.push(n)})),e.sort()}(function(e){var t=e.match(ie);return t?t[1].split(ae):[]}(n),r)))}function Pa(e){var t=0,n=0;return function(){var i=vr(),a=16-(i-n);if(n=i,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(r,arguments)}}function Ia(e,t){var n=-1,i=e.length,a=i-1;for(t=t===r?i:t;++n<t;){var o=Hn(n,a),s=e[o];e[o]=e[n],e[n]=s}return e.length=t,e}var Na=function(e){var t=Io((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Q,(function(e,r,n,i){t.push(n?i.replace(ue,"$1"):r||e)})),t}),(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}();function $a(e){if("string"==typeof e||os(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ba(e){if(null!=e){try{return Ie.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ma(e){if(e instanceof Ur)return e.clone();var t=new Fr(e.__wrapped__,e.__chain__);return t.__actions__=Ai(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var La=Kn((function(e,t){return Ho(e)?cn(e,mn(t,1,Ho,!0)):[]})),ja=Kn((function(e,t){var n=Ka(t);return Ho(n)&&(n=r),Ho(e)?cn(e,mn(t,1,Ho,!0),aa(n,2)):[]})),Da=Kn((function(e,t){var n=Ka(t);return Ho(n)&&(n=r),Ho(e)?cn(e,mn(t,1,Ho,!0),r,n):[]}));function Fa(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:ps(r);return i<0&&(i=mr(n+i,0)),Rt(e,aa(t,3),i)}function Ua(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var a=i-1;return n!==r&&(a=ps(n),a=n<0?mr(i+a,0):yr(a,i-1)),Rt(e,aa(t,3),a,!0)}function za(e){return null!=e&&e.length?mn(e,1):[]}function qa(e){return e&&e.length?e[0]:r}var Ga=Kn((function(e){var t=xt(e,hi);return t.length&&t[0]===e[0]?Sn(t):[]})),Ha=Kn((function(e){var t=Ka(e),n=xt(e,hi);return t===Ka(n)?t=r:n.pop(),n.length&&n[0]===e[0]?Sn(n,aa(t,2)):[]})),Wa=Kn((function(e){var t=Ka(e),n=xt(e,hi);return(t="function"==typeof t?t:r)&&n.pop(),n.length&&n[0]===e[0]?Sn(n,r,t):[]}));function Ka(e){var t=null==e?0:e.length;return t?e[t-1]:r}var Va=Kn(Ja);function Ja(e,t){return e&&e.length&&t&&t.length?qn(e,t):e}var Ya=Zi((function(e,t){var r=null==e?0:e.length,n=nn(e,t);return Gn(e,xt(t,(function(e){return ma(e,r)?+e:e})).sort(xi)),n}));function Xa(e){return null==e?e:_r.call(e)}var Qa=Kn((function(e){return si(mn(e,1,Ho,!0))})),Za=Kn((function(e){var t=Ka(e);return Ho(t)&&(t=r),si(mn(e,1,Ho,!0),aa(t,2))})),eo=Kn((function(e){var t=Ka(e);return t="function"==typeof t?t:r,si(mn(e,1,Ho,!0),r,t)}));function to(e){if(!e||!e.length)return[];var t=0;return e=_t(e,(function(e){if(Ho(e))return t=mr(e.length,t),!0})),Dt(t,(function(t){return xt(e,Bt(t))}))}function ro(e,t){if(!e||!e.length)return[];var n=to(e);return null==t?n:xt(n,(function(e){return mt(t,r,e)}))}var no=Kn((function(e,t){return Ho(e)?cn(e,t):[]})),io=Kn((function(e){return pi(_t(e,Ho))})),ao=Kn((function(e){var t=Ka(e);return Ho(t)&&(t=r),pi(_t(e,Ho),aa(t,2))})),oo=Kn((function(e){var t=Ka(e);return t="function"==typeof t?t:r,pi(_t(e,Ho),r,t)})),so=Kn(to),uo=Kn((function(e){var t=e.length,n=t>1?e[t-1]:r;return n="function"==typeof n?(e.pop(),n):r,ro(e,n)}));function co(e){var t=Lr(e);return t.__chain__=!0,t}function lo(e,t){return t(e)}var fo=Zi((function(e){var t=e.length,n=t?e[0]:0,i=this.__wrapped__,a=function(t){return nn(t,e)};return!(t>1||this.__actions__.length)&&i instanceof Ur&&ma(n)?((i=i.slice(n,+n+(t?1:0))).__actions__.push({func:lo,args:[a],thisArg:r}),new Fr(i,this.__chain__).thru((function(e){return t&&!e.length&&e.push(r),e}))):this.thru(a)})),po=Ci((function(e,t,r){Ne.call(e,r)?++e[r]:rn(e,r,1)})),ho=Bi(Fa),mo=Bi(Ua);function yo(e,t){return(zo(e)?vt:ln)(e,aa(t,3))}function vo(e,t){return(zo(e)?gt:fn)(e,aa(t,3))}var go=Ci((function(e,t,r){Ne.call(e,r)?e[r].push(t):rn(e,r,[t])})),bo=Kn((function(e,t,r){var n=-1,i="function"==typeof t,a=Go(e)?be(e.length):[];return ln(e,(function(e){a[++n]=i?mt(t,e,r):Cn(e,t,r)})),a})),_o=Ci((function(e,t,r){rn(e,r,t)}));function wo(e,t){return(zo(e)?xt:Mn)(e,aa(t,3))}var ko=Ci((function(e,t,r){e[r?0:1].push(t)}),(function(){return[[],[]]})),xo=Kn((function(e,t){if(null==e)return[];var r=t.length;return r>1&&ya(e,t[0],t[1])?t=[]:r>2&&ya(t[0],t[1],t[2])&&(t=[t[0]]),Un(e,mn(t,1),[])})),To=or||function(){return nt.Date.now()};function Eo(e,t,n){return t=n?r:t,t=e&&null==t?e.length:t,Vi(e,s,r,r,r,r,t)}function Ao(e,t){var i;if("function"!=typeof t)throw new Se(n);return e=ps(e),function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=r),i}}var So=Kn((function(e,t,r){var n=1;if(r.length){var i=Zt(r,ia(So));n|=o}return Vi(e,n,t,r,i)})),Co=Kn((function(e,t,r){var n=3;if(r.length){var i=Zt(r,ia(Co));n|=o}return Vi(t,n,e,r,i)}));function Oo(e,t,i){var a,o,s,u,c,l,f=0,p=!1,d=!1,h=!0;if("function"!=typeof e)throw new Se(n);function m(t){var n=a,i=o;return a=o=r,f=t,u=e.apply(i,n)}function y(e){return f=e,c=Ca(g,t),p?m(e):u}function v(e){var n=e-l;return l===r||n>=t||n<0||d&&e-f>=s}function g(){var e=To();if(v(e))return b(e);c=Ca(g,function(e){var r=t-(e-l);return d?yr(r,s-(e-f)):r}(e))}function b(e){return c=r,h&&a?m(e):(a=o=r,u)}function _(){var e=To(),n=v(e);if(a=arguments,o=this,l=e,n){if(c===r)return y(l);if(d)return bi(c),c=Ca(g,t),m(l)}return c===r&&(c=Ca(g,t)),u}return t=hs(t)||0,Qo(i)&&(p=!!i.leading,s=(d="maxWait"in i)?mr(hs(i.maxWait)||0,t):s,h="trailing"in i?!!i.trailing:h),_.cancel=function(){c!==r&&bi(c),f=0,a=l=o=c=r},_.flush=function(){return c===r?u:b(To())},_}var Ro=Kn((function(e,t){return un(e,1,t)})),Po=Kn((function(e,t,r){return un(e,hs(t)||0,r)}));function Io(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Se(n);var r=function r(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(Io.Cache||Gr),r}function No(e){if("function"!=typeof e)throw new Se(n);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Io.Cache=Gr;var $o=vi((function(e,t){var r=(t=1==t.length&&zo(t[0])?xt(t[0],Ut(aa())):xt(mn(t,1),Ut(aa()))).length;return Kn((function(n){for(var i=-1,a=yr(n.length,r);++i<a;)n[i]=t[i].call(this,n[i]);return mt(e,this,n)}))})),Bo=Kn((function(e,t){var n=Zt(t,ia(Bo));return Vi(e,o,r,t,n)})),Mo=Kn((function(e,t){var n=Zt(t,ia(Mo));return Vi(e,64,r,t,n)})),Lo=Zi((function(e,t){return Vi(e,256,r,r,r,t)}));function jo(e,t){return e===t||e!=e&&t!=t}var Do=qi(Tn),Fo=qi((function(e,t){return e>=t})),Uo=On(function(){return arguments}())?On:function(e){return Zo(e)&&Ne.call(e,"callee")&&!rt.call(e,"callee")},zo=be.isArray,qo=ct?Ut(ct):function(e){return Zo(e)&&xn(e)==O};function Go(e){return null!=e&&Xo(e.length)&&!Jo(e)}function Ho(e){return Zo(e)&&Go(e)}var Wo=fr||hu,Ko=lt?Ut(lt):function(e){return Zo(e)&&xn(e)==y};function Vo(e){if(!Zo(e))return!1;var t=xn(e);return t==v||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!rs(e)}function Jo(e){if(!Qo(e))return!1;var t=xn(e);return t==g||t==b||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Yo(e){return"number"==typeof e&&e==ps(e)}function Xo(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=c}function Qo(e){var t=_typeof(e);return null!=e&&("object"==t||"function"==t)}function Zo(e){return null!=e&&"object"==_typeof(e)}var es=ft?Ut(ft):function(e){return Zo(e)&&fa(e)==_};function ts(e){return"number"==typeof e||Zo(e)&&xn(e)==w}function rs(e){if(!Zo(e)||xn(e)!=k)return!1;var t=Qe(e);if(null===t)return!0;var r=Ne.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Ie.call(r)==Le}var ns=pt?Ut(pt):function(e){return Zo(e)&&xn(e)==T},is=dt?Ut(dt):function(e){return Zo(e)&&fa(e)==E};function as(e){return"string"==typeof e||!zo(e)&&Zo(e)&&xn(e)==A}function os(e){return"symbol"==_typeof(e)||Zo(e)&&xn(e)==S}var ss=ht?Ut(ht):function(e){return Zo(e)&&Xo(e.length)&&!!Ye[xn(e)]},us=qi(Bn),cs=qi((function(e,t){return e<=t}));function ls(e){if(!e)return[];if(Go(e))return as(e)?rr(e):Ai(e);if(st&&e[st])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[st]());var t=fa(e);return(t==_?Xt:t==E?er:js)(e)}function fs(e){return e?(e=hs(e))===u||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ps(e){var t=fs(e),r=t%1;return t==t?r?t-r:t:0}function ds(e){return e?an(ps(e),0,f):0}function hs(e){if("number"==typeof e)return e;if(os(e))return l;if(Qo(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Qo(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Ft(e);var r=pe.test(e);return r||he.test(e)?et(e.slice(2),r?2:8):fe.test(e)?l:+e}function ms(e){return Si(e,Rs(e))}function ys(e){return null==e?"":oi(e)}var vs=Oi((function(e,t){if(_a(t)||Go(t))Si(t,Os(t),e);else for(var r in t)Ne.call(t,r)&&Qr(e,r,t[r])})),gs=Oi((function(e,t){Si(t,Rs(t),e)})),bs=Oi((function(e,t,r,n){Si(t,Rs(t),e,n)})),_s=Oi((function(e,t,r,n){Si(t,Os(t),e,n)})),ws=Zi(nn),ks=Kn((function(e,t){e=Te(e);var n=-1,i=t.length,a=i>2?t[2]:r;for(a&&ya(t[0],t[1],a)&&(i=1);++n<i;)for(var o=t[n],s=Rs(o),u=-1,c=s.length;++u<c;){var l=s[u],f=e[l];(f===r||jo(f,Re[l])&&!Ne.call(e,l))&&(e[l]=o[l])}return e})),xs=Kn((function(e){return e.push(r,Yi),mt(Is,r,e)}));function Ts(e,t,n){var i=null==e?r:wn(e,t);return i===r?n:i}function Es(e,t){return null!=e&&pa(e,t,An)}var As=ji((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Me.call(t)),e[t]=r}),Qs(tu)),Ss=ji((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Me.call(t)),Ne.call(e,t)?e[t].push(r):e[t]=[r]}),aa),Cs=Kn(Cn);function Os(e){return Go(e)?Kr(e):$n(e)}function Rs(e){return Go(e)?Kr(e,!0):function(e){if(!Qo(e))return function(e){var t=[];if(null!=e)for(var r in Te(e))t.push(r);return t}(e);var t=_a(e),r=[];for(var n in e)("constructor"!=n||!t&&Ne.call(e,n))&&r.push(n);return r}(e)}var Ps=Oi((function(e,t,r){Dn(e,t,r)})),Is=Oi((function(e,t,r,n){Dn(e,t,r,n)})),Ns=Zi((function(e,t){var r={};if(null==e)return r;var n=!1;t=xt(t,(function(t){return t=yi(t,e),n||(n=t.length>1),t})),Si(e,ta(e),r),n&&(r=on(r,7,Xi));for(var i=t.length;i--;)ui(r,t[i]);return r})),$s=Zi((function(e,t){return null==e?{}:function(e,t){return zn(e,t,(function(t,r){return Es(e,r)}))}(e,t)}));function Bs(e,t){if(null==e)return{};var r=xt(ta(e),(function(e){return[e]}));return t=aa(t),zn(e,r,(function(e,r){return t(e,r[0])}))}var Ms=Ki(Os),Ls=Ki(Rs);function js(e){return null==e?[]:zt(e,Os(e))}var Ds=Ni((function(e,t,r){return t=t.toLowerCase(),e+(r?Fs(t):t)}));function Fs(e){return Vs(ys(e).toLowerCase())}function Us(e){return(e=ys(e))&&e.replace(ye,Kt).replace(qe,"")}var zs=Ni((function(e,t,r){return e+(r?"-":"")+t.toLowerCase()})),qs=Ni((function(e,t,r){return e+(r?" ":"")+t.toLowerCase()})),Gs=Ii("toLowerCase"),Hs=Ni((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()})),Ws=Ni((function(e,t,r){return e+(r?" ":"")+Vs(t)})),Ks=Ni((function(e,t,r){return e+(r?" ":"")+t.toUpperCase()})),Vs=Ii("toUpperCase");function Js(e,t,n){return e=ys(e),(t=n?r:t)===r?function(e){return Ke.test(e)}(e)?function(e){return e.match(He)||[]}(e):function(e){return e.match(oe)||[]}(e):e.match(t)||[]}var Ys=Kn((function(e,t){try{return mt(e,r,t)}catch(e){return Vo(e)?e:new we(e)}})),Xs=Zi((function(e,t){return vt(t,(function(t){t=$a(t),rn(e,t,So(e[t],e))})),e}));function Qs(e){return function(){return e}}var Zs=Mi(),eu=Mi(!0);function tu(e){return e}function ru(e){return Nn("function"==typeof e?e:on(e,1))}var nu=Kn((function(e,t){return function(r){return Cn(r,e,t)}})),iu=Kn((function(e,t){return function(r){return Cn(e,r,t)}}));function au(e,t,r){var n=Os(t),i=_n(t,n);null!=r||Qo(t)&&(i.length||!n.length)||(r=t,t=e,e=this,i=_n(t,Os(t)));var a=!(Qo(r)&&"chain"in r&&!r.chain),o=Jo(e);return vt(i,(function(r){var n=t[r];e[r]=n,o&&(e.prototype[r]=function(){var t=this.__chain__;if(a||t){var r=e(this.__wrapped__),i=r.__actions__=Ai(this.__actions__);return i.push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,Tt([this.value()],arguments))})})),e}function ou(){}var su=Fi(xt),uu=Fi(bt),cu=Fi(St);function lu(e){return va(e)?Bt($a(e)):function(e){return function(t){return wn(t,e)}}(e)}var fu=zi(),pu=zi(!0);function du(){return[]}function hu(){return!1}var mu,yu=Di((function(e,t){return e+t}),0),vu=Hi("ceil"),gu=Di((function(e,t){return e/t}),1),bu=Hi("floor"),_u=Di((function(e,t){return e*t}),1),wu=Hi("round"),ku=Di((function(e,t){return e-t}),0);return Lr.after=function(e,t){if("function"!=typeof t)throw new Se(n);return e=ps(e),function(){if(--e<1)return t.apply(this,arguments)}},Lr.ary=Eo,Lr.assign=vs,Lr.assignIn=gs,Lr.assignInWith=bs,Lr.assignWith=_s,Lr.at=ws,Lr.before=Ao,Lr.bind=So,Lr.bindAll=Xs,Lr.bindKey=Co,Lr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return zo(e)?e:[e]},Lr.chain=co,Lr.chunk=function(e,t,n){t=(n?ya(e,t,n):t===r)?1:mr(ps(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,o=0,s=be(ur(i/t));a<i;)s[o++]=ei(e,a,a+=t);return s},Lr.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var a=e[t];a&&(i[n++]=a)}return i},Lr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=be(e-1),r=arguments[0],n=e;n--;)t[n-1]=arguments[n];return Tt(zo(r)?Ai(r):[r],mn(t,1))},Lr.cond=function(e){var t=null==e?0:e.length,r=aa();return e=t?xt(e,(function(e){if("function"!=typeof e[1])throw new Se(n);return[r(e[0]),e[1]]})):[],Kn((function(r){for(var n=-1;++n<t;){var i=e[n];if(mt(i[0],this,r))return mt(i[1],this,r)}}))},Lr.conforms=function(e){return function(e){var t=Os(e);return function(r){return sn(r,e,t)}}(on(e,1))},Lr.constant=Qs,Lr.countBy=po,Lr.create=function(e,t){var r=jr(e);return null==t?r:tn(r,t)},Lr.curry=function e(t,n,i){var a=Vi(t,8,r,r,r,r,r,n=i?r:n);return a.placeholder=e.placeholder,a},Lr.curryRight=function e(t,n,i){var a=Vi(t,16,r,r,r,r,r,n=i?r:n);return a.placeholder=e.placeholder,a},Lr.debounce=Oo,Lr.defaults=ks,Lr.defaultsDeep=xs,Lr.defer=Ro,Lr.delay=Po,Lr.difference=La,Lr.differenceBy=ja,Lr.differenceWith=Da,Lr.drop=function(e,t,n){var i=null==e?0:e.length;return i?ei(e,(t=n||t===r?1:ps(t))<0?0:t,i):[]},Lr.dropRight=function(e,t,n){var i=null==e?0:e.length;return i?ei(e,0,(t=i-(t=n||t===r?1:ps(t)))<0?0:t):[]},Lr.dropRightWhile=function(e,t){return e&&e.length?li(e,aa(t,3),!0,!0):[]},Lr.dropWhile=function(e,t){return e&&e.length?li(e,aa(t,3),!0):[]},Lr.fill=function(e,t,n,i){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&ya(e,t,n)&&(n=0,i=a),function(e,t,n,i){var a=e.length;for((n=ps(n))<0&&(n=-n>a?0:a+n),(i=i===r||i>a?a:ps(i))<0&&(i+=a),i=n>i?0:ds(i);n<i;)e[n++]=t;return e}(e,t,n,i)):[]},Lr.filter=function(e,t){return(zo(e)?_t:hn)(e,aa(t,3))},Lr.flatMap=function(e,t){return mn(wo(e,t),1)},Lr.flatMapDeep=function(e,t){return mn(wo(e,t),u)},Lr.flatMapDepth=function(e,t,n){return n=n===r?1:ps(n),mn(wo(e,t),n)},Lr.flatten=za,Lr.flattenDeep=function(e){return null!=e&&e.length?mn(e,u):[]},Lr.flattenDepth=function(e,t){return null!=e&&e.length?mn(e,t=t===r?1:ps(t)):[]},Lr.flip=function(e){return Vi(e,512)},Lr.flow=Zs,Lr.flowRight=eu,Lr.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var i=e[t];n[i[0]]=i[1]}return n},Lr.functions=function(e){return null==e?[]:_n(e,Os(e))},Lr.functionsIn=function(e){return null==e?[]:_n(e,Rs(e))},Lr.groupBy=go,Lr.initial=function(e){return null!=e&&e.length?ei(e,0,-1):[]},Lr.intersection=Ga,Lr.intersectionBy=Ha,Lr.intersectionWith=Wa,Lr.invert=As,Lr.invertBy=Ss,Lr.invokeMap=bo,Lr.iteratee=ru,Lr.keyBy=_o,Lr.keys=Os,Lr.keysIn=Rs,Lr.map=wo,Lr.mapKeys=function(e,t){var r={};return t=aa(t,3),gn(e,(function(e,n,i){rn(r,t(e,n,i),e)})),r},Lr.mapValues=function(e,t){var r={};return t=aa(t,3),gn(e,(function(e,n,i){rn(r,n,t(e,n,i))})),r},Lr.matches=function(e){return Ln(on(e,1))},Lr.matchesProperty=function(e,t){return jn(e,on(t,1))},Lr.memoize=Io,Lr.merge=Ps,Lr.mergeWith=Is,Lr.method=nu,Lr.methodOf=iu,Lr.mixin=au,Lr.negate=No,Lr.nthArg=function(e){return e=ps(e),Kn((function(t){return Fn(t,e)}))},Lr.omit=Ns,Lr.omitBy=function(e,t){return Bs(e,No(aa(t)))},Lr.once=function(e){return Ao(2,e)},Lr.orderBy=function(e,t,n,i){return null==e?[]:(zo(t)||(t=null==t?[]:[t]),zo(n=i?r:n)||(n=null==n?[]:[n]),Un(e,t,n))},Lr.over=su,Lr.overArgs=$o,Lr.overEvery=uu,Lr.overSome=cu,Lr.partial=Bo,Lr.partialRight=Mo,Lr.partition=ko,Lr.pick=$s,Lr.pickBy=Bs,Lr.property=lu,Lr.propertyOf=function(e){return function(t){return null==e?r:wn(e,t)}},Lr.pull=Va,Lr.pullAll=Ja,Lr.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?qn(e,t,aa(r,2)):e},Lr.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?qn(e,t,r,n):e},Lr.pullAt=Ya,Lr.range=fu,Lr.rangeRight=pu,Lr.rearg=Lo,Lr.reject=function(e,t){return(zo(e)?_t:hn)(e,No(aa(t,3)))},Lr.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,i=[],a=e.length;for(t=aa(t,3);++n<a;){var o=e[n];t(o,n,e)&&(r.push(o),i.push(n))}return Gn(e,i),r},Lr.rest=function(e,t){if("function"!=typeof e)throw new Se(n);return Kn(e,t=t===r?t:ps(t))},Lr.reverse=Xa,Lr.sampleSize=function(e,t,n){return t=(n?ya(e,t,n):t===r)?1:ps(t),(zo(e)?Jr:Jn)(e,t)},Lr.set=function(e,t,r){return null==e?e:Yn(e,t,r)},Lr.setWith=function(e,t,n,i){return i="function"==typeof i?i:r,null==e?e:Yn(e,t,n,i)},Lr.shuffle=function(e){return(zo(e)?Yr:Zn)(e)},Lr.slice=function(e,t,n){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&ya(e,t,n)?(t=0,n=i):(t=null==t?0:ps(t),n=n===r?i:ps(n)),ei(e,t,n)):[]},Lr.sortBy=xo,Lr.sortedUniq=function(e){return e&&e.length?ii(e):[]},Lr.sortedUniqBy=function(e,t){return e&&e.length?ii(e,aa(t,2)):[]},Lr.split=function(e,t,n){return n&&"number"!=typeof n&&ya(e,t,n)&&(t=n=r),(n=n===r?f:n>>>0)?(e=ys(e))&&("string"==typeof t||null!=t&&!ns(t))&&!(t=oi(t))&&Yt(e)?gi(rr(e),0,n):e.split(t,n):[]},Lr.spread=function(e,t){if("function"!=typeof e)throw new Se(n);return t=null==t?0:mr(ps(t),0),Kn((function(r){var n=r[t],i=gi(r,0,t);return n&&Tt(i,n),mt(e,this,i)}))},Lr.tail=function(e){var t=null==e?0:e.length;return t?ei(e,1,t):[]},Lr.take=function(e,t,n){return e&&e.length?ei(e,0,(t=n||t===r?1:ps(t))<0?0:t):[]},Lr.takeRight=function(e,t,n){var i=null==e?0:e.length;return i?ei(e,(t=i-(t=n||t===r?1:ps(t)))<0?0:t,i):[]},Lr.takeRightWhile=function(e,t){return e&&e.length?li(e,aa(t,3),!1,!0):[]},Lr.takeWhile=function(e,t){return e&&e.length?li(e,aa(t,3)):[]},Lr.tap=function(e,t){return t(e),e},Lr.throttle=function(e,t,r){var i=!0,a=!0;if("function"!=typeof e)throw new Se(n);return Qo(r)&&(i="leading"in r?!!r.leading:i,a="trailing"in r?!!r.trailing:a),Oo(e,t,{leading:i,maxWait:t,trailing:a})},Lr.thru=lo,Lr.toArray=ls,Lr.toPairs=Ms,Lr.toPairsIn=Ls,Lr.toPath=function(e){return zo(e)?xt(e,$a):os(e)?[e]:Ai(Na(ys(e)))},Lr.toPlainObject=ms,Lr.transform=function(e,t,r){var n=zo(e),i=n||Wo(e)||ss(e);if(t=aa(t,4),null==r){var a=e&&e.constructor;r=i?n?new a:[]:Qo(e)&&Jo(a)?jr(Qe(e)):{}}return(i?vt:gn)(e,(function(e,n,i){return t(r,e,n,i)})),r},Lr.unary=function(e){return Eo(e,1)},Lr.union=Qa,Lr.unionBy=Za,Lr.unionWith=eo,Lr.uniq=function(e){return e&&e.length?si(e):[]},Lr.uniqBy=function(e,t){return e&&e.length?si(e,aa(t,2)):[]},Lr.uniqWith=function(e,t){return t="function"==typeof t?t:r,e&&e.length?si(e,r,t):[]},Lr.unset=function(e,t){return null==e||ui(e,t)},Lr.unzip=to,Lr.unzipWith=ro,Lr.update=function(e,t,r){return null==e?e:ci(e,t,mi(r))},Lr.updateWith=function(e,t,n,i){return i="function"==typeof i?i:r,null==e?e:ci(e,t,mi(n),i)},Lr.values=js,Lr.valuesIn=function(e){return null==e?[]:zt(e,Rs(e))},Lr.without=no,Lr.words=Js,Lr.wrap=function(e,t){return Bo(mi(t),e)},Lr.xor=io,Lr.xorBy=ao,Lr.xorWith=oo,Lr.zip=so,Lr.zipObject=function(e,t){return di(e||[],t||[],Qr)},Lr.zipObjectDeep=function(e,t){return di(e||[],t||[],Yn)},Lr.zipWith=uo,Lr.entries=Ms,Lr.entriesIn=Ls,Lr.extend=gs,Lr.extendWith=bs,au(Lr,Lr),Lr.add=yu,Lr.attempt=Ys,Lr.camelCase=Ds,Lr.capitalize=Fs,Lr.ceil=vu,Lr.clamp=function(e,t,n){return n===r&&(n=t,t=r),n!==r&&(n=(n=hs(n))==n?n:0),t!==r&&(t=(t=hs(t))==t?t:0),an(hs(e),t,n)},Lr.clone=function(e){return on(e,4)},Lr.cloneDeep=function(e){return on(e,5)},Lr.cloneDeepWith=function(e,t){return on(e,5,t="function"==typeof t?t:r)},Lr.cloneWith=function(e,t){return on(e,4,t="function"==typeof t?t:r)},Lr.conformsTo=function(e,t){return null==t||sn(e,t,Os(t))},Lr.deburr=Us,Lr.defaultTo=function(e,t){return null==e||e!=e?t:e},Lr.divide=gu,Lr.endsWith=function(e,t,n){e=ys(e),t=oi(t);var i=e.length,a=n=n===r?i:an(ps(n),0,i);return(n-=t.length)>=0&&e.slice(n,a)==t},Lr.eq=jo,Lr.escape=function(e){return(e=ys(e))&&W.test(e)?e.replace(G,Vt):e},Lr.escapeRegExp=function(e){return(e=ys(e))&&ee.test(e)?e.replace(Z,"\\$&"):e},Lr.every=function(e,t,n){var i=zo(e)?bt:pn;return n&&ya(e,t,n)&&(t=r),i(e,aa(t,3))},Lr.find=ho,Lr.findIndex=Fa,Lr.findKey=function(e,t){return Ot(e,aa(t,3),gn)},Lr.findLast=mo,Lr.findLastIndex=Ua,Lr.findLastKey=function(e,t){return Ot(e,aa(t,3),bn)},Lr.floor=bu,Lr.forEach=yo,Lr.forEachRight=vo,Lr.forIn=function(e,t){return null==e?e:yn(e,aa(t,3),Rs)},Lr.forInRight=function(e,t){return null==e?e:vn(e,aa(t,3),Rs)},Lr.forOwn=function(e,t){return e&&gn(e,aa(t,3))},Lr.forOwnRight=function(e,t){return e&&bn(e,aa(t,3))},Lr.get=Ts,Lr.gt=Do,Lr.gte=Fo,Lr.has=function(e,t){return null!=e&&pa(e,t,En)},Lr.hasIn=Es,Lr.head=qa,Lr.identity=tu,Lr.includes=function(e,t,r,n){e=Go(e)?e:js(e),r=r&&!n?ps(r):0;var i=e.length;return r<0&&(r=mr(i+r,0)),as(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&Pt(e,t,r)>-1},Lr.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:ps(r);return i<0&&(i=mr(n+i,0)),Pt(e,t,i)},Lr.inRange=function(e,t,n){return t=fs(t),n===r?(n=t,t=0):n=fs(n),function(e,t,r){return e>=yr(t,r)&&e<mr(t,r)}(e=hs(e),t,n)},Lr.invoke=Cs,Lr.isArguments=Uo,Lr.isArray=zo,Lr.isArrayBuffer=qo,Lr.isArrayLike=Go,Lr.isArrayLikeObject=Ho,Lr.isBoolean=function(e){return!0===e||!1===e||Zo(e)&&xn(e)==m},Lr.isBuffer=Wo,Lr.isDate=Ko,Lr.isElement=function(e){return Zo(e)&&1===e.nodeType&&!rs(e)},Lr.isEmpty=function(e){if(null==e)return!0;if(Go(e)&&(zo(e)||"string"==typeof e||"function"==typeof e.splice||Wo(e)||ss(e)||Uo(e)))return!e.length;var t=fa(e);if(t==_||t==E)return!e.size;if(_a(e))return!$n(e).length;for(var r in e)if(Ne.call(e,r))return!1;return!0},Lr.isEqual=function(e,t){return Rn(e,t)},Lr.isEqualWith=function(e,t,n){var i=(n="function"==typeof n?n:r)?n(e,t):r;return i===r?Rn(e,t,r,n):!!i},Lr.isError=Vo,Lr.isFinite=function(e){return"number"==typeof e&&pr(e)},Lr.isFunction=Jo,Lr.isInteger=Yo,Lr.isLength=Xo,Lr.isMap=es,Lr.isMatch=function(e,t){return e===t||Pn(e,t,sa(t))},Lr.isMatchWith=function(e,t,n){return n="function"==typeof n?n:r,Pn(e,t,sa(t),n)},Lr.isNaN=function(e){return ts(e)&&e!=+e},Lr.isNative=function(e){if(ba(e))throw new we("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return In(e)},Lr.isNil=function(e){return null==e},Lr.isNull=function(e){return null===e},Lr.isNumber=ts,Lr.isObject=Qo,Lr.isObjectLike=Zo,Lr.isPlainObject=rs,Lr.isRegExp=ns,Lr.isSafeInteger=function(e){return Yo(e)&&e>=-9007199254740991&&e<=c},Lr.isSet=is,Lr.isString=as,Lr.isSymbol=os,Lr.isTypedArray=ss,Lr.isUndefined=function(e){return e===r},Lr.isWeakMap=function(e){return Zo(e)&&fa(e)==C},Lr.isWeakSet=function(e){return Zo(e)&&"[object WeakSet]"==xn(e)},Lr.join=function(e,t){return null==e?"":dr.call(e,t)},Lr.kebabCase=zs,Lr.last=Ka,Lr.lastIndexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var a=i;return n!==r&&(a=(a=ps(n))<0?mr(i+a,0):yr(a,i-1)),t==t?function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}(e,t,a):Rt(e,Nt,a,!0)},Lr.lowerCase=qs,Lr.lowerFirst=Gs,Lr.lt=us,Lr.lte=cs,Lr.max=function(e){return e&&e.length?dn(e,tu,Tn):r},Lr.maxBy=function(e,t){return e&&e.length?dn(e,aa(t,2),Tn):r},Lr.mean=function(e){return $t(e,tu)},Lr.meanBy=function(e,t){return $t(e,aa(t,2))},Lr.min=function(e){return e&&e.length?dn(e,tu,Bn):r},Lr.minBy=function(e,t){return e&&e.length?dn(e,aa(t,2),Bn):r},Lr.stubArray=du,Lr.stubFalse=hu,Lr.stubObject=function(){return{}},Lr.stubString=function(){return""},Lr.stubTrue=function(){return!0},Lr.multiply=_u,Lr.nth=function(e,t){return e&&e.length?Fn(e,ps(t)):r},Lr.noConflict=function(){return nt._===this&&(nt._=je),this},Lr.noop=ou,Lr.now=To,Lr.pad=function(e,t,r){e=ys(e);var n=(t=ps(t))?tr(e):0;if(!t||n>=t)return e;var i=(t-n)/2;return Ui(cr(i),r)+e+Ui(ur(i),r)},Lr.padEnd=function(e,t,r){e=ys(e);var n=(t=ps(t))?tr(e):0;return t&&n<t?e+Ui(t-n,r):e},Lr.padStart=function(e,t,r){e=ys(e);var n=(t=ps(t))?tr(e):0;return t&&n<t?Ui(t-n,r)+e:e},Lr.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),gr(ys(e).replace(te,""),t||0)},Lr.random=function(e,t,n){if(n&&"boolean"!=typeof n&&ya(e,t,n)&&(t=n=r),n===r&&("boolean"==typeof t?(n=t,t=r):"boolean"==typeof e&&(n=e,e=r)),e===r&&t===r?(e=0,t=1):(e=fs(e),t===r?(t=e,e=0):t=fs(t)),e>t){var i=e;e=t,t=i}if(n||e%1||t%1){var a=br();return yr(e+a*(t-e+Ze("1e-"+((a+"").length-1))),t)}return Hn(e,t)},Lr.reduce=function(e,t,r){var n=zo(e)?Et:Lt,i=arguments.length<3;return n(e,aa(t,4),r,i,ln)},Lr.reduceRight=function(e,t,r){var n=zo(e)?At:Lt,i=arguments.length<3;return n(e,aa(t,4),r,i,fn)},Lr.repeat=function(e,t,n){return t=(n?ya(e,t,n):t===r)?1:ps(t),Wn(ys(e),t)},Lr.replace=function(){var e=arguments,t=ys(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Lr.result=function(e,t,n){var i=-1,a=(t=yi(t,e)).length;for(a||(a=1,e=r);++i<a;){var o=null==e?r:e[$a(t[i])];o===r&&(i=a,o=n),e=Jo(o)?o.call(e):o}return e},Lr.round=wu,Lr.runInContext=e,Lr.sample=function(e){return(zo(e)?Vr:Vn)(e)},Lr.size=function(e){if(null==e)return 0;if(Go(e))return as(e)?tr(e):e.length;var t=fa(e);return t==_||t==E?e.size:$n(e).length},Lr.snakeCase=Hs,Lr.some=function(e,t,n){var i=zo(e)?St:ti;return n&&ya(e,t,n)&&(t=r),i(e,aa(t,3))},Lr.sortedIndex=function(e,t){return ri(e,t)},Lr.sortedIndexBy=function(e,t,r){return ni(e,t,aa(r,2))},Lr.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=ri(e,t);if(n<r&&jo(e[n],t))return n}return-1},Lr.sortedLastIndex=function(e,t){return ri(e,t,!0)},Lr.sortedLastIndexBy=function(e,t,r){return ni(e,t,aa(r,2),!0)},Lr.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var r=ri(e,t,!0)-1;if(jo(e[r],t))return r}return-1},Lr.startCase=Ws,Lr.startsWith=function(e,t,r){return e=ys(e),r=null==r?0:an(ps(r),0,e.length),t=oi(t),e.slice(r,r+t.length)==t},Lr.subtract=ku,Lr.sum=function(e){return e&&e.length?jt(e,tu):0},Lr.sumBy=function(e,t){return e&&e.length?jt(e,aa(t,2)):0},Lr.template=function(e,t,n){var i=Lr.templateSettings;n&&ya(e,t,n)&&(t=r),e=ys(e),t=bs({},t,i,Ji);var a,o,s=bs({},t.imports,i.imports,Ji),u=Os(s),c=zt(s,u),l=0,f=t.interpolate||ve,p="__p += '",d=Ee((t.escape||ve).source+"|"+f.source+"|"+(f===J?ce:ve).source+"|"+(t.evaluate||ve).source+"|$","g"),h="//# sourceURL="+(Ne.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Je+"]")+"\n";e.replace(d,(function(t,r,n,i,s,u){return n||(n=i),p+=e.slice(l,u).replace(ge,Jt),r&&(a=!0,p+="' +\n__e("+r+") +\n'"),s&&(o=!0,p+="';\n"+s+";\n__p += '"),n&&(p+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),l=u+t.length,t})),p+="';\n";var m=Ne.call(t,"variable")&&t.variable;if(m){if(se.test(m))throw new we("Invalid `variable` option passed into `_.template`")}else p="with (obj) {\n"+p+"\n}\n";p=(o?p.replace(F,""):p).replace(U,"$1").replace(z,"$1;"),p="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var y=Ys((function(){return ke(u,h+"return "+p).apply(r,c)}));if(y.source=p,Vo(y))throw y;return y},Lr.times=function(e,t){if((e=ps(e))<1||e>c)return[];var r=f,n=yr(e,f);t=aa(t),e-=f;for(var i=Dt(n,t);++r<e;)t(r);return i},Lr.toFinite=fs,Lr.toInteger=ps,Lr.toLength=ds,Lr.toLower=function(e){return ys(e).toLowerCase()},Lr.toNumber=hs,Lr.toSafeInteger=function(e){return e?an(ps(e),-9007199254740991,c):0===e?e:0},Lr.toString=ys,Lr.toUpper=function(e){return ys(e).toUpperCase()},Lr.trim=function(e,t,n){if((e=ys(e))&&(n||t===r))return Ft(e);if(!e||!(t=oi(t)))return e;var i=rr(e),a=rr(t);return gi(i,Gt(i,a),Ht(i,a)+1).join("")},Lr.trimEnd=function(e,t,n){if((e=ys(e))&&(n||t===r))return e.slice(0,nr(e)+1);if(!e||!(t=oi(t)))return e;var i=rr(e);return gi(i,0,Ht(i,rr(t))+1).join("")},Lr.trimStart=function(e,t,n){if((e=ys(e))&&(n||t===r))return e.replace(te,"");if(!e||!(t=oi(t)))return e;var i=rr(e);return gi(i,Gt(i,rr(t))).join("")},Lr.truncate=function(e,t){var n=30,i="...";if(Qo(t)){var a="separator"in t?t.separator:a;n="length"in t?ps(t.length):n,i="omission"in t?oi(t.omission):i}var o=(e=ys(e)).length;if(Yt(e)){var s=rr(e);o=s.length}if(n>=o)return e;var u=n-tr(i);if(u<1)return i;var c=s?gi(s,0,u).join(""):e.slice(0,u);if(a===r)return c+i;if(s&&(u+=c.length-u),ns(a)){if(e.slice(u).search(a)){var l,f=c;for(a.global||(a=Ee(a.source,ys(le.exec(a))+"g")),a.lastIndex=0;l=a.exec(f);)var p=l.index;c=c.slice(0,p===r?u:p)}}else if(e.indexOf(oi(a),u)!=u){var d=c.lastIndexOf(a);d>-1&&(c=c.slice(0,d))}return c+i},Lr.unescape=function(e){return(e=ys(e))&&H.test(e)?e.replace(q,ir):e},Lr.uniqueId=function(e){var t=++$e;return ys(e)+t},Lr.upperCase=Ks,Lr.upperFirst=Vs,Lr.each=yo,Lr.eachRight=vo,Lr.first=qa,au(Lr,(mu={},gn(Lr,(function(e,t){Ne.call(Lr.prototype,t)||(mu[t]=e)})),mu),{chain:!1}),Lr.VERSION="4.17.21",vt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Lr[e].placeholder=Lr})),vt(["drop","take"],(function(e,t){Ur.prototype[e]=function(n){n=n===r?1:mr(ps(n),0);var i=this.__filtered__&&!t?new Ur(this):this.clone();return i.__filtered__?i.__takeCount__=yr(n,i.__takeCount__):i.__views__.push({size:yr(n,f),type:e+(i.__dir__<0?"Right":"")}),i},Ur.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),vt(["filter","map","takeWhile"],(function(e,t){var r=t+1,n=1==r||3==r;Ur.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:aa(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}})),vt(["head","last"],(function(e,t){var r="take"+(t?"Right":"");Ur.prototype[e]=function(){return this[r](1).value()[0]}})),vt(["initial","tail"],(function(e,t){var r="drop"+(t?"":"Right");Ur.prototype[e]=function(){return this.__filtered__?new Ur(this):this[r](1)}})),Ur.prototype.compact=function(){return this.filter(tu)},Ur.prototype.find=function(e){return this.filter(e).head()},Ur.prototype.findLast=function(e){return this.reverse().find(e)},Ur.prototype.invokeMap=Kn((function(e,t){return"function"==typeof e?new Ur(this):this.map((function(r){return Cn(r,e,t)}))})),Ur.prototype.reject=function(e){return this.filter(No(aa(e)))},Ur.prototype.slice=function(e,t){e=ps(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Ur(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==r&&(n=(t=ps(t))<0?n.dropRight(-t):n.take(t-e)),n)},Ur.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Ur.prototype.toArray=function(){return this.take(f)},gn(Ur.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),a=Lr[i?"take"+("last"==t?"Right":""):t],o=i||/^find/.test(t);a&&(Lr.prototype[t]=function(){var t=this.__wrapped__,s=i?[1]:arguments,u=t instanceof Ur,c=s[0],l=u||zo(t),f=function(e){var t=a.apply(Lr,Tt([e],s));return i&&p?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(u=l=!1);var p=this.__chain__,d=!!this.__actions__.length,h=o&&!p,m=u&&!d;if(!o&&l){t=m?t:new Ur(this);var y=e.apply(t,s);return y.__actions__.push({func:lo,args:[f],thisArg:r}),new Fr(y,p)}return h&&m?e.apply(this,s):(y=this.thru(f),h?i?y.value()[0]:y.value():y)})})),vt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ce[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);Lr.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var i=this.value();return t.apply(zo(i)?i:[],e)}return this[r]((function(r){return t.apply(zo(r)?r:[],e)}))}})),gn(Ur.prototype,(function(e,t){var r=Lr[t];if(r){var n=r.name+"";Ne.call(Cr,n)||(Cr[n]=[]),Cr[n].push({name:t,func:r})}})),Cr[Li(r,2).name]=[{name:"wrapper",func:r}],Ur.prototype.clone=function(){var e=new Ur(this.__wrapped__);return e.__actions__=Ai(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ai(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ai(this.__views__),e},Ur.prototype.reverse=function(){if(this.__filtered__){var e=new Ur(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Ur.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=zo(e),n=t<0,i=r?e.length:0,a=function(e,t,r){for(var n=-1,i=r.length;++n<i;){var a=r[n],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=yr(t,e+o);break;case"takeRight":e=mr(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=a.start,s=a.end,u=s-o,c=n?s:o-1,l=this.__iteratees__,f=l.length,p=0,d=yr(u,this.__takeCount__);if(!r||!n&&i==u&&d==u)return fi(e,this.__actions__);var h=[];e:for(;u--&&p<d;){for(var m=-1,y=e[c+=t];++m<f;){var v=l[m],g=v.iteratee,b=v.type,_=g(y);if(2==b)y=_;else if(!_){if(1==b)continue e;break e}}h[p++]=y}return h},Lr.prototype.at=fo,Lr.prototype.chain=function(){return co(this)},Lr.prototype.commit=function(){return new Fr(this.value(),this.__chain__)},Lr.prototype.next=function(){this.__values__===r&&(this.__values__=ls(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?r:this.__values__[this.__index__++]}},Lr.prototype.plant=function(e){for(var t,n=this;n instanceof Dr;){var i=Ma(n);i.__index__=0,i.__values__=r,t?a.__wrapped__=i:t=i;var a=i;n=n.__wrapped__}return a.__wrapped__=e,t},Lr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Ur){var t=e;return this.__actions__.length&&(t=new Ur(this)),(t=t.reverse()).__actions__.push({func:lo,args:[Xa],thisArg:r}),new Fr(t,this.__chain__)}return this.thru(Xa)},Lr.prototype.toJSON=Lr.prototype.valueOf=Lr.prototype.value=function(){return fi(this.__wrapped__,this.__actions__)},Lr.prototype.first=Lr.prototype.head,st&&(Lr.prototype[st]=function(){return this}),Lr}();at?((at.exports=ar)._=ar,it._=ar):nt._=ar}).call(commonjsGlobal)}(lodash,lodash.exports);var Base$1=function(){function e(t){_classCallCheck(this,e),this.main=t}return _createClass(e,[{key:"generateAttributes",value:function(e){if(Array.isArray(e))return e.map((function(e){return(e.trait_type||e.name)&&e.value?{key:e.trait_type||e.name,value:e.value}:null})).filter((function(e){return e}))}}]),e}(),lib={},ethers={},require$$0$1=getAugmentedNamespace(lib_esm$c),require$$1$1=getAugmentedNamespace(lib_esm$o),require$$2$1=getAugmentedNamespace(lib_esm$f),require$$3$1=getAugmentedNamespace(lib_esm$5),require$$4$1=getAugmentedNamespace(lib_esm$j),require$$5$1=getAugmentedNamespace(lib_esm$2),require$$6$1=getAugmentedNamespace(lib_esm$9),utils={},require$$0=getAugmentedNamespace(lib_esm$g),require$$1=getAugmentedNamespace(lib_esm$k),require$$2=getAugmentedNamespace(lib_esm$4),require$$3=getAugmentedNamespace(lib_esm$b),require$$4=getAugmentedNamespace(lib_esm$p),require$$5=getAugmentedNamespace(lib_esm$h),require$$6=getAugmentedNamespace(lib_esm$8),require$$7=getAugmentedNamespace(lib_esm$6),require$$8$1=getAugmentedNamespace(lib_esm$m),require$$8=getAugmentedNamespace(lib_esm$q),require$$10=getAugmentedNamespace(lib_esm$a),require$$11=getAugmentedNamespace(lib_esm$1),require$$12=getAugmentedNamespace(lib_esm$7),require$$13=getAugmentedNamespace(lib_esm$n),require$$14=getAugmentedNamespace(lib_esm$l),require$$15=getAugmentedNamespace(lib_esm$e),require$$16=getAugmentedNamespace(lib_esm$i),require$$17=getAugmentedNamespace(lib_esm$d),require$$18=getAugmentedNamespace(lib_esm),require$$20=getAugmentedNamespace(lib_esm$3);!function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&t(n,e,i);return r(n,e),n};Object.defineProperty(e,"__esModule",{value:!0}),e.formatBytes32String=e.Utf8ErrorFuncs=e.toUtf8String=e.toUtf8CodePoints=e.toUtf8Bytes=e._toEscapedUtf8String=e.nameprep=e.hexDataSlice=e.hexDataLength=e.hexZeroPad=e.hexValue=e.hexStripZeros=e.hexConcat=e.isHexString=e.hexlify=e.base64=e.base58=e.TransactionDescription=e.LogDescription=e.Interface=e.SigningKey=e.HDNode=e.defaultPath=e.isBytesLike=e.isBytes=e.zeroPad=e.stripZeros=e.concat=e.arrayify=e.shallowCopy=e.resolveProperties=e.getStatic=e.defineReadOnly=e.deepCopy=e.checkProperties=e.poll=e.fetchJson=e._fetchData=e.RLP=e.Logger=e.checkResultErrors=e.FormatTypes=e.ParamType=e.FunctionFragment=e.EventFragment=e.ErrorFragment=e.ConstructorFragment=e.Fragment=e.defaultAbiCoder=e.AbiCoder=void 0,e.Indexed=e.Utf8ErrorReason=e.UnicodeNormalizationForm=e.SupportedAlgorithm=e.mnemonicToSeed=e.isValidMnemonic=e.entropyToMnemonic=e.mnemonicToEntropy=e.getAccountPath=e.verifyTypedData=e.verifyMessage=e.recoverPublicKey=e.computePublicKey=e.recoverAddress=e.computeAddress=e.getJsonWalletAddress=e.TransactionTypes=e.serializeTransaction=e.parseTransaction=e.accessListify=e.joinSignature=e.splitSignature=e.soliditySha256=e.solidityKeccak256=e.solidityPack=e.shuffled=e.randomBytes=e.sha512=e.sha256=e.ripemd160=e.keccak256=e.computeHmac=e.commify=e.parseUnits=e.formatUnits=e.parseEther=e.formatEther=e.isAddress=e.getCreate2Address=e.getContractAddress=e.getIcapAddress=e.getAddress=e._TypedDataEncoder=e.id=e.isValidName=e.namehash=e.hashMessage=e.dnsEncode=e.parseBytes32String=void 0;var i=require$$0;Object.defineProperty(e,"AbiCoder",{enumerable:!0,get:function(){return i.AbiCoder}}),Object.defineProperty(e,"checkResultErrors",{enumerable:!0,get:function(){return i.checkResultErrors}}),Object.defineProperty(e,"ConstructorFragment",{enumerable:!0,get:function(){return i.ConstructorFragment}}),Object.defineProperty(e,"defaultAbiCoder",{enumerable:!0,get:function(){return i.defaultAbiCoder}}),Object.defineProperty(e,"ErrorFragment",{enumerable:!0,get:function(){return i.ErrorFragment}}),Object.defineProperty(e,"EventFragment",{enumerable:!0,get:function(){return i.EventFragment}}),Object.defineProperty(e,"FormatTypes",{enumerable:!0,get:function(){return i.FormatTypes}}),Object.defineProperty(e,"Fragment",{enumerable:!0,get:function(){return i.Fragment}}),Object.defineProperty(e,"FunctionFragment",{enumerable:!0,get:function(){return i.FunctionFragment}}),Object.defineProperty(e,"Indexed",{enumerable:!0,get:function(){return i.Indexed}}),Object.defineProperty(e,"Interface",{enumerable:!0,get:function(){return i.Interface}}),Object.defineProperty(e,"LogDescription",{enumerable:!0,get:function(){return i.LogDescription}}),Object.defineProperty(e,"ParamType",{enumerable:!0,get:function(){return i.ParamType}}),Object.defineProperty(e,"TransactionDescription",{enumerable:!0,get:function(){return i.TransactionDescription}});var a=require$$1;Object.defineProperty(e,"getAddress",{enumerable:!0,get:function(){return a.getAddress}}),Object.defineProperty(e,"getCreate2Address",{enumerable:!0,get:function(){return a.getCreate2Address}}),Object.defineProperty(e,"getContractAddress",{enumerable:!0,get:function(){return a.getContractAddress}}),Object.defineProperty(e,"getIcapAddress",{enumerable:!0,get:function(){return a.getIcapAddress}}),Object.defineProperty(e,"isAddress",{enumerable:!0,get:function(){return a.isAddress}});var o=n(require$$2);e.base64=o;var s=require$$3;Object.defineProperty(e,"base58",{enumerable:!0,get:function(){return s.Base58}});var u=require$$4;Object.defineProperty(e,"arrayify",{enumerable:!0,get:function(){return u.arrayify}}),Object.defineProperty(e,"concat",{enumerable:!0,get:function(){return u.concat}}),Object.defineProperty(e,"hexConcat",{enumerable:!0,get:function(){return u.hexConcat}}),Object.defineProperty(e,"hexDataSlice",{enumerable:!0,get:function(){return u.hexDataSlice}}),Object.defineProperty(e,"hexDataLength",{enumerable:!0,get:function(){return u.hexDataLength}}),Object.defineProperty(e,"hexlify",{enumerable:!0,get:function(){return u.hexlify}}),Object.defineProperty(e,"hexStripZeros",{enumerable:!0,get:function(){return u.hexStripZeros}}),Object.defineProperty(e,"hexValue",{enumerable:!0,get:function(){return u.hexValue}}),Object.defineProperty(e,"hexZeroPad",{enumerable:!0,get:function(){return u.hexZeroPad}}),Object.defineProperty(e,"isBytes",{enumerable:!0,get:function(){return u.isBytes}}),Object.defineProperty(e,"isBytesLike",{enumerable:!0,get:function(){return u.isBytesLike}}),Object.defineProperty(e,"isHexString",{enumerable:!0,get:function(){return u.isHexString}}),Object.defineProperty(e,"joinSignature",{enumerable:!0,get:function(){return u.joinSignature}}),Object.defineProperty(e,"zeroPad",{enumerable:!0,get:function(){return u.zeroPad}}),Object.defineProperty(e,"splitSignature",{enumerable:!0,get:function(){return u.splitSignature}}),Object.defineProperty(e,"stripZeros",{enumerable:!0,get:function(){return u.stripZeros}});var c=require$$5;Object.defineProperty(e,"_TypedDataEncoder",{enumerable:!0,get:function(){return c._TypedDataEncoder}}),Object.defineProperty(e,"dnsEncode",{enumerable:!0,get:function(){return c.dnsEncode}}),Object.defineProperty(e,"hashMessage",{enumerable:!0,get:function(){return c.hashMessage}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return c.id}}),Object.defineProperty(e,"isValidName",{enumerable:!0,get:function(){return c.isValidName}}),Object.defineProperty(e,"namehash",{enumerable:!0,get:function(){return c.namehash}});var l=require$$6;Object.defineProperty(e,"defaultPath",{enumerable:!0,get:function(){return l.defaultPath}}),Object.defineProperty(e,"entropyToMnemonic",{enumerable:!0,get:function(){return l.entropyToMnemonic}}),Object.defineProperty(e,"getAccountPath",{enumerable:!0,get:function(){return l.getAccountPath}}),Object.defineProperty(e,"HDNode",{enumerable:!0,get:function(){return l.HDNode}}),Object.defineProperty(e,"isValidMnemonic",{enumerable:!0,get:function(){return l.isValidMnemonic}}),Object.defineProperty(e,"mnemonicToEntropy",{enumerable:!0,get:function(){return l.mnemonicToEntropy}}),Object.defineProperty(e,"mnemonicToSeed",{enumerable:!0,get:function(){return l.mnemonicToSeed}});var f=require$$7;Object.defineProperty(e,"getJsonWalletAddress",{enumerable:!0,get:function(){return f.getJsonWalletAddress}});var p=require$$8$1;Object.defineProperty(e,"keccak256",{enumerable:!0,get:function(){return p.keccak256}});var d=require$$8;Object.defineProperty(e,"Logger",{enumerable:!0,get:function(){return d.Logger}});var h=require$$10;Object.defineProperty(e,"computeHmac",{enumerable:!0,get:function(){return h.computeHmac}}),Object.defineProperty(e,"ripemd160",{enumerable:!0,get:function(){return h.ripemd160}}),Object.defineProperty(e,"sha256",{enumerable:!0,get:function(){return h.sha256}}),Object.defineProperty(e,"sha512",{enumerable:!0,get:function(){return h.sha512}});var m=require$$11;Object.defineProperty(e,"solidityKeccak256",{enumerable:!0,get:function(){return m.keccak256}}),Object.defineProperty(e,"solidityPack",{enumerable:!0,get:function(){return m.pack}}),Object.defineProperty(e,"soliditySha256",{enumerable:!0,get:function(){return m.sha256}});var y=require$$12;Object.defineProperty(e,"randomBytes",{enumerable:!0,get:function(){return y.randomBytes}}),Object.defineProperty(e,"shuffled",{enumerable:!0,get:function(){return y.shuffled}});var v=require$$13;Object.defineProperty(e,"checkProperties",{enumerable:!0,get:function(){return v.checkProperties}}),Object.defineProperty(e,"deepCopy",{enumerable:!0,get:function(){return v.deepCopy}}),Object.defineProperty(e,"defineReadOnly",{enumerable:!0,get:function(){return v.defineReadOnly}}),Object.defineProperty(e,"getStatic",{enumerable:!0,get:function(){return v.getStatic}}),Object.defineProperty(e,"resolveProperties",{enumerable:!0,get:function(){return v.resolveProperties}}),Object.defineProperty(e,"shallowCopy",{enumerable:!0,get:function(){return v.shallowCopy}});var g=n(require$$14);e.RLP=g;var b=require$$15;Object.defineProperty(e,"computePublicKey",{enumerable:!0,get:function(){return b.computePublicKey}}),Object.defineProperty(e,"recoverPublicKey",{enumerable:!0,get:function(){return b.recoverPublicKey}}),Object.defineProperty(e,"SigningKey",{enumerable:!0,get:function(){return b.SigningKey}});var _=require$$16;Object.defineProperty(e,"formatBytes32String",{enumerable:!0,get:function(){return _.formatBytes32String}}),Object.defineProperty(e,"nameprep",{enumerable:!0,get:function(){return _.nameprep}}),Object.defineProperty(e,"parseBytes32String",{enumerable:!0,get:function(){return _.parseBytes32String}}),Object.defineProperty(e,"_toEscapedUtf8String",{enumerable:!0,get:function(){return _._toEscapedUtf8String}}),Object.defineProperty(e,"toUtf8Bytes",{enumerable:!0,get:function(){return _.toUtf8Bytes}}),Object.defineProperty(e,"toUtf8CodePoints",{enumerable:!0,get:function(){return _.toUtf8CodePoints}}),Object.defineProperty(e,"toUtf8String",{enumerable:!0,get:function(){return _.toUtf8String}}),Object.defineProperty(e,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return _.Utf8ErrorFuncs}});var w=require$$17;Object.defineProperty(e,"accessListify",{enumerable:!0,get:function(){return w.accessListify}}),Object.defineProperty(e,"computeAddress",{enumerable:!0,get:function(){return w.computeAddress}}),Object.defineProperty(e,"parseTransaction",{enumerable:!0,get:function(){return w.parse}}),Object.defineProperty(e,"recoverAddress",{enumerable:!0,get:function(){return w.recoverAddress}}),Object.defineProperty(e,"serializeTransaction",{enumerable:!0,get:function(){return w.serialize}}),Object.defineProperty(e,"TransactionTypes",{enumerable:!0,get:function(){return w.TransactionTypes}});var k=require$$18;Object.defineProperty(e,"commify",{enumerable:!0,get:function(){return k.commify}}),Object.defineProperty(e,"formatEther",{enumerable:!0,get:function(){return k.formatEther}}),Object.defineProperty(e,"parseEther",{enumerable:!0,get:function(){return k.parseEther}}),Object.defineProperty(e,"formatUnits",{enumerable:!0,get:function(){return k.formatUnits}}),Object.defineProperty(e,"parseUnits",{enumerable:!0,get:function(){return k.parseUnits}});var x=require$$3$1;Object.defineProperty(e,"verifyMessage",{enumerable:!0,get:function(){return x.verifyMessage}}),Object.defineProperty(e,"verifyTypedData",{enumerable:!0,get:function(){return x.verifyTypedData}});var T=require$$20;Object.defineProperty(e,"_fetchData",{enumerable:!0,get:function(){return T._fetchData}}),Object.defineProperty(e,"fetchJson",{enumerable:!0,get:function(){return T.fetchJson}}),Object.defineProperty(e,"poll",{enumerable:!0,get:function(){return T.poll}});var E=require$$10;Object.defineProperty(e,"SupportedAlgorithm",{enumerable:!0,get:function(){return E.SupportedAlgorithm}});var A=require$$16;Object.defineProperty(e,"UnicodeNormalizationForm",{enumerable:!0,get:function(){return A.UnicodeNormalizationForm}}),Object.defineProperty(e,"Utf8ErrorReason",{enumerable:!0,get:function(){return A.Utf8ErrorReason}})}(utils);var _version={};Object.defineProperty(_version,"__esModule",{value:!0}),_version.version=void 0,_version.version="ethers/5.6.8",function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&t(n,e,i);return r(n,e),n};Object.defineProperty(e,"__esModule",{value:!0}),e.Wordlist=e.version=e.wordlists=e.utils=e.logger=e.errors=e.constants=e.FixedNumber=e.BigNumber=e.ContractFactory=e.Contract=e.BaseContract=e.providers=e.getDefaultProvider=e.VoidSigner=e.Wallet=e.Signer=void 0;var i=require$$0$1;Object.defineProperty(e,"BaseContract",{enumerable:!0,get:function(){return i.BaseContract}}),Object.defineProperty(e,"Contract",{enumerable:!0,get:function(){return i.Contract}}),Object.defineProperty(e,"ContractFactory",{enumerable:!0,get:function(){return i.ContractFactory}});var a=require$$1$1;Object.defineProperty(e,"BigNumber",{enumerable:!0,get:function(){return a.BigNumber}}),Object.defineProperty(e,"FixedNumber",{enumerable:!0,get:function(){return a.FixedNumber}});var o=require$$2$1;Object.defineProperty(e,"Signer",{enumerable:!0,get:function(){return o.Signer}}),Object.defineProperty(e,"VoidSigner",{enumerable:!0,get:function(){return o.VoidSigner}});var s=require$$3$1;Object.defineProperty(e,"Wallet",{enumerable:!0,get:function(){return s.Wallet}});var u=n(require$$4$1);e.constants=u;var c=n(require$$5$1);e.providers=c;var l=require$$5$1;Object.defineProperty(e,"getDefaultProvider",{enumerable:!0,get:function(){return l.getDefaultProvider}});var f=require$$6$1;Object.defineProperty(e,"Wordlist",{enumerable:!0,get:function(){return f.Wordlist}}),Object.defineProperty(e,"wordlists",{enumerable:!0,get:function(){return f.wordlists}});var p=n(utils);e.utils=p;var d=require$$8;Object.defineProperty(e,"errors",{enumerable:!0,get:function(){return d.ErrorCode}});var h=_version;Object.defineProperty(e,"version",{enumerable:!0,get:function(){return h.version}});var m=new d.Logger(h.version);e.logger=m}(ethers),function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&t(n,e,i);return r(n,e),n};Object.defineProperty(e,"__esModule",{value:!0}),e.Wordlist=e.version=e.wordlists=e.utils=e.logger=e.errors=e.constants=e.FixedNumber=e.BigNumber=e.ContractFactory=e.Contract=e.BaseContract=e.providers=e.getDefaultProvider=e.VoidSigner=e.Wallet=e.Signer=e.ethers=void 0;var i=n(ethers);e.ethers=i;try{var a=window;null==a._ethers&&(a._ethers=i)}catch(e){}var o=ethers;Object.defineProperty(e,"Signer",{enumerable:!0,get:function(){return o.Signer}}),Object.defineProperty(e,"Wallet",{enumerable:!0,get:function(){return o.Wallet}}),Object.defineProperty(e,"VoidSigner",{enumerable:!0,get:function(){return o.VoidSigner}}),Object.defineProperty(e,"getDefaultProvider",{enumerable:!0,get:function(){return o.getDefaultProvider}}),Object.defineProperty(e,"providers",{enumerable:!0,get:function(){return o.providers}}),Object.defineProperty(e,"BaseContract",{enumerable:!0,get:function(){return o.BaseContract}}),Object.defineProperty(e,"Contract",{enumerable:!0,get:function(){return o.Contract}}),Object.defineProperty(e,"ContractFactory",{enumerable:!0,get:function(){return o.ContractFactory}}),Object.defineProperty(e,"BigNumber",{enumerable:!0,get:function(){return o.BigNumber}}),Object.defineProperty(e,"FixedNumber",{enumerable:!0,get:function(){return o.FixedNumber}}),Object.defineProperty(e,"constants",{enumerable:!0,get:function(){return o.constants}}),Object.defineProperty(e,"errors",{enumerable:!0,get:function(){return o.errors}}),Object.defineProperty(e,"logger",{enumerable:!0,get:function(){return o.logger}}),Object.defineProperty(e,"utils",{enumerable:!0,get:function(){return o.utils}}),Object.defineProperty(e,"wordlists",{enumerable:!0,get:function(){return o.wordlists}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return o.version}}),Object.defineProperty(e,"Wordlist",{enumerable:!0,get:function(){return o.Wordlist}})}(lib);var EthereumNFTMoralis=function(e){_inherits(n,e);var t,r=_createSuper(n);function n(e){return _classCallCheck(this,n),r.call(this,e)}return _createClass(n,[{key:"get",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,s,u=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.main.options.moralisWeb3APIKey){e.next=2;break}return e.abrupt("return",{total:0,list:[]});case 2:return r=["eth","polygon","bsc","avalanche","fantom"],n={eth:"Ethereum",polygon:"Polygon",bsc:"Binance Smart Chain",avalanche:"Avalanche",fantom:"Fantom"},i=[],a=1,o=[],s=0,e.next=10,Promise.all(r.map(function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(r,c){var l,f,p,d,h,m,y,v,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v={},e.prev=1,e.next=4,axios.get("https://deep-index.moralis.io/api/v2/".concat(t.identity,"/nft"),{params:{chain:r,cursor:null==(l=t.cursor)?void 0:l[c],limit:t.limit},headers:{"x-api-key":u.main.options.moralisWeb3APIKey}});case 4:v=e.sent,e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:if(g=[],!(null==(f=v.data)?void 0:f.result)||!(null==(p=v.data)?void 0:p.result.length)){e.next=14;break}return e.next=13,Promise.all(null==(d=v.data)?void 0:d.result.map(function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(i){var o,s,c,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{i.metadata?o=JSON.parse(i.metadata):i.token_uri&&(setTimeout((function(){axios.get("https://deep-index.moralis.io/api/v2/nft/".concat(i.token_address,"/").concat(i.token_id,"/metadata/resync"),{params:{chain:r,flag:"metadata",mode:"sync"},headers:{"x-api-key":u.main.options.moralisWeb3APIKey}})}),1e4*a),a++)}catch(e){}return s={tags:["NFT"],owners:[lib.utils.getAddress(i.owner_of||t.identity)],name:null==o?void 0:o.name,description:null==o?void 0:o.description,source:"Ethereum NFT",metadata:{network:n[r],proof:"".concat(i.token_address,"-").concat(i.token_id),token_standard:"".concat(i.contract_type.slice(0,3),"-").concat(i.contract_type.slice(3)),token_id:i.token_id,token_symbol:i.symbol,collection_address:i.token_address,collection_name:i.name,block_number_minted:i.block_number_minted,block_number:i.block_number,providers:["Moralis"]}},(c=(null==o?void 0:o.image)||(null==o?void 0:o.image_url))&&(s.previews=[{address:c}]),(l=(null==o?void 0:o.animation_url)||(null==o?void 0:o.image)||(null==o?void 0:o.image_url))&&(s.items=[{address:l}]),(null==o?void 0:o.attributes)&&(f=u.generateAttributes(null==o?void 0:o.attributes))&&(s.attributes=f),((null==o?void 0:o.external_url)||(null==o?void 0:o.external_link))&&(s.related_urls||(s.related_urls=[]),s.related_urls.push((null==o?void 0:o.external_url)||(null==o?void 0:o.external_link))),e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 13:g=e.sent;case 14:return i=i.concat(g),g.length<(null==(h=v.data)?void 0:h.total)&&(o[c]=null==(m=v.data)?void 0:m.cursor),s+=(null==(y=v.data)?void 0:y.total)||g.length,e.abrupt("return",r);case 18:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,r){return e.apply(this,arguments)}}()));case 10:return i=i.sort((function(e,t){var r,n;return parseInt((null==(r=t.metadata)?void 0:r.block_number)||0)-parseInt((null==(n=e.metadata)?void 0:n.block_number)||0)})),e.abrupt("return",__spreadProps(__spreadValues({total:s},o.find((function(e){return e}))&&{cursor:o}),{list:i}));case 12:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),n}(Base$1),EthereumNFTOpensea=function(e){_inherits(n,e);var t,r=_createSuper(n);function n(e){return _classCallCheck(this,n),r.call(this,e)}return _createClass(n,[{key:"get",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,s=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,axios.get("https://api.opensea.io/api/v1/assets",{params:{format:"json",owner:t.identity,limit:t.limit||50,next:t.cursor},headers:{"x-api-key":this.main.options.openseaAPIKey||""}});case 2:return a=e.sent,o=null==(r=a.data)?void 0:r.assets.map((function(e){var r={tags:["NFT"],owners:[lib.utils.getAddress(t.identity)],name:e.name,description:e.description,source:"Ethereum NFT",metadata:{network:"Ethereum",proof:"".concat(e.asset_contract.address,"-").concat(e.token_id),token_standard:"".concat(e.asset_contract.schema_name.slice(0,3),"-").concat(e.asset_contract.schema_name.slice(3)),token_id:e.token_id,token_symbol:e.asset_contract.symbol,collection_address:e.asset_contract.address,collection_name:e.asset_contract.name,providers:["OpenSea"]}};if(e.image_original_url&&(r.previews=[{address:e.image_original_url}]),e.animation_original_url&&(r.items=[{address:e.animation_original_url}]),e.traits){var n=s.generateAttributes(e.traits);n&&(r.attributes=n)}return e.external_link&&(r.related_urls||(r.related_urls=[]),r.related_urls.push(e.external_link)),r})),e.abrupt("return",__spreadProps(__spreadValues({total:o.length},(null==(n=a.data)?void 0:n.next)&&{cursor:null==(i=a.data)?void 0:i.next}),{list:o}));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),n}(Base$1),EthereumNFTPOAP=function(e){_inherits(n,e);var t,r=_createSuper(n);function n(e){return _classCallCheck(this,n),r.call(this,e)}return _createClass(n,[{key:"get",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,axios.get("https://api.poap.tech/actions/scan/".concat(t.identity));case 2:return n=e.sent,i=null==(r=n.data)?void 0:r.map((function(e){return{tags:["NFT","POAP"],owners:[lib.utils.getAddress(e.owner)],name:e.event.name,description:e.event.description,items:[{address:e.event.image_url,mime_type:"image/png"}],attributes:[{key:"country",value:e.event.country},{key:"city",value:e.event.city},{key:"year",value:e.event.year},{key:"start_date",value:e.event.start_date},{key:"end_date",value:e.event.end_date},{key:"expiry_date",value:e.event.expiry_date},{key:"supply",value:e.event.supply},{key:"event_url",value:e.event.event_url}],source:"Ethereum NFT",metadata:{network:"Gnosis",proof:"0x22C1f6050E56d2876009903609a2cC3fEf83B415-".concat(e.tokenId),token_standard:"ERC-721",token_id:e.tokenId,token_symbol:"The Proof of Attendance Protocol",collection_address:"0x22C1f6050E56d2876009903609a2cC3fEf83B415",collection_name:"POAP",providers:["POAP"]}}})),e.abrupt("return",{total:i.length,list:i});case 5:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),n}(Base$1),SolanaNFTSolscan=function(e){_inherits(n,e);var t,r=_createSuper(n);function n(e){return _classCallCheck(this,n),r.call(this,e)}return _createClass(n,[{key:"get",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,axios.get("https://public-api.solscan.io/account/tokens",{params:{account:t.identity}});case 2:return r=e.sent.data,e.next=5,Promise.all(r.map(function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(r){var n,a,o,s,u,c,l,f,p,d,h,m,y,v,g,b,_;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v={},e.prev=1,e.next=4,axios.get("https://public-api.solscan.io/account/".concat(r.tokenAddress));case 4:v=e.sent.data,e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:if("nft"===v.tokenInfo.type){e.next=11;break}return e.abrupt("return",!1);case 11:return g={tags:["NFT"],owners:[t.identity],name:(null==(n=v.metadata)?void 0:n.data.name)||(null==(a=v.onchainMetadata)?void 0:a.data.name),description:null==(o=v.metadata)?void 0:o.data.description,source:"Solana NFT",metadata:{network:"Solana",proof:r.tokenAddress,token_standard:"Metaplex",token_id:r.tokenAddress,token_symbol:null==(s=v.onchainMetadata)?void 0:s.data.symbol,collection_name:null==(u=v.metadata)?void 0:u.data.collection.name,providers:["Solscan"]}},(null==(c=v.metadata)?void 0:c.data.image)&&(g.previews=[{address:null==(l=v.metadata)?void 0:l.data.image}]),(b=(null==(f=v.metadata)?void 0:f.data.animation_url)||(null==(p=v.metadata)?void 0:p.data.image))&&(g.items=[{address:b}]),(null==(d=v.metadata)?void 0:d.data.attributes)&&(_=i.generateAttributes(null==(h=v.metadata)?void 0:h.data.attributes))&&(g.attributes=_),(null==(m=v.metadata)?void 0:m.data.external_url)&&(g.related_urls||(g.related_urls=[]),g.related_urls.push(null==(y=v.metadata)?void 0:y.data.external_url)),e.abrupt("return",g);case 18:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()));case 5:return e.t0=function(e){return e},n=e.sent.filter(e.t0),e.abrupt("return",{total:n.length,list:n});case 8:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),n}(Base$1),SolanaNFTMoralis=function(e){_inherits(n,e);var t,r=_createSuper(n);function n(e){return _classCallCheck(this,n),r.call(this,e)}return _createClass(n,[{key:"get",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.main.options.moralisWeb3APIKey){e.next=2;break}return e.abrupt("return",{total:0,list:[]});case 2:return e.next=4,axios.get("https://solana-gateway.moralis.io/account/mainnet/".concat(t.identity,"/nft"),{headers:{"x-api-key":this.main.options.moralisWeb3APIKey}});case 4:return r=e.sent.data,e.next=7,Promise.all(r.map(function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(r){var n,a,o,s,u,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={},e.prev=1,e.next=4,axios.get("https://solana-gateway.moralis.io/nft/mainnet/".concat(r.mint,"/metadata"),{headers:{"x-api-key":i.main.options.moralisWeb3APIKey}});case 4:o=e.sent.data,e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:return s={},e.prev=10,e.next=13,axios.get(null==(n=o.metaplex)?void 0:n.metadataUri);case 13:s=e.sent.data,e.next=18;break;case 16:e.prev=16,e.t1=e.catch(10);case 18:return u={tags:["NFT"],owners:[t.identity],name:s.name||o.name,description:s.description,source:"Solana NFT",metadata:{network:"Solana",proof:r.mint,token_standard:o.standard,token_id:r.mint,token_symbol:s.symbol||o.symbol,collection_name:null==(a=s.collection)?void 0:a.name,providers:["Moralis"]}},s.image&&(u.previews=[{address:s.image}]),(c=s.animation_url||s.image)&&(u.items=[{address:c}]),s.attributes&&(l=i.generateAttributes(s.attributes))&&(u.attributes=l),s.external_url&&(u.related_urls||(u.related_urls=[]),u.related_urls.push(s.external_url)),e.abrupt("return",u);case 25:case"end":return e.stop()}}),e,null,[[1,7],[10,16]])})));return function(t){return e.apply(this,arguments)}}()));case 7:return n=e.sent,e.abrupt("return",{total:n.length,list:n});case 9:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),n}(Base$1),EthereumNFTAlchemy=function(e){_inherits(n,e);var t,r=_createSuper(n);function n(e){return _classCallCheck(this,n),r.call(this,e)}return _createClass(n,[{key:"get",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n,i,a,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],n={Ethereum:"https://eth-mainnet.alchemyapi.io/v2/",Polygon:"https://polygon-mainnet.g.alchemy.com/v2/"},i=[],a=0,e.next=6,Promise.all(Object.keys(n).map(function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(s,u){var c,l,f,p,d,h,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,axios.get("".concat(n[s]).concat(o.main.options.alchemyAPIKey,"/getNFTs/"),{params:{owner:t.identity,pageKey:null==(c=t.cursor)?void 0:c[u]}});case 2:return h=e.sent,m=null==(l=h.data)?void 0:l.ownedNfts.map((function(e){var r,n,i,a,u,c,l,f,p,d,h,m=BigNumber.from(e.id.tokenId).toString(),y={tags:["NFT"],owners:[lib.utils.getAddress(t.identity)],name:e.title,description:e.description,source:"Ethereum NFT",metadata:{network:s,proof:"".concat(e.contract.address,"-").concat(m),token_standard:"".concat(e.id.tokenMetadata.tokenType.slice(0,3),"-").concat(e.id.tokenMetadata.tokenType.slice(3)),token_id:m,collection_address:e.contract.address,providers:["Alchemy"]}},v=(null==(r=e.metadata)?void 0:r.image)||(null==(n=e.metadata)?void 0:n.image_url);v&&(y.previews=[{address:v}]);var g=(null==(i=e.metadata)?void 0:i.animation_url)||(null==(a=e.metadata)?void 0:a.image)||(null==(u=e.metadata)?void 0:u.image_url);if(g&&(y.items=[{address:g}]),null==(c=e.metadata)?void 0:c.attributes){var b=o.generateAttributes(null==(l=e.metadata)?void 0:l.attributes);b&&(y.attributes=b)}return((null==(f=e.metadata)?void 0:f.external_url)||(null==(p=e.metadata)?void 0:p.external_link))&&(y.related_urls||(y.related_urls=[]),y.related_urls.push((null==(d=e.metadata)?void 0:d.external_url)||(null==(h=e.metadata)?void 0:h.external_link))),y})),r=r.concat(m),m.length<(null==(f=h.data)?void 0:f.totalCount)&&(i[u]=null==(p=h.data)?void 0:p.pageKey),a+=(null==(d=h.data)?void 0:d.totalCount)||m.length,e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()));case 6:return e.abrupt("return",__spreadProps(__spreadValues({total:a},i.find((function(e){return e}))&&{cursor:i}),{list:r}));case 7:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),n}(Base$1),FlowNFTAlchemy=function(e){_inherits(n,e);var t,r=_createSuper(n);function n(e){return _classCallCheck(this,n),r.call(this,e)}return _createClass(n,[{key:"get",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n,i,a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,axios.get("https://flow-mainnet.g.alchemy.com/v2/".concat(this.main.options.alchemyAPIKey,"/getNFTs/"),{params:{owner:t.identity,limit:t.limit,offset:t.cursor}});case 2:return n=e.sent,i=null==(r=n.data)?void 0:r.nfts.map((function(e){var r,n=BigNumber.from(e.id.tokenId).toString(),i={tags:["NFT"],owners:[t.identity],name:e.title,description:e.description,source:"Flow NFT",metadata:{network:"Flow",proof:"".concat(e.contract.address,"-").concat(n),token_id:n,collection_address:e.contract.address,collection_name:e.contract.name,providers:["Alchemy"]}};if((null==(r=e.media)?void 0:r.length)&&(i.items=e.media.map((function(e){return{address:e.uri}}))),e.metadata.metadata){var o=a.generateAttributes(e.metadata.metadata);o&&(i.attributes=o)}return e.externalDomainViewUrl&&(i.related_urls||(i.related_urls=[]),i.related_urls.push(e.externalDomainViewUrl)),i})),e.abrupt("return",__spreadProps(__spreadValues({total:n.data.nftCount},(t.cursor||0)+i.length<n.data.nftCount&&{cursor:(t.cursor||0)+i.length}),{list:i}));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),n}(Base$1),GitcoinContribution$1=function(e){_inherits(n,e);var t,r=_createSuper(n);function n(e){return _classCallCheck(this,n),r.call(this,e)}return _createClass(n,[{key:"get",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,axios.get("https://pregod.rss3.dev/v0.4.0/account:".concat(t.identity,"@ethereum/notes"),{params:{item_sources:"Gitcoin Contribution"}});case 2:for(r=e.sent.data,n={total:r.total,list:r.list.map((function(e){var r={date_created:e.date_created,date_updated:e.date_updated,tags:["Donation"],owners:[lib.utils.getAddress(t.identity)],name:e.title,description:e.attachments.filter((function(e){return"description"===e.type}))[0].content,source:"Gitcoin Contribution",related_urls:e.related_urls,metadata:{network:"Standard"===e.metadata.approach?"Ethereum":e.metadata.approach,proof:e.metadata.destination,amounts:[{value:e.metadata.value_amount,symbol:e.metadata.value_symbol}],providers:["RSS3"]}},n=e.attachments.filter((function(e){return"logo"===e.type}))[0].address;return n&&(r.previews=[{address:n}]),r}))},i=n.list,a=lodash.exports.keyBy([i[0]],(function(e){var t;return null==(t=e.metadata)?void 0:t.proof})),o=1;o<i.length;o++)a=lodash.exports.mergeWith(a,lodash.exports.keyBy([i[o]],(function(e){var t;return null==(t=e.metadata)?void 0:t.proof})),(function(e,t){if(Array.isArray(e))return lodash.exports.uniqWith(e.concat(t),lodash.exports.isEqual)}));return s=lodash.exports.values(a),n.list=s,e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),n}(Base$1),Assets=function(){function e(t){_classCallCheck(this,e),this.main=t,this.map={"Ethereum NFT":{Alchemy:new EthereumNFTAlchemy(t),Moralis:new EthereumNFTMoralis(t),OpenSea:new EthereumNFTOpensea(t),POAP:new EthereumNFTPOAP(t)},"Solana NFT":{Solscan:new SolanaNFTSolscan(t),Moralis:new SolanaNFTMoralis(t)},"Flow NFT":{Alchemy:new FlowNFTAlchemy(t)},"Gitcoin Contribution":{RSS3:new GitcoinContribution$1(t)}}}var t;return _createClass(e,[{key:"generateRelatedUrls",value:function(e){var t;switch(e.related_urls||(e.related_urls=[]),null==(t=e.metadata)?void 0:t.network){case"Ethereum":e.metadata.token_id&&e.metadata.collection_address&&(e.related_urls=e.related_urls.concat(["https://etherscan.io/nft/".concat(e.metadata.collection_address,"/").concat(e.metadata.token_id),"https://opensea.io/assets/".concat(e.metadata.collection_address,"/").concat(e.metadata.token_id)]));break;case"Polygon":e.metadata.token_id&&e.metadata.collection_address&&(e.related_urls=e.related_urls.concat(["https://polygonscan.com/token/".concat(e.metadata.collection_address,"?a=").concat(e.metadata.token_id),"https://opensea.io/assets/matic/".concat(e.metadata.collection_address,"/").concat(e.metadata.token_id)]));break;case"Binance Smart Chain":e.metadata.token_id&&e.metadata.collection_address&&(e.related_urls=e.related_urls.concat(["https://bscscan.com/token/".concat(e.metadata.collection_address,"?a=").concat(e.metadata.token_id)]));break;case"Gnosis":e.metadata.token_id&&e.metadata.collection_address&&(e.related_urls=e.related_urls.concat(["https://blockscout.com/xdai/mainnet/token/0x22c1f6050e56d2876009903609a2cc3fef83b415/instance/".concat(e.metadata.token_id,"/token-transfers"),"https://app.poap.xyz/token/".concat(e.metadata.token_id)]));break;case"Solana":e.metadata.token_id&&(e.related_urls=e.related_urls.concat(["https://solscan.io/token/".concat(e.metadata.token_id)]))}}},{key:"get",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,s,u,c=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=Object.assign({providers:Object.keys(this.map[t.source])},t)).providers.length>1)){e.next=12;break}return e.next=4,Promise.all(t.providers.map(function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(r,n){var i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.map[t.source][r].get(Object.assign(t,{cursor:null==(i=t.cursor)?void 0:i[n]}));case 2:return a=e.sent,c.main.utils.removeEmpty(a.list),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()));case 4:for(n=e.sent,i=lodash.exports.keyBy(n[0].list,(function(e){var t;return null==(t=e.metadata)?void 0:t.proof})),a=1;a<n.length;a++)i=lodash.exports.mergeWith(i,lodash.exports.keyBy(n[a].list,(function(e){var t;return null==(t=e.metadata)?void 0:t.proof})),(function(e,t){if(Array.isArray(e))return lodash.exports.uniqWith(t.concat(e),lodash.exports.isEqual)}));o=lodash.exports.values(i),s=n.map((function(e){return e.cursor})),r=__spreadProps(__spreadValues({total:o.length},s.find((function(e){return e}))&&{cursor:s}),{list:o}),e.next=15;break;case 12:return e.next=14,this.map[t.source][t.providers[0]].get(t);case 14:r=e.sent;case 15:return u=["Gnosis","Binance Smart Chain","Polygon","Ethereum"],r.list=r.list.map((function(e){var t,r,n;return e.name||(e.name="".concat((null==(t=e.metadata)?void 0:t.collection_name)||(null==(r=e.metadata)?void 0:r.token_symbol)||""," #").concat((null==(n=e.metadata)?void 0:n.token_id)||"")),e.description||(e.description=e.name),e.previews&&e.previews.forEach((function(e){e.address&&(e.address=c.main.utils.replaceIPFS(e.address)),e.address&&!e.mime_type&&(e.mime_type=c.main.utils.getMimeType(e.address))})),e.items&&e.items.forEach((function(e){e.address&&(e.address=c.main.utils.replaceIPFS(e.address)),e.address&&!e.mime_type&&(e.mime_type=c.main.utils.getMimeType(e.address))})),e.items&&!e.previews&&(e.previews=e.items),e.previews&&!e.items&&(e.items=e.previews),c.generateRelatedUrls(e),e})).sort((function(e,t){var r,n,i,a;return u.indexOf((null==(r=t.metadata)?void 0:r.network)||"")-u.indexOf((null==(n=e.metadata)?void 0:n.network)||"")||parseInt(null==(i=t.metadata)?void 0:i.block_number)-parseInt(null==(a=e.metadata)?void 0:a.block_number)})),e.abrupt("return",r);case 18:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),Base=function e(t){_classCallCheck(this,e),this.main=t},MirrorEntry=function(e){_inherits(n,e);var t,r=_createSuper(n);function n(e){return _classCallCheck(this,n),r.call(this,e)}return _createClass(n,[{key:"get",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,axios.get("https://pregod.rss3.dev/v0.4.0/account:".concat(t.identity,"@ethereum/notes"),{params:{item_sources:"Mirror Entry",limit:t.limit,last_identifier:t.cursor}});case 2:return r=e.sent.data,n=__spreadProps(__spreadValues({total:r.total},new URL(r.identifier_next).searchParams.get("last_identifier")&&{cursor:new URL(r.identifier_next).searchParams.get("last_identifier")}),{list:r.list.map((function(e){var t;delete e.links,delete e.backlinks,e.id=e.identifier,delete e.identifier,e.authors=e.authors.map((function(e){var t,r;return{identity:null==(t=e.match(/account:(.*)@/))?void 0:t[1],platform:null==(r=e.match(/@(.*)$/))?void 0:r[1]}})),e.summary={content:e.summary,mime_type:"text/markdown"},e.attachments||(e.attachments=[]),e.attachments.forEach((function(e){return e.address&&(e.address=i.main.utils.replaceIPFS(e.address)),e.name=e.type,delete e.type,e}));var r=null==(t=e.attachments)?void 0:t.find((function(e){return"body"===e.name}));return r?(e.body=r,e.attachments=e.attachments.filter((function(e){return"body"!==e.name})),e.attachments.length||delete e.attachments,delete e.body.type):e.body=e.summary,e}))}),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),n}(Base),EthereumNFTActivity=function(e){_inherits(n,e);var t,r=_createSuper(n);function n(e){return _classCallCheck(this,n),r.call(this,e)}return _createClass(n,[{key:"get",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,axios.get("https://pregod.rss3.dev/v0.4.0/account:".concat(t.identity,"@ethereum/notes"),{params:{item_sources:"Ethereum NFT",limit:t.limit,last_identifier:t.cursor}});case 2:return r=e.sent.data,n=__spreadProps(__spreadValues({total:r.total},new URL(r.identifier_next).searchParams.get("last_identifier")&&{cursor:new URL(r.identifier_next).searchParams.get("last_identifier")}),{list:r.list.map((function(e){var r;delete e.links,delete e.backlinks,e.id=e.identifier,delete e.identifier,e.authors=e.authors.map((function(e){var t,r;return{identity:null==(t=e.match(/account:(.*)@/))?void 0:t[1],platform:null==(r=e.match(/@(.*)$/))?void 0:r[1]}})),e.title=e.metadata.from===t.identity?"Lost an NFT: ":"Got an NFT: "+(e.title||""),e.summary={content:e.summary,mime_type:"text/plain"},e.attachments||(e.attachments=[]),e.attachments.forEach((function(e){return e.address&&(e.address=i.main.utils.replaceIPFS(e.address)),e.name=e.type,delete e.type,e}));var n=null==(r=e.attachments)?void 0:r.find((function(e){return"body"===e.name}));return n?(e.body=n,e.attachments=e.attachments.filter((function(e){return"body"!==e.name})),e.attachments.length||delete e.attachments,delete e.body.type):e.body=e.summary,e}))}),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),n}(Base),GitcoinContribution=function(e){_inherits(n,e);var t,r=_createSuper(n);function n(e){return _classCallCheck(this,n),r.call(this,e)}return _createClass(n,[{key:"get",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,axios.get("https://pregod.rss3.dev/v0.4.0/account:".concat(t.identity,"@ethereum/notes"),{params:{item_sources:"Gitcoin Contribution",limit:t.limit,last_identifier:t.cursor}});case 2:return r=e.sent.data,n=__spreadProps(__spreadValues({total:r.total},r.identifier_next&&new URL(r.identifier_next).searchParams.get("last_identifier")&&{cursor:new URL(r.identifier_next).searchParams.get("last_identifier")}),{list:r.list.map((function(e){var t;delete e.links,delete e.backlinks,e.id=e.identifier,delete e.identifier,e.authors=e.authors.map((function(e){var t,r;return{identity:null==(t=e.match(/account:(.*)@/))?void 0:t[1],platform:null==(r=e.match(/@(.*)$/))?void 0:r[1]}})),e.title="Contributed ".concat(e.metadata.value_amount).concat(e.metadata.value_symbol," to ")+(e.title||""),e.summary={content:e.summary,mime_type:"text/plain"},e.attachments||(e.attachments=[]),e.attachments.forEach((function(e){return e.address&&(e.address=i.main.utils.replaceIPFS(e.address)),e.name=e.type,delete e.type,e}));var r=null==(t=e.attachments)?void 0:t.find((function(e){return"description"===e.name}));return r?(e.body=r,e.attachments=e.attachments.filter((function(e){return"description"!==e.name})),e.attachments.length||delete e.attachments,delete e.body.type):e.body=e.summary,e}))}),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),n}(Base),CrossbellNote=function(e){_inherits(a,e);var t,r,n,i=_createSuper(a);function a(e){var t;return _classCallCheck(this,a),t=i.call(this,e),y.setIpfsGateway(t.main.options.ipfsGateway),t}return _createClass(a,[{key:"init",value:(n=_asyncToGenerator(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.switchToCrossbellMainnet(this.main.options.ethereumProvider);case 2:return this.contract=new E$1(this.main.options.ethereumProvider),e.next=5,this.contract.connect();case 5:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"get",value:(r=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,s,u,c,l,f=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.contract){e.next=3;break}return e.next=3,this.init();case 3:if(t=Object.assign({platform:"Ethereum"},t),n=this.contract.contract,a="",!t.identity){e.next=12;break}return e.next=9,this.main.utils.getCrossbellProfileId({identity:t.identity,platform:t.platform});case 9:if("0"!==(a=e.sent)){e.next=12;break}return e.abrupt("return",{total:0,list:[]});case 12:if(!(null==(r=t.filter)?void 0:r.url)){e.next=20;break}return o=n.filters.PostNote(null,null,this.contract.getLinkKeyForAnyUri(t.filter.url)),e.next=16,n.queryFilter(o);case 16:i=e.sent,a&&(i=i.filter((function(e){return e.args.profileId.toString()===a}))),e.next=28;break;case 20:if(!a){e.next=27;break}return s=n.filters.PostNote(BigNumber.from(a)),e.next=24,n.queryFilter(s);case 24:i=e.sent,e.next=28;break;case 27:throw new Error("Missing identity");case 28:return u=i.length,i=i.reverse(),t.cursor&&(i=i.slice(t.cursor)),t.limit&&(c=i.length>t.limit,i=i.slice(0,t.limit)),e.next=34,Promise.all(i.map(function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(r){var i,a,o,s,u,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.args.profileId.toString(),s=r.args.noteId.toString(),e.next=4,f.contract.getNote(o,s,"AnyUri");case 4:return u=e.sent.data,e.t0=Date,e.next=8,n.provider.getBlock(r.blockNumber);case 8:return e.t1=e.sent.timestamp,e.t2=1e3*e.t1,c=new e.t0(e.t2),(l=Object.assign({},u.metadata,{id:"".concat(o,"-").concat(s),date_created:c,date_updated:c,related_urls:[].concat(_toConsumableArray((null==(i=u.linkItem)?void 0:i.uri)&&[null==(a=u.linkItem)?void 0:a.uri]),_toConsumableArray(u.contentUri&&[f.main.utils.replaceIPFS(u.contentUri)]),["https://scan.crossbell.io/tx/".concat(r.transactionHash)]),authors:[t.identity],source:"Crossbell Note",metadata:{network:"Crossbell",proof:r.transactionHash,block_number:r.blockNumber}})).summary&&(l.summary={content:l.summary,mime_type:"text/markdown"}),l.content&&(l.summary={content:l.content,mime_type:"text/markdown"},delete l.content),l.attachments&&l.attachments.forEach((function(e){e.address&&(e.address=f.main.utils.replaceIPFS(e.address)),e.address&&!e.mime_type&&(e.mime_type=f.main.utils.getMimeType(e.address))})),e.abrupt("return",l);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 34:return l=e.sent,e.abrupt("return",__spreadProps(__spreadValues({total:u},c&&{cursor:(t.cursor||0)+t.limit}),{list:l}));case 36:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"set",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r){var n,i,a,o,s,u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object.assign({platform:"Ethereum",action:"add"},t),this.contract){e.next=4;break}return e.next=4,this.init();case 4:return e.next=6,this.main.utils.getCrossbellProfileId({identity:t.identity,platform:t.platform});case 6:if("0"!==(n=e.sent)){e.next=9;break}return e.abrupt("return",{code:1,message:"Profile not found"});case 9:e.t0=t.action,e.next="add"===e.t0?12:"remove"===e.t0?37:(e.t0,44);break;case 12:if(i=new Web3Storage({token:this.main.options.web3StorageAPIToken}),r.body&&(r.content=r.body.content,delete r.body),r.summary&&(r.summary=r.summary.content),!r.related_urls){e.next=22;break}if(!(r.related_urls.length>1)){e.next=20;break}throw new Error("Only one related_url is allowed");case 20:a=r.related_urls[0],delete r.related_urls;case 22:return o=new Blob([JSON.stringify(r)],{type:"application/json"}),s=new File([o],"".concat(t.identity,".json")),e.next=26,i.put([s],{name:s.name,maxRetries:3,wrapWithDirectory:!1});case 26:if(u=e.sent,!a){e.next=33;break}return e.next=30,this.contract.postNoteForAnyUri(n,"ipfs://".concat(u),a);case 30:c=e.sent,e.next=36;break;case 33:return e.next=35,this.contract.postNote(n,"ipfs://".concat(u));case 35:c=e.sent;case 36:return e.abrupt("return",{code:0,message:"Success",data:c.data.noteId});case 37:if(r.id){e.next=41;break}return e.abrupt("return",{code:1,message:"Missing id"});case 41:return e.next=43,this.contract.deleteNote(n,r.id);case 43:return e.abrupt("return",{code:0,message:"Success"});case 44:throw new Error("Unsupported action: ".concat(t.action));case 45:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),a}(Base),Notes=function(){function e(t){_classCallCheck(this,e),this.map={"Mirror Entry":new MirrorEntry(t),"Ethereum NFT Activity":new EthereumNFTActivity(t),"Gitcoin Contribution":new GitcoinContribution(t),"Crossbell Note":new CrossbellNote(t)}}var t,r;return _createClass(e,[{key:"get",value:(r=_asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object.assign({limit:10},t),e.abrupt("return",this.map[t.source].get(t));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"set",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.map[t.source].set){e.next=4;break}return e.abrupt("return",this.map[t.source].set(t,r));case 4:return e.abrupt("return",{code:1,message:"Method not implemented"});case 5:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),e}();console.log("\n".concat(" %c Unidata v","0.4.4"," %c https://unidata.app ","\n"),"color: #fecc02; background: #030307; padding: 5px 0;","background: #fecc02; padding: 5px 0;");var Unidata=function e(t){_classCallCheck(this,e),this.options=Object.assign({},{ipfsGateway:"https://gateway.ipfs.io/ipfs/",alchemyAPIKey:"demo",web3StorageAPIToken:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJkaWQ6ZXRocjoweDAyMDIwODZmRjU5OUU0Y0YyMzM4MkUzNjg1Y0NmZUEyOGNBODBCOTAiLCJpc3MiOiJ3ZWIzLXN0b3JhZ2UiLCJpYXQiOjE2NTIzNjM1Njk3NDUsIm5hbWUiOiJVbmlkYXRhIn0.XmsAuXvbTj4BFhZlJK4xXfbd0ltVZJCEhqdYcW_kLOo",ethereumProvider:window.ethereum},t),this.utils=new Utils(this),this.profiles=new Profiles(this),this.links=new Links(this),this.assets=new Assets(this),this.notes=new Notes(this)}},368:function(e,t,r){var n,i,a;function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(){"use strict";var e=function(){return document.documentElement.clientWidth},t=function(){return document.documentElement.clientHeight},r=function(e,t){this.w=e,this.h=t},n=function(e,t){this.img=e,this.preservedTransform=e.style.transform,this.wrap=null,this.overlay=null,this.offset=t};n.prototype.forceRepaint=function(){this.img.offsetWidth},n.prototype.zoom=function(){var e=new r(this.img.naturalWidth,this.img.naturalHeight);this.wrap=document.createElement("div"),this.wrap.classList.add("zoom-img-wrap"),this.img.parentNode.insertBefore(this.wrap,this.img),this.wrap.appendChild(this.img),this.img.classList.add("zoom-img"),this.img.setAttribute("data-action","zoom-out"),this.overlay=document.createElement("div"),this.overlay.classList.add("zoom-overlay"),document.body.appendChild(this.overlay),this.forceRepaint();var t=this.calculateScale(e);this.forceRepaint(),this.animate(t),document.body.classList.add("zoom-overlay-open")},n.prototype.calculateScale=function(r){var n=r.w/this.img.width,i=e()-this.offset,a=t()-this.offset,o=r.w/r.h,s=i/a;return r.w<i&&r.h<a?n:o<s?a/r.h*n:i/r.w*n},n.prototype.animate=function(r){var n,i,a,o=(n=this.img.getBoundingClientRect(),i=document.documentElement,a=window,{top:n.top+a.pageYOffset-i.clientTop,left:n.left+a.pageXOffset-i.clientLeft}),s=window.pageYOffset,u=e()/2,c=s+t()/2,l="scale("+r+")",f="translate3d("+(u-(o.left+this.img.width/2))+"px, "+(c-(o.top+this.img.height/2))+"px, 0px)";this.img.style.transform=l,this.wrap.style.transform=f},n.prototype.dispose=function(){null!==this.wrap&&null!==this.wrap.parentNode&&(this.img.classList.remove("zoom-img"),this.img.setAttribute("data-action","zoom"),this.wrap.parentNode.insertBefore(this.img,this.wrap),this.wrap.parentNode.removeChild(this.wrap),document.body.removeChild(this.overlay),document.body.classList.remove("zoom-overlay-transitioning"))},n.prototype.close=function(){var e,t,r,n=this;document.body.classList.add("zoom-overlay-transitioning"),this.img.style.transform=this.preservedTransform,0===this.img.style.length&&this.img.removeAttribute("style"),this.wrap.style.transform="none",e=this.img,t="transitionend",r=function(){n.dispose(),document.body.classList.remove("zoom-overlay-open")},e.addEventListener(t,(function e(n){n.target.removeEventListener(t,e),r()}))};var i=null,a=-1,o=-1;function s(){-1===a&&(a=window.pageYOffset),Math.abs(a-window.pageYOffset)>=40&&p()}function u(e){27===e.keyCode&&p()}function c(e){var t=e.touches[0];null!==t&&(o=t.pageY,e.target.addEventListener("touchmove",l))}function l(e){var t=e.touches[0];null!==t&&Math.abs(t.pageY-o)>10&&(p(),e.target.removeEventListener("touchmove",l))}function f(){p()}function p(e){null!==i&&(e?i.dispose():i.close(),document.removeEventListener("scroll",s),document.removeEventListener("keyup",u),document.removeEventListener("touchstart",c),document.removeEventListener("click",f,!0),i=null)}function d(t){document.body.classList.contains("zoom-overlay-open")||(t.metaKey||t.ctrlKey?window.open(t.target.getAttribute("data-original")||t.target.src,"_blank"):t.target.width>=e()-80||(p(!0),(i=new n(t.target,80)).zoom(),document.addEventListener("scroll",s),document.addEventListener("keyup",u),document.addEventListener("touchstart",c),document.addEventListener("click",f,!0)))}return function(e){return e.setAttribute("data-action","zoom"),e.addEventListener("click",d),function(){return e.removeEventListener("click",d)}}},"object"===o(t)?e.exports=a():void 0===(i="function"==typeof(n=a)?n.call(t,r,t,e):n)||(e.exports=i)},209:()=>{$(document).ready((function(){$(document).trigger("bootstrap:before"),NexT.utils.isMobile()&&window.FastClick.attach(document.body),NexT.utils.lazyLoadPostsImages(),NexT.utils.registerESCKeyEvent(),$(".site-nav-toggle button").on("click",(function(){var e=$(".site-nav"),t="site-nav-on",r=e.hasClass(t),n=r?"slideUp":"slideDown",i=r?"removeClass":"addClass";e.stop()[n]("fast",(function(){e[i](t)}))})),CONFIG.fancybox&&NexT.utils.wrapImageWithFancyBox(),CONFIG.tabs&&NexT.utils.registerTabsTag(),NexT.utils.embeddedVideoTransformer(),NexT.motion.integrator.add(NexT.motion.middleWares.logo).add(NexT.motion.middleWares.menu).add(NexT.motion.middleWares.postList).add(NexT.motion.middleWares.sidebar),$(document).trigger("motion:before"),CONFIG.motion.enable&&NexT.motion.integrator.bootstrap(),$(document).trigger("bootstrap:after")}))},9712:()=>{for(var e=document.getElementsByClassName("post-body"),t=0;t<e.length;t++)e[t].addEventListener("copy",(function(e){window.getSelection().toString()&&window.getSelection().toString().length>42&&(r(e),notie("商业转载请联系作者获得授权，非商业转载请注明出处，谢谢合作。",{type:"info",autoHide:!0}))}));function r(e){var t=e.clipboardData||window.clipboardData;if(t){e.preventDefault();var r="著作权归作者所有。<br>商业转载请联系作者获得授权，非商业转载请注明出处。<br>作者："+CONFIG.site.author+"<br>链接："+window.location.href+"<br>来源："+CONFIG.site.title+"<br><br>"+window.getSelection().toString(),n="著作权归作者所有。\n商业转载请联系作者获得授权，非商业转载请注明出处。\n作者："+CONFIG.site.author+"\n链接："+window.location.href+"\n来源："+CONFIG.site.title+"\n\n"+window.getSelection().toString();t.setData("text/html",r),t.setData("text/plain",n)}}},1010:()=>{function e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function t(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}var a=function(){function n(i){var a=i.origin,o=i.speed,s=i.color,u=i.angle,c=i.context;r(this,n),this.origin=a,this.position=function(r){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?e(Object(i),!0).forEach((function(e){t(r,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))}))}return r}({},this.origin),this.color=s,this.speed=o,this.angle=u,this.context=c,this.renderCount=0}return i(n,[{key:"draw",value:function(){this.context.fillStyle=this.color,this.context.beginPath(),this.context.arc(this.position.x,this.position.y,2,0,2*Math.PI),this.context.fill()}},{key:"move",value:function(){this.position.x=Math.sin(this.angle)*this.speed+this.position.x,this.position.y=Math.cos(this.angle)*this.speed+this.position.y+.3*this.renderCount,this.renderCount++}}]),n}(),o=function(){function e(t){var n=t.origin,i=t.context,a=t.circleCount,o=void 0===a?10:a,s=t.area;r(this,e),this.origin=n,this.context=i,this.circleCount=o,this.area=s,this.stop=!1,this.circles=[]}return i(e,[{key:"randomArray",value:function(e){var t=e.length;return e[Math.floor(t*Math.random())]}},{key:"randomColor",value:function(){var e=["8","9","A","B","C","D","E","F"];return"#"+this.randomArray(e)+this.randomArray(e)+this.randomArray(e)+this.randomArray(e)+this.randomArray(e)+this.randomArray(e)}},{key:"randomRange",value:function(e,t){return(t-e)*Math.random()+e}},{key:"init",value:function(){for(var e=0;e<this.circleCount;e++){var t=new a({context:this.context,origin:this.origin,color:this.randomColor(),angle:this.randomRange(Math.PI-1,Math.PI+1),speed:this.randomRange(1,6)});this.circles.push(t)}}},{key:"move",value:function(){var e=this;this.circles.forEach((function(t,r){if(t.position.x>e.area.width||t.position.y>e.area.height)return e.circles.splice(r,1);t.move()})),0==this.circles.length&&(this.stop=!0)}},{key:"draw",value:function(){this.circles.forEach((function(e){return e.draw()}))}}]),e}();(new(function(){function e(){r(this,e),this.computerCanvas=document.createElement("canvas"),this.renderCanvas=document.createElement("canvas"),this.computerContext=this.computerCanvas.getContext("2d"),this.renderContext=this.renderCanvas.getContext("2d"),this.globalWidth=window.innerWidth,this.globalHeight=window.innerHeight,this.booms=[],this.running=!1}return i(e,[{key:"handleMouseDown",value:function(e){var t=new o({origin:{x:e.clientX,y:e.clientY},context:this.computerContext,area:{width:this.globalWidth,height:this.globalHeight}});t.init(),this.booms.push(t),this.running||this.run()}},{key:"handlePageHide",value:function(){this.booms=[],this.running=!1}},{key:"init",value:function(){var e=this.renderCanvas.style;e.position="fixed",e.top=e.left=0,e.zIndex="999999999999999999999999999999999999999999",e.pointerEvents="none",e.width=this.renderCanvas.width=this.computerCanvas.width=this.globalWidth,e.height=this.renderCanvas.height=this.computerCanvas.height=this.globalHeight,document.body.append(this.renderCanvas),window.addEventListener("mousedown",this.handleMouseDown.bind(this)),window.addEventListener("pagehide",this.handlePageHide.bind(this))}},{key:"run",value:function(){var e=this;if(this.running=!0,0==this.booms.length)return this.running=!1;requestAnimationFrame(this.run.bind(this)),this.computerContext.clearRect(0,0,this.globalWidth,this.globalHeight),this.renderContext.clearRect(0,0,this.globalWidth,this.globalHeight),this.booms.forEach((function(t,r){if(t.stop)return e.booms.splice(r,1);t.move(),t.draw()})),this.renderContext.drawImage(this.computerCanvas,0,0,this.globalWidth,this.globalHeight)}}]),e}())).init()},639:()=>{if(document.getElementById("evanyou")){var e,t=function(){for(a.clearRect(0,0,s,u),e=[{x:0,y:.7*u+c},{x:0,y:.7*u-c}];e[1].x<s+c;)r(e[0],e[1])},r=function(t,r){a.beginPath(),a.moveTo(t.x,t.y),a.lineTo(r.x,r.y);var i=r.x+(2*h()-.25)*c,o=n(r.y);a.lineTo(i,o),a.closePath(),f-=p/-50,a.fillStyle="#"+(127*d(f)+128<<16|127*d(f+p/3)+128<<8|127*d(f+p/3*2)+128).toString(16),a.fill(),e[0]=e[1],e[1]={x:i,y:o}},n=function e(t){var r=t+(2*h()-1.1)*c;return r>u||r<0?e(t):r},i=document.getElementById("evanyou"),a=i.getContext("2d"),o=window.devicePixelRatio||1,s=window.innerWidth,u=window.innerHeight,c=90,l=Math,f=0,p=2*l.PI,d=l.cos,h=l.random;i.width=s*o,i.height=u*o,a.scale(o,o),a.globalAlpha=.6,document.onclick=t,document.ontouchstart=t,t()}},6665:(e,t,r)=>{var n;window.CONFIG.leancloud.enable&&((n=r(8073)).init({appId:window.CONFIG.leancloud.appID,appKey:window.CONFIG.leancloud.appKey,serverURLs:"https://hrddibvw.api.lncldglobal.com"}),window.AV=n),e.exports=function(){window.CONFIG.leancloud.enable&&$((function(){var e=n.Object.extend("Counter");if(1==$(".leancloud_visitors").length?function(e){var t=$(".leancloud_visitors"),r=t.attr("id").trim(),i=t.attr("data-flag-title").trim(),a=new n.Query(e);a.equalTo("url",r),a.find().then((function(t){if(t.length>0){var a=t[0];a.save(null,{fetchWhenSave:!0}),a.increment("time"),a.save().then((function(e){$(document.getElementById(r)).find(".leancloud-visitors-count").text(e.get("time"))})).then((function(e,t){t&&console.log("Failed to save Visitor num, with error message: "+t.message)}))}else{var o=new e,s=new n.ACL;s.setPublicReadAccess(!0),s.setPublicWriteAccess(!0),o.setACL(s),o.set("title",i),o.set("url",r),o.set("time",1),o.save().then((function(e){$(document.getElementById(r)).find(".leancloud-visitors-count").text(e.get("time"))})).then((function(e,t){console.log("Failed to create")}))}}))}(e):$(".post-title-link").length>1&&function(e){var t=new n.Query(e),r=[],i=$(".leancloud_visitors");i.each((function(){r.push($(this).attr("id").trim())})),t.containedIn("url",r),t.find().then((function(e){var t=".leancloud-visitors-count";if(0!==e.length){for(var n=0;n<e.length;n++){var a=e[n],o=a.get("url"),s=a.get("time"),u=document.getElementById(o);$(u).find(t).text()||$(u).find(t).text(s)}for(n=0;n<r.length;n++){o=r[n],u=document.getElementById(o);var c=$(u).find(t);""==c.text()&&c.text(0)}}else i.find(t).text(0)}))}(e),$(".views-top-wrap").length){var t=!1;$(".views-top-wrap").on("toggle",(function(r){!t&&$(".views-top-wrap")[0].open&&(function(e){var t=new n.Query(e);t.descending("time"),t.limit(5),t.find().then((function(e){var t="";e.forEach((function(e){t+='<li><a href="'.concat(e.attributes.url,'"><span class="views-top-title">').concat(e.attributes.title,'</span><span class="views-top-time">').concat(e.attributes.time,"次看爆</span></a></li>")})),$(".views-top").html(t)}),(function(e){}))}(e),t=!0)}))}}))}},1071:()=>{navigator.userAgent.match(/mobile/i)?$(".menu-item").click((function(){var e=$(this).find(".submenu");e.length&&(e.height()?e.css({height:""}):e.css({height:e[0].scrollHeight}))})):$(".menu-item").hover((function(){var e=$(this).find(".submenu");e.length&&e.css({height:e[0].scrollHeight})}),(function(){var e=$(this).find(".submenu");e.length&&e.css({height:""})}))},7980:()=>{$(document).ready((function(){NexT.motion={};var e={lines:[],push:function(e){this.lines.push(e)},init:function(){this.lines.forEach((function(e){e.init()}))},arrow:function(){this.lines.forEach((function(e){e.arrow()}))},close:function(){this.lines.forEach((function(e){e.close()}))}};function t(e){this.el=$(e.el),this.status=$.extend({},{init:{width:"100%",opacity:1,left:0,rotateZ:0,top:0}},e.status)}t.prototype.init=function(){this.transform("init")},t.prototype.arrow=function(){this.transform("arrow")},t.prototype.close=function(){this.transform("close")},t.prototype.transform=function(e){this.el.velocity("stop").velocity(this.status[e])};var r=new t({el:".sidebar-toggle-line-first",status:{arrow:{width:"50%",rotateZ:"-45deg",top:"2px"},close:{width:"100%",rotateZ:"-45deg",top:"5px"}}}),n=new t({el:".sidebar-toggle-line-middle",status:{arrow:{width:"90%"},close:{opacity:0}}}),i=new t({el:".sidebar-toggle-line-last",status:{arrow:{width:"50%",rotateZ:"45deg",top:"-2px"},close:{width:"100%",rotateZ:"45deg",top:"-5px"}}});e.push(r),e.push(n),e.push(i);var a,o,s="320px";({toggleEl:$(".sidebar-toggle"),dimmerEl:$("#sidebar-dimmer"),sidebarEl:$(".sidebar"),isSidebarVisible:!1,init:function(){this.toggleEl.on("click",this.clickHandler.bind(this)),this.dimmerEl.on("click",this.clickHandler.bind(this)),this.toggleEl.on("mouseenter",this.mouseEnterHandler.bind(this)),this.toggleEl.on("mouseleave",this.mouseLeaveHandler.bind(this)),this.sidebarEl.on("touchstart",this.touchstartHandler.bind(this)),this.sidebarEl.on("touchend",this.touchendHandler.bind(this)),this.sidebarEl.on("touchmove",(function(e){e.preventDefault()})),$(document).on("sidebar.isShowing",(function(){NexT.utils.isDesktop()&&$("body").velocity("stop").velocity({paddingRight:s},200)})).on("sidebar.isHiding",(function(){}))},clickHandler:function(){this.isSidebarVisible?this.hideSidebar():this.showSidebar(),this.isSidebarVisible=!this.isSidebarVisible},mouseEnterHandler:function(){this.isSidebarVisible||e.arrow()},mouseLeaveHandler:function(){this.isSidebarVisible||e.init()},touchstartHandler:function(e){a=e.originalEvent.touches[0].clientX,o=e.originalEvent.touches[0].clientY},touchendHandler:function(e){var t=e.originalEvent.changedTouches[0].clientX,r=e.originalEvent.changedTouches[0].clientY;t-a>30&&Math.abs(r-o)<20&&this.clickHandler()},showSidebar:function(){var t=this;e.close(),this.sidebarEl.velocity("stop").velocity({width:s},{display:"block",duration:200,begin:function(){$(".sidebar .motion-element").velocity("transition.slideRightIn",{stagger:50,drag:!0,complete:function(){t.sidebarEl.trigger("sidebar.motion.complete")}})},complete:function(){t.sidebarEl.addClass("sidebar-active"),t.sidebarEl.trigger("sidebar.didShow")}}),this.sidebarEl.trigger("sidebar.isShowing")},hideSidebar:function(){NexT.utils.isDesktop()&&$("body").velocity("stop").velocity({paddingRight:0}),this.sidebarEl.find(".motion-element").velocity("stop").css("display","none"),this.sidebarEl.velocity("stop").velocity({width:0},{display:"none"}),e.init(),this.sidebarEl.removeClass("sidebar-active"),this.sidebarEl.trigger("sidebar.isHiding"),$(".post-toc-wrap")&&("block"===$(".site-overview-wrap").css("display")?$(".post-toc-wrap").removeClass("motion-element"):$(".post-toc-wrap").addClass("motion-element"))}}).init(),NexT.motion.integrator={queue:[],cursor:-1,add:function(e){return this.queue.push(e),this},next:function(){this.cursor++;var e=this.queue[this.cursor];$.isFunction(e)&&e(NexT.motion.integrator)},bootstrap:function(){this.next()}},NexT.motion.middleWares={logo:function(e){var t=[],r=$(".brand"),n=$(".site-title"),i=$(".site-subtitle"),a=$(".logo-line-before i"),o=$(".logo-line-after i");function s(e,t){return{e:$(e),p:{translateX:t},o:{duration:500,sequenceQueue:!1}}}function u(e){return(e=Array.isArray(e)?e:[e]).every((function(e){return $.isFunction(e.size)&&e.size()>0}))}r.size()>0&&t.push({e:r,p:{opacity:1},o:{duration:200}}),NexT.utils.isMist()&&u([a,o])&&t.push(s(a,"100%"),s(o,"-100%")),u(n)&&t.push({e:n,p:{opacity:1,top:180},o:{duration:200}}),u(i)&&t.push({e:i,p:{opacity:1,top:100},o:{duration:200}}),CONFIG.motion.async&&e.next(),t.length>0?(t[t.length-1].o.complete=function(){e.next()},$.Velocity.RunSequence(t)):e.next()},menu:function(e){CONFIG.motion.async&&e.next(),$(".menu-item").velocity("transition.slideDownIn",{display:null,duration:200,complete:function(){e.next()}})},postList:function(e){var t,r=$(".post-block, .pagination, .comments"),n=CONFIG.motion.transition.post_block,i=$(".post-header"),a=CONFIG.motion.transition.post_header,o=$(".post-body"),s=CONFIG.motion.transition.post_body,u=$(".collection-title, .archive-year"),c=CONFIG.motion.transition.coll_header,l=$(".sidebar-inner"),f=CONFIG.motion.transition.sidebar;r.size()>0?((t=window.postMotionOptions||{stagger:100,drag:!0}).complete=function(){CONFIG.motion.transition.sidebar&&(NexT.utils.isPisces()||NexT.utils.isGemini())&&l.css({transform:"initial"}),e.next()},CONFIG.motion.transition.post_block&&r.velocity("transition."+n,t),CONFIG.motion.transition.post_header&&i.velocity("transition."+a,t),CONFIG.motion.transition.post_body&&o.velocity("transition."+s,t),CONFIG.motion.transition.coll_header&&u.velocity("transition."+c,t),CONFIG.motion.transition.sidebar&&(NexT.utils.isPisces()||NexT.utils.isGemini())&&l.velocity("transition."+f,t)):e.next(),CONFIG.motion.async&&e.next()},sidebar:function(e){"always"===CONFIG.sidebar.display&&NexT.utils.displaySidebar(),e.next()}}}))},5939:(e,t,r)=>{var n=r(6439).Z,i=r(2867);e.exports=function(){if(!NexT.utils.isMobile()&&CONFIG.sidebar.nft){var e=document.querySelector(".sidebar-nft-body");e&&(window.chekNFTMimeType=function(e){console.log(e)},new n({moralisWeb3APIKey:"gqcVQSCpWGNlfs2nMM1xvW1pOmZhzHc058aNpEK8BKIp26Q39PJemBu5BJi6SZOD"}).assets.get({identity:CONFIG.sidebar.nft,source:"Ethereum NFT"}).then((function(t){for(var r="",n=0;n<t.list.length;n++){var a,o,s,u,c,l;if(!["0x0251af933d0ace03f817a37613bf5f0a437021e1","0x2953399124f0cbb46d2cbacd8a89cf0599974963","0x5bc9c90be23af74db084934c683d80f722e074d9","0x7ac04336b214ea81546685d2bf27222bc4ee02ea","0xad47d554e3a527d5cb4712b79eabba4f6152abcd","0x23a8c2ce858b2e66222567923641cb6417994caf","0x6470f8d1fb3c757e878a7ab8231cf45d0d752fa5","0x4de0881ca95106a3fa01007cd2e4fe773fc8ac99"].includes(null===(a=t.list[n])||void 0===a||null===(o=a.metadata)||void 0===o?void 0:o.collection_address)){var f=null===(s=t.list[n])||void 0===s||null===(u=s.previews)||void 0===u?void 0:u[(null===(c=t.list[n])||void 0===c||null===(l=c.previews)||void 0===l?void 0:l.length)-1];if(f){var p,d,h,m=null===(p=f.mime_type)||void 0===p?void 0:p.split("/")[0];h="video"===m?'<video src="'.concat(f.address,'" preload="metadata" loop muted crossorigin="anonymous"></video>'):"model"===m?'<model-viewer src="'.concat(f.address,'" ar ar-modes="webxr scene-viewer quick-look" seamless-poster shadow-intensity="1" camera-controls enable-pan crossorigin="anonymous"></model-viewer>'):"text"===m?'<iframe src="'.concat(f.address,'" frameborder="0"></iframe>'):'<img src="'.concat(f.address,'">'),null!==(d=t.list[n].related_urls)&&void 0!==d&&d.length&&"model"!==m?r+='\n                <a class="nft-item" target="_blank" href="'.concat(t.list[n].related_urls[t.list[n].related_urls.length-1],'">\n                  ').concat(h,"\n                </a>\n              "):r+='\n                <div class="nft-item">\n                  '.concat(h,"\n                </div>\n              ")}}}e.innerHTML=r,e.querySelectorAll(".nft-item img").forEach((function(e){e.addEventListener("error",(function(e){var t=e.path[0].parentElement,r=e.path[0].src;t.removeChild(e.path[0]);try{i({url:r,method:"HEAD"}).then((function(e){var n,i=null===(n=e.headers["content-type"])||void 0===n?void 0:n.split("/")[0];itemElement="video"===i?'<video src="'.concat(r,'" preload="metadata" loop muted crossorigin="anonymous"></video>'):"model"===i?'<model-viewer src="'.concat(r,'" ar ar-modes="webxr scene-viewer quick-look" seamless-poster shadow-intensity="1" camera-controls enable-pan crossorigin="anonymous"></model-viewer>'):"text"===i?'<iframe src="'.concat(r,'" frameborder="0"></iframe>'):'<img src="'.concat(item.address,'">'),t.innerHTML=itemElement}))}catch(e){t.innerHTML='<img src="'.concat(item.address,'">')}}))}))})))}}},2571:e=>{e.exports=function(){$(document).ready((function(){var e=$(".sidebar-inner");function t(){var t=$(".header-inner").height()+CONFIG.sidebar.offset;$("#sidebar").height()<$("#content").height()&&e.affix({offset:{top:t-2*CONFIG.sidebar.offset,bottom:540}})}t(),window.matchMedia("(min-width: 991px)").addListener((function(r){r.matches&&($(window).off(".affix"),e.removeData("bs.affix").removeClass("affix affix-top affix-bottom"),t())}))}))}},2019:(e,t,r)=>{r(3592);var n=r(2352);n.configure({showSpinner:!1,easing:"ease-out",speed:1e3}),$(document).pjax('a:not(.fancybox):not([target="_blank"])',"#main",{scrollTo:$(".main").position().top-60,fragment:"#main",timeout:5e3}),$(document).on("pjax:start",(function(){if(n.start(),$("html, body").animate({scrollTop:$(".main").position().top-60},500),window.dplayers){for(var e=0;e<window.dplayers.length;e++)window.dplayers[e].destroy();window.dplayers=[]}if(window.aplayers){for(var t=0;t<window.aplayers.length;t++)window.aplayers[t].destroy();window.aplayers=[]}})),$(document).on("pjax:end",(function(){n.done(),r(6732)(),r(6665)(),r(658)(),r(2571)(),r(8760)(),r(5939)(),window.originTitle=document.title,ga&&(ga("set","location",window.location.href),ga("send","pageview")),$(".site-overview, .post-toc").css("max-height",document.body.clientHeight-164)}))},6732:e=>{e.exports=function(){$(document).ready((function(){!function(){var e=".post-toc",t=$(e);function r(){$(".post-toc .active-current").removeClass(".active-current".substring(1))}t.on("activate.bs.scrollspy",(function(){var e=$(".post-toc .active").last();r(),e.addClass("active-current"),t.scrollTop(e.offset().top-t.offset().top+t.scrollTop()-t.height()/2)})).on("clear.bs.scrollspy",r),$("body").scrollspy({target:e})}()})),$(document).ready((function(){var e=$("html"),t=200,r=$.isFunction(e.velocity);$(".des-of-author-title").click((function(){$(".des-of-author-title.active").removeClass("active"),$(".des-of-author-des.active").removeClass("active");var e=$(this).data("index");$(this).addClass("active"),$('.des-of-author-des[data-index="'.concat(e,'"]')).addClass("active")})),$(".sidebar-nav li").on("click",(function(){var e=$(this),n="sidebar-nav-active",i="sidebar-panel-active";if(!e.hasClass(n)){var a=$(".sidebar-panel-active"),o=$("."+e.data("target"));r?a.velocity("transition.slideUpOut",t,(function(){o.velocity("stop").velocity("transition.slideDownIn",t).addClass(i)})):a.animate({opacity:0},t,(function(){a.hide(),o.stop().css({opacity:0,display:"block"}).animate({opacity:1},t,(function(){a.removeClass(i),o.addClass(i)}))})),e.siblings().removeClass(n),e.addClass(n)}})),$(".post-toc-content a").on("click",(function(t){t.preventDefault();var n=NexT.utils.escapeSelector(this.getAttribute("href")),i=$(n).offset().top;r?e.velocity("stop").velocity("scroll",{offset:i+"px",mobileHA:!1}):$("html, body").stop().animate({scrollTop:i},500)}));var n=$(".post-toc-content"),i="post"===CONFIG.sidebar.display||"always"===CONFIG.sidebar.display,a=n.length>0&&n.html().trim().length>0;i&&a&&(CONFIG.motion.enable?NexT.motion.middleWares.sidebar=function(){NexT.utils.displaySidebar()}:NexT.utils.displaySidebar())}))}},8068:()=>{if(!NexT.utils.isMobile()){$.scrollto=function(e,t){$(e).click((function(){return $(this).addClass("active").siblings().removeClass("active"),$("html, body").animate({scrollTop:$("body").offset().top},t),!1}))};var e=$(".back-to-top"),t=$(window).height()-980+"px";$(window).scroll((function(){$(window).scrollTop()>700&&"-900px"===e.css("top")?e.css("top",t):$(window).scrollTop()<=700&&"-900px"!==e.css("top")&&e.css("top","-900px")})),$.scrollto(".back-to-top",800)}},3142:()=>{function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}!function(t){"use strict";function r(e,n){this.$body=t(document.body),this.$scrollElement=t(e).is(document.body)?t(window):t(e),this.options=t.extend({},r.DEFAULTS,n),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each((function(){var i=t(this),a=i.data("bs.scrollspy"),o="object"==e(n)&&n;a||i.data("bs.scrollspy",a=new r(this,o)),"string"==typeof n&&a[n]()}))}r.VERSION="3.3.2",r.DEFAULTS={offset:10},r.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},r.prototype.refresh=function(){var e=this,r="offset",n=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(r="position",n=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map((function(){var e=t(this),i=e.data("target")||e.attr("href"),a=/^#./.test(i)&&t(NexT.utils.escapeSelector(i));return a&&a.length&&a.is(":visible")&&[[a[r]().top+n,i]]||null})).sort((function(e,t){return e[0]-t[0]})).each((function(){e.offsets.push(this[0]),e.targets.push(this[1])}))},r.prototype.process=function(){var e,r=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),a=this.offsets,o=this.targets,s=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),r>=i)return s!=(e=o[o.length-1])&&this.activate(e);if(s&&r<a[0])return t(this.selector).trigger("clear.bs.scrollspy"),this.activeTarget=null,this.clear();for(e=a.length;e--;)s!=o[e]&&r>=a[e]&&(!a[e+1]||r<=a[e+1])&&this.activate(o[e])},r.prototype.activate=function(e){this.activeTarget=e,this.clear();var r=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=t(r).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},r.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=r,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load.bs.scrollspy.data-api",(function(){t('[data-spy="scroll"]').each((function(){var e=t(this);n.call(e,e.data())}))}))}(jQuery)},1353:()=>{$(".search-form").submit((function(e){e.preventDefault(),window.open("https://www.google.com/search?&q=site%3A".concat(window.location.host,"+").concat(encodeURIComponent($('.search-form input[name="keyword"]').val())))}))},658:(e,t,r)=>{r(8969),e.exports=function(){$(".post-share").length&&$(".post-share").share({disabled:["tencent","douban","linkedin","diandian","facebook","google"],wechatQrcodeTitle:"微信扫一扫",wechatQrcodeHelper:"<p>微信扫一扫，右上角分享</p>",source:CONFIG.site.title})}},3437:()=>{!function e(){window.setTimeout((function(){e()}),1e3);var t=new Date(window.CONFIG.since),r=((new Date).getTime()-t.getTime())/864e5,n=Math.floor(r),i=24*(r-n),a=Math.floor(i),o=60*(i-a),s=Math.floor(60*(i-a)),u=Math.floor(60*(o-s));$("#since").html(n+"天"+a+"小时"+s+"分"+u+"秒")}()},6024:()=>{var e;window.CONFIG.favicon.visibilitychange&&(window.originTitle=document.title,document.addEventListener("visibilitychange",(function(){document.hidden?($('[rel="icon"]').attr("href",window.CONFIG.favicon.hidden),document.title=window.CONFIG.favicon.hide_text,clearTimeout(e)):($('[rel="icon"]').attr("href",window.CONFIG.favicon.narmal),document.title=window.CONFIG.favicon.show_text+window.originTitle,e=setTimeout((function(){document.title=window.originTitle}),2e3))})))},3346:(e,t,r)=>{var n=r(971),i=n.TweenLite,a=document.getElementById("animate"),o=document.getElementById("animate-stroke"),s=document.getElementById("guide"),u=s.getElementsByTagName("span"),c=a.getElementsByTagName("span"),l=o.getElementsByTagName("span"),f=u.length,p=function(e){setTimeout((function(){i.fromTo(c[e],.4,{opacity:0,y:40},{opacity:1,y:0,ease:n.Power3.easeOut}),i.fromTo(c[e],.4,{scale:0},{scale:1,ease:n.Back.easeOut}),i.fromTo(l[e],.4,{opacity:0,y:40},{opacity:1,y:0,ease:n.Power3.easeOut}),i.fromTo(l[e],.4,{scale:0},{scale:1,ease:n.Back.easeOut})}),200*e)},d=function(){for(var e=0;e<f;e++)p(e)},h=function(e,t){e.style.fontSize=t+"px",e.style.height=t+"px",e.style.lineHeight=t+"px"},m=function(){var e=window.innerWidth/8;e>100&&(e=100),h(a,e),h(s,e),h(o,e),function(){for(var e=0;e<f;e++){var t=u[e],r=c[e],n=l[e],i=t.getBoundingClientRect();r.style.left=i.left+"px",n.style.left=i.left+"px"}}()};document.fonts&&document.fonts.ready?document.fonts.ready.then((function(){m(),d(),window.addEventListener("resize",m)})):setTimeout((function(){m(),d(),window.addEventListener("resize",m)}),500)},4358:()=>{NexT.utils=NexT.$u={wrapImageWithFancyBox:function(){$(".content img").not("[hidden]").not(".no-fancybox").not(".group-picture img, .post-gallery img").not("#QR img").not(".post-share img").each((function(){var e=$(this),t=e.attr("title"),r=e.parent("a");if(r.size()<1){var n=e.attr("data-original")?this.getAttribute("data-original"):this.getAttribute("src");r=e.wrap('<a href="'+n+'"></a>').parent("a")}r.addClass("fancybox fancybox.image"),r.attr("rel","group"),t&&(r.append('<p class="image-caption">'+t+"</p>"),r.attr("title",t))})),$(".fancybox").fancybox({helpers:{overlay:{locked:!1}}})},lazyLoadPostsImages:function(){$("#posts").find("img").lazyload({effect:"fadeIn",threshold:0})},registerTabsTag:function(){var e=".tabs ul.nav-tabs ";$((function(){$(window).bind("hashchange",(function(){var t=location.hash;""!==t&&($(e+'li:has(a[href="'+t+'"])').addClass("active").siblings().removeClass("active"),$(t).addClass("active").siblings().removeClass("active"))})).trigger("hashchange")})),$(e+".tab").on("click",(function(e){if(e.preventDefault(),!$(this).hasClass("active")){$(this).addClass("active").siblings().removeClass("active");var t=$(this).find("a").attr("href");$(t).addClass("active").siblings().removeClass("active"),""!==location.hash&&history.pushState("",document.title,window.location.pathname+window.location.search)}}))},registerESCKeyEvent:function(){$(document).on("keyup",(function(e){27===e.which&&$(".search-popup").is(":visible")&&($(".search-popup").hide(),$(".search-popup-overlay").remove(),$("body").css("overflow",""))}))},embeddedVideoTransformer:function(){var e=$("iframe"),t=new RegExp(["www.youtube.com","player.vimeo.com","player.youku.com","music.163.com","www.tudou.com"].join("|"));function r(e){return{width:e.width(),height:e.height()}}function n(e,t){return t/e*100}e.each((function(){var e,i=this,a=$(this),o=r(a);if(this.src.search(t)>0){var s=n(o.width,o.height);a.width("100%").height("100%").css({position:"absolute",top:"0",left:"0"});var u=document.createElement("div");u.className="fluid-vids",u.style.position="relative",u.style.marginBottom="20px",u.style.width="100%",u.style.paddingTop=s+"%",""===u.style.paddingTop&&(u.style.paddingTop="50%"),i.parentNode.insertBefore(u,i),u.appendChild(i),this.src.search("music.163.com")>0&&((e=r(a)).width>o.width||e.height<o.height)&&(u.style.paddingTop=n(e.width,o.height)+"%")}}))},addActiveClassToMenuItem:function(){var e=window.location.pathname;e="/"===e?e:e.substring(0,e.length-1),$('.menu-item a[href^="'+e+'"]:first').parent().addClass("menu-item-active")},hasMobileUA:function(){var e=window.navigator.userAgent;return/iPad|iPhone|Android|Opera Mini|BlackBerry|webOS|UCWEB|Blazer|PSP|IEMobile|Symbian/g.test(e)},isTablet:function(){return window.screen.width<992&&window.screen.width>767&&this.hasMobileUA()},isMobile:function(){return window.screen.width<767&&this.hasMobileUA()},isDesktop:function(){return!this.isTablet()&&!this.isMobile()},escapeSelector:function(e){return decodeURIComponent(e).replace(/[!"$%&'()*+,.\/:;<=>?@[\\\]^`{|}~]/g,"\\$&")},displaySidebar:function(){!this.isDesktop()||this.isPisces()||this.isGemini()||$(".sidebar-toggle").trigger("click")},isMist:function(){return"Mist"===CONFIG.scheme},isPisces:function(){return"Pisces"===CONFIG.scheme},isGemini:function(){return"Gemini"===CONFIG.scheme},getScrollbarWidth:function(){var e=$("<div />").addClass("scrollbar-measure").prependTo("body"),t=e[0],r=t.offsetWidth-t.clientWidth;return e.remove(),r},getContentVisibilityHeight:function(){var e=$("#content").height(),t=$(window).height();return e>t?e-t:$(document).height()-t},getSidebarb2tHeight:function(){return CONFIG.sidebar.b2t?$(".back-to-top").height():0},getSidebarSchemePadding:function(){var e="block"==$(".sidebar-nav").css("display")?$(".sidebar-nav").outerHeight(!0):0,t=$(".sidebar-inner"),r=t.innerWidth()-t.width();return this.isPisces()||this.isGemini()?2*r+e+2*CONFIG.sidebar.offset+this.getSidebarb2tHeight():2*r+e/2}},$(document).ready((function(){function e(e){e=e||"auto",$(".site-overview, .post-toc").css("max-height",e)}!function(){var t;$(window).on("resize",(function(){t&&clearTimeout(t),t=setTimeout((function(){e(document.body.clientHeight-164)}),0)}));var r=NexT.utils.getScrollbarWidth();$(".sidebar-panel").height()>document.body.clientHeight-164&&$(".site-overview").css("width","calc(100% + "+r+"px)"),$(".post-toc").css("width","calc(100% + "+r+"px)"),e(document.body.clientHeight-164)}()}))},8760:(e,t,r)=>{var n=r(368);e.exports=function(){Array.prototype.forEach.call($(".content img").not("[hidden]").not(".no-fancybox").not(".post-share img"),(function(e){n(e)}))}},9380:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=9380,e.exports=t}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.amdO={},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var __webpack_exports__={};__webpack_require__(7751),window.FastClick=__webpack_require__(9374),__webpack_require__(8675),window.notie=__webpack_require__(1672),window.APlayer=__webpack_require__(4974),window.DPlayer=__webpack_require__(4212),__webpack_require__(4358),__webpack_require__(7980),__webpack_require__(3142),__webpack_require__(6732)(),__webpack_require__(209),__webpack_require__(639),__webpack_require__(6665)(),__webpack_require__(658)(),__webpack_require__(8068),__webpack_require__(3437),__webpack_require__(6024),__webpack_require__(3346),__webpack_require__(1071),__webpack_require__(9712),__webpack_require__(2019),__webpack_require__(1353),__webpack_require__(8760)(),__webpack_require__(1010),__webpack_require__(5939)()})();
//# sourceMappingURL=sagiri.min.js.map